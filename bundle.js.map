{"version":3,"file":"bundle.js","mappings":"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ACA,EACA,EACA,EACA,GAEFtc,KAAKgoF,YAAY18C,EAAQjX,EAC3B,CACA/K,SAASo/D,EAAS,EAAGr0D,GACnB,MAAMnyB,EAAa,EAATwmF,EAAa,EAAI,EACrBvmF,GAAe,IAAVD,EAAI,GACTopC,EAAS,CACbppC,EACAC,EACAA,EACA,EACA,EACAA,EACAD,EACAC,EACA,EACA,EACAA,EACAA,EACAD,EACA,EACA,EACA,EACA,EACA,EACA,EACA,GAEFlC,KAAKgoF,YAAY18C,EAAQjX,EAC3B,CACA9K,aACEvpB,KAAKspB,UAAU,EACjB,CACAq/D,SAASt0D,GAuBPr0B,KAAKgoF,YAtBU,EACZ,EACD,EACA,EACA,EACA,EACA,GACC,EACD,EACA,EACA,EACA,EACA,GACC,EACD,EACA,EACA,EACA,EACA,EACA,EACA,GAEuB3zD,EAC3B,CACAu0D,MAAMv0D,GAuBJr0B,KAAKgoF,YAtBU,CACb,KACA,SACA,UACA,EACA,EACA,KACA,SACA,UACA,EACA,EACA,KACA,SACA,UACA,EACA,EACA,EACA,EACA,EACA,EACA,GAEuB3zD,EAC3B,CACAw0D,YAAYx0D,GAuBVr0B,KAAKgoF,YAtBU,CACb,oBACC,mBACA,mBACD,EACA,oBACC,kBACD,oBACC,mBACD,GACC,mBACA,kBACA,kBACD,kBACA,EACA,mBACA,EACA,EACA,EACA,EACA,GAEuB3zD,EAC3B,CACAy0D,SAASz0D,GAuBPr0B,KAAKgoF,YAtBU,CACb,OACC,MACA,KACD,EACA,GACC,KACD,OACC,KACD,EACA,GACC,MACA,KACD,MACA,EACA,EACA,EACA,EACA,EACA,EACA,GAEuB3zD,EAC3B,CACA00D,MAAM10D,GAuBJr0B,KAAKgoF,YAtBU,CACb,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,GAEuB3zD,EAC3B,CACA20D,WAAW30D,GAuBTr0B,KAAKgoF,YAtBU,CACb,oBACC,mBACA,mBACD,EACA,mBACC,mBACD,oBACC,mBACD,EACA,oBACC,oBACA,kBACD,mBACA,EACA,kBACA,EACA,EACA,EACA,EACA,GAEuB3zD,EAC3B,CACA40D,OAAO50D,GAuBLr0B,KAAKgoF,YAtBU,CACb,kBACA,oBACC,kBACD,EACA,mBACC,oBACD,kBACA,mBACA,GACC,kBACD,oBACC,mBACD,mBACA,GACC,kBACD,EACA,EACA,EACA,EACA,GAEuB3zD,EAC3B,CACA60D,QAAQ70D,GAuBNr0B,KAAKgoF,YAtBU,CACb,kBACA,mBACC,mBACD,EACA,kBACA,mBACA,kBACA,mBACA,EACA,kBACA,mBACC,kBACD,kBACA,EACA,kBACA,EACA,EACA,EACA,EACA,GAEuB3zD,EAC3B,CACA80D,UAAUC,EAAcC,EAAOC,EAAYC,EAAWl1D,GACpD+0D,EAAeA,GAAgB,GAC/BC,EAAQA,GAAS,IACjBC,EAAaA,GAAc,SAC3BC,EAAYA,GAAa,QACzB,MAAMj1D,EAAO,WACNk1D,EAAIC,EAAIC,GAAMp1D,EAAKX,SAAS21D,GAAYr0D,WACxC00D,EAAIC,EAAIC,GAAMv1D,EAAKX,SAAS41D,GAAWt0D,UACxCqW,EAAS,CACb,GACA,IACA,IACA,EACA,EACAk+C,EACAC,EACAC,EACAN,EACA,EACAO,EACAC,EACAC,EACAR,EACA,EACAG,EAAKG,EACLF,EAAKG,EACLF,EAAKG,EACL,EACA,GAEF7pF,KAAKgoF,YAAY18C,EAAQjX,EAC3B,CACAy1D,MAAMC,EAAW11D,GAEf,MAAMiX,EAAS,EACA,GAFfy+C,EAAYA,GAAa,KAGtBA,EACD,EACA,EACA,GACCA,EACD,EACAA,EACA,EACA,EACA,EACAA,EACY,EAAZA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,GAEF/pF,KAAKgoF,YAAY18C,EAAQjX,EAC3B,CACA21D,SAAStB,EAAQr0D,GACf,MAAMiX,EAAS,CACb,mBAAqBo9C,GACpB,kBAAoBA,GACpB,mBAAqBA,EACtB,EAAIA,EACJ,mBAAsBA,GACrB,mBAAqBA,EACtB,kBAAoBA,GACnB,kBAAoBA,EACrB,EAA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MgD,OAlM9CkzI,GAAAA,UAAiB,SAAU,CACzBlvE,OAAQ,cACR8wF,MAAO,aACP5d,WAAY,oBAGdhE,GAAAA,UAAiB,YAAa,CAC5B,MAAO,iCAGTA,GAAAA,UAAiB,QAAS,CACxB,EAAG,gBAGLA,GAAAA,UAAiB,UAAW,CAC1B,KAAO,6BACP,MAAO,6BACP,MAAO,+BAGTA,GAAAA,UAAiB,SAAU,CACzB,IAAO,4BACP,MAAO,8BAGH2hB,EAAW,CACf,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,OAGF3hB,GAAAA,UACE,WACA2hB,EAASvtH,QACP,SAACytH,EAAKvqJ,GAAC,OAAAkxI,GAAAA,GAAA,GACFqZ,GAAG,GAAAnC,GAAA,GACLpoJ,EAAC,YAAA7M,OAAe6M,EAAC,qBAEpB,CAAC,IAILlN,KAAKg+I,WAAW3+C,UAAY,mBAAkBtnE,EAAAr1B,KAAA,GACxCkzI,GAAAA,WAAkB,UAAS,QACgB,OAAjD51I,KAAKg+I,WAAW3+C,UAAY,sBAAqBtnE,EAAAr1B,KAAA,GAC3CkzI,GAAAA,WAAkB,aAAY,QACS,OAA7C51I,KAAKg+I,WAAW3+C,UAAY,kBAAiBtnE,EAAAr1B,KAAA,GACvCkzI,GAAAA,WAAkB,SAAQ,QACe,OAA/C51I,KAAKg+I,WAAW3+C,UAAY,oBAAmBtnE,EAAAr1B,KAAA,GACzCkzI,GAAAA,WAAkB,WAAU,QACY,OAA9C51I,KAAKg+I,WAAW3+C,UAAY,mBAAkBtnE,EAAAr1B,KAAA,GACxCkzI,GAAAA,WAAkB,UAAS,QACe,OAAhD51I,KAAKg+I,WAAW3+C,UAAY,qBAAoBtnE,EAAAr1B,KAAA,GAC1CkzI,GAAAA,WAAkB,YAAW,QAEnC51I,KAAK46H,aAAY,yBAAA7iG,EAAA7yB,OAAA,GAAAoyJ,EAAA,SAlNlBb,EAhBH,eAAAppJ,EAAA,KAAAd,EAAAC,UAAA,WAAA+xB,SAAA,SAAAtnB,EAAA2vC,GAAA,IAAA8uG,EAAAprJ,EAAAoC,MAAAW,EAAAd,GAAA,SAAA21F,EAAA/yF,GAAAsmJ,GAAAC,EAAAz+I,EAAA2vC,EAAAs7C,EAAAyzD,EAAA,OAAAxmJ,EAAA,UAAAwmJ,EAAAjF,GAAA+E,GAAAC,EAAAz+I,EAAA2vC,EAAAs7C,EAAAyzD,EAAA,QAAAjF,EAAA,CAAAxuD,OAAAphG,EAAA,KAmOG,kBAAA21J,EAAA/pJ,MAAA,KAAAF,UAAA,KAAA6P,IAAA,aAAAlN,MAED,WACEnP,KAAKg+I,WAAWnqI,SAChB7T,KAAKwyJ,MACP,GAAC,CAAAn2I,IAAA,WAAAlN,MAED,WAA8B,IAArB6uH,EAAQxxH,UAAAlM,OAAA,QAAAQ,IAAA0L,UAAA,GAAAA,UAAA,GAAG,WAAO,EACzBxM,KAAKwyJ,KAAOx0B,CACd,IA5OFw4B,GAAAZ,GAAAW,EAAAtsJ,UAAAusJ,GAAAxsJ,OAAAuS,eAAAg6I,EAAA,aAAA9F,UAAA,IA4OG2F,CAAA,CArO8B,CAAS9f,ICFpCsV,GAAM,IAAI92E,GAAY,CAC1BvzB,WAAW,EACX1hC,MAAOzS,OAAOyzF,WACd/gF,OAAQ1S,OAAO0zF,YACfG,SAAU7zF,OACVi0C,gBAAiB,qBAGnBj0C,OAAOoH,SAAS2uC,oBAAoB,YAAayoG,GAAI3sH,SAAS28B,QAAQG,YAAY87B,eAAe,GACjGzqF,OAAOoH,SAAS2uC,oBAAoB,cAAeyoG,GAAI3sH,SAAS28B,QAAQG,YAAY87B,eAAe,GAEnG,IAAMsJ,GAAS,IAAIoC,GACb+oD,GAAU93I,SAAS23I,eAAe,QACxCG,GAAQ5qG,iBAAiB,eAAe,SAAA52C,GACtCA,EAAIk4C,gBACN,IAEA51C,OAAOw+I,IAAMA,GACbx+I,OAAOk/I,QAAUA,GAEjBA,GAAQv3I,YAAY62I,GAAIlwH,MAGxBkwH,GAAI3rD,MAAMlgB,SAASohB,IACnBA,GAAO59F,QAGP49F,GAAOu2D,UAAS,WACd,IAAMC,EAAO,IAAIlI,GAAK7D,IACtBA,GAAI3rD,MAAMvqF,YAAYyrF,IACtByqD,GAAI3rD,MAAMlgB,SAAS43E,EACrB","sources":["webpack://rts-game/./app/styles.css","webpack://rts-game/./node_modules/css-loader/dist/runtime/api.js","webpack://rts-game/./node_modules/css-loader/dist/runtime/sourceMaps.js","webpack://rts-game/./node_modules/earcut/src/earcut.js","webpack://rts-game/./node_modules/eventemitter3/index.js","webpack://rts-game/./node_modules/punycode/punycode.js","webpack://rts-game/./node_modules/querystring/decode.js","webpack://rts-game/./node_modules/querystring/encode.js","webpack://rts-game/./node_modules/querystring/index.js","webpack://rts-game/./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js","webpack://rts-game/./node_modules/style-loader/dist/runtime/insertBySelector.js","webpack://rts-game/./node_modules/style-loader/dist/runtime/insertStyleElement.js","webpack://rts-game/./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js","webpack://rts-game/./node_modules/style-loader/dist/runtime/styleDomAPI.js","webpack://rts-game/./node_modules/style-loader/dist/runtime/styleTagTransform.js","webpack://rts-game/./node_modules/url/url.js","webpack://rts-game/./node_modules/url/util.js","webpack://rts-game/webpack/bootstrap","webpack://rts-game/webpack/runtime/compat get default export","webpack://rts-game/webpack/runtime/define property getters","webpack://rts-game/webpack/runtime/global","webpack://rts-game/webpack/runtime/hasOwnProperty shorthand","webpack://rts-game/webpack/runtime/make namespace object","webpack://rts-game/webpack/runtime/node module decorator","webpack://rts-game/webpack/runtime/publicPath","webpack://rts-game/webpack/runtime/nonce","webpack://rts-game/./node_modules/@pixi/constants/lib/index.mjs","webpack://rts-game/./node_modules/@pixi/settings/lib/adapter.mjs","webpack://rts-game/./node_modules/@pixi/settings/lib/settings.mjs","webpack://rts-game/./node_modules/@pixi/settings/lib/external/ismobilejs/esm/isMobile.mjs","webpack://rts-game/./node_modules/@pixi/settings/lib/utils/isMobile.mjs","webpack://rts-game/./node_modules/@pixi/utils/lib/settings.mjs","webpack://rts-game/./node_modules/@pixi/utils/lib/url.mjs","webpack://rts-game/./node_modules/@pixi/utils/lib/path.mjs","webpack://rts-game/./node_modules/@pixi/utils/lib/logging/deprecation.mjs","webpack://rts-game/./node_modules/@pixi/utils/lib/browser/isWebGLSupported.mjs","webpack://rts-game/./node_modules/colord/index.mjs","webpack://rts-game/./node_modules/@pixi/color/lib/Color.mjs","webpack://rts-game/./node_modules/@pixi/color/lib/external/colord/plugins/names.mjs","webpack://rts-game/./node_modules/@pixi/utils/lib/color/hex.mjs","webpack://rts-game/./node_modules/@pixi/utils/lib/color/premultiply.mjs","webpack://rts-game/./node_modules/@pixi/utils/lib/data/getBufferType.mjs","webpack://rts-game/./node_modules/@pixi/utils/lib/data/pow2.mjs","webpack://rts-game/./node_modules/@pixi/utils/lib/data/removeItems.mjs","webpack://rts-game/./node_modules/@pixi/utils/lib/data/sign.mjs","webpack://rts-game/./node_modules/@pixi/utils/lib/data/interleaveTypedArrays.mjs","webpack://rts-game/./node_modules/@pixi/utils/lib/data/uid.mjs","webpack://rts-game/./node_modules/@pixi/utils/lib/media/BoundingBox.mjs","webpack://rts-game/./node_modules/@pixi/utils/lib/media/caches.mjs","webpack://rts-game/./node_modules/@pixi/utils/lib/media/CanvasRenderTarget.mjs","webpack://rts-game/./node_modules/@pixi/utils/lib/media/getCanvasBoundingBox.mjs","webpack://rts-game/./node_modules/@pixi/utils/lib/network/determineCrossOrigin.mjs","webpack://rts-game/./node_modules/@pixi/utils/lib/network/getResolutionOfUrl.mjs","webpack://rts-game/./node_modules/@pixi/extensions/lib/index.mjs","webpack://rts-game/./node_modules/@pixi/core/lib/geometry/ViewableBuffer.mjs","webpack://rts-game/./node_modules/@pixi/core/lib/shader/utils/checkMaxIfStatementsInShader.mjs","webpack://rts-game/./node_modules/@pixi/core/lib/state/State.mjs","webpack://rts-game/./node_modules/@pixi/core/lib/textures/resources/autoDetectResource.mjs","webpack://rts-game/./node_modules/@pixi/runner/lib/Runner.mjs","webpack://rts-game/./node_modules/@pixi/core/lib/textures/resources/Resource.mjs","webpack://rts-game/./node_modules/@pixi/core/lib/textures/resources/BufferResource.mjs","webpack://rts-game/./node_modules/@pixi/core/lib/textures/BaseTexture.mjs","webpack://rts-game/./node_modules/@pixi/core/lib/batch/BatchDrawCall.mjs","webpack://rts-game/./node_modules/@pixi/core/lib/geometry/Buffer.mjs","webpack://rts-game/./node_modules/@pixi/core/lib/geometry/Attribute.mjs","webpack://rts-game/./node_modules/@pixi/core/lib/geometry/utils/interleaveTypedArrays.mjs","webpack://rts-game/./node_modules/@pixi/core/lib/geometry/Geometry.mjs","webpack://rts-game/./node_modules/@pixi/core/lib/batch/BatchGeometry.mjs","webpack://rts-game/./node_modules/@pixi/math/lib/const.mjs","webpack://rts-game/./node_modules/@pixi/math/lib/Point.mjs","webpack://rts-game/./node_modules/@pixi/math/lib/shapes/Rectangle.mjs","webpack://rts-game/./node_modules/@pixi/math/lib/shapes/Circle.mjs","webpack://rts-game/./node_modules/@pixi/math/lib/shapes/Ellipse.mjs","webpack://rts-game/./node_modules/@pixi/math/lib/shapes/Polygon.mjs","webpack://rts-game/./node_modules/@pixi/math/lib/shapes/RoundedRectangle.mjs","webpack://rts-game/./node_modules/@pixi/math/lib/Matrix.mjs","webpack://rts-game/./node_modules/@pixi/math/lib/groupD8.mjs","webpack://rts-game/./node_modules/@pixi/math/lib/ObservablePoint.mjs","webpack://rts-game/./node_modules/@pixi/math/lib/Transform.mjs","webpack://rts-game/./node_modules/@pixi/core/lib/shader/utils/uniformParsers.mjs","webpack://rts-game/./node_modules/@pixi/core/lib/shader/utils/generateUniformsSync.mjs","webpack://rts-game/./node_modules/@pixi/core/lib/shader/utils/getTestContext.mjs","webpack://rts-game/./node_modules/@pixi/core/lib/shader/utils/getMaxFragmentPrecision.mjs","webpack://rts-game/./node_modules/@pixi/core/lib/shader/utils/mapSize.mjs","webpack://rts-game/./node_modules/@pixi/core/lib/shader/utils/mapType.mjs","webpack://rts-game/./node_modules/@pixi/core/lib/shader/utils/setPrecision.mjs","webpack://rts-game/./node_modules/@pixi/core/lib/shader/Program.mjs","webpack://rts-game/./node_modules/@pixi/core/lib/shader/defaultProgram2.mjs","webpack://rts-game/./node_modules/@pixi/core/lib/shader/defaultProgram.mjs","webpack://rts-game/./node_modules/@pixi/core/lib/shader/UniformGroup.mjs","webpack://rts-game/./node_modules/@pixi/core/lib/shader/Shader.mjs","webpack://rts-game/./node_modules/@pixi/core/lib/batch/BatchShaderGenerator.mjs","webpack://rts-game/./node_modules/@pixi/core/lib/batch/BatchTextureArray.mjs","webpack://rts-game/./node_modules/@pixi/core/lib/batch/ObjectRenderer.mjs","webpack://rts-game/./node_modules/@pixi/core/lib/batch/BatchRenderer.mjs","webpack://rts-game/./node_modules/@pixi/core/lib/batch/maxRecommendedTextures.mjs","webpack://rts-game/./node_modules/@pixi/core/lib/batch/canUploadSameBuffer.mjs","webpack://rts-game/./node_modules/@pixi/core/lib/batch/texture2.mjs","webpack://rts-game/./node_modules/@pixi/core/lib/batch/texture.mjs","webpack://rts-game/./node_modules/@pixi/core/lib/filters/Filter.mjs","webpack://rts-game/./node_modules/@pixi/core/lib/filters/defaultFilter2.mjs","webpack://rts-game/./node_modules/@pixi/core/lib/filters/defaultFilter.mjs","webpack://rts-game/./node_modules/@pixi/core/lib/background/BackgroundSystem.mjs","webpack://rts-game/./node_modules/@pixi/core/lib/batch/BatchSystem.mjs","webpack://rts-game/./node_modules/@pixi/core/lib/context/ContextSystem.mjs","webpack://rts-game/./node_modules/@pixi/core/lib/textures/resources/DepthResource.mjs","webpack://rts-game/./node_modules/@pixi/core/lib/framebuffer/Framebuffer.mjs","webpack://rts-game/./node_modules/@pixi/core/lib/renderTexture/BaseRenderTexture.mjs","webpack://rts-game/./node_modules/@pixi/core/lib/textures/resources/BaseImageResource.mjs","webpack://rts-game/./node_modules/@pixi/core/lib/textures/resources/ImageResource.mjs","webpack://rts-game/./node_modules/@pixi/core/lib/textures/TextureUvs.mjs","webpack://rts-game/./node_modules/@pixi/core/lib/textures/Texture.mjs","webpack://rts-game/./node_modules/@pixi/core/lib/renderTexture/RenderTexture.mjs","webpack://rts-game/./node_modules/@pixi/core/lib/renderTexture/RenderTexturePool.mjs","webpack://rts-game/./node_modules/@pixi/core/lib/utils/Quad.mjs","webpack://rts-game/./node_modules/@pixi/core/lib/utils/QuadUv.mjs","webpack://rts-game/./node_modules/@pixi/core/lib/filters/FilterState.mjs","webpack://rts-game/./node_modules/@pixi/core/lib/filters/FilterSystem.mjs","webpack://rts-game/./node_modules/@pixi/core/lib/framebuffer/GLFramebuffer.mjs","webpack://rts-game/./node_modules/@pixi/core/lib/framebuffer/FramebufferSystem.mjs","webpack://rts-game/./node_modules/@pixi/core/lib/geometry/GeometrySystem.mjs","webpack://rts-game/./node_modules/@pixi/core/lib/textures/TextureMatrix.mjs","webpack://rts-game/./node_modules/@pixi/core/lib/filters/spriteMask/SpriteMaskFilter.mjs","webpack://rts-game/./node_modules/@pixi/core/lib/filters/spriteMask/spriteMaskFilter3.mjs","webpack://rts-game/./node_modules/@pixi/core/lib/filters/spriteMask/spriteMaskFilter2.mjs","webpack://rts-game/./node_modules/@pixi/core/lib/mask/MaskData.mjs","webpack://rts-game/./node_modules/@pixi/core/lib/mask/MaskSystem.mjs","webpack://rts-game/./node_modules/@pixi/core/lib/mask/AbstractMaskSystem.mjs","webpack://rts-game/./node_modules/@pixi/core/lib/mask/ScissorSystem.mjs","webpack://rts-game/./node_modules/@pixi/core/lib/mask/StencilSystem.mjs","webpack://rts-game/./node_modules/@pixi/core/lib/plugin/PluginSystem.mjs","webpack://rts-game/./node_modules/@pixi/core/lib/projection/ProjectionSystem.mjs","webpack://rts-game/./node_modules/@pixi/core/lib/renderTexture/GenerateTextureSystem.mjs","webpack://rts-game/./node_modules/@pixi/core/lib/renderTexture/RenderTextureSystem.mjs","webpack://rts-game/./node_modules/@pixi/core/lib/shader/GLProgram.mjs","webpack://rts-game/./node_modules/@pixi/core/lib/shader/utils/compileShader.mjs","webpack://rts-game/./node_modules/@pixi/core/lib/shader/utils/defaultValue.mjs","webpack://rts-game/./node_modules/@pixi/core/lib/shader/utils/logProgramError.mjs","webpack://rts-game/./node_modules/@pixi/core/lib/shader/utils/generateUniformBufferSync.mjs","webpack://rts-game/./node_modules/@pixi/core/lib/shader/utils/unsafeEvalSupported.mjs","webpack://rts-game/./node_modules/@pixi/core/lib/shader/ShaderSystem.mjs","webpack://rts-game/./node_modules/@pixi/core/lib/shader/utils/generateProgram.mjs","webpack://rts-game/./node_modules/@pixi/core/lib/shader/utils/getAttributeData.mjs","webpack://rts-game/./node_modules/@pixi/core/lib/shader/utils/getUniformData.mjs","webpack://rts-game/./node_modules/@pixi/core/lib/startup/StartupSystem.mjs","webpack://rts-game/./node_modules/@pixi/core/lib/state/StateSystem.mjs","webpack://rts-game/./node_modules/@pixi/core/lib/state/utils/mapWebGLBlendModesToPixi.mjs","webpack://rts-game/./node_modules/@pixi/core/lib/system/SystemManager.mjs","webpack://rts-game/./node_modules/@pixi/core/lib/textures/TextureGCSystem.mjs","webpack://rts-game/./node_modules/@pixi/core/lib/textures/GLTexture.mjs","webpack://rts-game/./node_modules/@pixi/core/lib/textures/TextureSystem.mjs","webpack://rts-game/./node_modules/@pixi/core/lib/textures/utils/mapTypeAndFormatToInternalFormat.mjs","webpack://rts-game/./node_modules/@pixi/core/lib/transformFeedback/TransformFeedbackSystem.mjs","webpack://rts-game/./node_modules/@pixi/core/lib/view/ViewSystem.mjs","webpack://rts-game/./node_modules/@pixi/core/lib/settings.mjs","webpack://rts-game/./node_modules/@pixi/ticker/lib/const.mjs","webpack://rts-game/./node_modules/@pixi/ticker/lib/TickerListener.mjs","webpack://rts-game/./node_modules/@pixi/ticker/lib/Ticker.mjs","webpack://rts-game/./node_modules/@pixi/ticker/lib/settings.mjs","webpack://rts-game/./node_modules/@pixi/ticker/lib/TickerPlugin.mjs","webpack://rts-game/./node_modules/@pixi/core/lib/autoDetectRenderer.mjs","webpack://rts-game/./node_modules/@pixi/core/lib/fragments/index.mjs","webpack://rts-game/./node_modules/@pixi/core/lib/fragments/defaultFilter.mjs","webpack://rts-game/./node_modules/@pixi/core/lib/framebuffer/MultisampleSystem.mjs","webpack://rts-game/./node_modules/@pixi/core/lib/geometry/GLBuffer.mjs","webpack://rts-game/./node_modules/@pixi/core/lib/geometry/BufferSystem.mjs","webpack://rts-game/./node_modules/@pixi/core/lib/render/ObjectRendererSystem.mjs","webpack://rts-game/./node_modules/@pixi/core/lib/Renderer.mjs","webpack://rts-game/./node_modules/@pixi/core/lib/textures/resources/AbstractMultiResource.mjs","webpack://rts-game/./node_modules/@pixi/core/lib/textures/resources/CubeResource.mjs","webpack://rts-game/./node_modules/@pixi/core/lib/textures/resources/ImageBitmapResource.mjs","webpack://rts-game/./node_modules/@pixi/core/lib/textures/resources/SVGResource.mjs","webpack://rts-game/./node_modules/@pixi/core/lib/textures/resources/VideoResource.mjs","webpack://rts-game/./node_modules/@pixi/core/lib/textures/resources/index.mjs","webpack://rts-game/./node_modules/@pixi/core/lib/textures/resources/CanvasResource.mjs","webpack://rts-game/./node_modules/@pixi/core/lib/textures/resources/ArrayResource.mjs","webpack://rts-game/./node_modules/@pixi/display/lib/Bounds.mjs","webpack://rts-game/./node_modules/@pixi/display/lib/DisplayObject.mjs","webpack://rts-game/./node_modules/@pixi/display/lib/Container.mjs","webpack://rts-game/./node_modules/@pixi/display/lib/settings.mjs","webpack://rts-game/./node_modules/@pixi/sprite/lib/Sprite.mjs","webpack://rts-game/./node_modules/@pixi/mixin-cache-as-bitmap/lib/index.mjs","webpack://rts-game/./node_modules/@pixi/mixin-get-child-by-name/lib/index.mjs","webpack://rts-game/./node_modules/@pixi/mixin-get-global-position/lib/index.mjs","webpack://rts-game/./node_modules/@pixi/filter-blur/lib/generateBlurFragSource.mjs","webpack://rts-game/./node_modules/@pixi/filter-blur/lib/BlurFilterPass.mjs","webpack://rts-game/./node_modules/@pixi/filter-blur/lib/generateBlurVertSource.mjs","webpack://rts-game/./node_modules/@pixi/filter-color-matrix/lib/ColorMatrixFilter.mjs","webpack://rts-game/./node_modules/@pixi/filter-color-matrix/lib/colorMatrix.mjs","webpack://rts-game/./node_modules/pixi.js/lib/filters.mjs","webpack://rts-game/./node_modules/@pixi/filter-alpha/lib/AlphaFilter.mjs","webpack://rts-game/./node_modules/@pixi/core/lib/fragments/default.mjs","webpack://rts-game/./node_modules/@pixi/filter-alpha/lib/alpha.mjs","webpack://rts-game/./node_modules/@pixi/filter-blur/lib/BlurFilter.mjs","webpack://rts-game/./node_modules/@pixi/filter-displacement/lib/DisplacementFilter.mjs","webpack://rts-game/./node_modules/@pixi/filter-displacement/lib/displacement2.mjs","webpack://rts-game/./node_modules/@pixi/filter-displacement/lib/displacement.mjs","webpack://rts-game/./node_modules/@pixi/filter-fxaa/lib/FXAAFilter.mjs","webpack://rts-game/./node_modules/@pixi/filter-fxaa/lib/fxaa2.mjs","webpack://rts-game/./node_modules/@pixi/filter-fxaa/lib/fxaa.mjs","webpack://rts-game/./node_modules/@pixi/filter-noise/lib/NoiseFilter.mjs","webpack://rts-game/./node_modules/@pixi/filter-noise/lib/noise.mjs","webpack://rts-game/./node_modules/@pixi/events/lib/EventTicker.mjs","webpack://rts-game/./node_modules/@pixi/events/lib/FederatedEvent.mjs","webpack://rts-game/./node_modules/@pixi/events/lib/FederatedMouseEvent.mjs","webpack://rts-game/./node_modules/@pixi/events/lib/FederatedPointerEvent.mjs","webpack://rts-game/./node_modules/@pixi/events/lib/FederatedWheelEvent.mjs","webpack://rts-game/./node_modules/@pixi/events/lib/EventBoundary.mjs","webpack://rts-game/./node_modules/@pixi/events/lib/EventSystem.mjs","webpack://rts-game/./node_modules/@pixi/events/lib/FederatedEventTarget.mjs","webpack://rts-game/./node_modules/@pixi/accessibility/lib/AccessibilityManager.mjs","webpack://rts-game/./node_modules/@pixi/accessibility/lib/accessibleTarget.mjs","webpack://rts-game/./node_modules/@pixi/app/lib/Application.mjs","webpack://rts-game/./node_modules/@pixi/app/lib/ResizePlugin.mjs","webpack://rts-game/./node_modules/@pixi/assets/lib/AssetExtension.mjs","webpack://rts-game/./node_modules/@pixi/assets/lib/BackgroundLoader.mjs","webpack://rts-game/./node_modules/@pixi/assets/lib/utils/checkExtension.mjs","webpack://rts-game/./node_modules/@pixi/assets/lib/utils/convertToList.mjs","webpack://rts-game/./node_modules/@pixi/assets/lib/cache/Cache.mjs","webpack://rts-game/./node_modules/@pixi/assets/lib/utils/isSingleItem.mjs","webpack://rts-game/./node_modules/@pixi/assets/lib/loader/Loader.mjs","webpack://rts-game/./node_modules/@pixi/assets/lib/loader/parsers/LoaderParser.mjs","webpack://rts-game/./node_modules/@pixi/assets/lib/loader/parsers/loadJson.mjs","webpack://rts-game/./node_modules/@pixi/assets/lib/loader/parsers/loadTxt.mjs","webpack://rts-game/./node_modules/@pixi/assets/lib/utils/checkDataUrl.mjs","webpack://rts-game/./node_modules/@pixi/assets/lib/loader/parsers/loadWebFont.mjs","webpack://rts-game/./node_modules/@pixi/assets/lib/loader/parsers/WorkerManager.mjs","webpack://rts-game/./node_modules/@pixi/assets/lib/loader/parsers/textures/utils/createTexture.mjs","webpack://rts-game/./node_modules/@pixi/assets/lib/loader/parsers/textures/loadTextures.mjs","webpack://rts-game/./node_modules/@pixi/assets/lib/loader/parsers/textures/loadSVG.mjs","webpack://rts-game/./node_modules/@pixi/assets/lib/utils/createStringVariations.mjs","webpack://rts-game/./node_modules/@pixi/assets/lib/resolver/Resolver.mjs","webpack://rts-game/./node_modules/@pixi/assets/lib/Assets.mjs","webpack://rts-game/./node_modules/@pixi/assets/lib/cache/parsers/cacheTextureArray.mjs","webpack://rts-game/./node_modules/@pixi/assets/lib/detections/parsers/detectAvif.mjs","webpack://rts-game/./node_modules/@pixi/assets/lib/detections/parsers/detectWebp.mjs","webpack://rts-game/./node_modules/@pixi/assets/lib/detections/parsers/detectDefaults.mjs","webpack://rts-game/./node_modules/@pixi/assets/lib/resolver/parsers/resolveTextureUrl.mjs","webpack://rts-game/./node_modules/@pixi/assets/lib/utils/copySearchParams.mjs","webpack://rts-game/./node_modules/@pixi/compressed-textures/lib/const.mjs","webpack://rts-game/./node_modules/@pixi/compressed-textures/lib/loaders/detectCompressedTextures.mjs","webpack://rts-game/./node_modules/@pixi/compressed-textures/lib/resources/BlobResource.mjs","webpack://rts-game/./node_modules/@pixi/compressed-textures/lib/resources/CompressedTextureResource.mjs","webpack://rts-game/./node_modules/@pixi/compressed-textures/lib/parsers/parseDDS.mjs","webpack://rts-game/./node_modules/@pixi/compressed-textures/lib/parsers/parseKTX.mjs","webpack://rts-game/./node_modules/@pixi/compressed-textures/lib/loaders/loadDDS.mjs","webpack://rts-game/./node_modules/@pixi/compressed-textures/lib/loaders/loadKTX.mjs","webpack://rts-game/./node_modules/@pixi/compressed-textures/lib/loaders/resolveCompressedTextureUrl.mjs","webpack://rts-game/./node_modules/@pixi/extract/lib/Extract.mjs","webpack://rts-game/./node_modules/@pixi/graphics/lib/utils/buildCircle.mjs","webpack://rts-game/./node_modules/@pixi/graphics/lib/utils/buildPoly.mjs","webpack://rts-game/./node_modules/@pixi/graphics/lib/utils/buildRectangle.mjs","webpack://rts-game/./node_modules/@pixi/graphics/lib/utils/buildRoundedRectangle.mjs","webpack://rts-game/./node_modules/@pixi/graphics/lib/const.mjs","webpack://rts-game/./node_modules/@pixi/graphics/lib/utils/ArcUtils.mjs","webpack://rts-game/./node_modules/@pixi/graphics/lib/utils/BezierUtils.mjs","webpack://rts-game/./node_modules/@pixi/graphics/lib/utils/buildLine.mjs","webpack://rts-game/./node_modules/@pixi/graphics/lib/utils/QuadraticUtils.mjs","webpack://rts-game/./node_modules/@pixi/graphics/lib/utils/index.mjs","webpack://rts-game/./node_modules/@pixi/graphics/lib/GraphicsData.mjs","webpack://rts-game/./node_modules/@pixi/graphics/lib/utils/BatchPart.mjs","webpack://rts-game/./node_modules/@pixi/graphics/lib/GraphicsGeometry.mjs","webpack://rts-game/./node_modules/@pixi/graphics/lib/styles/FillStyle.mjs","webpack://rts-game/./node_modules/@pixi/graphics/lib/styles/LineStyle.mjs","webpack://rts-game/./node_modules/@pixi/graphics/lib/Graphics.mjs","webpack://rts-game/./node_modules/@pixi/mesh/lib/MeshBatchUvs.mjs","webpack://rts-game/./node_modules/@pixi/mesh/lib/Mesh.mjs","webpack://rts-game/./node_modules/@pixi/mesh/lib/MeshGeometry.mjs","webpack://rts-game/./node_modules/@pixi/mesh/lib/MeshMaterial.mjs","webpack://rts-game/./node_modules/@pixi/mesh/lib/shader/mesh2.mjs","webpack://rts-game/./node_modules/@pixi/mesh/lib/shader/mesh.mjs","webpack://rts-game/./node_modules/@pixi/particle-container/lib/ParticleBuffer.mjs","webpack://rts-game/./node_modules/@pixi/utils/lib/data/createIndicesForQuads.mjs","webpack://rts-game/./node_modules/@pixi/particle-container/lib/ParticleRenderer.mjs","webpack://rts-game/./node_modules/@pixi/particle-container/lib/particles2.mjs","webpack://rts-game/./node_modules/@pixi/particle-container/lib/particles.mjs","webpack://rts-game/./node_modules/@pixi/text/lib/const.mjs","webpack://rts-game/./node_modules/@pixi/text/lib/TextMetrics.mjs","webpack://rts-game/./node_modules/@pixi/text/lib/TextStyle.mjs","webpack://rts-game/./node_modules/@pixi/text/lib/Text.mjs","webpack://rts-game/./node_modules/@pixi/utils/lib/media/trimCanvas.mjs","webpack://rts-game/./node_modules/@pixi/prepare/lib/CountLimiter.mjs","webpack://rts-game/./node_modules/@pixi/prepare/lib/BasePrepare.mjs","webpack://rts-game/./node_modules/@pixi/prepare/lib/Prepare.mjs","webpack://rts-game/./node_modules/@pixi/prepare/lib/settings.mjs","webpack://rts-game/./node_modules/@pixi/sprite-animated/lib/AnimatedSprite.mjs","webpack://rts-game/./node_modules/@pixi/sprite-tiling/lib/TilingSprite.mjs","webpack://rts-game/./node_modules/@pixi/sprite-tiling/lib/sprite-tiling.mjs","webpack://rts-game/./node_modules/@pixi/sprite-tiling/lib/sprite-tiling-fallback2.mjs","webpack://rts-game/./node_modules/@pixi/sprite-tiling/lib/TilingSpriteRenderer.mjs","webpack://rts-game/./node_modules/@pixi/sprite-tiling/lib/sprite-tiling-simple.mjs","webpack://rts-game/./node_modules/@pixi/sprite-tiling/lib/sprite-tiling2.mjs","webpack://rts-game/./node_modules/@pixi/sprite-tiling/lib/sprite-tiling-fallback.mjs","webpack://rts-game/./node_modules/@pixi/spritesheet/lib/Spritesheet.mjs","webpack://rts-game/./node_modules/@pixi/spritesheet/lib/spritesheetAsset.mjs","webpack://rts-game/./node_modules/@pixi/text-bitmap/lib/BitmapFontData.mjs","webpack://rts-game/./node_modules/@pixi/text-bitmap/lib/formats/TextFormat.mjs","webpack://rts-game/./node_modules/@pixi/text-bitmap/lib/formats/XMLFormat.mjs","webpack://rts-game/./node_modules/@pixi/text-bitmap/lib/formats/XMLStringFormat.mjs","webpack://rts-game/./node_modules/@pixi/text-bitmap/lib/formats/index.mjs","webpack://rts-game/./node_modules/@pixi/text-bitmap/lib/utils/drawGlyph.mjs","webpack://rts-game/./node_modules/@pixi/text-bitmap/lib/utils/generateFillStyle.mjs","webpack://rts-game/./node_modules/@pixi/text-bitmap/lib/utils/splitTextToCharacters.mjs","webpack://rts-game/./node_modules/@pixi/text-bitmap/lib/utils/extractCharCode.mjs","webpack://rts-game/./node_modules/@pixi/text-bitmap/lib/BitmapFont.mjs","webpack://rts-game/./node_modules/@pixi/text-bitmap/lib/utils/resolveCharacters.mjs","webpack://rts-game/./node_modules/@pixi/text-bitmap/lib/BitmapText.mjs","webpack://rts-game/./node_modules/@pixi/text-bitmap/lib/shader/msdf2.mjs","webpack://rts-game/./node_modules/@pixi/text-bitmap/lib/shader/msdf.mjs","webpack://rts-game/./node_modules/@pixi/text-bitmap/lib/loadBitmapFont.mjs","webpack://rts-game/./node_modules/@pixi/text-html/lib/HTMLTextStyle.mjs","webpack://rts-game/./node_modules/@pixi/text-html/lib/HTMLText.mjs","webpack://rts-game/./app/index.html","webpack://rts-game/./app/styles.css?a56c","webpack://rts-game/./node_modules/@pixi/filter-multi-color-replace/dist/filter-multi-color-replace.mjs","webpack://rts-game/./app/lib/graphics.js","webpack://rts-game/./app/lib/accounting.js","webpack://rts-game/./app/constants/index.js","webpack://rts-game/./app/lib/maths.js","webpack://rts-game/./app/lib/extra.js","webpack://rts-game/./app/lib/grid.js","webpack://rts-game/./app/classes/cells/cell.js","webpack://rts-game/./app/classes/cells/desert.js","webpack://rts-game/./app/classes/cells/grass.js","webpack://rts-game/./app/classes/cells/jungle.js","webpack://rts-game/./app/classes/cells/water.js","webpack://rts-game/./app/classes/resources/resource.js","webpack://rts-game/./app/classes/resources/berrybush.js","webpack://rts-game/./app/classes/resources/gold.js","webpack://rts-game/./app/classes/resources/stone.js","webpack://rts-game/./app/classes/resources/tree.js","webpack://rts-game/./app/classes/buildings/building.js","webpack://rts-game/./app/classes/buildings/academy.js","webpack://rts-game/./app/classes/buildings/archeryrange.js","webpack://rts-game/./app/classes/buildings/barracks.js","webpack://rts-game/./app/classes/buildings/farm.js","webpack://rts-game/./app/classes/buildings/governmentcenter.js","webpack://rts-game/./app/classes/buildings/granary.js","webpack://rts-game/./app/classes/buildings/house.js","webpack://rts-game/./app/classes/buildings/market.js","webpack://rts-game/./app/classes/buildings/siegeworkshop.js","webpack://rts-game/./app/classes/buildings/stable.js","webpack://rts-game/./app/classes/buildings/storagepit.js","webpack://rts-game/./app/classes/buildings/temple.js","webpack://rts-game/./app/classes/buildings/towncenter.js","webpack://rts-game/./app/classes/projectiles/projectile.js","webpack://rts-game/./app/classes/projectiles/arrow.js","webpack://rts-game/./app/classes/projectiles/spear.js","webpack://rts-game/./app/classes/buildings/watchtower.js","webpack://rts-game/./app/classes/units/unit.js","webpack://rts-game/./app/classes/units/bowman.js","webpack://rts-game/./app/classes/units/clubman.js","webpack://rts-game/./app/classes/units/scout.js","webpack://rts-game/./app/classes/units/villager.js","webpack://rts-game/./app/classes/players/player.js","webpack://rts-game/./app/classes/players/ai.js","webpack://rts-game/./app/classes/players/gaia.js","webpack://rts-game/./app/classes/players/human.js","webpack://rts-game/./app/classes/animals/animal.js","webpack://rts-game/./app/classes/animals/lion.js","webpack://rts-game/./app/classes/map.js","webpack://rts-game/./app/classes/menu.js","webpack://rts-game/./app/classes/controls.js","webpack://rts-game/./app/screens/Game.js","webpack://rts-game/./app/screens/Loader.js","webpack://rts-game/./app/entry.js"],"sourcesContent":["// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \":root {\\n  --main-background-color: #161d25;\\n  --main-border-color: transparent;\\n  --main-border-radius: 2px;\\n  --main-border-size: 0px;\\n  --main-border-style: solid;\\n  --main-shadow-color: rgba(0, 0, 0, 0.7);\\n  --main-box-shadow: var(--main-shadow-color) 0px 0px 3px 0px;\\n}\\n\\nhtml,\\nbody,\\ninput,\\ntextarea,\\nselect,\\nbutton {\\n  border-color: #5e5d5a;\\n  color: #e5e0d8;\\n  font-size: 12px;\\n  text-shadow: 1px 1px black;\\n  font-family: sans-serif;\\n  -webkit-font-smoothing: none;\\n}\\n\\nbody {\\n  height: 100vh;\\n  overflow: hidden;\\n  margin: 0;\\n  user-select: none;\\n  background-color: black;\\n}\\n\\n.loading {\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  height: 100%;\\n}\\n\\n#game {\\n  flex: 1;\\n}\\n\\n.bar {\\n  background: var(--main-background-color);\\n  width: 100%;\\n}\\n\\n.img {\\n  object-fit: none;\\n  height: 45px;\\n  width: 45px;\\n  border: var(--main-border-size) var(--main-border-style) var(--main-border-color);\\n  border-radius: var(--main-border-radius);\\n  box-shadow: var(--main-box-shadow);\\n}\\n\\n.topbar {\\n  position: absolute;\\n  top: 0;\\n  padding: 5px 10px;\\n  display: grid;\\n  font-weight: bold;\\n  grid-template-columns: 33% 33% 33%;\\n  width: calc(100% - 20px);\\n  align-items: center;\\n  justify-content: center;\\n}\\n\\n.bottombar {\\n  position: absolute;\\n  bottom: 0;\\n  display: grid;\\n  height: 122px;\\n  grid-template-columns: 120px auto 242px;\\n  width: calc(100% - 10px);\\n  grid-gap: 5px;\\n  padding: 5px;\\n  border-top: 2px solid var(--main-background-color);\\n}\\n\\n.bottombar-info {\\n  position: relative;\\n  border: var(--main-border-size) var(--main-border-style) var(--main-border-color);\\n  border-radius: var(--main-border-radius);\\n  box-shadow: var(--main-box-shadow);\\n  overflow: hidden;\\n  display: flex;\\n  flex-direction: column;\\n  padding: 2px;\\n  gap: 1px;\\n}\\n\\n.bottombar-info #icon {\\n  object-fit: none;\\n  height: 45px;\\n  width: 45px;\\n}\\n\\n.bottombar-menu {\\n  display: flex;\\n  flex-wrap: wrap;\\n  gap: 5px;\\n  padding: 5px 0;\\n  overflow: auto;\\n  max-width: 500px;\\n}\\n\\n.bottombar-menu-column {\\n  display: flex;\\n  flex-direction: column;\\n  gap: 5px;\\n}\\n\\n.bottombar-menu-box {\\n  position: relative;\\n  display: flex;\\n}\\n\\n.bottombar-map-wrap {\\n  position: relative;\\n  top: 2px;\\n  filter: drop-shadow(0px 0px 3px var(--main-shadow-color));\\n}\\n\\n.bottombar-map {\\n  width: 100%;\\n  height: 100%;\\n  clip-path: polygon(50% 1%, 100% 48%, 50% 96%, 0% 48%);\\n}\\n\\n.bottombar-map canvas {\\n  position: absolute;\\n  left: 0;\\n  top: 0;\\n  width: 100%;\\n  height: 100%;\\n}\\n\\n.age {\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n}\\n\\n.resources {\\n  display: flex;\\n  gap: 10px;\\n}\\n\\n.resource {\\n  display: flex;\\n  gap: 2px;\\n  align-items: center;\\n}\\n\\n.resource > div {\\n  width: 40px;\\n}\\n\\n.resource-content {\\n  object-fit: none;\\n  height: 13px;\\n  width: 20px;\\n  border: var(--main-border-size) var(--main-border-style) var(--main-border-color);\\n  border-radius: var(--main-border-radius);\\n  box-shadow: var(--main-box-shadow);\\n}\\n\\n.message {\\n  z-index: 1000;\\n  position: fixed;\\n  width: 100%;\\n  text-align: center;\\n}\\n\\n.message-content {\\n  color: #da2424;\\n  background: rgba(0, 0, 0, 0.4);\\n  padding: 3px;\\n}\\n\\n.resource-quantity,\\n.unit-loading {\\n  display: flex;\\n  align-items: center;\\n}\\n\\n.resource-quantity-icon,\\n.unit-loading-icon {\\n  object-fit: none;\\n  height: 13px;\\n  width: 20px;\\n  margin-right: 2px;\\n  border-radius: 2px;\\n}\\n\", \"\",{\"version\":3,\"sources\":[\"webpack://./app/styles.css\"],\"names\":[],\"mappings\":\"AAAA;EACE,gCAAgC;EAChC,gCAAgC;EAChC,yBAAyB;EACzB,uBAAuB;EACvB,0BAA0B;EAC1B,uCAAuC;EACvC,2DAA2D;AAC7D;;AAEA;;;;;;EAME,qBAAqB;EACrB,cAAc;EACd,eAAe;EACf,0BAA0B;EAC1B,uBAAuB;EACvB,4BAA4B;AAC9B;;AAEA;EACE,aAAa;EACb,gBAAgB;EAChB,SAAS;EACT,iBAAiB;EACjB,uBAAuB;AACzB;;AAEA;EACE,aAAa;EACb,mBAAmB;EACnB,uBAAuB;EACvB,YAAY;AACd;;AAEA;EACE,OAAO;AACT;;AAEA;EACE,wCAAwC;EACxC,WAAW;AACb;;AAEA;EACE,gBAAgB;EAChB,YAAY;EACZ,WAAW;EACX,iFAAiF;EACjF,wCAAwC;EACxC,kCAAkC;AACpC;;AAEA;EACE,kBAAkB;EAClB,MAAM;EACN,iBAAiB;EACjB,aAAa;EACb,iBAAiB;EACjB,kCAAkC;EAClC,wBAAwB;EACxB,mBAAmB;EACnB,uBAAuB;AACzB;;AAEA;EACE,kBAAkB;EAClB,SAAS;EACT,aAAa;EACb,aAAa;EACb,uCAAuC;EACvC,wBAAwB;EACxB,aAAa;EACb,YAAY;EACZ,kDAAkD;AACpD;;AAEA;EACE,kBAAkB;EAClB,iFAAiF;EACjF,wCAAwC;EACxC,kCAAkC;EAClC,gBAAgB;EAChB,aAAa;EACb,sBAAsB;EACtB,YAAY;EACZ,QAAQ;AACV;;AAEA;EACE,gBAAgB;EAChB,YAAY;EACZ,WAAW;AACb;;AAEA;EACE,aAAa;EACb,eAAe;EACf,QAAQ;EACR,cAAc;EACd,cAAc;EACd,gBAAgB;AAClB;;AAEA;EACE,aAAa;EACb,sBAAsB;EACtB,QAAQ;AACV;;AAEA;EACE,kBAAkB;EAClB,aAAa;AACf;;AAEA;EACE,kBAAkB;EAClB,QAAQ;EACR,yDAAyD;AAC3D;;AAEA;EACE,WAAW;EACX,YAAY;EACZ,qDAAqD;AACvD;;AAEA;EACE,kBAAkB;EAClB,OAAO;EACP,MAAM;EACN,WAAW;EACX,YAAY;AACd;;AAEA;EACE,aAAa;EACb,mBAAmB;EACnB,uBAAuB;AACzB;;AAEA;EACE,aAAa;EACb,SAAS;AACX;;AAEA;EACE,aAAa;EACb,QAAQ;EACR,mBAAmB;AACrB;;AAEA;EACE,WAAW;AACb;;AAEA;EACE,gBAAgB;EAChB,YAAY;EACZ,WAAW;EACX,iFAAiF;EACjF,wCAAwC;EACxC,kCAAkC;AACpC;;AAEA;EACE,aAAa;EACb,eAAe;EACf,WAAW;EACX,kBAAkB;AACpB;;AAEA;EACE,cAAc;EACd,8BAA8B;EAC9B,YAAY;AACd;;AAEA;;EAEE,aAAa;EACb,mBAAmB;AACrB;;AAEA;;EAEE,gBAAgB;EAChB,YAAY;EACZ,WAAW;EACX,iBAAiB;EACjB,kBAAkB;AACpB\",\"sourcesContent\":[\":root {\\n  --main-background-color: #161d25;\\n  --main-border-color: transparent;\\n  --main-border-radius: 2px;\\n  --main-border-size: 0px;\\n  --main-border-style: solid;\\n  --main-shadow-color: rgba(0, 0, 0, 0.7);\\n  --main-box-shadow: var(--main-shadow-color) 0px 0px 3px 0px;\\n}\\n\\nhtml,\\nbody,\\ninput,\\ntextarea,\\nselect,\\nbutton {\\n  border-color: #5e5d5a;\\n  color: #e5e0d8;\\n  font-size: 12px;\\n  text-shadow: 1px 1px black;\\n  font-family: sans-serif;\\n  -webkit-font-smoothing: none;\\n}\\n\\nbody {\\n  height: 100vh;\\n  overflow: hidden;\\n  margin: 0;\\n  user-select: none;\\n  background-color: black;\\n}\\n\\n.loading {\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  height: 100%;\\n}\\n\\n#game {\\n  flex: 1;\\n}\\n\\n.bar {\\n  background: var(--main-background-color);\\n  width: 100%;\\n}\\n\\n.img {\\n  object-fit: none;\\n  height: 45px;\\n  width: 45px;\\n  border: var(--main-border-size) var(--main-border-style) var(--main-border-color);\\n  border-radius: var(--main-border-radius);\\n  box-shadow: var(--main-box-shadow);\\n}\\n\\n.topbar {\\n  position: absolute;\\n  top: 0;\\n  padding: 5px 10px;\\n  display: grid;\\n  font-weight: bold;\\n  grid-template-columns: 33% 33% 33%;\\n  width: calc(100% - 20px);\\n  align-items: center;\\n  justify-content: center;\\n}\\n\\n.bottombar {\\n  position: absolute;\\n  bottom: 0;\\n  display: grid;\\n  height: 122px;\\n  grid-template-columns: 120px auto 242px;\\n  width: calc(100% - 10px);\\n  grid-gap: 5px;\\n  padding: 5px;\\n  border-top: 2px solid var(--main-background-color);\\n}\\n\\n.bottombar-info {\\n  position: relative;\\n  border: var(--main-border-size) var(--main-border-style) var(--main-border-color);\\n  border-radius: var(--main-border-radius);\\n  box-shadow: var(--main-box-shadow);\\n  overflow: hidden;\\n  display: flex;\\n  flex-direction: column;\\n  padding: 2px;\\n  gap: 1px;\\n}\\n\\n.bottombar-info #icon {\\n  object-fit: none;\\n  height: 45px;\\n  width: 45px;\\n}\\n\\n.bottombar-menu {\\n  display: flex;\\n  flex-wrap: wrap;\\n  gap: 5px;\\n  padding: 5px 0;\\n  overflow: auto;\\n  max-width: 500px;\\n}\\n\\n.bottombar-menu-column {\\n  display: flex;\\n  flex-direction: column;\\n  gap: 5px;\\n}\\n\\n.bottombar-menu-box {\\n  position: relative;\\n  display: flex;\\n}\\n\\n.bottombar-map-wrap {\\n  position: relative;\\n  top: 2px;\\n  filter: drop-shadow(0px 0px 3px var(--main-shadow-color));\\n}\\n\\n.bottombar-map {\\n  width: 100%;\\n  height: 100%;\\n  clip-path: polygon(50% 1%, 100% 48%, 50% 96%, 0% 48%);\\n}\\n\\n.bottombar-map canvas {\\n  position: absolute;\\n  left: 0;\\n  top: 0;\\n  width: 100%;\\n  height: 100%;\\n}\\n\\n.age {\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n}\\n\\n.resources {\\n  display: flex;\\n  gap: 10px;\\n}\\n\\n.resource {\\n  display: flex;\\n  gap: 2px;\\n  align-items: center;\\n}\\n\\n.resource > div {\\n  width: 40px;\\n}\\n\\n.resource-content {\\n  object-fit: none;\\n  height: 13px;\\n  width: 20px;\\n  border: var(--main-border-size) var(--main-border-style) var(--main-border-color);\\n  border-radius: var(--main-border-radius);\\n  box-shadow: var(--main-box-shadow);\\n}\\n\\n.message {\\n  z-index: 1000;\\n  position: fixed;\\n  width: 100%;\\n  text-align: center;\\n}\\n\\n.message-content {\\n  color: #da2424;\\n  background: rgba(0, 0, 0, 0.4);\\n  padding: 3px;\\n}\\n\\n.resource-quantity,\\n.unit-loading {\\n  display: flex;\\n  align-items: center;\\n}\\n\\n.resource-quantity-icon,\\n.unit-loading-icon {\\n  object-fit: none;\\n  height: 13px;\\n  width: 20px;\\n  margin-right: 2px;\\n  border-radius: 2px;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","\"use strict\";\n\n/*\n  MIT License http://www.opensource.org/licenses/mit-license.php\n  Author Tobias Koppers @sokra\n*/\nmodule.exports = function (cssWithMappingToString) {\n  var list = [];\n\n  // return the list of modules as css string\n  list.toString = function toString() {\n    return this.map(function (item) {\n      var content = \"\";\n      var needLayer = typeof item[5] !== \"undefined\";\n      if (item[4]) {\n        content += \"@supports (\".concat(item[4], \") {\");\n      }\n      if (item[2]) {\n        content += \"@media \".concat(item[2], \" {\");\n      }\n      if (needLayer) {\n        content += \"@layer\".concat(item[5].length > 0 ? \" \".concat(item[5]) : \"\", \" {\");\n      }\n      content += cssWithMappingToString(item);\n      if (needLayer) {\n        content += \"}\";\n      }\n      if (item[2]) {\n        content += \"}\";\n      }\n      if (item[4]) {\n        content += \"}\";\n      }\n      return content;\n    }).join(\"\");\n  };\n\n  // import a list of modules into the list\n  list.i = function i(modules, media, dedupe, supports, layer) {\n    if (typeof modules === \"string\") {\n      modules = [[null, modules, undefined]];\n    }\n    var alreadyImportedModules = {};\n    if (dedupe) {\n      for (var k = 0; k < this.length; k++) {\n        var id = this[k][0];\n        if (id != null) {\n          alreadyImportedModules[id] = true;\n        }\n      }\n    }\n    for (var _k = 0; _k < modules.length; _k++) {\n      var item = [].concat(modules[_k]);\n      if (dedupe && alreadyImportedModules[item[0]]) {\n        continue;\n      }\n      if (typeof layer !== \"undefined\") {\n        if (typeof item[5] === \"undefined\") {\n          item[5] = layer;\n        } else {\n          item[1] = \"@layer\".concat(item[5].length > 0 ? \" \".concat(item[5]) : \"\", \" {\").concat(item[1], \"}\");\n          item[5] = layer;\n        }\n      }\n      if (media) {\n        if (!item[2]) {\n          item[2] = media;\n        } else {\n          item[1] = \"@media \".concat(item[2], \" {\").concat(item[1], \"}\");\n          item[2] = media;\n        }\n      }\n      if (supports) {\n        if (!item[4]) {\n          item[4] = \"\".concat(supports);\n        } else {\n          item[1] = \"@supports (\".concat(item[4], \") {\").concat(item[1], \"}\");\n          item[4] = supports;\n        }\n      }\n      list.push(item);\n    }\n  };\n  return list;\n};","\"use strict\";\n\nmodule.exports = function (item) {\n  var content = item[1];\n  var cssMapping = item[3];\n  if (!cssMapping) {\n    return content;\n  }\n  if (typeof btoa === \"function\") {\n    var base64 = btoa(unescape(encodeURIComponent(JSON.stringify(cssMapping))));\n    var data = \"sourceMappingURL=data:application/json;charset=utf-8;base64,\".concat(base64);\n    var sourceMapping = \"/*# \".concat(data, \" */\");\n    return [content].concat([sourceMapping]).join(\"\\n\");\n  }\n  return [content].join(\"\\n\");\n};","'use strict';\n\nmodule.exports = earcut;\nmodule.exports.default = earcut;\n\nfunction earcut(data, holeIndices, dim) {\n\n    dim = dim || 2;\n\n    var hasHoles = holeIndices && holeIndices.length,\n        outerLen = hasHoles ? holeIndices[0] * dim : data.length,\n        outerNode = linkedList(data, 0, outerLen, dim, true),\n        triangles = [];\n\n    if (!outerNode || outerNode.next === outerNode.prev) return triangles;\n\n    var minX, minY, maxX, maxY, x, y, invSize;\n\n    if (hasHoles) outerNode = eliminateHoles(data, holeIndices, outerNode, dim);\n\n    // if the shape is not too simple, we'll use z-order curve hash later; calculate polygon bbox\n    if (data.length > 80 * dim) {\n        minX = maxX = data[0];\n        minY = maxY = data[1];\n\n        for (var i = dim; i < outerLen; i += dim) {\n            x = data[i];\n            y = data[i + 1];\n            if (x < minX) minX = x;\n            if (y < minY) minY = y;\n            if (x > maxX) maxX = x;\n            if (y > maxY) maxY = y;\n        }\n\n        // minX, minY and invSize are later used to transform coords into integers for z-order calculation\n        invSize = Math.max(maxX - minX, maxY - minY);\n        invSize = invSize !== 0 ? 32767 / invSize : 0;\n    }\n\n    earcutLinked(outerNode, triangles, dim, minX, minY, invSize, 0);\n\n    return triangles;\n}\n\n// create a circular doubly linked list from polygon points in the specified winding order\nfunction linkedList(data, start, end, dim, clockwise) {\n    var i, last;\n\n    if (clockwise === (signedArea(data, start, end, dim) > 0)) {\n        for (i = start; i < end; i += dim) last = insertNode(i, data[i], data[i + 1], last);\n    } else {\n        for (i = end - dim; i >= start; i -= dim) last = insertNode(i, data[i], data[i + 1], last);\n    }\n\n    if (last && equals(last, last.next)) {\n        removeNode(last);\n        last = last.next;\n    }\n\n    return last;\n}\n\n// eliminate colinear or duplicate points\nfunction filterPoints(start, end) {\n    if (!start) return start;\n    if (!end) end = start;\n\n    var p = start,\n        again;\n    do {\n        again = false;\n\n        if (!p.steiner && (equals(p, p.next) || area(p.prev, p, p.next) === 0)) {\n            removeNode(p);\n            p = end = p.prev;\n            if (p === p.next) break;\n            again = true;\n\n        } else {\n            p = p.next;\n        }\n    } while (again || p !== end);\n\n    return end;\n}\n\n// main ear slicing loop which triangulates a polygon (given as a linked list)\nfunction earcutLinked(ear, triangles, dim, minX, minY, invSize, pass) {\n    if (!ear) return;\n\n    // interlink polygon nodes in z-order\n    if (!pass && invSize) indexCurve(ear, minX, minY, invSize);\n\n    var stop = ear,\n        prev, next;\n\n    // iterate through ears, slicing them one by one\n    while (ear.prev !== ear.next) {\n        prev = ear.prev;\n        next = ear.next;\n\n        if (invSize ? isEarHashed(ear, minX, minY, invSize) : isEar(ear)) {\n            // cut off the triangle\n            triangles.push(prev.i / dim | 0);\n            triangles.push(ear.i / dim | 0);\n            triangles.push(next.i / dim | 0);\n\n            removeNode(ear);\n\n            // skipping the next vertex leads to less sliver triangles\n            ear = next.next;\n            stop = next.next;\n\n            continue;\n        }\n\n        ear = next;\n\n        // if we looped through the whole remaining polygon and can't find any more ears\n        if (ear === stop) {\n            // try filtering points and slicing again\n            if (!pass) {\n                earcutLinked(filterPoints(ear), triangles, dim, minX, minY, invSize, 1);\n\n            // if this didn't work, try curing all small self-intersections locally\n            } else if (pass === 1) {\n                ear = cureLocalIntersections(filterPoints(ear), triangles, dim);\n                earcutLinked(ear, triangles, dim, minX, minY, invSize, 2);\n\n            // as a last resort, try splitting the remaining polygon into two\n            } else if (pass === 2) {\n                splitEarcut(ear, triangles, dim, minX, minY, invSize);\n            }\n\n            break;\n        }\n    }\n}\n\n// check whether a polygon node forms a valid ear with adjacent nodes\nfunction isEar(ear) {\n    var a = ear.prev,\n        b = ear,\n        c = ear.next;\n\n    if (area(a, b, c) >= 0) return false; // reflex, can't be an ear\n\n    // now make sure we don't have other points inside the potential ear\n    var ax = a.x, bx = b.x, cx = c.x, ay = a.y, by = b.y, cy = c.y;\n\n    // triangle bbox; min & max are calculated like this for speed\n    var x0 = ax < bx ? (ax < cx ? ax : cx) : (bx < cx ? bx : cx),\n        y0 = ay < by ? (ay < cy ? ay : cy) : (by < cy ? by : cy),\n        x1 = ax > bx ? (ax > cx ? ax : cx) : (bx > cx ? bx : cx),\n        y1 = ay > by ? (ay > cy ? ay : cy) : (by > cy ? by : cy);\n\n    var p = c.next;\n    while (p !== a) {\n        if (p.x >= x0 && p.x <= x1 && p.y >= y0 && p.y <= y1 &&\n            pointInTriangle(ax, ay, bx, by, cx, cy, p.x, p.y) &&\n            area(p.prev, p, p.next) >= 0) return false;\n        p = p.next;\n    }\n\n    return true;\n}\n\nfunction isEarHashed(ear, minX, minY, invSize) {\n    var a = ear.prev,\n        b = ear,\n        c = ear.next;\n\n    if (area(a, b, c) >= 0) return false; // reflex, can't be an ear\n\n    var ax = a.x, bx = b.x, cx = c.x, ay = a.y, by = b.y, cy = c.y;\n\n    // triangle bbox; min & max are calculated like this for speed\n    var x0 = ax < bx ? (ax < cx ? ax : cx) : (bx < cx ? bx : cx),\n        y0 = ay < by ? (ay < cy ? ay : cy) : (by < cy ? by : cy),\n        x1 = ax > bx ? (ax > cx ? ax : cx) : (bx > cx ? bx : cx),\n        y1 = ay > by ? (ay > cy ? ay : cy) : (by > cy ? by : cy);\n\n    // z-order range for the current triangle bbox;\n    var minZ = zOrder(x0, y0, minX, minY, invSize),\n        maxZ = zOrder(x1, y1, minX, minY, invSize);\n\n    var p = ear.prevZ,\n        n = ear.nextZ;\n\n    // look for points inside the triangle in both directions\n    while (p && p.z >= minZ && n && n.z <= maxZ) {\n        if (p.x >= x0 && p.x <= x1 && p.y >= y0 && p.y <= y1 && p !== a && p !== c &&\n            pointInTriangle(ax, ay, bx, by, cx, cy, p.x, p.y) && area(p.prev, p, p.next) >= 0) return false;\n        p = p.prevZ;\n\n        if (n.x >= x0 && n.x <= x1 && n.y >= y0 && n.y <= y1 && n !== a && n !== c &&\n            pointInTriangle(ax, ay, bx, by, cx, cy, n.x, n.y) && area(n.prev, n, n.next) >= 0) return false;\n        n = n.nextZ;\n    }\n\n    // look for remaining points in decreasing z-order\n    while (p && p.z >= minZ) {\n        if (p.x >= x0 && p.x <= x1 && p.y >= y0 && p.y <= y1 && p !== a && p !== c &&\n            pointInTriangle(ax, ay, bx, by, cx, cy, p.x, p.y) && area(p.prev, p, p.next) >= 0) return false;\n        p = p.prevZ;\n    }\n\n    // look for remaining points in increasing z-order\n    while (n && n.z <= maxZ) {\n        if (n.x >= x0 && n.x <= x1 && n.y >= y0 && n.y <= y1 && n !== a && n !== c &&\n            pointInTriangle(ax, ay, bx, by, cx, cy, n.x, n.y) && area(n.prev, n, n.next) >= 0) return false;\n        n = n.nextZ;\n    }\n\n    return true;\n}\n\n// go through all polygon nodes and cure small local self-intersections\nfunction cureLocalIntersections(start, triangles, dim) {\n    var p = start;\n    do {\n        var a = p.prev,\n            b = p.next.next;\n\n        if (!equals(a, b) && intersects(a, p, p.next, b) && locallyInside(a, b) && locallyInside(b, a)) {\n\n            triangles.push(a.i / dim | 0);\n            triangles.push(p.i / dim | 0);\n            triangles.push(b.i / dim | 0);\n\n            // remove two nodes involved\n            removeNode(p);\n            removeNode(p.next);\n\n            p = start = b;\n        }\n        p = p.next;\n    } while (p !== start);\n\n    return filterPoints(p);\n}\n\n// try splitting polygon into two and triangulate them independently\nfunction splitEarcut(start, triangles, dim, minX, minY, invSize) {\n    // look for a valid diagonal that divides the polygon into two\n    var a = start;\n    do {\n        var b = a.next.next;\n        while (b !== a.prev) {\n            if (a.i !== b.i && isValidDiagonal(a, b)) {\n                // split the polygon in two by the diagonal\n                var c = splitPolygon(a, b);\n\n                // filter colinear points around the cuts\n                a = filterPoints(a, a.next);\n                c = filterPoints(c, c.next);\n\n                // run earcut on each half\n                earcutLinked(a, triangles, dim, minX, minY, invSize, 0);\n                earcutLinked(c, triangles, dim, minX, minY, invSize, 0);\n                return;\n            }\n            b = b.next;\n        }\n        a = a.next;\n    } while (a !== start);\n}\n\n// link every hole into the outer loop, producing a single-ring polygon without holes\nfunction eliminateHoles(data, holeIndices, outerNode, dim) {\n    var queue = [],\n        i, len, start, end, list;\n\n    for (i = 0, len = holeIndices.length; i < len; i++) {\n        start = holeIndices[i] * dim;\n        end = i < len - 1 ? holeIndices[i + 1] * dim : data.length;\n        list = linkedList(data, start, end, dim, false);\n        if (list === list.next) list.steiner = true;\n        queue.push(getLeftmost(list));\n    }\n\n    queue.sort(compareX);\n\n    // process holes from left to right\n    for (i = 0; i < queue.length; i++) {\n        outerNode = eliminateHole(queue[i], outerNode);\n    }\n\n    return outerNode;\n}\n\nfunction compareX(a, b) {\n    return a.x - b.x;\n}\n\n// find a bridge between vertices that connects hole with an outer ring and and link it\nfunction eliminateHole(hole, outerNode) {\n    var bridge = findHoleBridge(hole, outerNode);\n    if (!bridge) {\n        return outerNode;\n    }\n\n    var bridgeReverse = splitPolygon(bridge, hole);\n\n    // filter collinear points around the cuts\n    filterPoints(bridgeReverse, bridgeReverse.next);\n    return filterPoints(bridge, bridge.next);\n}\n\n// David Eberly's algorithm for finding a bridge between hole and outer polygon\nfunction findHoleBridge(hole, outerNode) {\n    var p = outerNode,\n        hx = hole.x,\n        hy = hole.y,\n        qx = -Infinity,\n        m;\n\n    // find a segment intersected by a ray from the hole's leftmost point to the left;\n    // segment's endpoint with lesser x will be potential connection point\n    do {\n        if (hy <= p.y && hy >= p.next.y && p.next.y !== p.y) {\n            var x = p.x + (hy - p.y) * (p.next.x - p.x) / (p.next.y - p.y);\n            if (x <= hx && x > qx) {\n                qx = x;\n                m = p.x < p.next.x ? p : p.next;\n                if (x === hx) return m; // hole touches outer segment; pick leftmost endpoint\n            }\n        }\n        p = p.next;\n    } while (p !== outerNode);\n\n    if (!m) return null;\n\n    // look for points inside the triangle of hole point, segment intersection and endpoint;\n    // if there are no points found, we have a valid connection;\n    // otherwise choose the point of the minimum angle with the ray as connection point\n\n    var stop = m,\n        mx = m.x,\n        my = m.y,\n        tanMin = Infinity,\n        tan;\n\n    p = m;\n\n    do {\n        if (hx >= p.x && p.x >= mx && hx !== p.x &&\n                pointInTriangle(hy < my ? hx : qx, hy, mx, my, hy < my ? qx : hx, hy, p.x, p.y)) {\n\n            tan = Math.abs(hy - p.y) / (hx - p.x); // tangential\n\n            if (locallyInside(p, hole) &&\n                (tan < tanMin || (tan === tanMin && (p.x > m.x || (p.x === m.x && sectorContainsSector(m, p)))))) {\n                m = p;\n                tanMin = tan;\n            }\n        }\n\n        p = p.next;\n    } while (p !== stop);\n\n    return m;\n}\n\n// whether sector in vertex m contains sector in vertex p in the same coordinates\nfunction sectorContainsSector(m, p) {\n    return area(m.prev, m, p.prev) < 0 && area(p.next, m, m.next) < 0;\n}\n\n// interlink polygon nodes in z-order\nfunction indexCurve(start, minX, minY, invSize) {\n    var p = start;\n    do {\n        if (p.z === 0) p.z = zOrder(p.x, p.y, minX, minY, invSize);\n        p.prevZ = p.prev;\n        p.nextZ = p.next;\n        p = p.next;\n    } while (p !== start);\n\n    p.prevZ.nextZ = null;\n    p.prevZ = null;\n\n    sortLinked(p);\n}\n\n// Simon Tatham's linked list merge sort algorithm\n// http://www.chiark.greenend.org.uk/~sgtatham/algorithms/listsort.html\nfunction sortLinked(list) {\n    var i, p, q, e, tail, numMerges, pSize, qSize,\n        inSize = 1;\n\n    do {\n        p = list;\n        list = null;\n        tail = null;\n        numMerges = 0;\n\n        while (p) {\n            numMerges++;\n            q = p;\n            pSize = 0;\n            for (i = 0; i < inSize; i++) {\n                pSize++;\n                q = q.nextZ;\n                if (!q) break;\n            }\n            qSize = inSize;\n\n            while (pSize > 0 || (qSize > 0 && q)) {\n\n                if (pSize !== 0 && (qSize === 0 || !q || p.z <= q.z)) {\n                    e = p;\n                    p = p.nextZ;\n                    pSize--;\n                } else {\n                    e = q;\n                    q = q.nextZ;\n                    qSize--;\n                }\n\n                if (tail) tail.nextZ = e;\n                else list = e;\n\n                e.prevZ = tail;\n                tail = e;\n            }\n\n            p = q;\n        }\n\n        tail.nextZ = null;\n        inSize *= 2;\n\n    } while (numMerges > 1);\n\n    return list;\n}\n\n// z-order of a point given coords and inverse of the longer side of data bbox\nfunction zOrder(x, y, minX, minY, invSize) {\n    // coords are transformed into non-negative 15-bit integer range\n    x = (x - minX) * invSize | 0;\n    y = (y - minY) * invSize | 0;\n\n    x = (x | (x << 8)) & 0x00FF00FF;\n    x = (x | (x << 4)) & 0x0F0F0F0F;\n    x = (x | (x << 2)) & 0x33333333;\n    x = (x | (x << 1)) & 0x55555555;\n\n    y = (y | (y << 8)) & 0x00FF00FF;\n    y = (y | (y << 4)) & 0x0F0F0F0F;\n    y = (y | (y << 2)) & 0x33333333;\n    y = (y | (y << 1)) & 0x55555555;\n\n    return x | (y << 1);\n}\n\n// find the leftmost node of a polygon ring\nfunction getLeftmost(start) {\n    var p = start,\n        leftmost = start;\n    do {\n        if (p.x < leftmost.x || (p.x === leftmost.x && p.y < leftmost.y)) leftmost = p;\n        p = p.next;\n    } while (p !== start);\n\n    return leftmost;\n}\n\n// check if a point lies within a convex triangle\nfunction pointInTriangle(ax, ay, bx, by, cx, cy, px, py) {\n    return (cx - px) * (ay - py) >= (ax - px) * (cy - py) &&\n           (ax - px) * (by - py) >= (bx - px) * (ay - py) &&\n           (bx - px) * (cy - py) >= (cx - px) * (by - py);\n}\n\n// check if a diagonal between two polygon nodes is valid (lies in polygon interior)\nfunction isValidDiagonal(a, b) {\n    return a.next.i !== b.i && a.prev.i !== b.i && !intersectsPolygon(a, b) && // dones't intersect other edges\n           (locallyInside(a, b) && locallyInside(b, a) && middleInside(a, b) && // locally visible\n            (area(a.prev, a, b.prev) || area(a, b.prev, b)) || // does not create opposite-facing sectors\n            equals(a, b) && area(a.prev, a, a.next) > 0 && area(b.prev, b, b.next) > 0); // special zero-length case\n}\n\n// signed area of a triangle\nfunction area(p, q, r) {\n    return (q.y - p.y) * (r.x - q.x) - (q.x - p.x) * (r.y - q.y);\n}\n\n// check if two points are equal\nfunction equals(p1, p2) {\n    return p1.x === p2.x && p1.y === p2.y;\n}\n\n// check if two segments intersect\nfunction intersects(p1, q1, p2, q2) {\n    var o1 = sign(area(p1, q1, p2));\n    var o2 = sign(area(p1, q1, q2));\n    var o3 = sign(area(p2, q2, p1));\n    var o4 = sign(area(p2, q2, q1));\n\n    if (o1 !== o2 && o3 !== o4) return true; // general case\n\n    if (o1 === 0 && onSegment(p1, p2, q1)) return true; // p1, q1 and p2 are collinear and p2 lies on p1q1\n    if (o2 === 0 && onSegment(p1, q2, q1)) return true; // p1, q1 and q2 are collinear and q2 lies on p1q1\n    if (o3 === 0 && onSegment(p2, p1, q2)) return true; // p2, q2 and p1 are collinear and p1 lies on p2q2\n    if (o4 === 0 && onSegment(p2, q1, q2)) return true; // p2, q2 and q1 are collinear and q1 lies on p2q2\n\n    return false;\n}\n\n// for collinear points p, q, r, check if point q lies on segment pr\nfunction onSegment(p, q, r) {\n    return q.x <= Math.max(p.x, r.x) && q.x >= Math.min(p.x, r.x) && q.y <= Math.max(p.y, r.y) && q.y >= Math.min(p.y, r.y);\n}\n\nfunction sign(num) {\n    return num > 0 ? 1 : num < 0 ? -1 : 0;\n}\n\n// check if a polygon diagonal intersects any polygon segments\nfunction intersectsPolygon(a, b) {\n    var p = a;\n    do {\n        if (p.i !== a.i && p.next.i !== a.i && p.i !== b.i && p.next.i !== b.i &&\n                intersects(p, p.next, a, b)) return true;\n        p = p.next;\n    } while (p !== a);\n\n    return false;\n}\n\n// check if a polygon diagonal is locally inside the polygon\nfunction locallyInside(a, b) {\n    return area(a.prev, a, a.next) < 0 ?\n        area(a, b, a.next) >= 0 && area(a, a.prev, b) >= 0 :\n        area(a, b, a.prev) < 0 || area(a, a.next, b) < 0;\n}\n\n// check if the middle point of a polygon diagonal is inside the polygon\nfunction middleInside(a, b) {\n    var p = a,\n        inside = false,\n        px = (a.x + b.x) / 2,\n        py = (a.y + b.y) / 2;\n    do {\n        if (((p.y > py) !== (p.next.y > py)) && p.next.y !== p.y &&\n                (px < (p.next.x - p.x) * (py - p.y) / (p.next.y - p.y) + p.x))\n            inside = !inside;\n        p = p.next;\n    } while (p !== a);\n\n    return inside;\n}\n\n// link two polygon vertices with a bridge; if the vertices belong to the same ring, it splits polygon into two;\n// if one belongs to the outer ring and another to a hole, it merges it into a single ring\nfunction splitPolygon(a, b) {\n    var a2 = new Node(a.i, a.x, a.y),\n        b2 = new Node(b.i, b.x, b.y),\n        an = a.next,\n        bp = b.prev;\n\n    a.next = b;\n    b.prev = a;\n\n    a2.next = an;\n    an.prev = a2;\n\n    b2.next = a2;\n    a2.prev = b2;\n\n    bp.next = b2;\n    b2.prev = bp;\n\n    return b2;\n}\n\n// create a node and optionally link it with previous one (in a circular doubly linked list)\nfunction insertNode(i, x, y, last) {\n    var p = new Node(i, x, y);\n\n    if (!last) {\n        p.prev = p;\n        p.next = p;\n\n    } else {\n        p.next = last.next;\n        p.prev = last;\n        last.next.prev = p;\n        last.next = p;\n    }\n    return p;\n}\n\nfunction removeNode(p) {\n    p.next.prev = p.prev;\n    p.prev.next = p.next;\n\n    if (p.prevZ) p.prevZ.nextZ = p.nextZ;\n    if (p.nextZ) p.nextZ.prevZ = p.prevZ;\n}\n\nfunction Node(i, x, y) {\n    // vertex index in coordinates array\n    this.i = i;\n\n    // vertex coordinates\n    this.x = x;\n    this.y = y;\n\n    // previous and next vertex nodes in a polygon ring\n    this.prev = null;\n    this.next = null;\n\n    // z-order curve value\n    this.z = 0;\n\n    // previous and next nodes in z-order\n    this.prevZ = null;\n    this.nextZ = null;\n\n    // indicates whether this is a steiner point\n    this.steiner = false;\n}\n\n// return a percentage difference between the polygon area and its triangulation area;\n// used to verify correctness of triangulation\nearcut.deviation = function (data, holeIndices, dim, triangles) {\n    var hasHoles = holeIndices && holeIndices.length;\n    var outerLen = hasHoles ? holeIndices[0] * dim : data.length;\n\n    var polygonArea = Math.abs(signedArea(data, 0, outerLen, dim));\n    if (hasHoles) {\n        for (var i = 0, len = holeIndices.length; i < len; i++) {\n            var start = holeIndices[i] * dim;\n            var end = i < len - 1 ? holeIndices[i + 1] * dim : data.length;\n            polygonArea -= Math.abs(signedArea(data, start, end, dim));\n        }\n    }\n\n    var trianglesArea = 0;\n    for (i = 0; i < triangles.length; i += 3) {\n        var a = triangles[i] * dim;\n        var b = triangles[i + 1] * dim;\n        var c = triangles[i + 2] * dim;\n        trianglesArea += Math.abs(\n            (data[a] - data[c]) * (data[b + 1] - data[a + 1]) -\n            (data[a] - data[b]) * (data[c + 1] - data[a + 1]));\n    }\n\n    return polygonArea === 0 && trianglesArea === 0 ? 0 :\n        Math.abs((trianglesArea - polygonArea) / polygonArea);\n};\n\nfunction signedArea(data, start, end, dim) {\n    var sum = 0;\n    for (var i = start, j = end - dim; i < end; i += dim) {\n        sum += (data[j] - data[i]) * (data[i + 1] + data[j + 1]);\n        j = i;\n    }\n    return sum;\n}\n\n// turn a polygon in a multi-dimensional array form (e.g. as in GeoJSON) into a form Earcut accepts\nearcut.flatten = function (data) {\n    var dim = data[0][0].length,\n        result = {vertices: [], holes: [], dimensions: dim},\n        holeIndex = 0;\n\n    for (var i = 0; i < data.length; i++) {\n        for (var j = 0; j < data[i].length; j++) {\n            for (var d = 0; d < dim; d++) result.vertices.push(data[i][j][d]);\n        }\n        if (i > 0) {\n            holeIndex += data[i - 1].length;\n            result.holes.push(holeIndex);\n        }\n    }\n    return result;\n};\n","'use strict';\n\nvar has = Object.prototype.hasOwnProperty\n  , prefix = '~';\n\n/**\n * Constructor to create a storage for our `EE` objects.\n * An `Events` instance is a plain object whose properties are event names.\n *\n * @constructor\n * @private\n */\nfunction Events() {}\n\n//\n// We try to not inherit from `Object.prototype`. In some engines creating an\n// instance in this way is faster than calling `Object.create(null)` directly.\n// If `Object.create(null)` is not supported we prefix the event names with a\n// character to make sure that the built-in object properties are not\n// overridden or used as an attack vector.\n//\nif (Object.create) {\n  Events.prototype = Object.create(null);\n\n  //\n  // This hack is needed because the `__proto__` property is still inherited in\n  // some old browsers like Android 4, iPhone 5.1, Opera 11 and Safari 5.\n  //\n  if (!new Events().__proto__) prefix = false;\n}\n\n/**\n * Representation of a single event listener.\n *\n * @param {Function} fn The listener function.\n * @param {*} context The context to invoke the listener with.\n * @param {Boolean} [once=false] Specify if the listener is a one-time listener.\n * @constructor\n * @private\n */\nfunction EE(fn, context, once) {\n  this.fn = fn;\n  this.context = context;\n  this.once = once || false;\n}\n\n/**\n * Add a listener for a given event.\n *\n * @param {EventEmitter} emitter Reference to the `EventEmitter` instance.\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} context The context to invoke the listener with.\n * @param {Boolean} once Specify if the listener is a one-time listener.\n * @returns {EventEmitter}\n * @private\n */\nfunction addListener(emitter, event, fn, context, once) {\n  if (typeof fn !== 'function') {\n    throw new TypeError('The listener must be a function');\n  }\n\n  var listener = new EE(fn, context || emitter, once)\n    , evt = prefix ? prefix + event : event;\n\n  if (!emitter._events[evt]) emitter._events[evt] = listener, emitter._eventsCount++;\n  else if (!emitter._events[evt].fn) emitter._events[evt].push(listener);\n  else emitter._events[evt] = [emitter._events[evt], listener];\n\n  return emitter;\n}\n\n/**\n * Clear event by name.\n *\n * @param {EventEmitter} emitter Reference to the `EventEmitter` instance.\n * @param {(String|Symbol)} evt The Event name.\n * @private\n */\nfunction clearEvent(emitter, evt) {\n  if (--emitter._eventsCount === 0) emitter._events = new Events();\n  else delete emitter._events[evt];\n}\n\n/**\n * Minimal `EventEmitter` interface that is molded against the Node.js\n * `EventEmitter` interface.\n *\n * @constructor\n * @public\n */\nfunction EventEmitter() {\n  this._events = new Events();\n  this._eventsCount = 0;\n}\n\n/**\n * Return an array listing the events for which the emitter has registered\n * listeners.\n *\n * @returns {Array}\n * @public\n */\nEventEmitter.prototype.eventNames = function eventNames() {\n  var names = []\n    , events\n    , name;\n\n  if (this._eventsCount === 0) return names;\n\n  for (name in (events = this._events)) {\n    if (has.call(events, name)) names.push(prefix ? name.slice(1) : name);\n  }\n\n  if (Object.getOwnPropertySymbols) {\n    return names.concat(Object.getOwnPropertySymbols(events));\n  }\n\n  return names;\n};\n\n/**\n * Return the listeners registered for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Array} The registered listeners.\n * @public\n */\nEventEmitter.prototype.listeners = function listeners(event) {\n  var evt = prefix ? prefix + event : event\n    , handlers = this._events[evt];\n\n  if (!handlers) return [];\n  if (handlers.fn) return [handlers.fn];\n\n  for (var i = 0, l = handlers.length, ee = new Array(l); i < l; i++) {\n    ee[i] = handlers[i].fn;\n  }\n\n  return ee;\n};\n\n/**\n * Return the number of listeners listening to a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Number} The number of listeners.\n * @public\n */\nEventEmitter.prototype.listenerCount = function listenerCount(event) {\n  var evt = prefix ? prefix + event : event\n    , listeners = this._events[evt];\n\n  if (!listeners) return 0;\n  if (listeners.fn) return 1;\n  return listeners.length;\n};\n\n/**\n * Calls each of the listeners registered for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Boolean} `true` if the event had listeners, else `false`.\n * @public\n */\nEventEmitter.prototype.emit = function emit(event, a1, a2, a3, a4, a5) {\n  var evt = prefix ? prefix + event : event;\n\n  if (!this._events[evt]) return false;\n\n  var listeners = this._events[evt]\n    , len = arguments.length\n    , args\n    , i;\n\n  if (listeners.fn) {\n    if (listeners.once) this.removeListener(event, listeners.fn, undefined, true);\n\n    switch (len) {\n      case 1: return listeners.fn.call(listeners.context), true;\n      case 2: return listeners.fn.call(listeners.context, a1), true;\n      case 3: return listeners.fn.call(listeners.context, a1, a2), true;\n      case 4: return listeners.fn.call(listeners.context, a1, a2, a3), true;\n      case 5: return listeners.fn.call(listeners.context, a1, a2, a3, a4), true;\n      case 6: return listeners.fn.call(listeners.context, a1, a2, a3, a4, a5), true;\n    }\n\n    for (i = 1, args = new Array(len -1); i < len; i++) {\n      args[i - 1] = arguments[i];\n    }\n\n    listeners.fn.apply(listeners.context, args);\n  } else {\n    var length = listeners.length\n      , j;\n\n    for (i = 0; i < length; i++) {\n      if (listeners[i].once) this.removeListener(event, listeners[i].fn, undefined, true);\n\n      switch (len) {\n        case 1: listeners[i].fn.call(listeners[i].context); break;\n        case 2: listeners[i].fn.call(listeners[i].context, a1); break;\n        case 3: listeners[i].fn.call(listeners[i].context, a1, a2); break;\n        case 4: listeners[i].fn.call(listeners[i].context, a1, a2, a3); break;\n        default:\n          if (!args) for (j = 1, args = new Array(len -1); j < len; j++) {\n            args[j - 1] = arguments[j];\n          }\n\n          listeners[i].fn.apply(listeners[i].context, args);\n      }\n    }\n  }\n\n  return true;\n};\n\n/**\n * Add a listener for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} [context=this] The context to invoke the listener with.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.on = function on(event, fn, context) {\n  return addListener(this, event, fn, context, false);\n};\n\n/**\n * Add a one-time listener for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} [context=this] The context to invoke the listener with.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.once = function once(event, fn, context) {\n  return addListener(this, event, fn, context, true);\n};\n\n/**\n * Remove the listeners of a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn Only remove the listeners that match this function.\n * @param {*} context Only remove the listeners that have this context.\n * @param {Boolean} once Only remove one-time listeners.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.removeListener = function removeListener(event, fn, context, once) {\n  var evt = prefix ? prefix + event : event;\n\n  if (!this._events[evt]) return this;\n  if (!fn) {\n    clearEvent(this, evt);\n    return this;\n  }\n\n  var listeners = this._events[evt];\n\n  if (listeners.fn) {\n    if (\n      listeners.fn === fn &&\n      (!once || listeners.once) &&\n      (!context || listeners.context === context)\n    ) {\n      clearEvent(this, evt);\n    }\n  } else {\n    for (var i = 0, events = [], length = listeners.length; i < length; i++) {\n      if (\n        listeners[i].fn !== fn ||\n        (once && !listeners[i].once) ||\n        (context && listeners[i].context !== context)\n      ) {\n        events.push(listeners[i]);\n      }\n    }\n\n    //\n    // Reset the array, or remove it completely if we have no more listeners.\n    //\n    if (events.length) this._events[evt] = events.length === 1 ? events[0] : events;\n    else clearEvent(this, evt);\n  }\n\n  return this;\n};\n\n/**\n * Remove all listeners, or those of the specified event.\n *\n * @param {(String|Symbol)} [event] The event name.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.removeAllListeners = function removeAllListeners(event) {\n  var evt;\n\n  if (event) {\n    evt = prefix ? prefix + event : event;\n    if (this._events[evt]) clearEvent(this, evt);\n  } else {\n    this._events = new Events();\n    this._eventsCount = 0;\n  }\n\n  return this;\n};\n\n//\n// Alias methods names because people roll like that.\n//\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\nEventEmitter.prototype.addListener = EventEmitter.prototype.on;\n\n//\n// Expose the prefix.\n//\nEventEmitter.prefixed = prefix;\n\n//\n// Allow `EventEmitter` to be imported as module namespace.\n//\nEventEmitter.EventEmitter = EventEmitter;\n\n//\n// Expose the module.\n//\nif ('undefined' !== typeof module) {\n  module.exports = EventEmitter;\n}\n","/*! https://mths.be/punycode v1.3.2 by @mathias */\n;(function(root) {\n\n\t/** Detect free variables */\n\tvar freeExports = typeof exports == 'object' && exports &&\n\t\t!exports.nodeType && exports;\n\tvar freeModule = typeof module == 'object' && module &&\n\t\t!module.nodeType && module;\n\tvar freeGlobal = typeof global == 'object' && global;\n\tif (\n\t\tfreeGlobal.global === freeGlobal ||\n\t\tfreeGlobal.window === freeGlobal ||\n\t\tfreeGlobal.self === freeGlobal\n\t) {\n\t\troot = freeGlobal;\n\t}\n\n\t/**\n\t * The `punycode` object.\n\t * @name punycode\n\t * @type Object\n\t */\n\tvar punycode,\n\n\t/** Highest positive signed 32-bit float value */\n\tmaxInt = 2147483647, // aka. 0x7FFFFFFF or 2^31-1\n\n\t/** Bootstring parameters */\n\tbase = 36,\n\ttMin = 1,\n\ttMax = 26,\n\tskew = 38,\n\tdamp = 700,\n\tinitialBias = 72,\n\tinitialN = 128, // 0x80\n\tdelimiter = '-', // '\\x2D'\n\n\t/** Regular expressions */\n\tregexPunycode = /^xn--/,\n\tregexNonASCII = /[^\\x20-\\x7E]/, // unprintable ASCII chars + non-ASCII chars\n\tregexSeparators = /[\\x2E\\u3002\\uFF0E\\uFF61]/g, // RFC 3490 separators\n\n\t/** Error messages */\n\terrors = {\n\t\t'overflow': 'Overflow: input needs wider integers to process',\n\t\t'not-basic': 'Illegal input >= 0x80 (not a basic code point)',\n\t\t'invalid-input': 'Invalid input'\n\t},\n\n\t/** Convenience shortcuts */\n\tbaseMinusTMin = base - tMin,\n\tfloor = Math.floor,\n\tstringFromCharCode = String.fromCharCode,\n\n\t/** Temporary variable */\n\tkey;\n\n\t/*--------------------------------------------------------------------------*/\n\n\t/**\n\t * A generic error utility function.\n\t * @private\n\t * @param {String} type The error type.\n\t * @returns {Error} Throws a `RangeError` with the applicable error message.\n\t */\n\tfunction error(type) {\n\t\tthrow RangeError(errors[type]);\n\t}\n\n\t/**\n\t * A generic `Array#map` utility function.\n\t * @private\n\t * @param {Array} array The array to iterate over.\n\t * @param {Function} callback The function that gets called for every array\n\t * item.\n\t * @returns {Array} A new array of values returned by the callback function.\n\t */\n\tfunction map(array, fn) {\n\t\tvar length = array.length;\n\t\tvar result = [];\n\t\twhile (length--) {\n\t\t\tresult[length] = fn(array[length]);\n\t\t}\n\t\treturn result;\n\t}\n\n\t/**\n\t * A simple `Array#map`-like wrapper to work with domain name strings or email\n\t * addresses.\n\t * @private\n\t * @param {String} domain The domain name or email address.\n\t * @param {Function} callback The function that gets called for every\n\t * character.\n\t * @returns {Array} A new string of characters returned by the callback\n\t * function.\n\t */\n\tfunction mapDomain(string, fn) {\n\t\tvar parts = string.split('@');\n\t\tvar result = '';\n\t\tif (parts.length > 1) {\n\t\t\t// In email addresses, only the domain name should be punycoded. Leave\n\t\t\t// the local part (i.e. everything up to `@`) intact.\n\t\t\tresult = parts[0] + '@';\n\t\t\tstring = parts[1];\n\t\t}\n\t\t// Avoid `split(regex)` for IE8 compatibility. See #17.\n\t\tstring = string.replace(regexSeparators, '\\x2E');\n\t\tvar labels = string.split('.');\n\t\tvar encoded = map(labels, fn).join('.');\n\t\treturn result + encoded;\n\t}\n\n\t/**\n\t * Creates an array containing the numeric code points of each Unicode\n\t * character in the string. While JavaScript uses UCS-2 internally,\n\t * this function will convert a pair of surrogate halves (each of which\n\t * UCS-2 exposes as separate characters) into a single code point,\n\t * matching UTF-16.\n\t * @see `punycode.ucs2.encode`\n\t * @see <https://mathiasbynens.be/notes/javascript-encoding>\n\t * @memberOf punycode.ucs2\n\t * @name decode\n\t * @param {String} string The Unicode input string (UCS-2).\n\t * @returns {Array} The new array of code points.\n\t */\n\tfunction ucs2decode(string) {\n\t\tvar output = [],\n\t\t    counter = 0,\n\t\t    length = string.length,\n\t\t    value,\n\t\t    extra;\n\t\twhile (counter < length) {\n\t\t\tvalue = string.charCodeAt(counter++);\n\t\t\tif (value >= 0xD800 && value <= 0xDBFF && counter < length) {\n\t\t\t\t// high surrogate, and there is a next character\n\t\t\t\textra = string.charCodeAt(counter++);\n\t\t\t\tif ((extra & 0xFC00) == 0xDC00) { // low surrogate\n\t\t\t\t\toutput.push(((value & 0x3FF) << 10) + (extra & 0x3FF) + 0x10000);\n\t\t\t\t} else {\n\t\t\t\t\t// unmatched surrogate; only append this code unit, in case the next\n\t\t\t\t\t// code unit is the high surrogate of a surrogate pair\n\t\t\t\t\toutput.push(value);\n\t\t\t\t\tcounter--;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\toutput.push(value);\n\t\t\t}\n\t\t}\n\t\treturn output;\n\t}\n\n\t/**\n\t * Creates a string based on an array of numeric code points.\n\t * @see `punycode.ucs2.decode`\n\t * @memberOf punycode.ucs2\n\t * @name encode\n\t * @param {Array} codePoints The array of numeric code points.\n\t * @returns {String} The new Unicode string (UCS-2).\n\t */\n\tfunction ucs2encode(array) {\n\t\treturn map(array, function(value) {\n\t\t\tvar output = '';\n\t\t\tif (value > 0xFFFF) {\n\t\t\t\tvalue -= 0x10000;\n\t\t\t\toutput += stringFromCharCode(value >>> 10 & 0x3FF | 0xD800);\n\t\t\t\tvalue = 0xDC00 | value & 0x3FF;\n\t\t\t}\n\t\t\toutput += stringFromCharCode(value);\n\t\t\treturn output;\n\t\t}).join('');\n\t}\n\n\t/**\n\t * Converts a basic code point into a digit/integer.\n\t * @see `digitToBasic()`\n\t * @private\n\t * @param {Number} codePoint The basic numeric code point value.\n\t * @returns {Number} The numeric value of a basic code point (for use in\n\t * representing integers) in the range `0` to `base - 1`, or `base` if\n\t * the code point does not represent a value.\n\t */\n\tfunction basicToDigit(codePoint) {\n\t\tif (codePoint - 48 < 10) {\n\t\t\treturn codePoint - 22;\n\t\t}\n\t\tif (codePoint - 65 < 26) {\n\t\t\treturn codePoint - 65;\n\t\t}\n\t\tif (codePoint - 97 < 26) {\n\t\t\treturn codePoint - 97;\n\t\t}\n\t\treturn base;\n\t}\n\n\t/**\n\t * Converts a digit/integer into a basic code point.\n\t * @see `basicToDigit()`\n\t * @private\n\t * @param {Number} digit The numeric value of a basic code point.\n\t * @returns {Number} The basic code point whose value (when used for\n\t * representing integers) is `digit`, which needs to be in the range\n\t * `0` to `base - 1`. If `flag` is non-zero, the uppercase form is\n\t * used; else, the lowercase form is used. The behavior is undefined\n\t * if `flag` is non-zero and `digit` has no uppercase form.\n\t */\n\tfunction digitToBasic(digit, flag) {\n\t\t//  0..25 map to ASCII a..z or A..Z\n\t\t// 26..35 map to ASCII 0..9\n\t\treturn digit + 22 + 75 * (digit < 26) - ((flag != 0) << 5);\n\t}\n\n\t/**\n\t * Bias adaptation function as per section 3.4 of RFC 3492.\n\t * http://tools.ietf.org/html/rfc3492#section-3.4\n\t * @private\n\t */\n\tfunction adapt(delta, numPoints, firstTime) {\n\t\tvar k = 0;\n\t\tdelta = firstTime ? floor(delta / damp) : delta >> 1;\n\t\tdelta += floor(delta / numPoints);\n\t\tfor (/* no initialization */; delta > baseMinusTMin * tMax >> 1; k += base) {\n\t\t\tdelta = floor(delta / baseMinusTMin);\n\t\t}\n\t\treturn floor(k + (baseMinusTMin + 1) * delta / (delta + skew));\n\t}\n\n\t/**\n\t * Converts a Punycode string of ASCII-only symbols to a string of Unicode\n\t * symbols.\n\t * @memberOf punycode\n\t * @param {String} input The Punycode string of ASCII-only symbols.\n\t * @returns {String} The resulting string of Unicode symbols.\n\t */\n\tfunction decode(input) {\n\t\t// Don't use UCS-2\n\t\tvar output = [],\n\t\t    inputLength = input.length,\n\t\t    out,\n\t\t    i = 0,\n\t\t    n = initialN,\n\t\t    bias = initialBias,\n\t\t    basic,\n\t\t    j,\n\t\t    index,\n\t\t    oldi,\n\t\t    w,\n\t\t    k,\n\t\t    digit,\n\t\t    t,\n\t\t    /** Cached calculation results */\n\t\t    baseMinusT;\n\n\t\t// Handle the basic code points: let `basic` be the number of input code\n\t\t// points before the last delimiter, or `0` if there is none, then copy\n\t\t// the first basic code points to the output.\n\n\t\tbasic = input.lastIndexOf(delimiter);\n\t\tif (basic < 0) {\n\t\t\tbasic = 0;\n\t\t}\n\n\t\tfor (j = 0; j < basic; ++j) {\n\t\t\t// if it's not a basic code point\n\t\t\tif (input.charCodeAt(j) >= 0x80) {\n\t\t\t\terror('not-basic');\n\t\t\t}\n\t\t\toutput.push(input.charCodeAt(j));\n\t\t}\n\n\t\t// Main decoding loop: start just after the last delimiter if any basic code\n\t\t// points were copied; start at the beginning otherwise.\n\n\t\tfor (index = basic > 0 ? basic + 1 : 0; index < inputLength; /* no final expression */) {\n\n\t\t\t// `index` is the index of the next character to be consumed.\n\t\t\t// Decode a generalized variable-length integer into `delta`,\n\t\t\t// which gets added to `i`. The overflow checking is easier\n\t\t\t// if we increase `i` as we go, then subtract off its starting\n\t\t\t// value at the end to obtain `delta`.\n\t\t\tfor (oldi = i, w = 1, k = base; /* no condition */; k += base) {\n\n\t\t\t\tif (index >= inputLength) {\n\t\t\t\t\terror('invalid-input');\n\t\t\t\t}\n\n\t\t\t\tdigit = basicToDigit(input.charCodeAt(index++));\n\n\t\t\t\tif (digit >= base || digit > floor((maxInt - i) / w)) {\n\t\t\t\t\terror('overflow');\n\t\t\t\t}\n\n\t\t\t\ti += digit * w;\n\t\t\t\tt = k <= bias ? tMin : (k >= bias + tMax ? tMax : k - bias);\n\n\t\t\t\tif (digit < t) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t\tbaseMinusT = base - t;\n\t\t\t\tif (w > floor(maxInt / baseMinusT)) {\n\t\t\t\t\terror('overflow');\n\t\t\t\t}\n\n\t\t\t\tw *= baseMinusT;\n\n\t\t\t}\n\n\t\t\tout = output.length + 1;\n\t\t\tbias = adapt(i - oldi, out, oldi == 0);\n\n\t\t\t// `i` was supposed to wrap around from `out` to `0`,\n\t\t\t// incrementing `n` each time, so we'll fix that now:\n\t\t\tif (floor(i / out) > maxInt - n) {\n\t\t\t\terror('overflow');\n\t\t\t}\n\n\t\t\tn += floor(i / out);\n\t\t\ti %= out;\n\n\t\t\t// Insert `n` at position `i` of the output\n\t\t\toutput.splice(i++, 0, n);\n\n\t\t}\n\n\t\treturn ucs2encode(output);\n\t}\n\n\t/**\n\t * Converts a string of Unicode symbols (e.g. a domain name label) to a\n\t * Punycode string of ASCII-only symbols.\n\t * @memberOf punycode\n\t * @param {String} input The string of Unicode symbols.\n\t * @returns {String} The resulting Punycode string of ASCII-only symbols.\n\t */\n\tfunction encode(input) {\n\t\tvar n,\n\t\t    delta,\n\t\t    handledCPCount,\n\t\t    basicLength,\n\t\t    bias,\n\t\t    j,\n\t\t    m,\n\t\t    q,\n\t\t    k,\n\t\t    t,\n\t\t    currentValue,\n\t\t    output = [],\n\t\t    /** `inputLength` will hold the number of code points in `input`. */\n\t\t    inputLength,\n\t\t    /** Cached calculation results */\n\t\t    handledCPCountPlusOne,\n\t\t    baseMinusT,\n\t\t    qMinusT;\n\n\t\t// Convert the input in UCS-2 to Unicode\n\t\tinput = ucs2decode(input);\n\n\t\t// Cache the length\n\t\tinputLength = input.length;\n\n\t\t// Initialize the state\n\t\tn = initialN;\n\t\tdelta = 0;\n\t\tbias = initialBias;\n\n\t\t// Handle the basic code points\n\t\tfor (j = 0; j < inputLength; ++j) {\n\t\t\tcurrentValue = input[j];\n\t\t\tif (currentValue < 0x80) {\n\t\t\t\toutput.push(stringFromCharCode(currentValue));\n\t\t\t}\n\t\t}\n\n\t\thandledCPCount = basicLength = output.length;\n\n\t\t// `handledCPCount` is the number of code points that have been handled;\n\t\t// `basicLength` is the number of basic code points.\n\n\t\t// Finish the basic string - if it is not empty - with a delimiter\n\t\tif (basicLength) {\n\t\t\toutput.push(delimiter);\n\t\t}\n\n\t\t// Main encoding loop:\n\t\twhile (handledCPCount < inputLength) {\n\n\t\t\t// All non-basic code points < n have been handled already. Find the next\n\t\t\t// larger one:\n\t\t\tfor (m = maxInt, j = 0; j < inputLength; ++j) {\n\t\t\t\tcurrentValue = input[j];\n\t\t\t\tif (currentValue >= n && currentValue < m) {\n\t\t\t\t\tm = currentValue;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Increase `delta` enough to advance the decoder's <n,i> state to <m,0>,\n\t\t\t// but guard against overflow\n\t\t\thandledCPCountPlusOne = handledCPCount + 1;\n\t\t\tif (m - n > floor((maxInt - delta) / handledCPCountPlusOne)) {\n\t\t\t\terror('overflow');\n\t\t\t}\n\n\t\t\tdelta += (m - n) * handledCPCountPlusOne;\n\t\t\tn = m;\n\n\t\t\tfor (j = 0; j < inputLength; ++j) {\n\t\t\t\tcurrentValue = input[j];\n\n\t\t\t\tif (currentValue < n && ++delta > maxInt) {\n\t\t\t\t\terror('overflow');\n\t\t\t\t}\n\n\t\t\t\tif (currentValue == n) {\n\t\t\t\t\t// Represent delta as a generalized variable-length integer\n\t\t\t\t\tfor (q = delta, k = base; /* no condition */; k += base) {\n\t\t\t\t\t\tt = k <= bias ? tMin : (k >= bias + tMax ? tMax : k - bias);\n\t\t\t\t\t\tif (q < t) {\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tqMinusT = q - t;\n\t\t\t\t\t\tbaseMinusT = base - t;\n\t\t\t\t\t\toutput.push(\n\t\t\t\t\t\t\tstringFromCharCode(digitToBasic(t + qMinusT % baseMinusT, 0))\n\t\t\t\t\t\t);\n\t\t\t\t\t\tq = floor(qMinusT / baseMinusT);\n\t\t\t\t\t}\n\n\t\t\t\t\toutput.push(stringFromCharCode(digitToBasic(q, 0)));\n\t\t\t\t\tbias = adapt(delta, handledCPCountPlusOne, handledCPCount == basicLength);\n\t\t\t\t\tdelta = 0;\n\t\t\t\t\t++handledCPCount;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t++delta;\n\t\t\t++n;\n\n\t\t}\n\t\treturn output.join('');\n\t}\n\n\t/**\n\t * Converts a Punycode string representing a domain name or an email address\n\t * to Unicode. Only the Punycoded parts of the input will be converted, i.e.\n\t * it doesn't matter if you call it on a string that has already been\n\t * converted to Unicode.\n\t * @memberOf punycode\n\t * @param {String} input The Punycoded domain name or email address to\n\t * convert to Unicode.\n\t * @returns {String} The Unicode representation of the given Punycode\n\t * string.\n\t */\n\tfunction toUnicode(input) {\n\t\treturn mapDomain(input, function(string) {\n\t\t\treturn regexPunycode.test(string)\n\t\t\t\t? decode(string.slice(4).toLowerCase())\n\t\t\t\t: string;\n\t\t});\n\t}\n\n\t/**\n\t * Converts a Unicode string representing a domain name or an email address to\n\t * Punycode. Only the non-ASCII parts of the domain name will be converted,\n\t * i.e. it doesn't matter if you call it with a domain that's already in\n\t * ASCII.\n\t * @memberOf punycode\n\t * @param {String} input The domain name or email address to convert, as a\n\t * Unicode string.\n\t * @returns {String} The Punycode representation of the given domain name or\n\t * email address.\n\t */\n\tfunction toASCII(input) {\n\t\treturn mapDomain(input, function(string) {\n\t\t\treturn regexNonASCII.test(string)\n\t\t\t\t? 'xn--' + encode(string)\n\t\t\t\t: string;\n\t\t});\n\t}\n\n\t/*--------------------------------------------------------------------------*/\n\n\t/** Define the public API */\n\tpunycode = {\n\t\t/**\n\t\t * A string representing the current Punycode.js version number.\n\t\t * @memberOf punycode\n\t\t * @type String\n\t\t */\n\t\t'version': '1.3.2',\n\t\t/**\n\t\t * An object of methods to convert from JavaScript's internal character\n\t\t * representation (UCS-2) to Unicode code points, and back.\n\t\t * @see <https://mathiasbynens.be/notes/javascript-encoding>\n\t\t * @memberOf punycode\n\t\t * @type Object\n\t\t */\n\t\t'ucs2': {\n\t\t\t'decode': ucs2decode,\n\t\t\t'encode': ucs2encode\n\t\t},\n\t\t'decode': decode,\n\t\t'encode': encode,\n\t\t'toASCII': toASCII,\n\t\t'toUnicode': toUnicode\n\t};\n\n\t/** Expose `punycode` */\n\t// Some AMD build optimizers, like r.js, check for specific condition patterns\n\t// like the following:\n\tif (\n\t\ttypeof define == 'function' &&\n\t\ttypeof define.amd == 'object' &&\n\t\tdefine.amd\n\t) {\n\t\tdefine('punycode', function() {\n\t\t\treturn punycode;\n\t\t});\n\t} else if (freeExports && freeModule) {\n\t\tif (module.exports == freeExports) { // in Node.js or RingoJS v0.8.0+\n\t\t\tfreeModule.exports = punycode;\n\t\t} else { // in Narwhal or RingoJS v0.7.0-\n\t\t\tfor (key in punycode) {\n\t\t\t\tpunycode.hasOwnProperty(key) && (freeExports[key] = punycode[key]);\n\t\t\t}\n\t\t}\n\t} else { // in Rhino or a web browser\n\t\troot.punycode = punycode;\n\t}\n\n}(this));\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\n// If obj.hasOwnProperty has been overridden, then calling\n// obj.hasOwnProperty(prop) will break.\n// See: https://github.com/joyent/node/issues/1707\nfunction hasOwnProperty(obj, prop) {\n  return Object.prototype.hasOwnProperty.call(obj, prop);\n}\n\nmodule.exports = function(qs, sep, eq, options) {\n  sep = sep || '&';\n  eq = eq || '=';\n  var obj = {};\n\n  if (typeof qs !== 'string' || qs.length === 0) {\n    return obj;\n  }\n\n  var regexp = /\\+/g;\n  qs = qs.split(sep);\n\n  var maxKeys = 1000;\n  if (options && typeof options.maxKeys === 'number') {\n    maxKeys = options.maxKeys;\n  }\n\n  var len = qs.length;\n  // maxKeys <= 0 means that we should not limit keys count\n  if (maxKeys > 0 && len > maxKeys) {\n    len = maxKeys;\n  }\n\n  for (var i = 0; i < len; ++i) {\n    var x = qs[i].replace(regexp, '%20'),\n        idx = x.indexOf(eq),\n        kstr, vstr, k, v;\n\n    if (idx >= 0) {\n      kstr = x.substr(0, idx);\n      vstr = x.substr(idx + 1);\n    } else {\n      kstr = x;\n      vstr = '';\n    }\n\n    k = decodeURIComponent(kstr);\n    v = decodeURIComponent(vstr);\n\n    if (!hasOwnProperty(obj, k)) {\n      obj[k] = v;\n    } else if (Array.isArray(obj[k])) {\n      obj[k].push(v);\n    } else {\n      obj[k] = [obj[k], v];\n    }\n  }\n\n  return obj;\n};\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\nvar stringifyPrimitive = function(v) {\n  switch (typeof v) {\n    case 'string':\n      return v;\n\n    case 'boolean':\n      return v ? 'true' : 'false';\n\n    case 'number':\n      return isFinite(v) ? v : '';\n\n    default:\n      return '';\n  }\n};\n\nmodule.exports = function(obj, sep, eq, name) {\n  sep = sep || '&';\n  eq = eq || '=';\n  if (obj === null) {\n    obj = undefined;\n  }\n\n  if (typeof obj === 'object') {\n    return Object.keys(obj).map(function(k) {\n      var ks = encodeURIComponent(stringifyPrimitive(k)) + eq;\n      if (Array.isArray(obj[k])) {\n        return obj[k].map(function(v) {\n          return ks + encodeURIComponent(stringifyPrimitive(v));\n        }).join(sep);\n      } else {\n        return ks + encodeURIComponent(stringifyPrimitive(obj[k]));\n      }\n    }).join(sep);\n\n  }\n\n  if (!name) return '';\n  return encodeURIComponent(stringifyPrimitive(name)) + eq +\n         encodeURIComponent(stringifyPrimitive(obj));\n};\n","'use strict';\n\nexports.decode = exports.parse = require('./decode');\nexports.encode = exports.stringify = require('./encode');\n","\"use strict\";\n\nvar stylesInDOM = [];\n\nfunction getIndexByIdentifier(identifier) {\n  var result = -1;\n\n  for (var i = 0; i < stylesInDOM.length; i++) {\n    if (stylesInDOM[i].identifier === identifier) {\n      result = i;\n      break;\n    }\n  }\n\n  return result;\n}\n\nfunction modulesToDom(list, options) {\n  var idCountMap = {};\n  var identifiers = [];\n\n  for (var i = 0; i < list.length; i++) {\n    var item = list[i];\n    var id = options.base ? item[0] + options.base : item[0];\n    var count = idCountMap[id] || 0;\n    var identifier = \"\".concat(id, \" \").concat(count);\n    idCountMap[id] = count + 1;\n    var indexByIdentifier = getIndexByIdentifier(identifier);\n    var obj = {\n      css: item[1],\n      media: item[2],\n      sourceMap: item[3],\n      supports: item[4],\n      layer: item[5]\n    };\n\n    if (indexByIdentifier !== -1) {\n      stylesInDOM[indexByIdentifier].references++;\n      stylesInDOM[indexByIdentifier].updater(obj);\n    } else {\n      var updater = addElementStyle(obj, options);\n      options.byIndex = i;\n      stylesInDOM.splice(i, 0, {\n        identifier: identifier,\n        updater: updater,\n        references: 1\n      });\n    }\n\n    identifiers.push(identifier);\n  }\n\n  return identifiers;\n}\n\nfunction addElementStyle(obj, options) {\n  var api = options.domAPI(options);\n  api.update(obj);\n\n  var updater = function updater(newObj) {\n    if (newObj) {\n      if (newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap && newObj.supports === obj.supports && newObj.layer === obj.layer) {\n        return;\n      }\n\n      api.update(obj = newObj);\n    } else {\n      api.remove();\n    }\n  };\n\n  return updater;\n}\n\nmodule.exports = function (list, options) {\n  options = options || {};\n  list = list || [];\n  var lastIdentifiers = modulesToDom(list, options);\n  return function update(newList) {\n    newList = newList || [];\n\n    for (var i = 0; i < lastIdentifiers.length; i++) {\n      var identifier = lastIdentifiers[i];\n      var index = getIndexByIdentifier(identifier);\n      stylesInDOM[index].references--;\n    }\n\n    var newLastIdentifiers = modulesToDom(newList, options);\n\n    for (var _i = 0; _i < lastIdentifiers.length; _i++) {\n      var _identifier = lastIdentifiers[_i];\n\n      var _index = getIndexByIdentifier(_identifier);\n\n      if (stylesInDOM[_index].references === 0) {\n        stylesInDOM[_index].updater();\n\n        stylesInDOM.splice(_index, 1);\n      }\n    }\n\n    lastIdentifiers = newLastIdentifiers;\n  };\n};","\"use strict\";\n\nvar memo = {};\n/* istanbul ignore next  */\n\nfunction getTarget(target) {\n  if (typeof memo[target] === \"undefined\") {\n    var styleTarget = document.querySelector(target); // Special case to return head of iframe instead of iframe itself\n\n    if (window.HTMLIFrameElement && styleTarget instanceof window.HTMLIFrameElement) {\n      try {\n        // This will throw an exception if access to iframe is blocked\n        // due to cross-origin restrictions\n        styleTarget = styleTarget.contentDocument.head;\n      } catch (e) {\n        // istanbul ignore next\n        styleTarget = null;\n      }\n    }\n\n    memo[target] = styleTarget;\n  }\n\n  return memo[target];\n}\n/* istanbul ignore next  */\n\n\nfunction insertBySelector(insert, style) {\n  var target = getTarget(insert);\n\n  if (!target) {\n    throw new Error(\"Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.\");\n  }\n\n  target.appendChild(style);\n}\n\nmodule.exports = insertBySelector;","\"use strict\";\n\n/* istanbul ignore next  */\nfunction insertStyleElement(options) {\n  var element = document.createElement(\"style\");\n  options.setAttributes(element, options.attributes);\n  options.insert(element, options.options);\n  return element;\n}\n\nmodule.exports = insertStyleElement;","\"use strict\";\n\n/* istanbul ignore next  */\nfunction setAttributesWithoutAttributes(styleElement) {\n  var nonce = typeof __webpack_nonce__ !== \"undefined\" ? __webpack_nonce__ : null;\n\n  if (nonce) {\n    styleElement.setAttribute(\"nonce\", nonce);\n  }\n}\n\nmodule.exports = setAttributesWithoutAttributes;","\"use strict\";\n\n/* istanbul ignore next  */\nfunction apply(styleElement, options, obj) {\n  var css = \"\";\n\n  if (obj.supports) {\n    css += \"@supports (\".concat(obj.supports, \") {\");\n  }\n\n  if (obj.media) {\n    css += \"@media \".concat(obj.media, \" {\");\n  }\n\n  var needLayer = typeof obj.layer !== \"undefined\";\n\n  if (needLayer) {\n    css += \"@layer\".concat(obj.layer.length > 0 ? \" \".concat(obj.layer) : \"\", \" {\");\n  }\n\n  css += obj.css;\n\n  if (needLayer) {\n    css += \"}\";\n  }\n\n  if (obj.media) {\n    css += \"}\";\n  }\n\n  if (obj.supports) {\n    css += \"}\";\n  }\n\n  var sourceMap = obj.sourceMap;\n\n  if (sourceMap && typeof btoa !== \"undefined\") {\n    css += \"\\n/*# sourceMappingURL=data:application/json;base64,\".concat(btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))), \" */\");\n  } // For old IE\n\n  /* istanbul ignore if  */\n\n\n  options.styleTagTransform(css, styleElement, options.options);\n}\n\nfunction removeStyleElement(styleElement) {\n  // istanbul ignore if\n  if (styleElement.parentNode === null) {\n    return false;\n  }\n\n  styleElement.parentNode.removeChild(styleElement);\n}\n/* istanbul ignore next  */\n\n\nfunction domAPI(options) {\n  var styleElement = options.insertStyleElement(options);\n  return {\n    update: function update(obj) {\n      apply(styleElement, options, obj);\n    },\n    remove: function remove() {\n      removeStyleElement(styleElement);\n    }\n  };\n}\n\nmodule.exports = domAPI;","\"use strict\";\n\n/* istanbul ignore next  */\nfunction styleTagTransform(css, styleElement) {\n  if (styleElement.styleSheet) {\n    styleElement.styleSheet.cssText = css;\n  } else {\n    while (styleElement.firstChild) {\n      styleElement.removeChild(styleElement.firstChild);\n    }\n\n    styleElement.appendChild(document.createTextNode(css));\n  }\n}\n\nmodule.exports = styleTagTransform;","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\nvar punycode = require('punycode');\nvar util = require('./util');\n\nexports.parse = urlParse;\nexports.resolve = urlResolve;\nexports.resolveObject = urlResolveObject;\nexports.format = urlFormat;\n\nexports.Url = Url;\n\nfunction Url() {\n  this.protocol = null;\n  this.slashes = null;\n  this.auth = null;\n  this.host = null;\n  this.port = null;\n  this.hostname = null;\n  this.hash = null;\n  this.search = null;\n  this.query = null;\n  this.pathname = null;\n  this.path = null;\n  this.href = null;\n}\n\n// Reference: RFC 3986, RFC 1808, RFC 2396\n\n// define these here so at least they only have to be\n// compiled once on the first module load.\nvar protocolPattern = /^([a-z0-9.+-]+:)/i,\n    portPattern = /:[0-9]*$/,\n\n    // Special case for a simple path URL\n    simplePathPattern = /^(\\/\\/?(?!\\/)[^\\?\\s]*)(\\?[^\\s]*)?$/,\n\n    // RFC 2396: characters reserved for delimiting URLs.\n    // We actually just auto-escape these.\n    delims = ['<', '>', '\"', '`', ' ', '\\r', '\\n', '\\t'],\n\n    // RFC 2396: characters not allowed for various reasons.\n    unwise = ['{', '}', '|', '\\\\', '^', '`'].concat(delims),\n\n    // Allowed by RFCs, but cause of XSS attacks.  Always escape these.\n    autoEscape = ['\\''].concat(unwise),\n    // Characters that are never ever allowed in a hostname.\n    // Note that any invalid chars are also handled, but these\n    // are the ones that are *expected* to be seen, so we fast-path\n    // them.\n    nonHostChars = ['%', '/', '?', ';', '#'].concat(autoEscape),\n    hostEndingChars = ['/', '?', '#'],\n    hostnameMaxLen = 255,\n    hostnamePartPattern = /^[+a-z0-9A-Z_-]{0,63}$/,\n    hostnamePartStart = /^([+a-z0-9A-Z_-]{0,63})(.*)$/,\n    // protocols that can allow \"unsafe\" and \"unwise\" chars.\n    unsafeProtocol = {\n      'javascript': true,\n      'javascript:': true\n    },\n    // protocols that never have a hostname.\n    hostlessProtocol = {\n      'javascript': true,\n      'javascript:': true\n    },\n    // protocols that always contain a // bit.\n    slashedProtocol = {\n      'http': true,\n      'https': true,\n      'ftp': true,\n      'gopher': true,\n      'file': true,\n      'http:': true,\n      'https:': true,\n      'ftp:': true,\n      'gopher:': true,\n      'file:': true\n    },\n    querystring = require('querystring');\n\nfunction urlParse(url, parseQueryString, slashesDenoteHost) {\n  if (url && util.isObject(url) && url instanceof Url) return url;\n\n  var u = new Url;\n  u.parse(url, parseQueryString, slashesDenoteHost);\n  return u;\n}\n\nUrl.prototype.parse = function(url, parseQueryString, slashesDenoteHost) {\n  if (!util.isString(url)) {\n    throw new TypeError(\"Parameter 'url' must be a string, not \" + typeof url);\n  }\n\n  // Copy chrome, IE, opera backslash-handling behavior.\n  // Back slashes before the query string get converted to forward slashes\n  // See: https://code.google.com/p/chromium/issues/detail?id=25916\n  var queryIndex = url.indexOf('?'),\n      splitter =\n          (queryIndex !== -1 && queryIndex < url.indexOf('#')) ? '?' : '#',\n      uSplit = url.split(splitter),\n      slashRegex = /\\\\/g;\n  uSplit[0] = uSplit[0].replace(slashRegex, '/');\n  url = uSplit.join(splitter);\n\n  var rest = url;\n\n  // trim before proceeding.\n  // This is to support parse stuff like \"  http://foo.com  \\n\"\n  rest = rest.trim();\n\n  if (!slashesDenoteHost && url.split('#').length === 1) {\n    // Try fast path regexp\n    var simplePath = simplePathPattern.exec(rest);\n    if (simplePath) {\n      this.path = rest;\n      this.href = rest;\n      this.pathname = simplePath[1];\n      if (simplePath[2]) {\n        this.search = simplePath[2];\n        if (parseQueryString) {\n          this.query = querystring.parse(this.search.substr(1));\n        } else {\n          this.query = this.search.substr(1);\n        }\n      } else if (parseQueryString) {\n        this.search = '';\n        this.query = {};\n      }\n      return this;\n    }\n  }\n\n  var proto = protocolPattern.exec(rest);\n  if (proto) {\n    proto = proto[0];\n    var lowerProto = proto.toLowerCase();\n    this.protocol = lowerProto;\n    rest = rest.substr(proto.length);\n  }\n\n  // figure out if it's got a host\n  // user@server is *always* interpreted as a hostname, and url\n  // resolution will treat //foo/bar as host=foo,path=bar because that's\n  // how the browser resolves relative URLs.\n  if (slashesDenoteHost || proto || rest.match(/^\\/\\/[^@\\/]+@[^@\\/]+/)) {\n    var slashes = rest.substr(0, 2) === '//';\n    if (slashes && !(proto && hostlessProtocol[proto])) {\n      rest = rest.substr(2);\n      this.slashes = true;\n    }\n  }\n\n  if (!hostlessProtocol[proto] &&\n      (slashes || (proto && !slashedProtocol[proto]))) {\n\n    // there's a hostname.\n    // the first instance of /, ?, ;, or # ends the host.\n    //\n    // If there is an @ in the hostname, then non-host chars *are* allowed\n    // to the left of the last @ sign, unless some host-ending character\n    // comes *before* the @-sign.\n    // URLs are obnoxious.\n    //\n    // ex:\n    // http://a@b@c/ => user:a@b host:c\n    // http://a@b?@c => user:a host:c path:/?@c\n\n    // v0.12 TODO(isaacs): This is not quite how Chrome does things.\n    // Review our test case against browsers more comprehensively.\n\n    // find the first instance of any hostEndingChars\n    var hostEnd = -1;\n    for (var i = 0; i < hostEndingChars.length; i++) {\n      var hec = rest.indexOf(hostEndingChars[i]);\n      if (hec !== -1 && (hostEnd === -1 || hec < hostEnd))\n        hostEnd = hec;\n    }\n\n    // at this point, either we have an explicit point where the\n    // auth portion cannot go past, or the last @ char is the decider.\n    var auth, atSign;\n    if (hostEnd === -1) {\n      // atSign can be anywhere.\n      atSign = rest.lastIndexOf('@');\n    } else {\n      // atSign must be in auth portion.\n      // http://a@b/c@d => host:b auth:a path:/c@d\n      atSign = rest.lastIndexOf('@', hostEnd);\n    }\n\n    // Now we have a portion which is definitely the auth.\n    // Pull that off.\n    if (atSign !== -1) {\n      auth = rest.slice(0, atSign);\n      rest = rest.slice(atSign + 1);\n      this.auth = decodeURIComponent(auth);\n    }\n\n    // the host is the remaining to the left of the first non-host char\n    hostEnd = -1;\n    for (var i = 0; i < nonHostChars.length; i++) {\n      var hec = rest.indexOf(nonHostChars[i]);\n      if (hec !== -1 && (hostEnd === -1 || hec < hostEnd))\n        hostEnd = hec;\n    }\n    // if we still have not hit it, then the entire thing is a host.\n    if (hostEnd === -1)\n      hostEnd = rest.length;\n\n    this.host = rest.slice(0, hostEnd);\n    rest = rest.slice(hostEnd);\n\n    // pull out port.\n    this.parseHost();\n\n    // we've indicated that there is a hostname,\n    // so even if it's empty, it has to be present.\n    this.hostname = this.hostname || '';\n\n    // if hostname begins with [ and ends with ]\n    // assume that it's an IPv6 address.\n    var ipv6Hostname = this.hostname[0] === '[' &&\n        this.hostname[this.hostname.length - 1] === ']';\n\n    // validate a little.\n    if (!ipv6Hostname) {\n      var hostparts = this.hostname.split(/\\./);\n      for (var i = 0, l = hostparts.length; i < l; i++) {\n        var part = hostparts[i];\n        if (!part) continue;\n        if (!part.match(hostnamePartPattern)) {\n          var newpart = '';\n          for (var j = 0, k = part.length; j < k; j++) {\n            if (part.charCodeAt(j) > 127) {\n              // we replace non-ASCII char with a temporary placeholder\n              // we need this to make sure size of hostname is not\n              // broken by replacing non-ASCII by nothing\n              newpart += 'x';\n            } else {\n              newpart += part[j];\n            }\n          }\n          // we test again with ASCII char only\n          if (!newpart.match(hostnamePartPattern)) {\n            var validParts = hostparts.slice(0, i);\n            var notHost = hostparts.slice(i + 1);\n            var bit = part.match(hostnamePartStart);\n            if (bit) {\n              validParts.push(bit[1]);\n              notHost.unshift(bit[2]);\n            }\n            if (notHost.length) {\n              rest = '/' + notHost.join('.') + rest;\n            }\n            this.hostname = validParts.join('.');\n            break;\n          }\n        }\n      }\n    }\n\n    if (this.hostname.length > hostnameMaxLen) {\n      this.hostname = '';\n    } else {\n      // hostnames are always lower case.\n      this.hostname = this.hostname.toLowerCase();\n    }\n\n    if (!ipv6Hostname) {\n      // IDNA Support: Returns a punycoded representation of \"domain\".\n      // It only converts parts of the domain name that\n      // have non-ASCII characters, i.e. it doesn't matter if\n      // you call it with a domain that already is ASCII-only.\n      this.hostname = punycode.toASCII(this.hostname);\n    }\n\n    var p = this.port ? ':' + this.port : '';\n    var h = this.hostname || '';\n    this.host = h + p;\n    this.href += this.host;\n\n    // strip [ and ] from the hostname\n    // the host field still retains them, though\n    if (ipv6Hostname) {\n      this.hostname = this.hostname.substr(1, this.hostname.length - 2);\n      if (rest[0] !== '/') {\n        rest = '/' + rest;\n      }\n    }\n  }\n\n  // now rest is set to the post-host stuff.\n  // chop off any delim chars.\n  if (!unsafeProtocol[lowerProto]) {\n\n    // First, make 100% sure that any \"autoEscape\" chars get\n    // escaped, even if encodeURIComponent doesn't think they\n    // need to be.\n    for (var i = 0, l = autoEscape.length; i < l; i++) {\n      var ae = autoEscape[i];\n      if (rest.indexOf(ae) === -1)\n        continue;\n      var esc = encodeURIComponent(ae);\n      if (esc === ae) {\n        esc = escape(ae);\n      }\n      rest = rest.split(ae).join(esc);\n    }\n  }\n\n\n  // chop off from the tail first.\n  var hash = rest.indexOf('#');\n  if (hash !== -1) {\n    // got a fragment string.\n    this.hash = rest.substr(hash);\n    rest = rest.slice(0, hash);\n  }\n  var qm = rest.indexOf('?');\n  if (qm !== -1) {\n    this.search = rest.substr(qm);\n    this.query = rest.substr(qm + 1);\n    if (parseQueryString) {\n      this.query = querystring.parse(this.query);\n    }\n    rest = rest.slice(0, qm);\n  } else if (parseQueryString) {\n    // no query string, but parseQueryString still requested\n    this.search = '';\n    this.query = {};\n  }\n  if (rest) this.pathname = rest;\n  if (slashedProtocol[lowerProto] &&\n      this.hostname && !this.pathname) {\n    this.pathname = '/';\n  }\n\n  //to support http.request\n  if (this.pathname || this.search) {\n    var p = this.pathname || '';\n    var s = this.search || '';\n    this.path = p + s;\n  }\n\n  // finally, reconstruct the href based on what has been validated.\n  this.href = this.format();\n  return this;\n};\n\n// format a parsed object into a url string\nfunction urlFormat(obj) {\n  // ensure it's an object, and not a string url.\n  // If it's an obj, this is a no-op.\n  // this way, you can call url_format() on strings\n  // to clean up potentially wonky urls.\n  if (util.isString(obj)) obj = urlParse(obj);\n  if (!(obj instanceof Url)) return Url.prototype.format.call(obj);\n  return obj.format();\n}\n\nUrl.prototype.format = function() {\n  var auth = this.auth || '';\n  if (auth) {\n    auth = encodeURIComponent(auth);\n    auth = auth.replace(/%3A/i, ':');\n    auth += '@';\n  }\n\n  var protocol = this.protocol || '',\n      pathname = this.pathname || '',\n      hash = this.hash || '',\n      host = false,\n      query = '';\n\n  if (this.host) {\n    host = auth + this.host;\n  } else if (this.hostname) {\n    host = auth + (this.hostname.indexOf(':') === -1 ?\n        this.hostname :\n        '[' + this.hostname + ']');\n    if (this.port) {\n      host += ':' + this.port;\n    }\n  }\n\n  if (this.query &&\n      util.isObject(this.query) &&\n      Object.keys(this.query).length) {\n    query = querystring.stringify(this.query);\n  }\n\n  var search = this.search || (query && ('?' + query)) || '';\n\n  if (protocol && protocol.substr(-1) !== ':') protocol += ':';\n\n  // only the slashedProtocols get the //.  Not mailto:, xmpp:, etc.\n  // unless they had them to begin with.\n  if (this.slashes ||\n      (!protocol || slashedProtocol[protocol]) && host !== false) {\n    host = '//' + (host || '');\n    if (pathname && pathname.charAt(0) !== '/') pathname = '/' + pathname;\n  } else if (!host) {\n    host = '';\n  }\n\n  if (hash && hash.charAt(0) !== '#') hash = '#' + hash;\n  if (search && search.charAt(0) !== '?') search = '?' + search;\n\n  pathname = pathname.replace(/[?#]/g, function(match) {\n    return encodeURIComponent(match);\n  });\n  search = search.replace('#', '%23');\n\n  return protocol + host + pathname + search + hash;\n};\n\nfunction urlResolve(source, relative) {\n  return urlParse(source, false, true).resolve(relative);\n}\n\nUrl.prototype.resolve = function(relative) {\n  return this.resolveObject(urlParse(relative, false, true)).format();\n};\n\nfunction urlResolveObject(source, relative) {\n  if (!source) return relative;\n  return urlParse(source, false, true).resolveObject(relative);\n}\n\nUrl.prototype.resolveObject = function(relative) {\n  if (util.isString(relative)) {\n    var rel = new Url();\n    rel.parse(relative, false, true);\n    relative = rel;\n  }\n\n  var result = new Url();\n  var tkeys = Object.keys(this);\n  for (var tk = 0; tk < tkeys.length; tk++) {\n    var tkey = tkeys[tk];\n    result[tkey] = this[tkey];\n  }\n\n  // hash is always overridden, no matter what.\n  // even href=\"\" will remove it.\n  result.hash = relative.hash;\n\n  // if the relative url is empty, then there's nothing left to do here.\n  if (relative.href === '') {\n    result.href = result.format();\n    return result;\n  }\n\n  // hrefs like //foo/bar always cut to the protocol.\n  if (relative.slashes && !relative.protocol) {\n    // take everything except the protocol from relative\n    var rkeys = Object.keys(relative);\n    for (var rk = 0; rk < rkeys.length; rk++) {\n      var rkey = rkeys[rk];\n      if (rkey !== 'protocol')\n        result[rkey] = relative[rkey];\n    }\n\n    //urlParse appends trailing / to urls like http://www.example.com\n    if (slashedProtocol[result.protocol] &&\n        result.hostname && !result.pathname) {\n      result.path = result.pathname = '/';\n    }\n\n    result.href = result.format();\n    return result;\n  }\n\n  if (relative.protocol && relative.protocol !== result.protocol) {\n    // if it's a known url protocol, then changing\n    // the protocol does weird things\n    // first, if it's not file:, then we MUST have a host,\n    // and if there was a path\n    // to begin with, then we MUST have a path.\n    // if it is file:, then the host is dropped,\n    // because that's known to be hostless.\n    // anything else is assumed to be absolute.\n    if (!slashedProtocol[relative.protocol]) {\n      var keys = Object.keys(relative);\n      for (var v = 0; v < keys.length; v++) {\n        var k = keys[v];\n        result[k] = relative[k];\n      }\n      result.href = result.format();\n      return result;\n    }\n\n    result.protocol = relative.protocol;\n    if (!relative.host && !hostlessProtocol[relative.protocol]) {\n      var relPath = (relative.pathname || '').split('/');\n      while (relPath.length && !(relative.host = relPath.shift()));\n      if (!relative.host) relative.host = '';\n      if (!relative.hostname) relative.hostname = '';\n      if (relPath[0] !== '') relPath.unshift('');\n      if (relPath.length < 2) relPath.unshift('');\n      result.pathname = relPath.join('/');\n    } else {\n      result.pathname = relative.pathname;\n    }\n    result.search = relative.search;\n    result.query = relative.query;\n    result.host = relative.host || '';\n    result.auth = relative.auth;\n    result.hostname = relative.hostname || relative.host;\n    result.port = relative.port;\n    // to support http.request\n    if (result.pathname || result.search) {\n      var p = result.pathname || '';\n      var s = result.search || '';\n      result.path = p + s;\n    }\n    result.slashes = result.slashes || relative.slashes;\n    result.href = result.format();\n    return result;\n  }\n\n  var isSourceAbs = (result.pathname && result.pathname.charAt(0) === '/'),\n      isRelAbs = (\n          relative.host ||\n          relative.pathname && relative.pathname.charAt(0) === '/'\n      ),\n      mustEndAbs = (isRelAbs || isSourceAbs ||\n                    (result.host && relative.pathname)),\n      removeAllDots = mustEndAbs,\n      srcPath = result.pathname && result.pathname.split('/') || [],\n      relPath = relative.pathname && relative.pathname.split('/') || [],\n      psychotic = result.protocol && !slashedProtocol[result.protocol];\n\n  // if the url is a non-slashed url, then relative\n  // links like ../.. should be able\n  // to crawl up to the hostname, as well.  This is strange.\n  // result.protocol has already been set by now.\n  // Later on, put the first path part into the host field.\n  if (psychotic) {\n    result.hostname = '';\n    result.port = null;\n    if (result.host) {\n      if (srcPath[0] === '') srcPath[0] = result.host;\n      else srcPath.unshift(result.host);\n    }\n    result.host = '';\n    if (relative.protocol) {\n      relative.hostname = null;\n      relative.port = null;\n      if (relative.host) {\n        if (relPath[0] === '') relPath[0] = relative.host;\n        else relPath.unshift(relative.host);\n      }\n      relative.host = null;\n    }\n    mustEndAbs = mustEndAbs && (relPath[0] === '' || srcPath[0] === '');\n  }\n\n  if (isRelAbs) {\n    // it's absolute.\n    result.host = (relative.host || relative.host === '') ?\n                  relative.host : result.host;\n    result.hostname = (relative.hostname || relative.hostname === '') ?\n                      relative.hostname : result.hostname;\n    result.search = relative.search;\n    result.query = relative.query;\n    srcPath = relPath;\n    // fall through to the dot-handling below.\n  } else if (relPath.length) {\n    // it's relative\n    // throw away the existing file, and take the new path instead.\n    if (!srcPath) srcPath = [];\n    srcPath.pop();\n    srcPath = srcPath.concat(relPath);\n    result.search = relative.search;\n    result.query = relative.query;\n  } else if (!util.isNullOrUndefined(relative.search)) {\n    // just pull out the search.\n    // like href='?foo'.\n    // Put this after the other two cases because it simplifies the booleans\n    if (psychotic) {\n      result.hostname = result.host = srcPath.shift();\n      //occationaly the auth can get stuck only in host\n      //this especially happens in cases like\n      //url.resolveObject('mailto:local1@domain1', 'local2@domain2')\n      var authInHost = result.host && result.host.indexOf('@') > 0 ?\n                       result.host.split('@') : false;\n      if (authInHost) {\n        result.auth = authInHost.shift();\n        result.host = result.hostname = authInHost.shift();\n      }\n    }\n    result.search = relative.search;\n    result.query = relative.query;\n    //to support http.request\n    if (!util.isNull(result.pathname) || !util.isNull(result.search)) {\n      result.path = (result.pathname ? result.pathname : '') +\n                    (result.search ? result.search : '');\n    }\n    result.href = result.format();\n    return result;\n  }\n\n  if (!srcPath.length) {\n    // no path at all.  easy.\n    // we've already handled the other stuff above.\n    result.pathname = null;\n    //to support http.request\n    if (result.search) {\n      result.path = '/' + result.search;\n    } else {\n      result.path = null;\n    }\n    result.href = result.format();\n    return result;\n  }\n\n  // if a url ENDs in . or .., then it must get a trailing slash.\n  // however, if it ends in anything else non-slashy,\n  // then it must NOT get a trailing slash.\n  var last = srcPath.slice(-1)[0];\n  var hasTrailingSlash = (\n      (result.host || relative.host || srcPath.length > 1) &&\n      (last === '.' || last === '..') || last === '');\n\n  // strip single dots, resolve double dots to parent dir\n  // if the path tries to go above the root, `up` ends up > 0\n  var up = 0;\n  for (var i = srcPath.length; i >= 0; i--) {\n    last = srcPath[i];\n    if (last === '.') {\n      srcPath.splice(i, 1);\n    } else if (last === '..') {\n      srcPath.splice(i, 1);\n      up++;\n    } else if (up) {\n      srcPath.splice(i, 1);\n      up--;\n    }\n  }\n\n  // if the path is allowed to go above the root, restore leading ..s\n  if (!mustEndAbs && !removeAllDots) {\n    for (; up--; up) {\n      srcPath.unshift('..');\n    }\n  }\n\n  if (mustEndAbs && srcPath[0] !== '' &&\n      (!srcPath[0] || srcPath[0].charAt(0) !== '/')) {\n    srcPath.unshift('');\n  }\n\n  if (hasTrailingSlash && (srcPath.join('/').substr(-1) !== '/')) {\n    srcPath.push('');\n  }\n\n  var isAbsolute = srcPath[0] === '' ||\n      (srcPath[0] && srcPath[0].charAt(0) === '/');\n\n  // put the host back\n  if (psychotic) {\n    result.hostname = result.host = isAbsolute ? '' :\n                                    srcPath.length ? srcPath.shift() : '';\n    //occationaly the auth can get stuck only in host\n    //this especially happens in cases like\n    //url.resolveObject('mailto:local1@domain1', 'local2@domain2')\n    var authInHost = result.host && result.host.indexOf('@') > 0 ?\n                     result.host.split('@') : false;\n    if (authInHost) {\n      result.auth = authInHost.shift();\n      result.host = result.hostname = authInHost.shift();\n    }\n  }\n\n  mustEndAbs = mustEndAbs || (result.host && srcPath.length);\n\n  if (mustEndAbs && !isAbsolute) {\n    srcPath.unshift('');\n  }\n\n  if (!srcPath.length) {\n    result.pathname = null;\n    result.path = null;\n  } else {\n    result.pathname = srcPath.join('/');\n  }\n\n  //to support request.http\n  if (!util.isNull(result.pathname) || !util.isNull(result.search)) {\n    result.path = (result.pathname ? result.pathname : '') +\n                  (result.search ? result.search : '');\n  }\n  result.auth = relative.auth || result.auth;\n  result.slashes = result.slashes || relative.slashes;\n  result.href = result.format();\n  return result;\n};\n\nUrl.prototype.parseHost = function() {\n  var host = this.host;\n  var port = portPattern.exec(host);\n  if (port) {\n    port = port[0];\n    if (port !== ':') {\n      this.port = port.substr(1);\n    }\n    host = host.substr(0, host.length - port.length);\n  }\n  if (host) this.hostname = host;\n};\n","'use strict';\n\nmodule.exports = {\n  isString: function(arg) {\n    return typeof(arg) === 'string';\n  },\n  isObject: function(arg) {\n    return typeof(arg) === 'object' && arg !== null;\n  },\n  isNull: function(arg) {\n    return arg === null;\n  },\n  isNullOrUndefined: function(arg) {\n    return arg == null;\n  }\n};\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\tloaded: false,\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Flag the module as loaded\n\tmodule.loaded = true;\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.nmd = (module) => {\n\tmodule.paths = [];\n\tif (!module.children) module.children = [];\n\treturn module;\n};","var scriptUrl;\nif (__webpack_require__.g.importScripts) scriptUrl = __webpack_require__.g.location + \"\";\nvar document = __webpack_require__.g.document;\nif (!scriptUrl && document) {\n\tif (document.currentScript)\n\t\tscriptUrl = document.currentScript.src\n\tif (!scriptUrl) {\n\t\tvar scripts = document.getElementsByTagName(\"script\");\n\t\tif(scripts.length) scriptUrl = scripts[scripts.length - 1].src\n\t}\n}\n// When supporting browsers where an automatic publicPath is not supported you must specify an output.publicPath manually via configuration\n// or pass an empty string (\"\") and set the __webpack_public_path__ variable from your code to use your own logic.\nif (!scriptUrl) throw new Error(\"Automatic publicPath is not supported in this browser\");\nscriptUrl = scriptUrl.replace(/#.*$/, \"\").replace(/\\?.*$/, \"\").replace(/\\/[^\\/]+$/, \"/\");\n__webpack_require__.p = scriptUrl;","__webpack_require__.nc = undefined;","var ENV = /* @__PURE__ */ ((ENV2) => {\n  ENV2[ENV2[\"WEBGL_LEGACY\"] = 0] = \"WEBGL_LEGACY\";\n  ENV2[ENV2[\"WEBGL\"] = 1] = \"WEBGL\";\n  ENV2[ENV2[\"WEBGL2\"] = 2] = \"WEBGL2\";\n  return ENV2;\n})(ENV || {});\nvar RENDERER_TYPE = /* @__PURE__ */ ((RENDERER_TYPE2) => {\n  RENDERER_TYPE2[RENDERER_TYPE2[\"UNKNOWN\"] = 0] = \"UNKNOWN\";\n  RENDERER_TYPE2[RENDERER_TYPE2[\"WEBGL\"] = 1] = \"WEBGL\";\n  RENDERER_TYPE2[RENDERER_TYPE2[\"CANVAS\"] = 2] = \"CANVAS\";\n  return RENDERER_TYPE2;\n})(RENDERER_TYPE || {});\nvar BUFFER_BITS = /* @__PURE__ */ ((BUFFER_BITS2) => {\n  BUFFER_BITS2[BUFFER_BITS2[\"COLOR\"] = 16384] = \"COLOR\";\n  BUFFER_BITS2[BUFFER_BITS2[\"DEPTH\"] = 256] = \"DEPTH\";\n  BUFFER_BITS2[BUFFER_BITS2[\"STENCIL\"] = 1024] = \"STENCIL\";\n  return BUFFER_BITS2;\n})(BUFFER_BITS || {});\nvar BLEND_MODES = /* @__PURE__ */ ((BLEND_MODES2) => {\n  BLEND_MODES2[BLEND_MODES2[\"NORMAL\"] = 0] = \"NORMAL\";\n  BLEND_MODES2[BLEND_MODES2[\"ADD\"] = 1] = \"ADD\";\n  BLEND_MODES2[BLEND_MODES2[\"MULTIPLY\"] = 2] = \"MULTIPLY\";\n  BLEND_MODES2[BLEND_MODES2[\"SCREEN\"] = 3] = \"SCREEN\";\n  BLEND_MODES2[BLEND_MODES2[\"OVERLAY\"] = 4] = \"OVERLAY\";\n  BLEND_MODES2[BLEND_MODES2[\"DARKEN\"] = 5] = \"DARKEN\";\n  BLEND_MODES2[BLEND_MODES2[\"LIGHTEN\"] = 6] = \"LIGHTEN\";\n  BLEND_MODES2[BLEND_MODES2[\"COLOR_DODGE\"] = 7] = \"COLOR_DODGE\";\n  BLEND_MODES2[BLEND_MODES2[\"COLOR_BURN\"] = 8] = \"COLOR_BURN\";\n  BLEND_MODES2[BLEND_MODES2[\"HARD_LIGHT\"] = 9] = \"HARD_LIGHT\";\n  BLEND_MODES2[BLEND_MODES2[\"SOFT_LIGHT\"] = 10] = \"SOFT_LIGHT\";\n  BLEND_MODES2[BLEND_MODES2[\"DIFFERENCE\"] = 11] = \"DIFFERENCE\";\n  BLEND_MODES2[BLEND_MODES2[\"EXCLUSION\"] = 12] = \"EXCLUSION\";\n  BLEND_MODES2[BLEND_MODES2[\"HUE\"] = 13] = \"HUE\";\n  BLEND_MODES2[BLEND_MODES2[\"SATURATION\"] = 14] = \"SATURATION\";\n  BLEND_MODES2[BLEND_MODES2[\"COLOR\"] = 15] = \"COLOR\";\n  BLEND_MODES2[BLEND_MODES2[\"LUMINOSITY\"] = 16] = \"LUMINOSITY\";\n  BLEND_MODES2[BLEND_MODES2[\"NORMAL_NPM\"] = 17] = \"NORMAL_NPM\";\n  BLEND_MODES2[BLEND_MODES2[\"ADD_NPM\"] = 18] = \"ADD_NPM\";\n  BLEND_MODES2[BLEND_MODES2[\"SCREEN_NPM\"] = 19] = \"SCREEN_NPM\";\n  BLEND_MODES2[BLEND_MODES2[\"NONE\"] = 20] = \"NONE\";\n  BLEND_MODES2[BLEND_MODES2[\"SRC_OVER\"] = 0] = \"SRC_OVER\";\n  BLEND_MODES2[BLEND_MODES2[\"SRC_IN\"] = 21] = \"SRC_IN\";\n  BLEND_MODES2[BLEND_MODES2[\"SRC_OUT\"] = 22] = \"SRC_OUT\";\n  BLEND_MODES2[BLEND_MODES2[\"SRC_ATOP\"] = 23] = \"SRC_ATOP\";\n  BLEND_MODES2[BLEND_MODES2[\"DST_OVER\"] = 24] = \"DST_OVER\";\n  BLEND_MODES2[BLEND_MODES2[\"DST_IN\"] = 25] = \"DST_IN\";\n  BLEND_MODES2[BLEND_MODES2[\"DST_OUT\"] = 26] = \"DST_OUT\";\n  BLEND_MODES2[BLEND_MODES2[\"DST_ATOP\"] = 27] = \"DST_ATOP\";\n  BLEND_MODES2[BLEND_MODES2[\"ERASE\"] = 26] = \"ERASE\";\n  BLEND_MODES2[BLEND_MODES2[\"SUBTRACT\"] = 28] = \"SUBTRACT\";\n  BLEND_MODES2[BLEND_MODES2[\"XOR\"] = 29] = \"XOR\";\n  return BLEND_MODES2;\n})(BLEND_MODES || {});\nvar DRAW_MODES = /* @__PURE__ */ ((DRAW_MODES2) => {\n  DRAW_MODES2[DRAW_MODES2[\"POINTS\"] = 0] = \"POINTS\";\n  DRAW_MODES2[DRAW_MODES2[\"LINES\"] = 1] = \"LINES\";\n  DRAW_MODES2[DRAW_MODES2[\"LINE_LOOP\"] = 2] = \"LINE_LOOP\";\n  DRAW_MODES2[DRAW_MODES2[\"LINE_STRIP\"] = 3] = \"LINE_STRIP\";\n  DRAW_MODES2[DRAW_MODES2[\"TRIANGLES\"] = 4] = \"TRIANGLES\";\n  DRAW_MODES2[DRAW_MODES2[\"TRIANGLE_STRIP\"] = 5] = \"TRIANGLE_STRIP\";\n  DRAW_MODES2[DRAW_MODES2[\"TRIANGLE_FAN\"] = 6] = \"TRIANGLE_FAN\";\n  return DRAW_MODES2;\n})(DRAW_MODES || {});\nvar FORMATS = /* @__PURE__ */ ((FORMATS2) => {\n  FORMATS2[FORMATS2[\"RGBA\"] = 6408] = \"RGBA\";\n  FORMATS2[FORMATS2[\"RGB\"] = 6407] = \"RGB\";\n  FORMATS2[FORMATS2[\"RG\"] = 33319] = \"RG\";\n  FORMATS2[FORMATS2[\"RED\"] = 6403] = \"RED\";\n  FORMATS2[FORMATS2[\"RGBA_INTEGER\"] = 36249] = \"RGBA_INTEGER\";\n  FORMATS2[FORMATS2[\"RGB_INTEGER\"] = 36248] = \"RGB_INTEGER\";\n  FORMATS2[FORMATS2[\"RG_INTEGER\"] = 33320] = \"RG_INTEGER\";\n  FORMATS2[FORMATS2[\"RED_INTEGER\"] = 36244] = \"RED_INTEGER\";\n  FORMATS2[FORMATS2[\"ALPHA\"] = 6406] = \"ALPHA\";\n  FORMATS2[FORMATS2[\"LUMINANCE\"] = 6409] = \"LUMINANCE\";\n  FORMATS2[FORMATS2[\"LUMINANCE_ALPHA\"] = 6410] = \"LUMINANCE_ALPHA\";\n  FORMATS2[FORMATS2[\"DEPTH_COMPONENT\"] = 6402] = \"DEPTH_COMPONENT\";\n  FORMATS2[FORMATS2[\"DEPTH_STENCIL\"] = 34041] = \"DEPTH_STENCIL\";\n  return FORMATS2;\n})(FORMATS || {});\nvar TARGETS = /* @__PURE__ */ ((TARGETS2) => {\n  TARGETS2[TARGETS2[\"TEXTURE_2D\"] = 3553] = \"TEXTURE_2D\";\n  TARGETS2[TARGETS2[\"TEXTURE_CUBE_MAP\"] = 34067] = \"TEXTURE_CUBE_MAP\";\n  TARGETS2[TARGETS2[\"TEXTURE_2D_ARRAY\"] = 35866] = \"TEXTURE_2D_ARRAY\";\n  TARGETS2[TARGETS2[\"TEXTURE_CUBE_MAP_POSITIVE_X\"] = 34069] = \"TEXTURE_CUBE_MAP_POSITIVE_X\";\n  TARGETS2[TARGETS2[\"TEXTURE_CUBE_MAP_NEGATIVE_X\"] = 34070] = \"TEXTURE_CUBE_MAP_NEGATIVE_X\";\n  TARGETS2[TARGETS2[\"TEXTURE_CUBE_MAP_POSITIVE_Y\"] = 34071] = \"TEXTURE_CUBE_MAP_POSITIVE_Y\";\n  TARGETS2[TARGETS2[\"TEXTURE_CUBE_MAP_NEGATIVE_Y\"] = 34072] = \"TEXTURE_CUBE_MAP_NEGATIVE_Y\";\n  TARGETS2[TARGETS2[\"TEXTURE_CUBE_MAP_POSITIVE_Z\"] = 34073] = \"TEXTURE_CUBE_MAP_POSITIVE_Z\";\n  TARGETS2[TARGETS2[\"TEXTURE_CUBE_MAP_NEGATIVE_Z\"] = 34074] = \"TEXTURE_CUBE_MAP_NEGATIVE_Z\";\n  return TARGETS2;\n})(TARGETS || {});\nvar TYPES = /* @__PURE__ */ ((TYPES2) => {\n  TYPES2[TYPES2[\"UNSIGNED_BYTE\"] = 5121] = \"UNSIGNED_BYTE\";\n  TYPES2[TYPES2[\"UNSIGNED_SHORT\"] = 5123] = \"UNSIGNED_SHORT\";\n  TYPES2[TYPES2[\"UNSIGNED_SHORT_5_6_5\"] = 33635] = \"UNSIGNED_SHORT_5_6_5\";\n  TYPES2[TYPES2[\"UNSIGNED_SHORT_4_4_4_4\"] = 32819] = \"UNSIGNED_SHORT_4_4_4_4\";\n  TYPES2[TYPES2[\"UNSIGNED_SHORT_5_5_5_1\"] = 32820] = \"UNSIGNED_SHORT_5_5_5_1\";\n  TYPES2[TYPES2[\"UNSIGNED_INT\"] = 5125] = \"UNSIGNED_INT\";\n  TYPES2[TYPES2[\"UNSIGNED_INT_10F_11F_11F_REV\"] = 35899] = \"UNSIGNED_INT_10F_11F_11F_REV\";\n  TYPES2[TYPES2[\"UNSIGNED_INT_2_10_10_10_REV\"] = 33640] = \"UNSIGNED_INT_2_10_10_10_REV\";\n  TYPES2[TYPES2[\"UNSIGNED_INT_24_8\"] = 34042] = \"UNSIGNED_INT_24_8\";\n  TYPES2[TYPES2[\"UNSIGNED_INT_5_9_9_9_REV\"] = 35902] = \"UNSIGNED_INT_5_9_9_9_REV\";\n  TYPES2[TYPES2[\"BYTE\"] = 5120] = \"BYTE\";\n  TYPES2[TYPES2[\"SHORT\"] = 5122] = \"SHORT\";\n  TYPES2[TYPES2[\"INT\"] = 5124] = \"INT\";\n  TYPES2[TYPES2[\"FLOAT\"] = 5126] = \"FLOAT\";\n  TYPES2[TYPES2[\"FLOAT_32_UNSIGNED_INT_24_8_REV\"] = 36269] = \"FLOAT_32_UNSIGNED_INT_24_8_REV\";\n  TYPES2[TYPES2[\"HALF_FLOAT\"] = 36193] = \"HALF_FLOAT\";\n  return TYPES2;\n})(TYPES || {});\nvar SAMPLER_TYPES = /* @__PURE__ */ ((SAMPLER_TYPES2) => {\n  SAMPLER_TYPES2[SAMPLER_TYPES2[\"FLOAT\"] = 0] = \"FLOAT\";\n  SAMPLER_TYPES2[SAMPLER_TYPES2[\"INT\"] = 1] = \"INT\";\n  SAMPLER_TYPES2[SAMPLER_TYPES2[\"UINT\"] = 2] = \"UINT\";\n  return SAMPLER_TYPES2;\n})(SAMPLER_TYPES || {});\nvar SCALE_MODES = /* @__PURE__ */ ((SCALE_MODES2) => {\n  SCALE_MODES2[SCALE_MODES2[\"NEAREST\"] = 0] = \"NEAREST\";\n  SCALE_MODES2[SCALE_MODES2[\"LINEAR\"] = 1] = \"LINEAR\";\n  return SCALE_MODES2;\n})(SCALE_MODES || {});\nvar WRAP_MODES = /* @__PURE__ */ ((WRAP_MODES2) => {\n  WRAP_MODES2[WRAP_MODES2[\"CLAMP\"] = 33071] = \"CLAMP\";\n  WRAP_MODES2[WRAP_MODES2[\"REPEAT\"] = 10497] = \"REPEAT\";\n  WRAP_MODES2[WRAP_MODES2[\"MIRRORED_REPEAT\"] = 33648] = \"MIRRORED_REPEAT\";\n  return WRAP_MODES2;\n})(WRAP_MODES || {});\nvar MIPMAP_MODES = /* @__PURE__ */ ((MIPMAP_MODES2) => {\n  MIPMAP_MODES2[MIPMAP_MODES2[\"OFF\"] = 0] = \"OFF\";\n  MIPMAP_MODES2[MIPMAP_MODES2[\"POW2\"] = 1] = \"POW2\";\n  MIPMAP_MODES2[MIPMAP_MODES2[\"ON\"] = 2] = \"ON\";\n  MIPMAP_MODES2[MIPMAP_MODES2[\"ON_MANUAL\"] = 3] = \"ON_MANUAL\";\n  return MIPMAP_MODES2;\n})(MIPMAP_MODES || {});\nvar ALPHA_MODES = /* @__PURE__ */ ((ALPHA_MODES2) => {\n  ALPHA_MODES2[ALPHA_MODES2[\"NPM\"] = 0] = \"NPM\";\n  ALPHA_MODES2[ALPHA_MODES2[\"UNPACK\"] = 1] = \"UNPACK\";\n  ALPHA_MODES2[ALPHA_MODES2[\"PMA\"] = 2] = \"PMA\";\n  ALPHA_MODES2[ALPHA_MODES2[\"NO_PREMULTIPLIED_ALPHA\"] = 0] = \"NO_PREMULTIPLIED_ALPHA\";\n  ALPHA_MODES2[ALPHA_MODES2[\"PREMULTIPLY_ON_UPLOAD\"] = 1] = \"PREMULTIPLY_ON_UPLOAD\";\n  ALPHA_MODES2[ALPHA_MODES2[\"PREMULTIPLIED_ALPHA\"] = 2] = \"PREMULTIPLIED_ALPHA\";\n  return ALPHA_MODES2;\n})(ALPHA_MODES || {});\nvar CLEAR_MODES = /* @__PURE__ */ ((CLEAR_MODES2) => {\n  CLEAR_MODES2[CLEAR_MODES2[\"NO\"] = 0] = \"NO\";\n  CLEAR_MODES2[CLEAR_MODES2[\"YES\"] = 1] = \"YES\";\n  CLEAR_MODES2[CLEAR_MODES2[\"AUTO\"] = 2] = \"AUTO\";\n  CLEAR_MODES2[CLEAR_MODES2[\"BLEND\"] = 0] = \"BLEND\";\n  CLEAR_MODES2[CLEAR_MODES2[\"CLEAR\"] = 1] = \"CLEAR\";\n  CLEAR_MODES2[CLEAR_MODES2[\"BLIT\"] = 2] = \"BLIT\";\n  return CLEAR_MODES2;\n})(CLEAR_MODES || {});\nvar GC_MODES = /* @__PURE__ */ ((GC_MODES2) => {\n  GC_MODES2[GC_MODES2[\"AUTO\"] = 0] = \"AUTO\";\n  GC_MODES2[GC_MODES2[\"MANUAL\"] = 1] = \"MANUAL\";\n  return GC_MODES2;\n})(GC_MODES || {});\nvar PRECISION = /* @__PURE__ */ ((PRECISION2) => {\n  PRECISION2[\"LOW\"] = \"lowp\";\n  PRECISION2[\"MEDIUM\"] = \"mediump\";\n  PRECISION2[\"HIGH\"] = \"highp\";\n  return PRECISION2;\n})(PRECISION || {});\nvar MASK_TYPES = /* @__PURE__ */ ((MASK_TYPES2) => {\n  MASK_TYPES2[MASK_TYPES2[\"NONE\"] = 0] = \"NONE\";\n  MASK_TYPES2[MASK_TYPES2[\"SCISSOR\"] = 1] = \"SCISSOR\";\n  MASK_TYPES2[MASK_TYPES2[\"STENCIL\"] = 2] = \"STENCIL\";\n  MASK_TYPES2[MASK_TYPES2[\"SPRITE\"] = 3] = \"SPRITE\";\n  MASK_TYPES2[MASK_TYPES2[\"COLOR\"] = 4] = \"COLOR\";\n  return MASK_TYPES2;\n})(MASK_TYPES || {});\nvar COLOR_MASK_BITS = /* @__PURE__ */ ((COLOR_MASK_BITS2) => {\n  COLOR_MASK_BITS2[COLOR_MASK_BITS2[\"RED\"] = 1] = \"RED\";\n  COLOR_MASK_BITS2[COLOR_MASK_BITS2[\"GREEN\"] = 2] = \"GREEN\";\n  COLOR_MASK_BITS2[COLOR_MASK_BITS2[\"BLUE\"] = 4] = \"BLUE\";\n  COLOR_MASK_BITS2[COLOR_MASK_BITS2[\"ALPHA\"] = 8] = \"ALPHA\";\n  return COLOR_MASK_BITS2;\n})(COLOR_MASK_BITS || {});\nvar MSAA_QUALITY = /* @__PURE__ */ ((MSAA_QUALITY2) => {\n  MSAA_QUALITY2[MSAA_QUALITY2[\"NONE\"] = 0] = \"NONE\";\n  MSAA_QUALITY2[MSAA_QUALITY2[\"LOW\"] = 2] = \"LOW\";\n  MSAA_QUALITY2[MSAA_QUALITY2[\"MEDIUM\"] = 4] = \"MEDIUM\";\n  MSAA_QUALITY2[MSAA_QUALITY2[\"HIGH\"] = 8] = \"HIGH\";\n  return MSAA_QUALITY2;\n})(MSAA_QUALITY || {});\nvar BUFFER_TYPE = /* @__PURE__ */ ((BUFFER_TYPE2) => {\n  BUFFER_TYPE2[BUFFER_TYPE2[\"ELEMENT_ARRAY_BUFFER\"] = 34963] = \"ELEMENT_ARRAY_BUFFER\";\n  BUFFER_TYPE2[BUFFER_TYPE2[\"ARRAY_BUFFER\"] = 34962] = \"ARRAY_BUFFER\";\n  BUFFER_TYPE2[BUFFER_TYPE2[\"UNIFORM_BUFFER\"] = 35345] = \"UNIFORM_BUFFER\";\n  return BUFFER_TYPE2;\n})(BUFFER_TYPE || {});\n\nexport { ALPHA_MODES, BLEND_MODES, BUFFER_BITS, BUFFER_TYPE, CLEAR_MODES, COLOR_MASK_BITS, DRAW_MODES, ENV, FORMATS, GC_MODES, MASK_TYPES, MIPMAP_MODES, MSAA_QUALITY, PRECISION, RENDERER_TYPE, SAMPLER_TYPES, SCALE_MODES, TARGETS, TYPES, WRAP_MODES };\n//# sourceMappingURL=index.mjs.map\n","const BrowserAdapter = {\n  createCanvas: (width, height) => {\n    const canvas = document.createElement(\"canvas\");\n    canvas.width = width;\n    canvas.height = height;\n    return canvas;\n  },\n  getCanvasRenderingContext2D: () => CanvasRenderingContext2D,\n  getWebGLRenderingContext: () => WebGLRenderingContext,\n  getNavigator: () => navigator,\n  getBaseUrl: () => document.baseURI ?? window.location.href,\n  getFontFaceSet: () => document.fonts,\n  fetch: (url, options) => fetch(url, options),\n  parseXML: (xml) => {\n    const parser = new DOMParser();\n    return parser.parseFromString(xml, \"text/xml\");\n  }\n};\n\nexport { BrowserAdapter };\n//# sourceMappingURL=adapter.mjs.map\n","import { BrowserAdapter } from './adapter.mjs';\n\nconst settings = {\n  ADAPTER: BrowserAdapter,\n  RESOLUTION: 1,\n  CREATE_IMAGE_BITMAP: false,\n  ROUND_PIXELS: false\n};\n\nexport { settings };\n//# sourceMappingURL=settings.mjs.map\n","var appleIphone = /iPhone/i;\nvar appleIpod = /iPod/i;\nvar appleTablet = /iPad/i;\nvar appleUniversal = /\\biOS-universal(?:.+)Mac\\b/i;\nvar androidPhone = /\\bAndroid(?:.+)Mobile\\b/i;\nvar androidTablet = /Android/i;\nvar amazonPhone = /(?:SD4930UR|\\bSilk(?:.+)Mobile\\b)/i;\nvar amazonTablet = /Silk/i;\nvar windowsPhone = /Windows Phone/i;\nvar windowsTablet = /\\bWindows(?:.+)ARM\\b/i;\nvar otherBlackBerry = /BlackBerry/i;\nvar otherBlackBerry10 = /BB10/i;\nvar otherOpera = /Opera Mini/i;\nvar otherChrome = /\\b(CriOS|Chrome)(?:.+)Mobile/i;\nvar otherFirefox = /Mobile(?:.+)Firefox\\b/i;\nvar isAppleTabletOnIos13 = function (navigator) {\n    return (typeof navigator !== 'undefined' &&\n        navigator.platform === 'MacIntel' &&\n        typeof navigator.maxTouchPoints === 'number' &&\n        navigator.maxTouchPoints > 1 &&\n        typeof MSStream === 'undefined');\n};\nfunction createMatch(userAgent) {\n    return function (regex) { return regex.test(userAgent); };\n}\nfunction isMobile(param) {\n    var nav = {\n        userAgent: '',\n        platform: '',\n        maxTouchPoints: 0\n    };\n    if (!param && typeof navigator !== 'undefined') {\n        nav = {\n            userAgent: navigator.userAgent,\n            platform: navigator.platform,\n            maxTouchPoints: navigator.maxTouchPoints || 0\n        };\n    }\n    else if (typeof param === 'string') {\n        nav.userAgent = param;\n    }\n    else if (param && param.userAgent) {\n        nav = {\n            userAgent: param.userAgent,\n            platform: param.platform,\n            maxTouchPoints: param.maxTouchPoints || 0\n        };\n    }\n    var userAgent = nav.userAgent;\n    var tmp = userAgent.split('[FBAN');\n    if (typeof tmp[1] !== 'undefined') {\n        userAgent = tmp[0];\n    }\n    tmp = userAgent.split('Twitter');\n    if (typeof tmp[1] !== 'undefined') {\n        userAgent = tmp[0];\n    }\n    var match = createMatch(userAgent);\n    var result = {\n        apple: {\n            phone: match(appleIphone) && !match(windowsPhone),\n            ipod: match(appleIpod),\n            tablet: !match(appleIphone) &&\n                (match(appleTablet) || isAppleTabletOnIos13(nav)) &&\n                !match(windowsPhone),\n            universal: match(appleUniversal),\n            device: (match(appleIphone) ||\n                match(appleIpod) ||\n                match(appleTablet) ||\n                match(appleUniversal) ||\n                isAppleTabletOnIos13(nav)) &&\n                !match(windowsPhone)\n        },\n        amazon: {\n            phone: match(amazonPhone),\n            tablet: !match(amazonPhone) && match(amazonTablet),\n            device: match(amazonPhone) || match(amazonTablet)\n        },\n        android: {\n            phone: (!match(windowsPhone) && match(amazonPhone)) ||\n                (!match(windowsPhone) && match(androidPhone)),\n            tablet: !match(windowsPhone) &&\n                !match(amazonPhone) &&\n                !match(androidPhone) &&\n                (match(amazonTablet) || match(androidTablet)),\n            device: (!match(windowsPhone) &&\n                (match(amazonPhone) ||\n                    match(amazonTablet) ||\n                    match(androidPhone) ||\n                    match(androidTablet))) ||\n                match(/\\bokhttp\\b/i)\n        },\n        windows: {\n            phone: match(windowsPhone),\n            tablet: match(windowsTablet),\n            device: match(windowsPhone) || match(windowsTablet)\n        },\n        other: {\n            blackberry: match(otherBlackBerry),\n            blackberry10: match(otherBlackBerry10),\n            opera: match(otherOpera),\n            firefox: match(otherFirefox),\n            chrome: match(otherChrome),\n            device: match(otherBlackBerry) ||\n                match(otherBlackBerry10) ||\n                match(otherOpera) ||\n                match(otherFirefox) ||\n                match(otherChrome)\n        },\n        any: false,\n        phone: false,\n        tablet: false\n    };\n    result.any =\n        result.apple.device ||\n            result.android.device ||\n            result.windows.device ||\n            result.other.device;\n    result.phone =\n        result.apple.phone || result.android.phone || result.windows.phone;\n    result.tablet =\n        result.apple.tablet || result.android.tablet || result.windows.tablet;\n    return result;\n}\n\nexport { isMobile as default };\n//# sourceMappingURL=isMobile.mjs.map\n","import './../external/ismobilejs/esm/index.mjs';\nimport isMobile$1 from './../external/ismobilejs/esm/isMobile.mjs';\n\nconst isMobile = isMobile$1(globalThis.navigator);\n\nexport { isMobile };\n//# sourceMappingURL=isMobile.mjs.map\n","import { settings } from '@pixi/settings';\nexport { settings } from '@pixi/settings';\n\nsettings.RETINA_PREFIX = /@([0-9\\.]+)x/;\nsettings.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT = false;\n//# sourceMappingURL=settings.mjs.map\n","import { parse, format, resolve } from 'url';\n\nconst url = {\n  parse: parse,\n  format: format,\n  resolve: resolve\n};\n\nexport { url };\n//# sourceMappingURL=url.mjs.map\n","import { settings } from '@pixi/settings';\n\nfunction assertPath(path2) {\n  if (typeof path2 !== \"string\") {\n    throw new TypeError(`Path must be a string. Received ${JSON.stringify(path2)}`);\n  }\n}\nfunction removeUrlParams(url) {\n  const re = url.split(\"?\")[0];\n  return re.split(\"#\")[0];\n}\nfunction escapeRegExp(string) {\n  return string.replace(/[.*+?^${}()|[\\]\\\\]/g, \"\\\\$&\");\n}\nfunction replaceAll(str, find, replace) {\n  return str.replace(new RegExp(escapeRegExp(find), \"g\"), replace);\n}\nfunction normalizeStringPosix(path2, allowAboveRoot) {\n  let res = \"\";\n  let lastSegmentLength = 0;\n  let lastSlash = -1;\n  let dots = 0;\n  let code = -1;\n  for (let i = 0; i <= path2.length; ++i) {\n    if (i < path2.length) {\n      code = path2.charCodeAt(i);\n    } else if (code === 47) {\n      break;\n    } else {\n      code = 47;\n    }\n    if (code === 47) {\n      if (lastSlash === i - 1 || dots === 1) {\n      } else if (lastSlash !== i - 1 && dots === 2) {\n        if (res.length < 2 || lastSegmentLength !== 2 || res.charCodeAt(res.length - 1) !== 46 || res.charCodeAt(res.length - 2) !== 46) {\n          if (res.length > 2) {\n            const lastSlashIndex = res.lastIndexOf(\"/\");\n            if (lastSlashIndex !== res.length - 1) {\n              if (lastSlashIndex === -1) {\n                res = \"\";\n                lastSegmentLength = 0;\n              } else {\n                res = res.slice(0, lastSlashIndex);\n                lastSegmentLength = res.length - 1 - res.lastIndexOf(\"/\");\n              }\n              lastSlash = i;\n              dots = 0;\n              continue;\n            }\n          } else if (res.length === 2 || res.length === 1) {\n            res = \"\";\n            lastSegmentLength = 0;\n            lastSlash = i;\n            dots = 0;\n            continue;\n          }\n        }\n        if (allowAboveRoot) {\n          if (res.length > 0) {\n            res += \"/..\";\n          } else {\n            res = \"..\";\n          }\n          lastSegmentLength = 2;\n        }\n      } else {\n        if (res.length > 0) {\n          res += `/${path2.slice(lastSlash + 1, i)}`;\n        } else {\n          res = path2.slice(lastSlash + 1, i);\n        }\n        lastSegmentLength = i - lastSlash - 1;\n      }\n      lastSlash = i;\n      dots = 0;\n    } else if (code === 46 && dots !== -1) {\n      ++dots;\n    } else {\n      dots = -1;\n    }\n  }\n  return res;\n}\nconst path = {\n  toPosix(path2) {\n    return replaceAll(path2, \"\\\\\", \"/\");\n  },\n  isUrl(path2) {\n    return /^https?:/.test(this.toPosix(path2));\n  },\n  isDataUrl(path2) {\n    return /^data:([a-z]+\\/[a-z0-9-+.]+(;[a-z0-9-.!#$%*+.{}|~`]+=[a-z0-9-.!#$%*+.{}()_|~`]+)*)?(;base64)?,([a-z0-9!$&',()*+;=\\-._~:@\\/?%\\s<>]*?)$/i.test(path2);\n  },\n  hasProtocol(path2) {\n    return /^[^/:]+:\\//.test(this.toPosix(path2));\n  },\n  getProtocol(path2) {\n    assertPath(path2);\n    path2 = this.toPosix(path2);\n    let protocol = \"\";\n    const isFile = /^file:\\/\\/\\//.exec(path2);\n    const isHttp = /^[^/:]+:\\/\\//.exec(path2);\n    const isWindows = /^[^/:]+:\\//.exec(path2);\n    if (isFile || isHttp || isWindows) {\n      const arr = isFile?.[0] || isHttp?.[0] || isWindows?.[0];\n      protocol = arr;\n      path2 = path2.slice(arr.length);\n    }\n    return protocol;\n  },\n  toAbsolute(url, customBaseUrl, customRootUrl) {\n    if (this.isDataUrl(url))\n      return url;\n    const baseUrl = removeUrlParams(this.toPosix(customBaseUrl ?? settings.ADAPTER.getBaseUrl()));\n    const rootUrl = removeUrlParams(this.toPosix(customRootUrl ?? this.rootname(baseUrl)));\n    assertPath(url);\n    url = this.toPosix(url);\n    if (url.startsWith(\"/\")) {\n      return path.join(rootUrl, url.slice(1));\n    }\n    const absolutePath = this.isAbsolute(url) ? url : this.join(baseUrl, url);\n    return absolutePath;\n  },\n  normalize(path2) {\n    path2 = this.toPosix(path2);\n    assertPath(path2);\n    if (path2.length === 0)\n      return \".\";\n    let protocol = \"\";\n    const isAbsolute = path2.startsWith(\"/\");\n    if (this.hasProtocol(path2)) {\n      protocol = this.rootname(path2);\n      path2 = path2.slice(protocol.length);\n    }\n    const trailingSeparator = path2.endsWith(\"/\");\n    path2 = normalizeStringPosix(path2, false);\n    if (path2.length > 0 && trailingSeparator)\n      path2 += \"/\";\n    if (isAbsolute)\n      return `/${path2}`;\n    return protocol + path2;\n  },\n  isAbsolute(path2) {\n    assertPath(path2);\n    path2 = this.toPosix(path2);\n    if (this.hasProtocol(path2))\n      return true;\n    return path2.startsWith(\"/\");\n  },\n  join(...segments) {\n    if (segments.length === 0) {\n      return \".\";\n    }\n    let joined;\n    for (let i = 0; i < segments.length; ++i) {\n      const arg = segments[i];\n      assertPath(arg);\n      if (arg.length > 0) {\n        if (joined === void 0)\n          joined = arg;\n        else {\n          const prevArg = segments[i - 1] ?? \"\";\n          if (this.extname(prevArg)) {\n            joined += `/../${arg}`;\n          } else {\n            joined += `/${arg}`;\n          }\n        }\n      }\n    }\n    if (joined === void 0) {\n      return \".\";\n    }\n    return this.normalize(joined);\n  },\n  dirname(path2) {\n    assertPath(path2);\n    if (path2.length === 0)\n      return \".\";\n    path2 = this.toPosix(path2);\n    let code = path2.charCodeAt(0);\n    const hasRoot = code === 47;\n    let end = -1;\n    let matchedSlash = true;\n    const proto = this.getProtocol(path2);\n    const origpath = path2;\n    path2 = path2.slice(proto.length);\n    for (let i = path2.length - 1; i >= 1; --i) {\n      code = path2.charCodeAt(i);\n      if (code === 47) {\n        if (!matchedSlash) {\n          end = i;\n          break;\n        }\n      } else {\n        matchedSlash = false;\n      }\n    }\n    if (end === -1)\n      return hasRoot ? \"/\" : this.isUrl(origpath) ? proto + path2 : proto;\n    if (hasRoot && end === 1)\n      return \"//\";\n    return proto + path2.slice(0, end);\n  },\n  rootname(path2) {\n    assertPath(path2);\n    path2 = this.toPosix(path2);\n    let root = \"\";\n    if (path2.startsWith(\"/\"))\n      root = \"/\";\n    else {\n      root = this.getProtocol(path2);\n    }\n    if (this.isUrl(path2)) {\n      const index = path2.indexOf(\"/\", root.length);\n      if (index !== -1) {\n        root = path2.slice(0, index);\n      } else\n        root = path2;\n      if (!root.endsWith(\"/\"))\n        root += \"/\";\n    }\n    return root;\n  },\n  basename(path2, ext) {\n    assertPath(path2);\n    if (ext)\n      assertPath(ext);\n    path2 = removeUrlParams(this.toPosix(path2));\n    let start = 0;\n    let end = -1;\n    let matchedSlash = true;\n    let i;\n    if (ext !== void 0 && ext.length > 0 && ext.length <= path2.length) {\n      if (ext.length === path2.length && ext === path2)\n        return \"\";\n      let extIdx = ext.length - 1;\n      let firstNonSlashEnd = -1;\n      for (i = path2.length - 1; i >= 0; --i) {\n        const code = path2.charCodeAt(i);\n        if (code === 47) {\n          if (!matchedSlash) {\n            start = i + 1;\n            break;\n          }\n        } else {\n          if (firstNonSlashEnd === -1) {\n            matchedSlash = false;\n            firstNonSlashEnd = i + 1;\n          }\n          if (extIdx >= 0) {\n            if (code === ext.charCodeAt(extIdx)) {\n              if (--extIdx === -1) {\n                end = i;\n              }\n            } else {\n              extIdx = -1;\n              end = firstNonSlashEnd;\n            }\n          }\n        }\n      }\n      if (start === end)\n        end = firstNonSlashEnd;\n      else if (end === -1)\n        end = path2.length;\n      return path2.slice(start, end);\n    }\n    for (i = path2.length - 1; i >= 0; --i) {\n      if (path2.charCodeAt(i) === 47) {\n        if (!matchedSlash) {\n          start = i + 1;\n          break;\n        }\n      } else if (end === -1) {\n        matchedSlash = false;\n        end = i + 1;\n      }\n    }\n    if (end === -1)\n      return \"\";\n    return path2.slice(start, end);\n  },\n  extname(path2) {\n    assertPath(path2);\n    path2 = removeUrlParams(this.toPosix(path2));\n    let startDot = -1;\n    let startPart = 0;\n    let end = -1;\n    let matchedSlash = true;\n    let preDotState = 0;\n    for (let i = path2.length - 1; i >= 0; --i) {\n      const code = path2.charCodeAt(i);\n      if (code === 47) {\n        if (!matchedSlash) {\n          startPart = i + 1;\n          break;\n        }\n        continue;\n      }\n      if (end === -1) {\n        matchedSlash = false;\n        end = i + 1;\n      }\n      if (code === 46) {\n        if (startDot === -1)\n          startDot = i;\n        else if (preDotState !== 1)\n          preDotState = 1;\n      } else if (startDot !== -1) {\n        preDotState = -1;\n      }\n    }\n    if (startDot === -1 || end === -1 || preDotState === 0 || preDotState === 1 && startDot === end - 1 && startDot === startPart + 1) {\n      return \"\";\n    }\n    return path2.slice(startDot, end);\n  },\n  parse(path2) {\n    assertPath(path2);\n    const ret = { root: \"\", dir: \"\", base: \"\", ext: \"\", name: \"\" };\n    if (path2.length === 0)\n      return ret;\n    path2 = removeUrlParams(this.toPosix(path2));\n    let code = path2.charCodeAt(0);\n    const isAbsolute = this.isAbsolute(path2);\n    let start;\n    const protocol = \"\";\n    ret.root = this.rootname(path2);\n    if (isAbsolute || this.hasProtocol(path2)) {\n      start = 1;\n    } else {\n      start = 0;\n    }\n    let startDot = -1;\n    let startPart = 0;\n    let end = -1;\n    let matchedSlash = true;\n    let i = path2.length - 1;\n    let preDotState = 0;\n    for (; i >= start; --i) {\n      code = path2.charCodeAt(i);\n      if (code === 47) {\n        if (!matchedSlash) {\n          startPart = i + 1;\n          break;\n        }\n        continue;\n      }\n      if (end === -1) {\n        matchedSlash = false;\n        end = i + 1;\n      }\n      if (code === 46) {\n        if (startDot === -1)\n          startDot = i;\n        else if (preDotState !== 1)\n          preDotState = 1;\n      } else if (startDot !== -1) {\n        preDotState = -1;\n      }\n    }\n    if (startDot === -1 || end === -1 || preDotState === 0 || preDotState === 1 && startDot === end - 1 && startDot === startPart + 1) {\n      if (end !== -1) {\n        if (startPart === 0 && isAbsolute)\n          ret.base = ret.name = path2.slice(1, end);\n        else\n          ret.base = ret.name = path2.slice(startPart, end);\n      }\n    } else {\n      if (startPart === 0 && isAbsolute) {\n        ret.name = path2.slice(1, startDot);\n        ret.base = path2.slice(1, end);\n      } else {\n        ret.name = path2.slice(startPart, startDot);\n        ret.base = path2.slice(startPart, end);\n      }\n      ret.ext = path2.slice(startDot, end);\n    }\n    ret.dir = this.dirname(path2);\n    if (protocol)\n      ret.dir = protocol + ret.dir;\n    return ret;\n  },\n  sep: \"/\",\n  delimiter: \":\"\n};\n\nexport { path };\n//# sourceMappingURL=path.mjs.map\n","const warnings = {};\nfunction deprecation(version, message, ignoreDepth = 3) {\n  if (warnings[message]) {\n    return;\n  }\n  let stack = new Error().stack;\n  if (typeof stack === \"undefined\") {\n    console.warn(\"PixiJS Deprecation Warning: \", `${message}\nDeprecated since v${version}`);\n  } else {\n    stack = stack.split(\"\\n\").splice(ignoreDepth).join(\"\\n\");\n    if (console.groupCollapsed) {\n      console.groupCollapsed(\"%cPixiJS Deprecation Warning: %c%s\", \"color:#614108;background:#fffbe6\", \"font-weight:normal;color:#614108;background:#fffbe6\", `${message}\nDeprecated since v${version}`);\n      console.warn(stack);\n      console.groupEnd();\n    } else {\n      console.warn(\"PixiJS Deprecation Warning: \", `${message}\nDeprecated since v${version}`);\n      console.warn(stack);\n    }\n  }\n  warnings[message] = true;\n}\n\nexport { deprecation };\n//# sourceMappingURL=deprecation.mjs.map\n","import '../settings.mjs';\nimport { settings } from '@pixi/settings';\n\nlet supported;\nfunction isWebGLSupported() {\n  if (typeof supported === \"undefined\") {\n    supported = function supported2() {\n      const contextOptions = {\n        stencil: true,\n        failIfMajorPerformanceCaveat: settings.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT\n      };\n      try {\n        if (!settings.ADAPTER.getWebGLRenderingContext()) {\n          return false;\n        }\n        const canvas = settings.ADAPTER.createCanvas();\n        let gl = canvas.getContext(\"webgl\", contextOptions) || canvas.getContext(\"experimental-webgl\", contextOptions);\n        const success = !!gl?.getContextAttributes()?.stencil;\n        if (gl) {\n          const loseContext = gl.getExtension(\"WEBGL_lose_context\");\n          if (loseContext) {\n            loseContext.loseContext();\n          }\n        }\n        gl = null;\n        return success;\n      } catch (e) {\n        return false;\n      }\n    }();\n  }\n  return supported;\n}\n\nexport { isWebGLSupported };\n//# sourceMappingURL=isWebGLSupported.mjs.map\n","var r={grad:.9,turn:360,rad:360/(2*Math.PI)},t=function(r){return\"string\"==typeof r?r.length>0:\"number\"==typeof r},n=function(r,t,n){return void 0===t&&(t=0),void 0===n&&(n=Math.pow(10,t)),Math.round(n*r)/n+0},e=function(r,t,n){return void 0===t&&(t=0),void 0===n&&(n=1),r>n?n:r>t?r:t},u=function(r){return(r=isFinite(r)?r%360:0)>0?r:r+360},a=function(r){return{r:e(r.r,0,255),g:e(r.g,0,255),b:e(r.b,0,255),a:e(r.a)}},o=function(r){return{r:n(r.r),g:n(r.g),b:n(r.b),a:n(r.a,3)}},i=/^#([0-9a-f]{3,8})$/i,s=function(r){var t=r.toString(16);return t.length<2?\"0\"+t:t},h=function(r){var t=r.r,n=r.g,e=r.b,u=r.a,a=Math.max(t,n,e),o=a-Math.min(t,n,e),i=o?a===t?(n-e)/o:a===n?2+(e-t)/o:4+(t-n)/o:0;return{h:60*(i<0?i+6:i),s:a?o/a*100:0,v:a/255*100,a:u}},b=function(r){var t=r.h,n=r.s,e=r.v,u=r.a;t=t/360*6,n/=100,e/=100;var a=Math.floor(t),o=e*(1-n),i=e*(1-(t-a)*n),s=e*(1-(1-t+a)*n),h=a%6;return{r:255*[e,i,o,o,s,e][h],g:255*[s,e,e,i,o,o][h],b:255*[o,o,s,e,e,i][h],a:u}},g=function(r){return{h:u(r.h),s:e(r.s,0,100),l:e(r.l,0,100),a:e(r.a)}},d=function(r){return{h:n(r.h),s:n(r.s),l:n(r.l),a:n(r.a,3)}},f=function(r){return b((n=(t=r).s,{h:t.h,s:(n*=((e=t.l)<50?e:100-e)/100)>0?2*n/(e+n)*100:0,v:e+n,a:t.a}));var t,n,e},c=function(r){return{h:(t=h(r)).h,s:(u=(200-(n=t.s))*(e=t.v)/100)>0&&u<200?n*e/100/(u<=100?u:200-u)*100:0,l:u/2,a:t.a};var t,n,e,u},l=/^hsla?\\(\\s*([+-]?\\d*\\.?\\d+)(deg|rad|grad|turn)?\\s*,\\s*([+-]?\\d*\\.?\\d+)%\\s*,\\s*([+-]?\\d*\\.?\\d+)%\\s*(?:,\\s*([+-]?\\d*\\.?\\d+)(%)?\\s*)?\\)$/i,p=/^hsla?\\(\\s*([+-]?\\d*\\.?\\d+)(deg|rad|grad|turn)?\\s+([+-]?\\d*\\.?\\d+)%\\s+([+-]?\\d*\\.?\\d+)%\\s*(?:\\/\\s*([+-]?\\d*\\.?\\d+)(%)?\\s*)?\\)$/i,v=/^rgba?\\(\\s*([+-]?\\d*\\.?\\d+)(%)?\\s*,\\s*([+-]?\\d*\\.?\\d+)(%)?\\s*,\\s*([+-]?\\d*\\.?\\d+)(%)?\\s*(?:,\\s*([+-]?\\d*\\.?\\d+)(%)?\\s*)?\\)$/i,m=/^rgba?\\(\\s*([+-]?\\d*\\.?\\d+)(%)?\\s+([+-]?\\d*\\.?\\d+)(%)?\\s+([+-]?\\d*\\.?\\d+)(%)?\\s*(?:\\/\\s*([+-]?\\d*\\.?\\d+)(%)?\\s*)?\\)$/i,y={string:[[function(r){var t=i.exec(r);return t?(r=t[1]).length<=4?{r:parseInt(r[0]+r[0],16),g:parseInt(r[1]+r[1],16),b:parseInt(r[2]+r[2],16),a:4===r.length?n(parseInt(r[3]+r[3],16)/255,2):1}:6===r.length||8===r.length?{r:parseInt(r.substr(0,2),16),g:parseInt(r.substr(2,2),16),b:parseInt(r.substr(4,2),16),a:8===r.length?n(parseInt(r.substr(6,2),16)/255,2):1}:null:null},\"hex\"],[function(r){var t=v.exec(r)||m.exec(r);return t?t[2]!==t[4]||t[4]!==t[6]?null:a({r:Number(t[1])/(t[2]?100/255:1),g:Number(t[3])/(t[4]?100/255:1),b:Number(t[5])/(t[6]?100/255:1),a:void 0===t[7]?1:Number(t[7])/(t[8]?100:1)}):null},\"rgb\"],[function(t){var n=l.exec(t)||p.exec(t);if(!n)return null;var e,u,a=g({h:(e=n[1],u=n[2],void 0===u&&(u=\"deg\"),Number(e)*(r[u]||1)),s:Number(n[3]),l:Number(n[4]),a:void 0===n[5]?1:Number(n[5])/(n[6]?100:1)});return f(a)},\"hsl\"]],object:[[function(r){var n=r.r,e=r.g,u=r.b,o=r.a,i=void 0===o?1:o;return t(n)&&t(e)&&t(u)?a({r:Number(n),g:Number(e),b:Number(u),a:Number(i)}):null},\"rgb\"],[function(r){var n=r.h,e=r.s,u=r.l,a=r.a,o=void 0===a?1:a;if(!t(n)||!t(e)||!t(u))return null;var i=g({h:Number(n),s:Number(e),l:Number(u),a:Number(o)});return f(i)},\"hsl\"],[function(r){var n=r.h,a=r.s,o=r.v,i=r.a,s=void 0===i?1:i;if(!t(n)||!t(a)||!t(o))return null;var h=function(r){return{h:u(r.h),s:e(r.s,0,100),v:e(r.v,0,100),a:e(r.a)}}({h:Number(n),s:Number(a),v:Number(o),a:Number(s)});return b(h)},\"hsv\"]]},N=function(r,t){for(var n=0;n<t.length;n++){var e=t[n][0](r);if(e)return[e,t[n][1]]}return[null,void 0]},x=function(r){return\"string\"==typeof r?N(r.trim(),y.string):\"object\"==typeof r&&null!==r?N(r,y.object):[null,void 0]},I=function(r){return x(r)[1]},M=function(r,t){var n=c(r);return{h:n.h,s:e(n.s+100*t,0,100),l:n.l,a:n.a}},H=function(r){return(299*r.r+587*r.g+114*r.b)/1e3/255},$=function(r,t){var n=c(r);return{h:n.h,s:n.s,l:e(n.l+100*t,0,100),a:n.a}},j=function(){function r(r){this.parsed=x(r)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return r.prototype.isValid=function(){return null!==this.parsed},r.prototype.brightness=function(){return n(H(this.rgba),2)},r.prototype.isDark=function(){return H(this.rgba)<.5},r.prototype.isLight=function(){return H(this.rgba)>=.5},r.prototype.toHex=function(){return r=o(this.rgba),t=r.r,e=r.g,u=r.b,i=(a=r.a)<1?s(n(255*a)):\"\",\"#\"+s(t)+s(e)+s(u)+i;var r,t,e,u,a,i},r.prototype.toRgb=function(){return o(this.rgba)},r.prototype.toRgbString=function(){return r=o(this.rgba),t=r.r,n=r.g,e=r.b,(u=r.a)<1?\"rgba(\"+t+\", \"+n+\", \"+e+\", \"+u+\")\":\"rgb(\"+t+\", \"+n+\", \"+e+\")\";var r,t,n,e,u},r.prototype.toHsl=function(){return d(c(this.rgba))},r.prototype.toHslString=function(){return r=d(c(this.rgba)),t=r.h,n=r.s,e=r.l,(u=r.a)<1?\"hsla(\"+t+\", \"+n+\"%, \"+e+\"%, \"+u+\")\":\"hsl(\"+t+\", \"+n+\"%, \"+e+\"%)\";var r,t,n,e,u},r.prototype.toHsv=function(){return r=h(this.rgba),{h:n(r.h),s:n(r.s),v:n(r.v),a:n(r.a,3)};var r},r.prototype.invert=function(){return w({r:255-(r=this.rgba).r,g:255-r.g,b:255-r.b,a:r.a});var r},r.prototype.saturate=function(r){return void 0===r&&(r=.1),w(M(this.rgba,r))},r.prototype.desaturate=function(r){return void 0===r&&(r=.1),w(M(this.rgba,-r))},r.prototype.grayscale=function(){return w(M(this.rgba,-1))},r.prototype.lighten=function(r){return void 0===r&&(r=.1),w($(this.rgba,r))},r.prototype.darken=function(r){return void 0===r&&(r=.1),w($(this.rgba,-r))},r.prototype.rotate=function(r){return void 0===r&&(r=15),this.hue(this.hue()+r)},r.prototype.alpha=function(r){return\"number\"==typeof r?w({r:(t=this.rgba).r,g:t.g,b:t.b,a:r}):n(this.rgba.a,3);var t},r.prototype.hue=function(r){var t=c(this.rgba);return\"number\"==typeof r?w({h:r,s:t.s,l:t.l,a:t.a}):n(t.h)},r.prototype.isEqual=function(r){return this.toHex()===w(r).toHex()},r}(),w=function(r){return r instanceof j?r:new j(r)},S=[],k=function(r){r.forEach(function(r){S.indexOf(r)<0&&(r(j,y),S.push(r))})},E=function(){return new j({r:255*Math.random(),g:255*Math.random(),b:255*Math.random()})};export{j as Colord,w as colord,k as extend,I as getFormat,E as random};\n","import { extend, colord } from 'colord';\nimport namesPlugin from './external/colord/plugins/names.mjs';\n\nextend([namesPlugin]);\nconst _Color = class {\n  constructor(value = 16777215) {\n    this._components = new Float32Array(4);\n    this._components.fill(1);\n    this.value = value;\n  }\n  get red() {\n    return this._components[0];\n  }\n  get green() {\n    return this._components[1];\n  }\n  get blue() {\n    return this._components[2];\n  }\n  get alpha() {\n    return this._components[3];\n  }\n  setValue(value) {\n    this.value = value;\n    return this;\n  }\n  set value(value) {\n    if (value instanceof _Color) {\n      this._value = value._value;\n      this._int = value._int;\n      this._components.set(value._components);\n    } else if (this._value !== value) {\n      this.normalize(value);\n      this._value = value;\n    }\n  }\n  get value() {\n    return this._value;\n  }\n  toRgba() {\n    const [r, g, b, a] = this._components;\n    return { r, g, b, a };\n  }\n  toRgb() {\n    const [r, g, b] = this._components;\n    return { r, g, b };\n  }\n  toRgbaString() {\n    const [r, g, b] = this.toUint8RgbArray();\n    return `rgba(${r},${g},${b},${this.alpha})`;\n  }\n  toUint8RgbArray(out) {\n    const [r, g, b] = this._components;\n    out = out ?? [];\n    out[0] = Math.round(r * 255);\n    out[1] = Math.round(g * 255);\n    out[2] = Math.round(b * 255);\n    return out;\n  }\n  toRgbArray(out) {\n    out = out ?? [];\n    const [r, g, b] = this._components;\n    out[0] = r;\n    out[1] = g;\n    out[2] = b;\n    return out;\n  }\n  toNumber() {\n    return this._int;\n  }\n  toLittleEndianNumber() {\n    const value = this._int;\n    return (value >> 16) + (value & 65280) + ((value & 255) << 16);\n  }\n  multiply(value) {\n    const [r, g, b, a] = _Color.temp.setValue(value)._components;\n    this._components[0] *= r;\n    this._components[1] *= g;\n    this._components[2] *= b;\n    this._components[3] *= a;\n    this.refreshInt();\n    this._value = null;\n    return this;\n  }\n  premultiply(alpha, applyToRGB = true) {\n    if (applyToRGB) {\n      this._components[0] *= alpha;\n      this._components[1] *= alpha;\n      this._components[2] *= alpha;\n    }\n    this._components[3] = alpha;\n    this.refreshInt();\n    this._value = null;\n    return this;\n  }\n  toPremultiplied(alpha) {\n    if (alpha === 1) {\n      return (alpha * 255 << 24) + this._int;\n    }\n    if (alpha === 0) {\n      return 0;\n    }\n    let r = this._int >> 16 & 255;\n    let g = this._int >> 8 & 255;\n    let b = this._int & 255;\n    r = r * alpha + 0.5 | 0;\n    g = g * alpha + 0.5 | 0;\n    b = b * alpha + 0.5 | 0;\n    return (alpha * 255 << 24) + (r << 16) + (g << 8) + b;\n  }\n  toHex() {\n    const hexString = this._int.toString(16);\n    return `#${\"000000\".substring(0, 6 - hexString.length) + hexString}`;\n  }\n  toHexa() {\n    const alphaValue = Math.round(this._components[3] * 255);\n    const alphaString = alphaValue.toString(16);\n    return this.toHex() + \"00\".substring(0, 2 - alphaString.length) + alphaString;\n  }\n  setAlpha(alpha) {\n    this._components[3] = alpha;\n    return this;\n  }\n  round(step) {\n    const [r, g, b] = this._components;\n    this._components.set([\n      Math.min(255, r / step * step),\n      Math.min(255, g / step * step),\n      Math.min(255, b / step * step)\n    ]);\n    this.refreshInt();\n    this._value = null;\n    return this;\n  }\n  toArray(out) {\n    out = out ?? [];\n    const [r, g, b, a] = this._components;\n    out[0] = r;\n    out[1] = g;\n    out[2] = b;\n    out[3] = a;\n    return out;\n  }\n  normalize(value) {\n    let components;\n    if ((Array.isArray(value) || value instanceof Float32Array) && value.length >= 3 && value.length <= 4 && value.every((v) => v <= 1 && v >= 0)) {\n      const [r, g, b, a = 1] = value;\n      components = [r, g, b, a];\n    } else if ((value instanceof Uint8Array || value instanceof Uint8ClampedArray) && value.length >= 3 && value.length <= 4) {\n      const [r, g, b, a = 255] = value;\n      components = [r / 255, g / 255, b / 255, a / 255];\n    } else if (typeof value === \"string\" || typeof value === \"object\") {\n      if (typeof value === \"string\") {\n        const match = _Color.HEX_PATTERN.exec(value);\n        if (match) {\n          value = `#${match[2]}`;\n        }\n      }\n      const color = colord(value);\n      if (color.isValid()) {\n        const { r, g, b, a } = color.rgba;\n        components = [r / 255, g / 255, b / 255, a];\n      }\n    } else if (typeof value === \"number\" && value >= 0 && value <= 16777215) {\n      components = [\n        (value >> 16 & 255) / 255,\n        (value >> 8 & 255) / 255,\n        (value & 255) / 255,\n        1\n      ];\n    }\n    if (components) {\n      this._components.set(components);\n      this.refreshInt();\n    } else {\n      throw new Error(`Unable to convert color ${value}`);\n    }\n  }\n  refreshInt() {\n    const [r, g, b] = this._components;\n    this._int = (r * 255 << 16) + (g * 255 << 8) + (b * 255 | 0);\n  }\n};\nlet Color = _Color;\nColor.shared = new _Color();\nColor.temp = new _Color();\nColor.HEX_PATTERN = /^(#|0x)?(([a-f0-9]{3}){1,2}([a-f0-9]{2})?)$/i;\n\nexport { Color };\n//# sourceMappingURL=Color.mjs.map\n","function namesPlugin(e,f){var a={white:\"#ffffff\",bisque:\"#ffe4c4\",blue:\"#0000ff\",cadetblue:\"#5f9ea0\",chartreuse:\"#7fff00\",chocolate:\"#d2691e\",coral:\"#ff7f50\",antiquewhite:\"#faebd7\",aqua:\"#00ffff\",azure:\"#f0ffff\",whitesmoke:\"#f5f5f5\",papayawhip:\"#ffefd5\",plum:\"#dda0dd\",blanchedalmond:\"#ffebcd\",black:\"#000000\",gold:\"#ffd700\",goldenrod:\"#daa520\",gainsboro:\"#dcdcdc\",cornsilk:\"#fff8dc\",cornflowerblue:\"#6495ed\",burlywood:\"#deb887\",aquamarine:\"#7fffd4\",beige:\"#f5f5dc\",crimson:\"#dc143c\",cyan:\"#00ffff\",darkblue:\"#00008b\",darkcyan:\"#008b8b\",darkgoldenrod:\"#b8860b\",darkkhaki:\"#bdb76b\",darkgray:\"#a9a9a9\",darkgreen:\"#006400\",darkgrey:\"#a9a9a9\",peachpuff:\"#ffdab9\",darkmagenta:\"#8b008b\",darkred:\"#8b0000\",darkorchid:\"#9932cc\",darkorange:\"#ff8c00\",darkslateblue:\"#483d8b\",gray:\"#808080\",darkslategray:\"#2f4f4f\",darkslategrey:\"#2f4f4f\",deeppink:\"#ff1493\",deepskyblue:\"#00bfff\",wheat:\"#f5deb3\",firebrick:\"#b22222\",floralwhite:\"#fffaf0\",ghostwhite:\"#f8f8ff\",darkviolet:\"#9400d3\",magenta:\"#ff00ff\",green:\"#008000\",dodgerblue:\"#1e90ff\",grey:\"#808080\",honeydew:\"#f0fff0\",hotpink:\"#ff69b4\",blueviolet:\"#8a2be2\",forestgreen:\"#228b22\",lawngreen:\"#7cfc00\",indianred:\"#cd5c5c\",indigo:\"#4b0082\",fuchsia:\"#ff00ff\",brown:\"#a52a2a\",maroon:\"#800000\",mediumblue:\"#0000cd\",lightcoral:\"#f08080\",darkturquoise:\"#00ced1\",lightcyan:\"#e0ffff\",ivory:\"#fffff0\",lightyellow:\"#ffffe0\",lightsalmon:\"#ffa07a\",lightseagreen:\"#20b2aa\",linen:\"#faf0e6\",mediumaquamarine:\"#66cdaa\",lemonchiffon:\"#fffacd\",lime:\"#00ff00\",khaki:\"#f0e68c\",mediumseagreen:\"#3cb371\",limegreen:\"#32cd32\",mediumspringgreen:\"#00fa9a\",lightskyblue:\"#87cefa\",lightblue:\"#add8e6\",midnightblue:\"#191970\",lightpink:\"#ffb6c1\",mistyrose:\"#ffe4e1\",moccasin:\"#ffe4b5\",mintcream:\"#f5fffa\",lightslategray:\"#778899\",lightslategrey:\"#778899\",navajowhite:\"#ffdead\",navy:\"#000080\",mediumvioletred:\"#c71585\",powderblue:\"#b0e0e6\",palegoldenrod:\"#eee8aa\",oldlace:\"#fdf5e6\",paleturquoise:\"#afeeee\",mediumturquoise:\"#48d1cc\",mediumorchid:\"#ba55d3\",rebeccapurple:\"#663399\",lightsteelblue:\"#b0c4de\",mediumslateblue:\"#7b68ee\",thistle:\"#d8bfd8\",tan:\"#d2b48c\",orchid:\"#da70d6\",mediumpurple:\"#9370db\",purple:\"#800080\",pink:\"#ffc0cb\",skyblue:\"#87ceeb\",springgreen:\"#00ff7f\",palegreen:\"#98fb98\",red:\"#ff0000\",yellow:\"#ffff00\",slateblue:\"#6a5acd\",lavenderblush:\"#fff0f5\",peru:\"#cd853f\",palevioletred:\"#db7093\",violet:\"#ee82ee\",teal:\"#008080\",slategray:\"#708090\",slategrey:\"#708090\",aliceblue:\"#f0f8ff\",darkseagreen:\"#8fbc8f\",darkolivegreen:\"#556b2f\",greenyellow:\"#adff2f\",seagreen:\"#2e8b57\",seashell:\"#fff5ee\",tomato:\"#ff6347\",silver:\"#c0c0c0\",sienna:\"#a0522d\",lavender:\"#e6e6fa\",lightgreen:\"#90ee90\",orange:\"#ffa500\",orangered:\"#ff4500\",steelblue:\"#4682b4\",royalblue:\"#4169e1\",turquoise:\"#40e0d0\",yellowgreen:\"#9acd32\",salmon:\"#fa8072\",saddlebrown:\"#8b4513\",sandybrown:\"#f4a460\",rosybrown:\"#bc8f8f\",darksalmon:\"#e9967a\",lightgoldenrodyellow:\"#fafad2\",snow:\"#fffafa\",lightgrey:\"#d3d3d3\",lightgray:\"#d3d3d3\",dimgray:\"#696969\",dimgrey:\"#696969\",olivedrab:\"#6b8e23\",olive:\"#808000\"},r={};for(var d in a)r[a[d]]=d;var l={};e.prototype.toName=function(f){if(!(this.rgba.a||this.rgba.r||this.rgba.g||this.rgba.b))return \"transparent\";var d,i,n=r[this.toHex()];if(n)return n;if(null==f?void 0:f.closest){var o=this.toRgb(),t=1/0,b=\"black\";if(!l.length)for(var c in a)l[c]=new e(a[c]).toRgb();for(var g in a){var u=(d=o,i=l[g],Math.pow(d.r-i.r,2)+Math.pow(d.g-i.g,2)+Math.pow(d.b-i.b,2));u<t&&(t=u,b=g);}return b}};f.string.push([function(f){var r=f.toLowerCase(),d=\"transparent\"===r?\"#0000\":a[r];return d?new e(d).toRgb():null},\"name\"]);}\n\nexport { namesPlugin as default };\n//# sourceMappingURL=names.mjs.map\n","import { Color } from '@pixi/color';\nimport { deprecation } from '../logging/deprecation.mjs';\n\nfunction hex2rgb(hex, out = []) {\n  deprecation(\"7.2.0\", \"utils.hex2rgb is deprecated, use Color#toRgbArray instead\");\n  return Color.shared.setValue(hex).toRgbArray(out);\n}\nfunction hex2string(hex) {\n  deprecation(\"7.2.0\", \"utils.hex2string is deprecated, use Color#toHex instead\");\n  return Color.shared.setValue(hex).toHex();\n}\nfunction string2hex(string) {\n  deprecation(\"7.2.0\", \"utils.string2hex is deprecated, use Color#toNumber instead\");\n  return Color.shared.setValue(string).toNumber();\n}\nfunction rgb2hex(rgb) {\n  deprecation(\"7.2.0\", \"utils.rgb2hex is deprecated, use Color#toNumber instead\");\n  return Color.shared.setValue(rgb).toNumber();\n}\n\nexport { hex2rgb, hex2string, rgb2hex, string2hex };\n//# sourceMappingURL=hex.mjs.map\n","import { Color } from '@pixi/color';\nimport { BLEND_MODES } from '@pixi/constants';\nimport { deprecation } from '../logging/deprecation.mjs';\n\nfunction mapPremultipliedBlendModes() {\n  const pm = [];\n  const npm = [];\n  for (let i = 0; i < 32; i++) {\n    pm[i] = i;\n    npm[i] = i;\n  }\n  pm[BLEND_MODES.NORMAL_NPM] = BLEND_MODES.NORMAL;\n  pm[BLEND_MODES.ADD_NPM] = BLEND_MODES.ADD;\n  pm[BLEND_MODES.SCREEN_NPM] = BLEND_MODES.SCREEN;\n  npm[BLEND_MODES.NORMAL] = BLEND_MODES.NORMAL_NPM;\n  npm[BLEND_MODES.ADD] = BLEND_MODES.ADD_NPM;\n  npm[BLEND_MODES.SCREEN] = BLEND_MODES.SCREEN_NPM;\n  const array = [];\n  array.push(npm);\n  array.push(pm);\n  return array;\n}\nconst premultiplyBlendMode = mapPremultipliedBlendModes();\nfunction correctBlendMode(blendMode, premultiplied) {\n  return premultiplyBlendMode[premultiplied ? 1 : 0][blendMode];\n}\nfunction premultiplyRgba(rgb, alpha, out, premultiply = true) {\n  deprecation(\"7.2.0\", `utils.premultiplyRgba has moved to Color.premultiply`);\n  return Color.shared.setValue(rgb).premultiply(alpha, premultiply).toArray(out ?? new Float32Array(4));\n}\nfunction premultiplyTint(tint, alpha) {\n  deprecation(\"7.2.0\", `utils.premultiplyTint has moved to Color.toPremultiplied`);\n  return Color.shared.setValue(tint).toPremultiplied(alpha);\n}\nfunction premultiplyTintToRgba(tint, alpha, out, premultiply = true) {\n  deprecation(\"7.2.0\", `utils.premultiplyTintToRgba has moved to Color.premultiply`);\n  return Color.shared.setValue(tint).premultiply(alpha, premultiply).toArray(out ?? new Float32Array(4));\n}\n\nexport { correctBlendMode, premultiplyBlendMode, premultiplyRgba, premultiplyTint, premultiplyTintToRgba };\n//# sourceMappingURL=premultiply.mjs.map\n","function getBufferType(array) {\n  if (array.BYTES_PER_ELEMENT === 4) {\n    if (array instanceof Float32Array) {\n      return \"Float32Array\";\n    } else if (array instanceof Uint32Array) {\n      return \"Uint32Array\";\n    }\n    return \"Int32Array\";\n  } else if (array.BYTES_PER_ELEMENT === 2) {\n    if (array instanceof Uint16Array) {\n      return \"Uint16Array\";\n    }\n  } else if (array.BYTES_PER_ELEMENT === 1) {\n    if (array instanceof Uint8Array) {\n      return \"Uint8Array\";\n    }\n  }\n  return null;\n}\n\nexport { getBufferType };\n//# sourceMappingURL=getBufferType.mjs.map\n","function nextPow2(v) {\n  v += v === 0 ? 1 : 0;\n  --v;\n  v |= v >>> 1;\n  v |= v >>> 2;\n  v |= v >>> 4;\n  v |= v >>> 8;\n  v |= v >>> 16;\n  return v + 1;\n}\nfunction isPow2(v) {\n  return !(v & v - 1) && !!v;\n}\nfunction log2(v) {\n  let r = (v > 65535 ? 1 : 0) << 4;\n  v >>>= r;\n  let shift = (v > 255 ? 1 : 0) << 3;\n  v >>>= shift;\n  r |= shift;\n  shift = (v > 15 ? 1 : 0) << 2;\n  v >>>= shift;\n  r |= shift;\n  shift = (v > 3 ? 1 : 0) << 1;\n  v >>>= shift;\n  r |= shift;\n  return r | v >> 1;\n}\n\nexport { isPow2, log2, nextPow2 };\n//# sourceMappingURL=pow2.mjs.map\n","function removeItems(arr, startIdx, removeCount) {\n  const length = arr.length;\n  let i;\n  if (startIdx >= length || removeCount === 0) {\n    return;\n  }\n  removeCount = startIdx + removeCount > length ? length - startIdx : removeCount;\n  const len = length - removeCount;\n  for (i = startIdx; i < len; ++i) {\n    arr[i] = arr[i + removeCount];\n  }\n  arr.length = len;\n}\n\nexport { removeItems };\n//# sourceMappingURL=removeItems.mjs.map\n","function sign(n) {\n  if (n === 0)\n    return 0;\n  return n < 0 ? -1 : 1;\n}\n\nexport { sign };\n//# sourceMappingURL=sign.mjs.map\n","import { getBufferType } from './getBufferType.mjs';\n\nconst map = { Float32Array, Uint32Array, Int32Array, Uint8Array };\nfunction interleaveTypedArrays(arrays, sizes) {\n  let outSize = 0;\n  let stride = 0;\n  const views = {};\n  for (let i = 0; i < arrays.length; i++) {\n    stride += sizes[i];\n    outSize += arrays[i].length;\n  }\n  const buffer = new ArrayBuffer(outSize * 4);\n  let out = null;\n  let littleOffset = 0;\n  for (let i = 0; i < arrays.length; i++) {\n    const size = sizes[i];\n    const array = arrays[i];\n    const type = getBufferType(array);\n    if (!views[type]) {\n      views[type] = new map[type](buffer);\n    }\n    out = views[type];\n    for (let j = 0; j < array.length; j++) {\n      const indexStart = (j / size | 0) * stride + littleOffset;\n      const index = j % size;\n      out[indexStart + index] = array[j];\n    }\n    littleOffset += size;\n  }\n  return new Float32Array(buffer);\n}\n\nexport { interleaveTypedArrays };\n//# sourceMappingURL=interleaveTypedArrays.mjs.map\n","let nextUid = 0;\nfunction uid() {\n  return ++nextUid;\n}\n\nexport { uid };\n//# sourceMappingURL=uid.mjs.map\n","const _BoundingBox = class {\n  constructor(left, top, right, bottom) {\n    this.left = left;\n    this.top = top;\n    this.right = right;\n    this.bottom = bottom;\n  }\n  get width() {\n    return this.right - this.left;\n  }\n  get height() {\n    return this.bottom - this.top;\n  }\n  isEmpty() {\n    return this.left === this.right || this.top === this.bottom;\n  }\n};\nlet BoundingBox = _BoundingBox;\nBoundingBox.EMPTY = new _BoundingBox(0, 0, 0, 0);\n\nexport { BoundingBox };\n//# sourceMappingURL=BoundingBox.mjs.map\n","const ProgramCache = {};\nconst TextureCache = /* @__PURE__ */ Object.create(null);\nconst BaseTextureCache = /* @__PURE__ */ Object.create(null);\nfunction destroyTextureCache() {\n  let key;\n  for (key in TextureCache) {\n    TextureCache[key].destroy();\n  }\n  for (key in BaseTextureCache) {\n    BaseTextureCache[key].destroy();\n  }\n}\nfunction clearTextureCache() {\n  let key;\n  for (key in TextureCache) {\n    delete TextureCache[key];\n  }\n  for (key in BaseTextureCache) {\n    delete BaseTextureCache[key];\n  }\n}\n\nexport { BaseTextureCache, ProgramCache, TextureCache, clearTextureCache, destroyTextureCache };\n//# sourceMappingURL=caches.mjs.map\n","import { settings } from '@pixi/settings';\n\nclass CanvasRenderTarget {\n  constructor(width, height, resolution) {\n    this._canvas = settings.ADAPTER.createCanvas();\n    this._context = this._canvas.getContext(\"2d\");\n    this.resolution = resolution || settings.RESOLUTION;\n    this.resize(width, height);\n  }\n  clear() {\n    this._checkDestroyed();\n    this._context.setTransform(1, 0, 0, 1, 0, 0);\n    this._context.clearRect(0, 0, this._canvas.width, this._canvas.height);\n  }\n  resize(desiredWidth, desiredHeight) {\n    this._checkDestroyed();\n    this._canvas.width = Math.round(desiredWidth * this.resolution);\n    this._canvas.height = Math.round(desiredHeight * this.resolution);\n  }\n  destroy() {\n    this._context = null;\n    this._canvas = null;\n  }\n  get width() {\n    this._checkDestroyed();\n    return this._canvas.width;\n  }\n  set width(val) {\n    this._checkDestroyed();\n    this._canvas.width = Math.round(val);\n  }\n  get height() {\n    this._checkDestroyed();\n    return this._canvas.height;\n  }\n  set height(val) {\n    this._checkDestroyed();\n    this._canvas.height = Math.round(val);\n  }\n  get canvas() {\n    this._checkDestroyed();\n    return this._canvas;\n  }\n  get context() {\n    this._checkDestroyed();\n    return this._context;\n  }\n  _checkDestroyed() {\n    if (this._canvas === null) {\n      throw new TypeError(\"The CanvasRenderTarget has already been destroyed\");\n    }\n  }\n}\n\nexport { CanvasRenderTarget };\n//# sourceMappingURL=CanvasRenderTarget.mjs.map\n","import { BoundingBox } from './BoundingBox.mjs';\n\nfunction checkRow(data, width, y) {\n  for (let x = 0, index = 4 * y * width; x < width; ++x, index += 4) {\n    if (data[index + 3] !== 0)\n      return false;\n  }\n  return true;\n}\nfunction checkColumn(data, width, x, top, bottom) {\n  const stride = 4 * width;\n  for (let y = top, index = top * stride + 4 * x; y <= bottom; ++y, index += stride) {\n    if (data[index + 3] !== 0)\n      return false;\n  }\n  return true;\n}\nfunction getCanvasBoundingBox(canvas) {\n  const { width, height } = canvas;\n  const context = canvas.getContext(\"2d\", {\n    willReadFrequently: true\n  });\n  if (context === null) {\n    throw new TypeError(\"Failed to get canvas 2D context\");\n  }\n  const imageData = context.getImageData(0, 0, width, height);\n  const data = imageData.data;\n  let left = 0;\n  let top = 0;\n  let right = width - 1;\n  let bottom = height - 1;\n  while (top < height && checkRow(data, width, top))\n    ++top;\n  if (top === height)\n    return BoundingBox.EMPTY;\n  while (checkRow(data, width, bottom))\n    --bottom;\n  while (checkColumn(data, width, left, top, bottom))\n    ++left;\n  while (checkColumn(data, width, right, top, bottom))\n    --right;\n  ++right;\n  ++bottom;\n  return new BoundingBox(left, top, right, bottom);\n}\n\nexport { getCanvasBoundingBox };\n//# sourceMappingURL=getCanvasBoundingBox.mjs.map\n","import { url } from '../url.mjs';\n\nlet tempAnchor;\nfunction determineCrossOrigin(url$1, loc = globalThis.location) {\n  if (url$1.startsWith(\"data:\")) {\n    return \"\";\n  }\n  loc = loc || globalThis.location;\n  if (!tempAnchor) {\n    tempAnchor = document.createElement(\"a\");\n  }\n  tempAnchor.href = url$1;\n  const parsedUrl = url.parse(tempAnchor.href);\n  const samePort = !parsedUrl.port && loc.port === \"\" || parsedUrl.port === loc.port;\n  if (parsedUrl.hostname !== loc.hostname || !samePort || parsedUrl.protocol !== loc.protocol) {\n    return \"anonymous\";\n  }\n  return \"\";\n}\n\nexport { determineCrossOrigin };\n//# sourceMappingURL=determineCrossOrigin.mjs.map\n","import '../settings.mjs';\nimport { settings } from '@pixi/settings';\n\nfunction getResolutionOfUrl(url, defaultValue = 1) {\n  const resolution = settings.RETINA_PREFIX?.exec(url);\n  if (resolution) {\n    return parseFloat(resolution[1]);\n  }\n  return defaultValue;\n}\n\nexport { getResolutionOfUrl };\n//# sourceMappingURL=getResolutionOfUrl.mjs.map\n","var ExtensionType = /* @__PURE__ */ ((ExtensionType2) => {\n  ExtensionType2[\"Renderer\"] = \"renderer\";\n  ExtensionType2[\"Application\"] = \"application\";\n  ExtensionType2[\"RendererSystem\"] = \"renderer-webgl-system\";\n  ExtensionType2[\"RendererPlugin\"] = \"renderer-webgl-plugin\";\n  ExtensionType2[\"CanvasRendererSystem\"] = \"renderer-canvas-system\";\n  ExtensionType2[\"CanvasRendererPlugin\"] = \"renderer-canvas-plugin\";\n  ExtensionType2[\"Asset\"] = \"asset\";\n  ExtensionType2[\"LoadParser\"] = \"load-parser\";\n  ExtensionType2[\"ResolveParser\"] = \"resolve-parser\";\n  ExtensionType2[\"CacheParser\"] = \"cache-parser\";\n  ExtensionType2[\"DetectionParser\"] = \"detection-parser\";\n  return ExtensionType2;\n})(ExtensionType || {});\nconst normalizeExtension = (ext) => {\n  if (typeof ext === \"function\" || typeof ext === \"object\" && ext.extension) {\n    if (!ext.extension) {\n      throw new Error(\"Extension class must have an extension object\");\n    }\n    const metadata = typeof ext.extension !== \"object\" ? { type: ext.extension } : ext.extension;\n    ext = { ...metadata, ref: ext };\n  }\n  if (typeof ext === \"object\") {\n    ext = { ...ext };\n  } else {\n    throw new Error(\"Invalid extension type\");\n  }\n  if (typeof ext.type === \"string\") {\n    ext.type = [ext.type];\n  }\n  return ext;\n};\nconst normalizePriority = (ext, defaultPriority) => normalizeExtension(ext).priority ?? defaultPriority;\nconst extensions = {\n  _addHandlers: {},\n  _removeHandlers: {},\n  _queue: {},\n  remove(...extensions2) {\n    extensions2.map(normalizeExtension).forEach((ext) => {\n      ext.type.forEach((type) => this._removeHandlers[type]?.(ext));\n    });\n    return this;\n  },\n  add(...extensions2) {\n    extensions2.map(normalizeExtension).forEach((ext) => {\n      ext.type.forEach((type) => {\n        const handlers = this._addHandlers;\n        const queue = this._queue;\n        if (!handlers[type]) {\n          queue[type] = queue[type] || [];\n          queue[type].push(ext);\n        } else {\n          handlers[type](ext);\n        }\n      });\n    });\n    return this;\n  },\n  handle(type, onAdd, onRemove) {\n    const addHandlers = this._addHandlers;\n    const removeHandlers = this._removeHandlers;\n    if (addHandlers[type] || removeHandlers[type]) {\n      throw new Error(`Extension type ${type} already has a handler`);\n    }\n    addHandlers[type] = onAdd;\n    removeHandlers[type] = onRemove;\n    const queue = this._queue;\n    if (queue[type]) {\n      queue[type].forEach((ext) => onAdd(ext));\n      delete queue[type];\n    }\n    return this;\n  },\n  handleByMap(type, map) {\n    return this.handle(type, (extension) => {\n      map[extension.name] = extension.ref;\n    }, (extension) => {\n      delete map[extension.name];\n    });\n  },\n  handleByList(type, list, defaultPriority = -1) {\n    return this.handle(type, (extension) => {\n      if (list.includes(extension.ref)) {\n        return;\n      }\n      list.push(extension.ref);\n      list.sort((a, b) => normalizePriority(b, defaultPriority) - normalizePriority(a, defaultPriority));\n    }, (extension) => {\n      const index = list.indexOf(extension.ref);\n      if (index !== -1) {\n        list.splice(index, 1);\n      }\n    });\n  }\n};\n\nexport { ExtensionType, extensions };\n//# sourceMappingURL=index.mjs.map\n","class ViewableBuffer {\n  constructor(sizeOrBuffer) {\n    if (typeof sizeOrBuffer === \"number\") {\n      this.rawBinaryData = new ArrayBuffer(sizeOrBuffer);\n    } else if (sizeOrBuffer instanceof Uint8Array) {\n      this.rawBinaryData = sizeOrBuffer.buffer;\n    } else {\n      this.rawBinaryData = sizeOrBuffer;\n    }\n    this.uint32View = new Uint32Array(this.rawBinaryData);\n    this.float32View = new Float32Array(this.rawBinaryData);\n  }\n  get int8View() {\n    if (!this._int8View) {\n      this._int8View = new Int8Array(this.rawBinaryData);\n    }\n    return this._int8View;\n  }\n  get uint8View() {\n    if (!this._uint8View) {\n      this._uint8View = new Uint8Array(this.rawBinaryData);\n    }\n    return this._uint8View;\n  }\n  get int16View() {\n    if (!this._int16View) {\n      this._int16View = new Int16Array(this.rawBinaryData);\n    }\n    return this._int16View;\n  }\n  get uint16View() {\n    if (!this._uint16View) {\n      this._uint16View = new Uint16Array(this.rawBinaryData);\n    }\n    return this._uint16View;\n  }\n  get int32View() {\n    if (!this._int32View) {\n      this._int32View = new Int32Array(this.rawBinaryData);\n    }\n    return this._int32View;\n  }\n  view(type) {\n    return this[`${type}View`];\n  }\n  destroy() {\n    this.rawBinaryData = null;\n    this._int8View = null;\n    this._uint8View = null;\n    this._int16View = null;\n    this._uint16View = null;\n    this._int32View = null;\n    this.uint32View = null;\n    this.float32View = null;\n  }\n  static sizeOf(type) {\n    switch (type) {\n      case \"int8\":\n      case \"uint8\":\n        return 1;\n      case \"int16\":\n      case \"uint16\":\n        return 2;\n      case \"int32\":\n      case \"uint32\":\n      case \"float32\":\n        return 4;\n      default:\n        throw new Error(`${type} isn't a valid view type`);\n    }\n  }\n}\n\nexport { ViewableBuffer };\n//# sourceMappingURL=ViewableBuffer.mjs.map\n","const fragTemplate = [\n  \"precision mediump float;\",\n  \"void main(void){\",\n  \"float test = 0.1;\",\n  \"%forloop%\",\n  \"gl_FragColor = vec4(0.0);\",\n  \"}\"\n].join(\"\\n\");\nfunction generateIfTestSrc(maxIfs) {\n  let src = \"\";\n  for (let i = 0; i < maxIfs; ++i) {\n    if (i > 0) {\n      src += \"\\nelse \";\n    }\n    if (i < maxIfs - 1) {\n      src += `if(test == ${i}.0){}`;\n    }\n  }\n  return src;\n}\nfunction checkMaxIfStatementsInShader(maxIfs, gl) {\n  if (maxIfs === 0) {\n    throw new Error(\"Invalid value of `0` passed to `checkMaxIfStatementsInShader`\");\n  }\n  const shader = gl.createShader(gl.FRAGMENT_SHADER);\n  while (true) {\n    const fragmentSrc = fragTemplate.replace(/%forloop%/gi, generateIfTestSrc(maxIfs));\n    gl.shaderSource(shader, fragmentSrc);\n    gl.compileShader(shader);\n    if (!gl.getShaderParameter(shader, gl.COMPILE_STATUS)) {\n      maxIfs = maxIfs / 2 | 0;\n    } else {\n      break;\n    }\n  }\n  return maxIfs;\n}\n\nexport { checkMaxIfStatementsInShader };\n//# sourceMappingURL=checkMaxIfStatementsInShader.mjs.map\n","import { BLEND_MODES } from '@pixi/constants';\n\nconst BLEND = 0;\nconst OFFSET = 1;\nconst CULLING = 2;\nconst DEPTH_TEST = 3;\nconst WINDING = 4;\nconst DEPTH_MASK = 5;\nclass State {\n  constructor() {\n    this.data = 0;\n    this.blendMode = BLEND_MODES.NORMAL;\n    this.polygonOffset = 0;\n    this.blend = true;\n    this.depthMask = true;\n  }\n  get blend() {\n    return !!(this.data & 1 << BLEND);\n  }\n  set blend(value) {\n    if (!!(this.data & 1 << BLEND) !== value) {\n      this.data ^= 1 << BLEND;\n    }\n  }\n  get offsets() {\n    return !!(this.data & 1 << OFFSET);\n  }\n  set offsets(value) {\n    if (!!(this.data & 1 << OFFSET) !== value) {\n      this.data ^= 1 << OFFSET;\n    }\n  }\n  get culling() {\n    return !!(this.data & 1 << CULLING);\n  }\n  set culling(value) {\n    if (!!(this.data & 1 << CULLING) !== value) {\n      this.data ^= 1 << CULLING;\n    }\n  }\n  get depthTest() {\n    return !!(this.data & 1 << DEPTH_TEST);\n  }\n  set depthTest(value) {\n    if (!!(this.data & 1 << DEPTH_TEST) !== value) {\n      this.data ^= 1 << DEPTH_TEST;\n    }\n  }\n  get depthMask() {\n    return !!(this.data & 1 << DEPTH_MASK);\n  }\n  set depthMask(value) {\n    if (!!(this.data & 1 << DEPTH_MASK) !== value) {\n      this.data ^= 1 << DEPTH_MASK;\n    }\n  }\n  get clockwiseFrontFace() {\n    return !!(this.data & 1 << WINDING);\n  }\n  set clockwiseFrontFace(value) {\n    if (!!(this.data & 1 << WINDING) !== value) {\n      this.data ^= 1 << WINDING;\n    }\n  }\n  get blendMode() {\n    return this._blendMode;\n  }\n  set blendMode(value) {\n    this.blend = value !== BLEND_MODES.NONE;\n    this._blendMode = value;\n  }\n  get polygonOffset() {\n    return this._polygonOffset;\n  }\n  set polygonOffset(value) {\n    this.offsets = !!value;\n    this._polygonOffset = value;\n  }\n  toString() {\n    return `[@pixi/core:State blendMode=${this.blendMode} clockwiseFrontFace=${this.clockwiseFrontFace} culling=${this.culling} depthMask=${this.depthMask} polygonOffset=${this.polygonOffset}]`;\n  }\n  static for2d() {\n    const state = new State();\n    state.depthTest = false;\n    state.blend = true;\n    return state;\n  }\n}\n\nexport { State };\n//# sourceMappingURL=State.mjs.map\n","const INSTALLED = [];\nfunction autoDetectResource(source, options) {\n  if (!source) {\n    return null;\n  }\n  let extension = \"\";\n  if (typeof source === \"string\") {\n    const result = /\\.(\\w{3,4})(?:$|\\?|#)/i.exec(source);\n    if (result) {\n      extension = result[1].toLowerCase();\n    }\n  }\n  for (let i = INSTALLED.length - 1; i >= 0; --i) {\n    const ResourcePlugin = INSTALLED[i];\n    if (ResourcePlugin.test && ResourcePlugin.test(source, extension)) {\n      return new ResourcePlugin(source, options);\n    }\n  }\n  throw new Error(\"Unrecognized source type to auto-detect Resource\");\n}\n\nexport { INSTALLED, autoDetectResource };\n//# sourceMappingURL=autoDetectResource.mjs.map\n","class Runner {\n  constructor(name) {\n    this.items = [];\n    this._name = name;\n    this._aliasCount = 0;\n  }\n  emit(a0, a1, a2, a3, a4, a5, a6, a7) {\n    if (arguments.length > 8) {\n      throw new Error(\"max arguments reached\");\n    }\n    const { name, items } = this;\n    this._aliasCount++;\n    for (let i = 0, len = items.length; i < len; i++) {\n      items[i][name](a0, a1, a2, a3, a4, a5, a6, a7);\n    }\n    if (items === this.items) {\n      this._aliasCount--;\n    }\n    return this;\n  }\n  ensureNonAliasedItems() {\n    if (this._aliasCount > 0 && this.items.length > 1) {\n      this._aliasCount = 0;\n      this.items = this.items.slice(0);\n    }\n  }\n  add(item) {\n    if (item[this._name]) {\n      this.ensureNonAliasedItems();\n      this.remove(item);\n      this.items.push(item);\n    }\n    return this;\n  }\n  remove(item) {\n    const index = this.items.indexOf(item);\n    if (index !== -1) {\n      this.ensureNonAliasedItems();\n      this.items.splice(index, 1);\n    }\n    return this;\n  }\n  contains(item) {\n    return this.items.includes(item);\n  }\n  removeAll() {\n    this.ensureNonAliasedItems();\n    this.items.length = 0;\n    return this;\n  }\n  destroy() {\n    this.removeAll();\n    this.items = null;\n    this._name = null;\n  }\n  get empty() {\n    return this.items.length === 0;\n  }\n  get name() {\n    return this._name;\n  }\n}\nObject.defineProperties(Runner.prototype, {\n  dispatch: { value: Runner.prototype.emit },\n  run: { value: Runner.prototype.emit }\n});\n\nexport { Runner };\n//# sourceMappingURL=Runner.mjs.map\n","import { Runner } from '@pixi/runner';\n\nclass Resource {\n  constructor(width = 0, height = 0) {\n    this._width = width;\n    this._height = height;\n    this.destroyed = false;\n    this.internal = false;\n    this.onResize = new Runner(\"setRealSize\");\n    this.onUpdate = new Runner(\"update\");\n    this.onError = new Runner(\"onError\");\n  }\n  bind(baseTexture) {\n    this.onResize.add(baseTexture);\n    this.onUpdate.add(baseTexture);\n    this.onError.add(baseTexture);\n    if (this._width || this._height) {\n      this.onResize.emit(this._width, this._height);\n    }\n  }\n  unbind(baseTexture) {\n    this.onResize.remove(baseTexture);\n    this.onUpdate.remove(baseTexture);\n    this.onError.remove(baseTexture);\n  }\n  resize(width, height) {\n    if (width !== this._width || height !== this._height) {\n      this._width = width;\n      this._height = height;\n      this.onResize.emit(width, height);\n    }\n  }\n  get valid() {\n    return !!this._width && !!this._height;\n  }\n  update() {\n    if (!this.destroyed) {\n      this.onUpdate.emit();\n    }\n  }\n  load() {\n    return Promise.resolve(this);\n  }\n  get width() {\n    return this._width;\n  }\n  get height() {\n    return this._height;\n  }\n  style(_renderer, _baseTexture, _glTexture) {\n    return false;\n  }\n  dispose() {\n  }\n  destroy() {\n    if (!this.destroyed) {\n      this.destroyed = true;\n      this.dispose();\n      this.onError.removeAll();\n      this.onError = null;\n      this.onResize.removeAll();\n      this.onResize = null;\n      this.onUpdate.removeAll();\n      this.onUpdate = null;\n    }\n  }\n  static test(_source, _extension) {\n    return false;\n  }\n}\n\nexport { Resource };\n//# sourceMappingURL=Resource.mjs.map\n","import { ALPHA_MODES } from '@pixi/constants';\nimport { Resource } from './Resource.mjs';\n\nclass BufferResource extends Resource {\n  constructor(source, options) {\n    const { width, height } = options || {};\n    if (!width || !height) {\n      throw new Error(\"BufferResource width or height invalid\");\n    }\n    super(width, height);\n    this.data = source;\n  }\n  upload(renderer, baseTexture, glTexture) {\n    const gl = renderer.gl;\n    gl.pixelStorei(gl.UNPACK_PREMULTIPLY_ALPHA_WEBGL, baseTexture.alphaMode === ALPHA_MODES.UNPACK);\n    const width = baseTexture.realWidth;\n    const height = baseTexture.realHeight;\n    if (glTexture.width === width && glTexture.height === height) {\n      gl.texSubImage2D(baseTexture.target, 0, 0, 0, width, height, baseTexture.format, glTexture.type, this.data);\n    } else {\n      glTexture.width = width;\n      glTexture.height = height;\n      gl.texImage2D(baseTexture.target, 0, glTexture.internalFormat, width, height, 0, baseTexture.format, glTexture.type, this.data);\n    }\n    return true;\n  }\n  dispose() {\n    this.data = null;\n  }\n  static test(source) {\n    return source instanceof Float32Array || source instanceof Uint8Array || source instanceof Uint32Array;\n  }\n}\n\nexport { BufferResource };\n//# sourceMappingURL=BufferResource.mjs.map\n","import { SCALE_MODES, FORMATS, ALPHA_MODES, TYPES, MIPMAP_MODES, WRAP_MODES, TARGETS } from '@pixi/constants';\nimport { settings } from '@pixi/settings';\nimport { EventEmitter, uid, isPow2, BaseTextureCache, TextureCache } from '@pixi/utils';\nimport { autoDetectResource } from './resources/autoDetectResource.mjs';\nimport { BufferResource } from './resources/BufferResource.mjs';\nimport { Resource } from './resources/Resource.mjs';\n\nconst defaultBufferOptions = {\n  scaleMode: SCALE_MODES.NEAREST,\n  format: FORMATS.RGBA,\n  alphaMode: ALPHA_MODES.NPM\n};\nconst _BaseTexture = class extends EventEmitter {\n  constructor(resource = null, options = null) {\n    super();\n    options = Object.assign({}, _BaseTexture.defaultOptions, options);\n    const {\n      alphaMode,\n      mipmap,\n      anisotropicLevel,\n      scaleMode,\n      width,\n      height,\n      wrapMode,\n      format,\n      type,\n      target,\n      resolution,\n      resourceOptions\n    } = options;\n    if (resource && !(resource instanceof Resource)) {\n      resource = autoDetectResource(resource, resourceOptions);\n      resource.internal = true;\n    }\n    this.resolution = resolution || settings.RESOLUTION;\n    this.width = Math.round((width || 0) * this.resolution) / this.resolution;\n    this.height = Math.round((height || 0) * this.resolution) / this.resolution;\n    this._mipmap = mipmap;\n    this.anisotropicLevel = anisotropicLevel;\n    this._wrapMode = wrapMode;\n    this._scaleMode = scaleMode;\n    this.format = format;\n    this.type = type;\n    this.target = target;\n    this.alphaMode = alphaMode;\n    this.uid = uid();\n    this.touched = 0;\n    this.isPowerOfTwo = false;\n    this._refreshPOT();\n    this._glTextures = {};\n    this.dirtyId = 0;\n    this.dirtyStyleId = 0;\n    this.cacheId = null;\n    this.valid = width > 0 && height > 0;\n    this.textureCacheIds = [];\n    this.destroyed = false;\n    this.resource = null;\n    this._batchEnabled = 0;\n    this._batchLocation = 0;\n    this.parentTextureArray = null;\n    this.setResource(resource);\n  }\n  get realWidth() {\n    return Math.round(this.width * this.resolution);\n  }\n  get realHeight() {\n    return Math.round(this.height * this.resolution);\n  }\n  get mipmap() {\n    return this._mipmap;\n  }\n  set mipmap(value) {\n    if (this._mipmap !== value) {\n      this._mipmap = value;\n      this.dirtyStyleId++;\n    }\n  }\n  get scaleMode() {\n    return this._scaleMode;\n  }\n  set scaleMode(value) {\n    if (this._scaleMode !== value) {\n      this._scaleMode = value;\n      this.dirtyStyleId++;\n    }\n  }\n  get wrapMode() {\n    return this._wrapMode;\n  }\n  set wrapMode(value) {\n    if (this._wrapMode !== value) {\n      this._wrapMode = value;\n      this.dirtyStyleId++;\n    }\n  }\n  setStyle(scaleMode, mipmap) {\n    let dirty;\n    if (scaleMode !== void 0 && scaleMode !== this.scaleMode) {\n      this.scaleMode = scaleMode;\n      dirty = true;\n    }\n    if (mipmap !== void 0 && mipmap !== this.mipmap) {\n      this.mipmap = mipmap;\n      dirty = true;\n    }\n    if (dirty) {\n      this.dirtyStyleId++;\n    }\n    return this;\n  }\n  setSize(desiredWidth, desiredHeight, resolution) {\n    resolution = resolution || this.resolution;\n    return this.setRealSize(desiredWidth * resolution, desiredHeight * resolution, resolution);\n  }\n  setRealSize(realWidth, realHeight, resolution) {\n    this.resolution = resolution || this.resolution;\n    this.width = Math.round(realWidth) / this.resolution;\n    this.height = Math.round(realHeight) / this.resolution;\n    this._refreshPOT();\n    this.update();\n    return this;\n  }\n  _refreshPOT() {\n    this.isPowerOfTwo = isPow2(this.realWidth) && isPow2(this.realHeight);\n  }\n  setResolution(resolution) {\n    const oldResolution = this.resolution;\n    if (oldResolution === resolution) {\n      return this;\n    }\n    this.resolution = resolution;\n    if (this.valid) {\n      this.width = Math.round(this.width * oldResolution) / resolution;\n      this.height = Math.round(this.height * oldResolution) / resolution;\n      this.emit(\"update\", this);\n    }\n    this._refreshPOT();\n    return this;\n  }\n  setResource(resource) {\n    if (this.resource === resource) {\n      return this;\n    }\n    if (this.resource) {\n      throw new Error(\"Resource can be set only once\");\n    }\n    resource.bind(this);\n    this.resource = resource;\n    return this;\n  }\n  update() {\n    if (!this.valid) {\n      if (this.width > 0 && this.height > 0) {\n        this.valid = true;\n        this.emit(\"loaded\", this);\n        this.emit(\"update\", this);\n      }\n    } else {\n      this.dirtyId++;\n      this.dirtyStyleId++;\n      this.emit(\"update\", this);\n    }\n  }\n  onError(event) {\n    this.emit(\"error\", this, event);\n  }\n  destroy() {\n    if (this.resource) {\n      this.resource.unbind(this);\n      if (this.resource.internal) {\n        this.resource.destroy();\n      }\n      this.resource = null;\n    }\n    if (this.cacheId) {\n      delete BaseTextureCache[this.cacheId];\n      delete TextureCache[this.cacheId];\n      this.cacheId = null;\n    }\n    this.dispose();\n    _BaseTexture.removeFromCache(this);\n    this.textureCacheIds = null;\n    this.destroyed = true;\n  }\n  dispose() {\n    this.emit(\"dispose\", this);\n  }\n  castToBaseTexture() {\n    return this;\n  }\n  static from(source, options, strict = settings.STRICT_TEXTURE_CACHE) {\n    const isFrame = typeof source === \"string\";\n    let cacheId = null;\n    if (isFrame) {\n      cacheId = source;\n    } else {\n      if (!source._pixiId) {\n        const prefix = options?.pixiIdPrefix || \"pixiid\";\n        source._pixiId = `${prefix}_${uid()}`;\n      }\n      cacheId = source._pixiId;\n    }\n    let baseTexture = BaseTextureCache[cacheId];\n    if (isFrame && strict && !baseTexture) {\n      throw new Error(`The cacheId \"${cacheId}\" does not exist in BaseTextureCache.`);\n    }\n    if (!baseTexture) {\n      baseTexture = new _BaseTexture(source, options);\n      baseTexture.cacheId = cacheId;\n      _BaseTexture.addToCache(baseTexture, cacheId);\n    }\n    return baseTexture;\n  }\n  static fromBuffer(buffer, width, height, options) {\n    buffer = buffer || new Float32Array(width * height * 4);\n    const resource = new BufferResource(buffer, { width, height });\n    const type = buffer instanceof Float32Array ? TYPES.FLOAT : TYPES.UNSIGNED_BYTE;\n    return new _BaseTexture(resource, Object.assign({}, defaultBufferOptions, options || { width, height, type }));\n  }\n  static addToCache(baseTexture, id) {\n    if (id) {\n      if (!baseTexture.textureCacheIds.includes(id)) {\n        baseTexture.textureCacheIds.push(id);\n      }\n      if (BaseTextureCache[id] && BaseTextureCache[id] !== baseTexture) {\n        console.warn(`BaseTexture added to the cache with an id [${id}] that already had an entry`);\n      }\n      BaseTextureCache[id] = baseTexture;\n    }\n  }\n  static removeFromCache(baseTexture) {\n    if (typeof baseTexture === \"string\") {\n      const baseTextureFromCache = BaseTextureCache[baseTexture];\n      if (baseTextureFromCache) {\n        const index = baseTextureFromCache.textureCacheIds.indexOf(baseTexture);\n        if (index > -1) {\n          baseTextureFromCache.textureCacheIds.splice(index, 1);\n        }\n        delete BaseTextureCache[baseTexture];\n        return baseTextureFromCache;\n      }\n    } else if (baseTexture?.textureCacheIds) {\n      for (let i = 0; i < baseTexture.textureCacheIds.length; ++i) {\n        delete BaseTextureCache[baseTexture.textureCacheIds[i]];\n      }\n      baseTexture.textureCacheIds.length = 0;\n      return baseTexture;\n    }\n    return null;\n  }\n};\nlet BaseTexture = _BaseTexture;\nBaseTexture.defaultOptions = {\n  mipmap: MIPMAP_MODES.POW2,\n  anisotropicLevel: 0,\n  scaleMode: SCALE_MODES.LINEAR,\n  wrapMode: WRAP_MODES.CLAMP,\n  alphaMode: ALPHA_MODES.UNPACK,\n  target: TARGETS.TEXTURE_2D,\n  format: FORMATS.RGBA,\n  type: TYPES.UNSIGNED_BYTE\n};\nBaseTexture._globalBatch = 0;\n\nexport { BaseTexture };\n//# sourceMappingURL=BaseTexture.mjs.map\n","import { DRAW_MODES } from '@pixi/constants';\n\nclass BatchDrawCall {\n  constructor() {\n    this.texArray = null;\n    this.blend = 0;\n    this.type = DRAW_MODES.TRIANGLES;\n    this.start = 0;\n    this.size = 0;\n    this.data = null;\n  }\n}\n\nexport { BatchDrawCall };\n//# sourceMappingURL=BatchDrawCall.mjs.map\n","import { BUFFER_TYPE } from '@pixi/constants';\nimport { Runner } from '@pixi/runner';\n\nlet UID = 0;\nclass Buffer {\n  constructor(data, _static = true, index = false) {\n    this.data = data || new Float32Array(1);\n    this._glBuffers = {};\n    this._updateID = 0;\n    this.index = index;\n    this.static = _static;\n    this.id = UID++;\n    this.disposeRunner = new Runner(\"disposeBuffer\");\n  }\n  update(data) {\n    if (data instanceof Array) {\n      data = new Float32Array(data);\n    }\n    this.data = data || this.data;\n    this._updateID++;\n  }\n  dispose() {\n    this.disposeRunner.emit(this, false);\n  }\n  destroy() {\n    this.dispose();\n    this.data = null;\n  }\n  set index(value) {\n    this.type = value ? BUFFER_TYPE.ELEMENT_ARRAY_BUFFER : BUFFER_TYPE.ARRAY_BUFFER;\n  }\n  get index() {\n    return this.type === BUFFER_TYPE.ELEMENT_ARRAY_BUFFER;\n  }\n  static from(data) {\n    if (data instanceof Array) {\n      data = new Float32Array(data);\n    }\n    return new Buffer(data);\n  }\n}\n\nexport { Buffer };\n//# sourceMappingURL=Buffer.mjs.map\n","import { TYPES } from '@pixi/constants';\n\nclass Attribute {\n  constructor(buffer, size = 0, normalized = false, type = TYPES.FLOAT, stride, start, instance, divisor = 1) {\n    this.buffer = buffer;\n    this.size = size;\n    this.normalized = normalized;\n    this.type = type;\n    this.stride = stride;\n    this.start = start;\n    this.instance = instance;\n    this.divisor = divisor;\n  }\n  destroy() {\n    this.buffer = null;\n  }\n  static from(buffer, size, normalized, type, stride) {\n    return new Attribute(buffer, size, normalized, type, stride);\n  }\n}\n\nexport { Attribute };\n//# sourceMappingURL=Attribute.mjs.map\n","import { getBufferType } from '@pixi/utils';\n\nconst map = {\n  Float32Array,\n  Uint32Array,\n  Int32Array,\n  Uint8Array\n};\nfunction interleaveTypedArrays(arrays, sizes) {\n  let outSize = 0;\n  let stride = 0;\n  const views = {};\n  for (let i = 0; i < arrays.length; i++) {\n    stride += sizes[i];\n    outSize += arrays[i].length;\n  }\n  const buffer = new ArrayBuffer(outSize * 4);\n  let out = null;\n  let littleOffset = 0;\n  for (let i = 0; i < arrays.length; i++) {\n    const size = sizes[i];\n    const array = arrays[i];\n    const type = getBufferType(array);\n    if (!views[type]) {\n      views[type] = new map[type](buffer);\n    }\n    out = views[type];\n    for (let j = 0; j < array.length; j++) {\n      const indexStart = (j / size | 0) * stride + littleOffset;\n      const index = j % size;\n      out[indexStart + index] = array[j];\n    }\n    littleOffset += size;\n  }\n  return new Float32Array(buffer);\n}\n\nexport { interleaveTypedArrays };\n//# sourceMappingURL=interleaveTypedArrays.mjs.map\n","import { BUFFER_TYPE } from '@pixi/constants';\nimport { Runner } from '@pixi/runner';\nimport { getBufferType } from '@pixi/utils';\nimport { Attribute } from './Attribute.mjs';\nimport { Buffer } from './Buffer.mjs';\nimport { interleaveTypedArrays } from './utils/interleaveTypedArrays.mjs';\n\nconst byteSizeMap = { 5126: 4, 5123: 2, 5121: 1 };\nlet UID = 0;\nconst map = {\n  Float32Array,\n  Uint32Array,\n  Int32Array,\n  Uint8Array,\n  Uint16Array\n};\nclass Geometry {\n  constructor(buffers = [], attributes = {}) {\n    this.buffers = buffers;\n    this.indexBuffer = null;\n    this.attributes = attributes;\n    this.glVertexArrayObjects = {};\n    this.id = UID++;\n    this.instanced = false;\n    this.instanceCount = 1;\n    this.disposeRunner = new Runner(\"disposeGeometry\");\n    this.refCount = 0;\n  }\n  addAttribute(id, buffer, size = 0, normalized = false, type, stride, start, instance = false) {\n    if (!buffer) {\n      throw new Error(\"You must pass a buffer when creating an attribute\");\n    }\n    if (!(buffer instanceof Buffer)) {\n      if (buffer instanceof Array) {\n        buffer = new Float32Array(buffer);\n      }\n      buffer = new Buffer(buffer);\n    }\n    const ids = id.split(\"|\");\n    if (ids.length > 1) {\n      for (let i = 0; i < ids.length; i++) {\n        this.addAttribute(ids[i], buffer, size, normalized, type);\n      }\n      return this;\n    }\n    let bufferIndex = this.buffers.indexOf(buffer);\n    if (bufferIndex === -1) {\n      this.buffers.push(buffer);\n      bufferIndex = this.buffers.length - 1;\n    }\n    this.attributes[id] = new Attribute(bufferIndex, size, normalized, type, stride, start, instance);\n    this.instanced = this.instanced || instance;\n    return this;\n  }\n  getAttribute(id) {\n    return this.attributes[id];\n  }\n  getBuffer(id) {\n    return this.buffers[this.getAttribute(id).buffer];\n  }\n  addIndex(buffer) {\n    if (!(buffer instanceof Buffer)) {\n      if (buffer instanceof Array) {\n        buffer = new Uint16Array(buffer);\n      }\n      buffer = new Buffer(buffer);\n    }\n    buffer.type = BUFFER_TYPE.ELEMENT_ARRAY_BUFFER;\n    this.indexBuffer = buffer;\n    if (!this.buffers.includes(buffer)) {\n      this.buffers.push(buffer);\n    }\n    return this;\n  }\n  getIndex() {\n    return this.indexBuffer;\n  }\n  interleave() {\n    if (this.buffers.length === 1 || this.buffers.length === 2 && this.indexBuffer)\n      return this;\n    const arrays = [];\n    const sizes = [];\n    const interleavedBuffer = new Buffer();\n    let i;\n    for (i in this.attributes) {\n      const attribute = this.attributes[i];\n      const buffer = this.buffers[attribute.buffer];\n      arrays.push(buffer.data);\n      sizes.push(attribute.size * byteSizeMap[attribute.type] / 4);\n      attribute.buffer = 0;\n    }\n    interleavedBuffer.data = interleaveTypedArrays(arrays, sizes);\n    for (i = 0; i < this.buffers.length; i++) {\n      if (this.buffers[i] !== this.indexBuffer) {\n        this.buffers[i].destroy();\n      }\n    }\n    this.buffers = [interleavedBuffer];\n    if (this.indexBuffer) {\n      this.buffers.push(this.indexBuffer);\n    }\n    return this;\n  }\n  getSize() {\n    for (const i in this.attributes) {\n      const attribute = this.attributes[i];\n      const buffer = this.buffers[attribute.buffer];\n      return buffer.data.length / (attribute.stride / 4 || attribute.size);\n    }\n    return 0;\n  }\n  dispose() {\n    this.disposeRunner.emit(this, false);\n  }\n  destroy() {\n    this.dispose();\n    this.buffers = null;\n    this.indexBuffer = null;\n    this.attributes = null;\n  }\n  clone() {\n    const geometry = new Geometry();\n    for (let i = 0; i < this.buffers.length; i++) {\n      geometry.buffers[i] = new Buffer(this.buffers[i].data.slice(0));\n    }\n    for (const i in this.attributes) {\n      const attrib = this.attributes[i];\n      geometry.attributes[i] = new Attribute(attrib.buffer, attrib.size, attrib.normalized, attrib.type, attrib.stride, attrib.start, attrib.instance);\n    }\n    if (this.indexBuffer) {\n      geometry.indexBuffer = geometry.buffers[this.buffers.indexOf(this.indexBuffer)];\n      geometry.indexBuffer.type = BUFFER_TYPE.ELEMENT_ARRAY_BUFFER;\n    }\n    return geometry;\n  }\n  static merge(geometries) {\n    const geometryOut = new Geometry();\n    const arrays = [];\n    const sizes = [];\n    const offsets = [];\n    let geometry;\n    for (let i = 0; i < geometries.length; i++) {\n      geometry = geometries[i];\n      for (let j = 0; j < geometry.buffers.length; j++) {\n        sizes[j] = sizes[j] || 0;\n        sizes[j] += geometry.buffers[j].data.length;\n        offsets[j] = 0;\n      }\n    }\n    for (let i = 0; i < geometry.buffers.length; i++) {\n      arrays[i] = new map[getBufferType(geometry.buffers[i].data)](sizes[i]);\n      geometryOut.buffers[i] = new Buffer(arrays[i]);\n    }\n    for (let i = 0; i < geometries.length; i++) {\n      geometry = geometries[i];\n      for (let j = 0; j < geometry.buffers.length; j++) {\n        arrays[j].set(geometry.buffers[j].data, offsets[j]);\n        offsets[j] += geometry.buffers[j].data.length;\n      }\n    }\n    geometryOut.attributes = geometry.attributes;\n    if (geometry.indexBuffer) {\n      geometryOut.indexBuffer = geometryOut.buffers[geometry.buffers.indexOf(geometry.indexBuffer)];\n      geometryOut.indexBuffer.type = BUFFER_TYPE.ELEMENT_ARRAY_BUFFER;\n      let offset = 0;\n      let stride = 0;\n      let offset2 = 0;\n      let bufferIndexToCount = 0;\n      for (let i = 0; i < geometry.buffers.length; i++) {\n        if (geometry.buffers[i] !== geometry.indexBuffer) {\n          bufferIndexToCount = i;\n          break;\n        }\n      }\n      for (const i in geometry.attributes) {\n        const attribute = geometry.attributes[i];\n        if ((attribute.buffer | 0) === bufferIndexToCount) {\n          stride += attribute.size * byteSizeMap[attribute.type] / 4;\n        }\n      }\n      for (let i = 0; i < geometries.length; i++) {\n        const indexBufferData = geometries[i].indexBuffer.data;\n        for (let j = 0; j < indexBufferData.length; j++) {\n          geometryOut.indexBuffer.data[j + offset2] += offset;\n        }\n        offset += geometries[i].buffers[bufferIndexToCount].data.length / stride;\n        offset2 += indexBufferData.length;\n      }\n    }\n    return geometryOut;\n  }\n}\n\nexport { Geometry };\n//# sourceMappingURL=Geometry.mjs.map\n","import { TYPES } from '@pixi/constants';\nimport { Buffer } from '../geometry/Buffer.mjs';\nimport { Geometry } from '../geometry/Geometry.mjs';\n\nclass BatchGeometry extends Geometry {\n  constructor(_static = false) {\n    super();\n    this._buffer = new Buffer(null, _static, false);\n    this._indexBuffer = new Buffer(null, _static, true);\n    this.addAttribute(\"aVertexPosition\", this._buffer, 2, false, TYPES.FLOAT).addAttribute(\"aTextureCoord\", this._buffer, 2, false, TYPES.FLOAT).addAttribute(\"aColor\", this._buffer, 4, true, TYPES.UNSIGNED_BYTE).addAttribute(\"aTextureId\", this._buffer, 1, true, TYPES.FLOAT).addIndex(this._indexBuffer);\n  }\n}\n\nexport { BatchGeometry };\n//# sourceMappingURL=BatchGeometry.mjs.map\n","const PI_2 = Math.PI * 2;\nconst RAD_TO_DEG = 180 / Math.PI;\nconst DEG_TO_RAD = Math.PI / 180;\nvar SHAPES = /* @__PURE__ */ ((SHAPES2) => {\n  SHAPES2[SHAPES2[\"POLY\"] = 0] = \"POLY\";\n  SHAPES2[SHAPES2[\"RECT\"] = 1] = \"RECT\";\n  SHAPES2[SHAPES2[\"CIRC\"] = 2] = \"CIRC\";\n  SHAPES2[SHAPES2[\"ELIP\"] = 3] = \"ELIP\";\n  SHAPES2[SHAPES2[\"RREC\"] = 4] = \"RREC\";\n  return SHAPES2;\n})(SHAPES || {});\n\nexport { DEG_TO_RAD, PI_2, RAD_TO_DEG, SHAPES };\n//# sourceMappingURL=const.mjs.map\n","class Point {\n  constructor(x = 0, y = 0) {\n    this.x = 0;\n    this.y = 0;\n    this.x = x;\n    this.y = y;\n  }\n  clone() {\n    return new Point(this.x, this.y);\n  }\n  copyFrom(p) {\n    this.set(p.x, p.y);\n    return this;\n  }\n  copyTo(p) {\n    p.set(this.x, this.y);\n    return p;\n  }\n  equals(p) {\n    return p.x === this.x && p.y === this.y;\n  }\n  set(x = 0, y = x) {\n    this.x = x;\n    this.y = y;\n    return this;\n  }\n  toString() {\n    return `[@pixi/math:Point x=${this.x} y=${this.y}]`;\n  }\n}\n\nexport { Point };\n//# sourceMappingURL=Point.mjs.map\n","import { SHAPES } from '../const.mjs';\nimport { Point } from '../Point.mjs';\n\nconst tempPoints = [new Point(), new Point(), new Point(), new Point()];\nclass Rectangle {\n  constructor(x = 0, y = 0, width = 0, height = 0) {\n    this.x = Number(x);\n    this.y = Number(y);\n    this.width = Number(width);\n    this.height = Number(height);\n    this.type = SHAPES.RECT;\n  }\n  get left() {\n    return this.x;\n  }\n  get right() {\n    return this.x + this.width;\n  }\n  get top() {\n    return this.y;\n  }\n  get bottom() {\n    return this.y + this.height;\n  }\n  static get EMPTY() {\n    return new Rectangle(0, 0, 0, 0);\n  }\n  clone() {\n    return new Rectangle(this.x, this.y, this.width, this.height);\n  }\n  copyFrom(rectangle) {\n    this.x = rectangle.x;\n    this.y = rectangle.y;\n    this.width = rectangle.width;\n    this.height = rectangle.height;\n    return this;\n  }\n  copyTo(rectangle) {\n    rectangle.x = this.x;\n    rectangle.y = this.y;\n    rectangle.width = this.width;\n    rectangle.height = this.height;\n    return rectangle;\n  }\n  contains(x, y) {\n    if (this.width <= 0 || this.height <= 0) {\n      return false;\n    }\n    if (x >= this.x && x < this.x + this.width) {\n      if (y >= this.y && y < this.y + this.height) {\n        return true;\n      }\n    }\n    return false;\n  }\n  intersects(other, transform) {\n    if (!transform) {\n      const x02 = this.x < other.x ? other.x : this.x;\n      const x12 = this.right > other.right ? other.right : this.right;\n      if (x12 <= x02) {\n        return false;\n      }\n      const y02 = this.y < other.y ? other.y : this.y;\n      const y12 = this.bottom > other.bottom ? other.bottom : this.bottom;\n      return y12 > y02;\n    }\n    const x0 = this.left;\n    const x1 = this.right;\n    const y0 = this.top;\n    const y1 = this.bottom;\n    if (x1 <= x0 || y1 <= y0) {\n      return false;\n    }\n    const lt = tempPoints[0].set(other.left, other.top);\n    const lb = tempPoints[1].set(other.left, other.bottom);\n    const rt = tempPoints[2].set(other.right, other.top);\n    const rb = tempPoints[3].set(other.right, other.bottom);\n    if (rt.x <= lt.x || lb.y <= lt.y) {\n      return false;\n    }\n    const s = Math.sign(transform.a * transform.d - transform.b * transform.c);\n    if (s === 0) {\n      return false;\n    }\n    transform.apply(lt, lt);\n    transform.apply(lb, lb);\n    transform.apply(rt, rt);\n    transform.apply(rb, rb);\n    if (Math.max(lt.x, lb.x, rt.x, rb.x) <= x0 || Math.min(lt.x, lb.x, rt.x, rb.x) >= x1 || Math.max(lt.y, lb.y, rt.y, rb.y) <= y0 || Math.min(lt.y, lb.y, rt.y, rb.y) >= y1) {\n      return false;\n    }\n    const nx = s * (lb.y - lt.y);\n    const ny = s * (lt.x - lb.x);\n    const n00 = nx * x0 + ny * y0;\n    const n10 = nx * x1 + ny * y0;\n    const n01 = nx * x0 + ny * y1;\n    const n11 = nx * x1 + ny * y1;\n    if (Math.max(n00, n10, n01, n11) <= nx * lt.x + ny * lt.y || Math.min(n00, n10, n01, n11) >= nx * rb.x + ny * rb.y) {\n      return false;\n    }\n    const mx = s * (lt.y - rt.y);\n    const my = s * (rt.x - lt.x);\n    const m00 = mx * x0 + my * y0;\n    const m10 = mx * x1 + my * y0;\n    const m01 = mx * x0 + my * y1;\n    const m11 = mx * x1 + my * y1;\n    if (Math.max(m00, m10, m01, m11) <= mx * lt.x + my * lt.y || Math.min(m00, m10, m01, m11) >= mx * rb.x + my * rb.y) {\n      return false;\n    }\n    return true;\n  }\n  pad(paddingX = 0, paddingY = paddingX) {\n    this.x -= paddingX;\n    this.y -= paddingY;\n    this.width += paddingX * 2;\n    this.height += paddingY * 2;\n    return this;\n  }\n  fit(rectangle) {\n    const x1 = Math.max(this.x, rectangle.x);\n    const x2 = Math.min(this.x + this.width, rectangle.x + rectangle.width);\n    const y1 = Math.max(this.y, rectangle.y);\n    const y2 = Math.min(this.y + this.height, rectangle.y + rectangle.height);\n    this.x = x1;\n    this.width = Math.max(x2 - x1, 0);\n    this.y = y1;\n    this.height = Math.max(y2 - y1, 0);\n    return this;\n  }\n  ceil(resolution = 1, eps = 1e-3) {\n    const x2 = Math.ceil((this.x + this.width - eps) * resolution) / resolution;\n    const y2 = Math.ceil((this.y + this.height - eps) * resolution) / resolution;\n    this.x = Math.floor((this.x + eps) * resolution) / resolution;\n    this.y = Math.floor((this.y + eps) * resolution) / resolution;\n    this.width = x2 - this.x;\n    this.height = y2 - this.y;\n    return this;\n  }\n  enlarge(rectangle) {\n    const x1 = Math.min(this.x, rectangle.x);\n    const x2 = Math.max(this.x + this.width, rectangle.x + rectangle.width);\n    const y1 = Math.min(this.y, rectangle.y);\n    const y2 = Math.max(this.y + this.height, rectangle.y + rectangle.height);\n    this.x = x1;\n    this.width = x2 - x1;\n    this.y = y1;\n    this.height = y2 - y1;\n    return this;\n  }\n  toString() {\n    return `[@pixi/math:Rectangle x=${this.x} y=${this.y} width=${this.width} height=${this.height}]`;\n  }\n}\n\nexport { Rectangle };\n//# sourceMappingURL=Rectangle.mjs.map\n","import { SHAPES } from '../const.mjs';\nimport { Rectangle } from './Rectangle.mjs';\n\nclass Circle {\n  constructor(x = 0, y = 0, radius = 0) {\n    this.x = x;\n    this.y = y;\n    this.radius = radius;\n    this.type = SHAPES.CIRC;\n  }\n  clone() {\n    return new Circle(this.x, this.y, this.radius);\n  }\n  contains(x, y) {\n    if (this.radius <= 0) {\n      return false;\n    }\n    const r2 = this.radius * this.radius;\n    let dx = this.x - x;\n    let dy = this.y - y;\n    dx *= dx;\n    dy *= dy;\n    return dx + dy <= r2;\n  }\n  getBounds() {\n    return new Rectangle(this.x - this.radius, this.y - this.radius, this.radius * 2, this.radius * 2);\n  }\n  toString() {\n    return `[@pixi/math:Circle x=${this.x} y=${this.y} radius=${this.radius}]`;\n  }\n}\n\nexport { Circle };\n//# sourceMappingURL=Circle.mjs.map\n","import { SHAPES } from '../const.mjs';\nimport { Rectangle } from './Rectangle.mjs';\n\nclass Ellipse {\n  constructor(x = 0, y = 0, halfWidth = 0, halfHeight = 0) {\n    this.x = x;\n    this.y = y;\n    this.width = halfWidth;\n    this.height = halfHeight;\n    this.type = SHAPES.ELIP;\n  }\n  clone() {\n    return new Ellipse(this.x, this.y, this.width, this.height);\n  }\n  contains(x, y) {\n    if (this.width <= 0 || this.height <= 0) {\n      return false;\n    }\n    let normx = (x - this.x) / this.width;\n    let normy = (y - this.y) / this.height;\n    normx *= normx;\n    normy *= normy;\n    return normx + normy <= 1;\n  }\n  getBounds() {\n    return new Rectangle(this.x - this.width, this.y - this.height, this.width, this.height);\n  }\n  toString() {\n    return `[@pixi/math:Ellipse x=${this.x} y=${this.y} width=${this.width} height=${this.height}]`;\n  }\n}\n\nexport { Ellipse };\n//# sourceMappingURL=Ellipse.mjs.map\n","import { SHAPES } from '../const.mjs';\n\nclass Polygon {\n  constructor(...points) {\n    let flat = Array.isArray(points[0]) ? points[0] : points;\n    if (typeof flat[0] !== \"number\") {\n      const p = [];\n      for (let i = 0, il = flat.length; i < il; i++) {\n        p.push(flat[i].x, flat[i].y);\n      }\n      flat = p;\n    }\n    this.points = flat;\n    this.type = SHAPES.POLY;\n    this.closeStroke = true;\n  }\n  clone() {\n    const points = this.points.slice();\n    const polygon = new Polygon(points);\n    polygon.closeStroke = this.closeStroke;\n    return polygon;\n  }\n  contains(x, y) {\n    let inside = false;\n    const length = this.points.length / 2;\n    for (let i = 0, j = length - 1; i < length; j = i++) {\n      const xi = this.points[i * 2];\n      const yi = this.points[i * 2 + 1];\n      const xj = this.points[j * 2];\n      const yj = this.points[j * 2 + 1];\n      const intersect = yi > y !== yj > y && x < (xj - xi) * ((y - yi) / (yj - yi)) + xi;\n      if (intersect) {\n        inside = !inside;\n      }\n    }\n    return inside;\n  }\n  toString() {\n    return `[@pixi/math:PolygoncloseStroke=${this.closeStroke}points=${this.points.reduce((pointsDesc, currentPoint) => `${pointsDesc}, ${currentPoint}`, \"\")}]`;\n  }\n}\n\nexport { Polygon };\n//# sourceMappingURL=Polygon.mjs.map\n","import { SHAPES } from '../const.mjs';\n\nclass RoundedRectangle {\n  constructor(x = 0, y = 0, width = 0, height = 0, radius = 20) {\n    this.x = x;\n    this.y = y;\n    this.width = width;\n    this.height = height;\n    this.radius = radius;\n    this.type = SHAPES.RREC;\n  }\n  clone() {\n    return new RoundedRectangle(this.x, this.y, this.width, this.height, this.radius);\n  }\n  contains(x, y) {\n    if (this.width <= 0 || this.height <= 0) {\n      return false;\n    }\n    if (x >= this.x && x <= this.x + this.width) {\n      if (y >= this.y && y <= this.y + this.height) {\n        const radius = Math.max(0, Math.min(this.radius, Math.min(this.width, this.height) / 2));\n        if (y >= this.y + radius && y <= this.y + this.height - radius || x >= this.x + radius && x <= this.x + this.width - radius) {\n          return true;\n        }\n        let dx = x - (this.x + radius);\n        let dy = y - (this.y + radius);\n        const radius2 = radius * radius;\n        if (dx * dx + dy * dy <= radius2) {\n          return true;\n        }\n        dx = x - (this.x + this.width - radius);\n        if (dx * dx + dy * dy <= radius2) {\n          return true;\n        }\n        dy = y - (this.y + this.height - radius);\n        if (dx * dx + dy * dy <= radius2) {\n          return true;\n        }\n        dx = x - (this.x + radius);\n        if (dx * dx + dy * dy <= radius2) {\n          return true;\n        }\n      }\n    }\n    return false;\n  }\n  toString() {\n    return `[@pixi/math:RoundedRectangle x=${this.x} y=${this.y}width=${this.width} height=${this.height} radius=${this.radius}]`;\n  }\n}\n\nexport { RoundedRectangle };\n//# sourceMappingURL=RoundedRectangle.mjs.map\n","import { PI_2 } from './const.mjs';\nimport { Point } from './Point.mjs';\n\nclass Matrix {\n  constructor(a = 1, b = 0, c = 0, d = 1, tx = 0, ty = 0) {\n    this.array = null;\n    this.a = a;\n    this.b = b;\n    this.c = c;\n    this.d = d;\n    this.tx = tx;\n    this.ty = ty;\n  }\n  fromArray(array) {\n    this.a = array[0];\n    this.b = array[1];\n    this.c = array[3];\n    this.d = array[4];\n    this.tx = array[2];\n    this.ty = array[5];\n  }\n  set(a, b, c, d, tx, ty) {\n    this.a = a;\n    this.b = b;\n    this.c = c;\n    this.d = d;\n    this.tx = tx;\n    this.ty = ty;\n    return this;\n  }\n  toArray(transpose, out) {\n    if (!this.array) {\n      this.array = new Float32Array(9);\n    }\n    const array = out || this.array;\n    if (transpose) {\n      array[0] = this.a;\n      array[1] = this.b;\n      array[2] = 0;\n      array[3] = this.c;\n      array[4] = this.d;\n      array[5] = 0;\n      array[6] = this.tx;\n      array[7] = this.ty;\n      array[8] = 1;\n    } else {\n      array[0] = this.a;\n      array[1] = this.c;\n      array[2] = this.tx;\n      array[3] = this.b;\n      array[4] = this.d;\n      array[5] = this.ty;\n      array[6] = 0;\n      array[7] = 0;\n      array[8] = 1;\n    }\n    return array;\n  }\n  apply(pos, newPos) {\n    newPos = newPos || new Point();\n    const x = pos.x;\n    const y = pos.y;\n    newPos.x = this.a * x + this.c * y + this.tx;\n    newPos.y = this.b * x + this.d * y + this.ty;\n    return newPos;\n  }\n  applyInverse(pos, newPos) {\n    newPos = newPos || new Point();\n    const id = 1 / (this.a * this.d + this.c * -this.b);\n    const x = pos.x;\n    const y = pos.y;\n    newPos.x = this.d * id * x + -this.c * id * y + (this.ty * this.c - this.tx * this.d) * id;\n    newPos.y = this.a * id * y + -this.b * id * x + (-this.ty * this.a + this.tx * this.b) * id;\n    return newPos;\n  }\n  translate(x, y) {\n    this.tx += x;\n    this.ty += y;\n    return this;\n  }\n  scale(x, y) {\n    this.a *= x;\n    this.d *= y;\n    this.c *= x;\n    this.b *= y;\n    this.tx *= x;\n    this.ty *= y;\n    return this;\n  }\n  rotate(angle) {\n    const cos = Math.cos(angle);\n    const sin = Math.sin(angle);\n    const a1 = this.a;\n    const c1 = this.c;\n    const tx1 = this.tx;\n    this.a = a1 * cos - this.b * sin;\n    this.b = a1 * sin + this.b * cos;\n    this.c = c1 * cos - this.d * sin;\n    this.d = c1 * sin + this.d * cos;\n    this.tx = tx1 * cos - this.ty * sin;\n    this.ty = tx1 * sin + this.ty * cos;\n    return this;\n  }\n  append(matrix) {\n    const a1 = this.a;\n    const b1 = this.b;\n    const c1 = this.c;\n    const d1 = this.d;\n    this.a = matrix.a * a1 + matrix.b * c1;\n    this.b = matrix.a * b1 + matrix.b * d1;\n    this.c = matrix.c * a1 + matrix.d * c1;\n    this.d = matrix.c * b1 + matrix.d * d1;\n    this.tx = matrix.tx * a1 + matrix.ty * c1 + this.tx;\n    this.ty = matrix.tx * b1 + matrix.ty * d1 + this.ty;\n    return this;\n  }\n  setTransform(x, y, pivotX, pivotY, scaleX, scaleY, rotation, skewX, skewY) {\n    this.a = Math.cos(rotation + skewY) * scaleX;\n    this.b = Math.sin(rotation + skewY) * scaleX;\n    this.c = -Math.sin(rotation - skewX) * scaleY;\n    this.d = Math.cos(rotation - skewX) * scaleY;\n    this.tx = x - (pivotX * this.a + pivotY * this.c);\n    this.ty = y - (pivotX * this.b + pivotY * this.d);\n    return this;\n  }\n  prepend(matrix) {\n    const tx1 = this.tx;\n    if (matrix.a !== 1 || matrix.b !== 0 || matrix.c !== 0 || matrix.d !== 1) {\n      const a1 = this.a;\n      const c1 = this.c;\n      this.a = a1 * matrix.a + this.b * matrix.c;\n      this.b = a1 * matrix.b + this.b * matrix.d;\n      this.c = c1 * matrix.a + this.d * matrix.c;\n      this.d = c1 * matrix.b + this.d * matrix.d;\n    }\n    this.tx = tx1 * matrix.a + this.ty * matrix.c + matrix.tx;\n    this.ty = tx1 * matrix.b + this.ty * matrix.d + matrix.ty;\n    return this;\n  }\n  decompose(transform) {\n    const a = this.a;\n    const b = this.b;\n    const c = this.c;\n    const d = this.d;\n    const pivot = transform.pivot;\n    const skewX = -Math.atan2(-c, d);\n    const skewY = Math.atan2(b, a);\n    const delta = Math.abs(skewX + skewY);\n    if (delta < 1e-5 || Math.abs(PI_2 - delta) < 1e-5) {\n      transform.rotation = skewY;\n      transform.skew.x = transform.skew.y = 0;\n    } else {\n      transform.rotation = 0;\n      transform.skew.x = skewX;\n      transform.skew.y = skewY;\n    }\n    transform.scale.x = Math.sqrt(a * a + b * b);\n    transform.scale.y = Math.sqrt(c * c + d * d);\n    transform.position.x = this.tx + (pivot.x * a + pivot.y * c);\n    transform.position.y = this.ty + (pivot.x * b + pivot.y * d);\n    return transform;\n  }\n  invert() {\n    const a1 = this.a;\n    const b1 = this.b;\n    const c1 = this.c;\n    const d1 = this.d;\n    const tx1 = this.tx;\n    const n = a1 * d1 - b1 * c1;\n    this.a = d1 / n;\n    this.b = -b1 / n;\n    this.c = -c1 / n;\n    this.d = a1 / n;\n    this.tx = (c1 * this.ty - d1 * tx1) / n;\n    this.ty = -(a1 * this.ty - b1 * tx1) / n;\n    return this;\n  }\n  identity() {\n    this.a = 1;\n    this.b = 0;\n    this.c = 0;\n    this.d = 1;\n    this.tx = 0;\n    this.ty = 0;\n    return this;\n  }\n  clone() {\n    const matrix = new Matrix();\n    matrix.a = this.a;\n    matrix.b = this.b;\n    matrix.c = this.c;\n    matrix.d = this.d;\n    matrix.tx = this.tx;\n    matrix.ty = this.ty;\n    return matrix;\n  }\n  copyTo(matrix) {\n    matrix.a = this.a;\n    matrix.b = this.b;\n    matrix.c = this.c;\n    matrix.d = this.d;\n    matrix.tx = this.tx;\n    matrix.ty = this.ty;\n    return matrix;\n  }\n  copyFrom(matrix) {\n    this.a = matrix.a;\n    this.b = matrix.b;\n    this.c = matrix.c;\n    this.d = matrix.d;\n    this.tx = matrix.tx;\n    this.ty = matrix.ty;\n    return this;\n  }\n  toString() {\n    return `[@pixi/math:Matrix a=${this.a} b=${this.b} c=${this.c} d=${this.d} tx=${this.tx} ty=${this.ty}]`;\n  }\n  static get IDENTITY() {\n    return new Matrix();\n  }\n  static get TEMP_MATRIX() {\n    return new Matrix();\n  }\n}\n\nexport { Matrix };\n//# sourceMappingURL=Matrix.mjs.map\n","import { Matrix } from './Matrix.mjs';\n\nconst ux = [1, 1, 0, -1, -1, -1, 0, 1, 1, 1, 0, -1, -1, -1, 0, 1];\nconst uy = [0, 1, 1, 1, 0, -1, -1, -1, 0, 1, 1, 1, 0, -1, -1, -1];\nconst vx = [0, -1, -1, -1, 0, 1, 1, 1, 0, 1, 1, 1, 0, -1, -1, -1];\nconst vy = [1, 1, 0, -1, -1, -1, 0, 1, -1, -1, 0, 1, 1, 1, 0, -1];\nconst rotationCayley = [];\nconst rotationMatrices = [];\nconst signum = Math.sign;\nfunction init() {\n  for (let i = 0; i < 16; i++) {\n    const row = [];\n    rotationCayley.push(row);\n    for (let j = 0; j < 16; j++) {\n      const _ux = signum(ux[i] * ux[j] + vx[i] * uy[j]);\n      const _uy = signum(uy[i] * ux[j] + vy[i] * uy[j]);\n      const _vx = signum(ux[i] * vx[j] + vx[i] * vy[j]);\n      const _vy = signum(uy[i] * vx[j] + vy[i] * vy[j]);\n      for (let k = 0; k < 16; k++) {\n        if (ux[k] === _ux && uy[k] === _uy && vx[k] === _vx && vy[k] === _vy) {\n          row.push(k);\n          break;\n        }\n      }\n    }\n  }\n  for (let i = 0; i < 16; i++) {\n    const mat = new Matrix();\n    mat.set(ux[i], uy[i], vx[i], vy[i], 0, 0);\n    rotationMatrices.push(mat);\n  }\n}\ninit();\nconst groupD8 = {\n  E: 0,\n  SE: 1,\n  S: 2,\n  SW: 3,\n  W: 4,\n  NW: 5,\n  N: 6,\n  NE: 7,\n  MIRROR_VERTICAL: 8,\n  MAIN_DIAGONAL: 10,\n  MIRROR_HORIZONTAL: 12,\n  REVERSE_DIAGONAL: 14,\n  uX: (ind) => ux[ind],\n  uY: (ind) => uy[ind],\n  vX: (ind) => vx[ind],\n  vY: (ind) => vy[ind],\n  inv: (rotation) => {\n    if (rotation & 8) {\n      return rotation & 15;\n    }\n    return -rotation & 7;\n  },\n  add: (rotationSecond, rotationFirst) => rotationCayley[rotationSecond][rotationFirst],\n  sub: (rotationSecond, rotationFirst) => rotationCayley[rotationSecond][groupD8.inv(rotationFirst)],\n  rotate180: (rotation) => rotation ^ 4,\n  isVertical: (rotation) => (rotation & 3) === 2,\n  byDirection: (dx, dy) => {\n    if (Math.abs(dx) * 2 <= Math.abs(dy)) {\n      if (dy >= 0) {\n        return groupD8.S;\n      }\n      return groupD8.N;\n    } else if (Math.abs(dy) * 2 <= Math.abs(dx)) {\n      if (dx > 0) {\n        return groupD8.E;\n      }\n      return groupD8.W;\n    } else if (dy > 0) {\n      if (dx > 0) {\n        return groupD8.SE;\n      }\n      return groupD8.SW;\n    } else if (dx > 0) {\n      return groupD8.NE;\n    }\n    return groupD8.NW;\n  },\n  matrixAppendRotationInv: (matrix, rotation, tx = 0, ty = 0) => {\n    const mat = rotationMatrices[groupD8.inv(rotation)];\n    mat.tx = tx;\n    mat.ty = ty;\n    matrix.append(mat);\n  }\n};\n\nexport { groupD8 };\n//# sourceMappingURL=groupD8.mjs.map\n","class ObservablePoint {\n  constructor(cb, scope, x = 0, y = 0) {\n    this._x = x;\n    this._y = y;\n    this.cb = cb;\n    this.scope = scope;\n  }\n  clone(cb = this.cb, scope = this.scope) {\n    return new ObservablePoint(cb, scope, this._x, this._y);\n  }\n  set(x = 0, y = x) {\n    if (this._x !== x || this._y !== y) {\n      this._x = x;\n      this._y = y;\n      this.cb.call(this.scope);\n    }\n    return this;\n  }\n  copyFrom(p) {\n    if (this._x !== p.x || this._y !== p.y) {\n      this._x = p.x;\n      this._y = p.y;\n      this.cb.call(this.scope);\n    }\n    return this;\n  }\n  copyTo(p) {\n    p.set(this._x, this._y);\n    return p;\n  }\n  equals(p) {\n    return p.x === this._x && p.y === this._y;\n  }\n  toString() {\n    return `[@pixi/math:ObservablePoint x=${0} y=${0} scope=${this.scope}]`;\n  }\n  get x() {\n    return this._x;\n  }\n  set x(value) {\n    if (this._x !== value) {\n      this._x = value;\n      this.cb.call(this.scope);\n    }\n  }\n  get y() {\n    return this._y;\n  }\n  set y(value) {\n    if (this._y !== value) {\n      this._y = value;\n      this.cb.call(this.scope);\n    }\n  }\n}\n\nexport { ObservablePoint };\n//# sourceMappingURL=ObservablePoint.mjs.map\n","import { Matrix } from './Matrix.mjs';\nimport { ObservablePoint } from './ObservablePoint.mjs';\n\nconst _Transform = class {\n  constructor() {\n    this.worldTransform = new Matrix();\n    this.localTransform = new Matrix();\n    this.position = new ObservablePoint(this.onChange, this, 0, 0);\n    this.scale = new ObservablePoint(this.onChange, this, 1, 1);\n    this.pivot = new ObservablePoint(this.onChange, this, 0, 0);\n    this.skew = new ObservablePoint(this.updateSkew, this, 0, 0);\n    this._rotation = 0;\n    this._cx = 1;\n    this._sx = 0;\n    this._cy = 0;\n    this._sy = 1;\n    this._localID = 0;\n    this._currentLocalID = 0;\n    this._worldID = 0;\n    this._parentID = 0;\n  }\n  onChange() {\n    this._localID++;\n  }\n  updateSkew() {\n    this._cx = Math.cos(this._rotation + this.skew.y);\n    this._sx = Math.sin(this._rotation + this.skew.y);\n    this._cy = -Math.sin(this._rotation - this.skew.x);\n    this._sy = Math.cos(this._rotation - this.skew.x);\n    this._localID++;\n  }\n  toString() {\n    return `[@pixi/math:Transform position=(${this.position.x}, ${this.position.y}) rotation=${this.rotation} scale=(${this.scale.x}, ${this.scale.y}) skew=(${this.skew.x}, ${this.skew.y}) ]`;\n  }\n  updateLocalTransform() {\n    const lt = this.localTransform;\n    if (this._localID !== this._currentLocalID) {\n      lt.a = this._cx * this.scale.x;\n      lt.b = this._sx * this.scale.x;\n      lt.c = this._cy * this.scale.y;\n      lt.d = this._sy * this.scale.y;\n      lt.tx = this.position.x - (this.pivot.x * lt.a + this.pivot.y * lt.c);\n      lt.ty = this.position.y - (this.pivot.x * lt.b + this.pivot.y * lt.d);\n      this._currentLocalID = this._localID;\n      this._parentID = -1;\n    }\n  }\n  updateTransform(parentTransform) {\n    const lt = this.localTransform;\n    if (this._localID !== this._currentLocalID) {\n      lt.a = this._cx * this.scale.x;\n      lt.b = this._sx * this.scale.x;\n      lt.c = this._cy * this.scale.y;\n      lt.d = this._sy * this.scale.y;\n      lt.tx = this.position.x - (this.pivot.x * lt.a + this.pivot.y * lt.c);\n      lt.ty = this.position.y - (this.pivot.x * lt.b + this.pivot.y * lt.d);\n      this._currentLocalID = this._localID;\n      this._parentID = -1;\n    }\n    if (this._parentID !== parentTransform._worldID) {\n      const pt = parentTransform.worldTransform;\n      const wt = this.worldTransform;\n      wt.a = lt.a * pt.a + lt.b * pt.c;\n      wt.b = lt.a * pt.b + lt.b * pt.d;\n      wt.c = lt.c * pt.a + lt.d * pt.c;\n      wt.d = lt.c * pt.b + lt.d * pt.d;\n      wt.tx = lt.tx * pt.a + lt.ty * pt.c + pt.tx;\n      wt.ty = lt.tx * pt.b + lt.ty * pt.d + pt.ty;\n      this._parentID = parentTransform._worldID;\n      this._worldID++;\n    }\n  }\n  setFromMatrix(matrix) {\n    matrix.decompose(this);\n    this._localID++;\n  }\n  get rotation() {\n    return this._rotation;\n  }\n  set rotation(value) {\n    if (this._rotation !== value) {\n      this._rotation = value;\n      this.updateSkew();\n    }\n  }\n};\nlet Transform = _Transform;\nTransform.IDENTITY = new _Transform();\n\nexport { Transform };\n//# sourceMappingURL=Transform.mjs.map\n","const uniformParsers = [\n  {\n    test: (data) => data.type === \"float\" && data.size === 1 && !data.isArray,\n    code: (name) => `\n            if(uv[\"${name}\"] !== ud[\"${name}\"].value)\n            {\n                ud[\"${name}\"].value = uv[\"${name}\"]\n                gl.uniform1f(ud[\"${name}\"].location, uv[\"${name}\"])\n            }\n            `\n  },\n  {\n    test: (data, uniform) => (data.type === \"sampler2D\" || data.type === \"samplerCube\" || data.type === \"sampler2DArray\") && data.size === 1 && !data.isArray && (uniform == null || uniform.castToBaseTexture !== void 0),\n    code: (name) => `t = syncData.textureCount++;\n\n            renderer.texture.bind(uv[\"${name}\"], t);\n\n            if(ud[\"${name}\"].value !== t)\n            {\n                ud[\"${name}\"].value = t;\n                gl.uniform1i(ud[\"${name}\"].location, t);\n; // eslint-disable-line max-len\n            }`\n  },\n  {\n    test: (data, uniform) => data.type === \"mat3\" && data.size === 1 && !data.isArray && uniform.a !== void 0,\n    code: (name) => `\n            gl.uniformMatrix3fv(ud[\"${name}\"].location, false, uv[\"${name}\"].toArray(true));\n            `,\n    codeUbo: (name) => `\n                var ${name}_matrix = uv.${name}.toArray(true);\n\n                data[offset] = ${name}_matrix[0];\n                data[offset+1] = ${name}_matrix[1];\n                data[offset+2] = ${name}_matrix[2];\n        \n                data[offset + 4] = ${name}_matrix[3];\n                data[offset + 5] = ${name}_matrix[4];\n                data[offset + 6] = ${name}_matrix[5];\n        \n                data[offset + 8] = ${name}_matrix[6];\n                data[offset + 9] = ${name}_matrix[7];\n                data[offset + 10] = ${name}_matrix[8];\n            `\n  },\n  {\n    test: (data, uniform) => data.type === \"vec2\" && data.size === 1 && !data.isArray && uniform.x !== void 0,\n    code: (name) => `\n                cv = ud[\"${name}\"].value;\n                v = uv[\"${name}\"];\n\n                if(cv[0] !== v.x || cv[1] !== v.y)\n                {\n                    cv[0] = v.x;\n                    cv[1] = v.y;\n                    gl.uniform2f(ud[\"${name}\"].location, v.x, v.y);\n                }`,\n    codeUbo: (name) => `\n                v = uv.${name};\n\n                data[offset] = v.x;\n                data[offset+1] = v.y;\n            `\n  },\n  {\n    test: (data) => data.type === \"vec2\" && data.size === 1 && !data.isArray,\n    code: (name) => `\n                cv = ud[\"${name}\"].value;\n                v = uv[\"${name}\"];\n\n                if(cv[0] !== v[0] || cv[1] !== v[1])\n                {\n                    cv[0] = v[0];\n                    cv[1] = v[1];\n                    gl.uniform2f(ud[\"${name}\"].location, v[0], v[1]);\n                }\n            `\n  },\n  {\n    test: (data, uniform) => data.type === \"vec4\" && data.size === 1 && !data.isArray && uniform.width !== void 0,\n    code: (name) => `\n                cv = ud[\"${name}\"].value;\n                v = uv[\"${name}\"];\n\n                if(cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.width || cv[3] !== v.height)\n                {\n                    cv[0] = v.x;\n                    cv[1] = v.y;\n                    cv[2] = v.width;\n                    cv[3] = v.height;\n                    gl.uniform4f(ud[\"${name}\"].location, v.x, v.y, v.width, v.height)\n                }`,\n    codeUbo: (name) => `\n                    v = uv.${name};\n\n                    data[offset] = v.x;\n                    data[offset+1] = v.y;\n                    data[offset+2] = v.width;\n                    data[offset+3] = v.height;\n                `\n  },\n  {\n    test: (data, uniform) => data.type === \"vec4\" && data.size === 1 && !data.isArray && uniform.red !== void 0,\n    code: (name) => `\n                cv = ud[\"${name}\"].value;\n                v = uv[\"${name}\"];\n\n                if(cv[0] !== v.red || cv[1] !== v.green || cv[2] !== v.blue || cv[3] !== v.alpha)\n                {\n                    cv[0] = v.red;\n                    cv[1] = v.green;\n                    cv[2] = v.blue;\n                    cv[3] = v.alpha;\n                    gl.uniform4f(ud[\"${name}\"].location, v.red, v.green, v.blue, v.alpha)\n                }`,\n    codeUbo: (name) => `\n                    v = uv.${name};\n\n                    data[offset] = v.red;\n                    data[offset+1] = v.green;\n                    data[offset+2] = v.blue;\n                    data[offset+3] = v.alpha;\n                `\n  },\n  {\n    test: (data, uniform) => data.type === \"vec3\" && data.size === 1 && !data.isArray && uniform.red !== void 0,\n    code: (name) => `\n                cv = ud[\"${name}\"].value;\n                v = uv[\"${name}\"];\n\n                if(cv[0] !== v.red || cv[1] !== v.green || cv[2] !== v.blue || cv[3] !== v.a)\n                {\n                    cv[0] = v.red;\n                    cv[1] = v.green;\n                    cv[2] = v.blue;\n    \n                    gl.uniform3f(ud[\"${name}\"].location, v.red, v.green, v.blue)\n                }`,\n    codeUbo: (name) => `\n                    v = uv.${name};\n\n                    data[offset] = v.red;\n                    data[offset+1] = v.green;\n                    data[offset+2] = v.blue;\n                `\n  },\n  {\n    test: (data) => data.type === \"vec4\" && data.size === 1 && !data.isArray,\n    code: (name) => `\n                cv = ud[\"${name}\"].value;\n                v = uv[\"${name}\"];\n\n                if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n                {\n                    cv[0] = v[0];\n                    cv[1] = v[1];\n                    cv[2] = v[2];\n                    cv[3] = v[3];\n\n                    gl.uniform4f(ud[\"${name}\"].location, v[0], v[1], v[2], v[3])\n                }`\n  }\n];\n\nexport { uniformParsers };\n//# sourceMappingURL=uniformParsers.mjs.map\n","import { uniformParsers } from './uniformParsers.mjs';\n\nconst GLSL_TO_SINGLE_SETTERS_CACHED = {\n  float: `\n    if (cv !== v)\n    {\n        cu.value = v;\n        gl.uniform1f(location, v);\n    }`,\n  vec2: `\n    if (cv[0] !== v[0] || cv[1] !== v[1])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n\n        gl.uniform2f(location, v[0], v[1])\n    }`,\n  vec3: `\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n\n        gl.uniform3f(location, v[0], v[1], v[2])\n    }`,\n  vec4: `\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n        cv[3] = v[3];\n\n        gl.uniform4f(location, v[0], v[1], v[2], v[3]);\n    }`,\n  int: `\n    if (cv !== v)\n    {\n        cu.value = v;\n\n        gl.uniform1i(location, v);\n    }`,\n  ivec2: `\n    if (cv[0] !== v[0] || cv[1] !== v[1])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n\n        gl.uniform2i(location, v[0], v[1]);\n    }`,\n  ivec3: `\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n\n        gl.uniform3i(location, v[0], v[1], v[2]);\n    }`,\n  ivec4: `\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n        cv[3] = v[3];\n\n        gl.uniform4i(location, v[0], v[1], v[2], v[3]);\n    }`,\n  uint: `\n    if (cv !== v)\n    {\n        cu.value = v;\n\n        gl.uniform1ui(location, v);\n    }`,\n  uvec2: `\n    if (cv[0] !== v[0] || cv[1] !== v[1])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n\n        gl.uniform2ui(location, v[0], v[1]);\n    }`,\n  uvec3: `\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n\n        gl.uniform3ui(location, v[0], v[1], v[2]);\n    }`,\n  uvec4: `\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n        cv[3] = v[3];\n\n        gl.uniform4ui(location, v[0], v[1], v[2], v[3]);\n    }`,\n  bool: `\n    if (cv !== v)\n    {\n        cu.value = v;\n        gl.uniform1i(location, v);\n    }`,\n  bvec2: `\n    if (cv[0] != v[0] || cv[1] != v[1])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n\n        gl.uniform2i(location, v[0], v[1]);\n    }`,\n  bvec3: `\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n\n        gl.uniform3i(location, v[0], v[1], v[2]);\n    }`,\n  bvec4: `\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n        cv[3] = v[3];\n\n        gl.uniform4i(location, v[0], v[1], v[2], v[3]);\n    }`,\n  mat2: \"gl.uniformMatrix2fv(location, false, v)\",\n  mat3: \"gl.uniformMatrix3fv(location, false, v)\",\n  mat4: \"gl.uniformMatrix4fv(location, false, v)\",\n  sampler2D: `\n    if (cv !== v)\n    {\n        cu.value = v;\n\n        gl.uniform1i(location, v);\n    }`,\n  samplerCube: `\n    if (cv !== v)\n    {\n        cu.value = v;\n\n        gl.uniform1i(location, v);\n    }`,\n  sampler2DArray: `\n    if (cv !== v)\n    {\n        cu.value = v;\n\n        gl.uniform1i(location, v);\n    }`\n};\nconst GLSL_TO_ARRAY_SETTERS = {\n  float: `gl.uniform1fv(location, v)`,\n  vec2: `gl.uniform2fv(location, v)`,\n  vec3: `gl.uniform3fv(location, v)`,\n  vec4: \"gl.uniform4fv(location, v)\",\n  mat4: \"gl.uniformMatrix4fv(location, false, v)\",\n  mat3: \"gl.uniformMatrix3fv(location, false, v)\",\n  mat2: \"gl.uniformMatrix2fv(location, false, v)\",\n  int: \"gl.uniform1iv(location, v)\",\n  ivec2: \"gl.uniform2iv(location, v)\",\n  ivec3: \"gl.uniform3iv(location, v)\",\n  ivec4: \"gl.uniform4iv(location, v)\",\n  uint: \"gl.uniform1uiv(location, v)\",\n  uvec2: \"gl.uniform2uiv(location, v)\",\n  uvec3: \"gl.uniform3uiv(location, v)\",\n  uvec4: \"gl.uniform4uiv(location, v)\",\n  bool: \"gl.uniform1iv(location, v)\",\n  bvec2: \"gl.uniform2iv(location, v)\",\n  bvec3: \"gl.uniform3iv(location, v)\",\n  bvec4: \"gl.uniform4iv(location, v)\",\n  sampler2D: \"gl.uniform1iv(location, v)\",\n  samplerCube: \"gl.uniform1iv(location, v)\",\n  sampler2DArray: \"gl.uniform1iv(location, v)\"\n};\nfunction generateUniformsSync(group, uniformData) {\n  const funcFragments = [`\n        var v = null;\n        var cv = null;\n        var cu = null;\n        var t = 0;\n        var gl = renderer.gl;\n    `];\n  for (const i in group.uniforms) {\n    const data = uniformData[i];\n    if (!data) {\n      if (group.uniforms[i]?.group) {\n        if (group.uniforms[i].ubo) {\n          funcFragments.push(`\n                        renderer.shader.syncUniformBufferGroup(uv.${i}, '${i}');\n                    `);\n        } else {\n          funcFragments.push(`\n                        renderer.shader.syncUniformGroup(uv.${i}, syncData);\n                    `);\n        }\n      }\n      continue;\n    }\n    const uniform = group.uniforms[i];\n    let parsed = false;\n    for (let j = 0; j < uniformParsers.length; j++) {\n      if (uniformParsers[j].test(data, uniform)) {\n        funcFragments.push(uniformParsers[j].code(i, uniform));\n        parsed = true;\n        break;\n      }\n    }\n    if (!parsed) {\n      const templateType = data.size === 1 && !data.isArray ? GLSL_TO_SINGLE_SETTERS_CACHED : GLSL_TO_ARRAY_SETTERS;\n      const template = templateType[data.type].replace(\"location\", `ud[\"${i}\"].location`);\n      funcFragments.push(`\n            cu = ud[\"${i}\"];\n            cv = cu.value;\n            v = uv[\"${i}\"];\n            ${template};`);\n    }\n  }\n  return new Function(\"ud\", \"uv\", \"renderer\", \"syncData\", funcFragments.join(\"\\n\"));\n}\n\nexport { generateUniformsSync };\n//# sourceMappingURL=generateUniformsSync.mjs.map\n","import { ENV } from '@pixi/constants';\nimport { settings } from '@pixi/settings';\n\nconst unknownContext = {};\nlet context = unknownContext;\nfunction getTestContext() {\n  if (context === unknownContext || context?.isContextLost()) {\n    const canvas = settings.ADAPTER.createCanvas();\n    let gl;\n    if (settings.PREFER_ENV >= ENV.WEBGL2) {\n      gl = canvas.getContext(\"webgl2\", {});\n    }\n    if (!gl) {\n      gl = canvas.getContext(\"webgl\", {}) || canvas.getContext(\"experimental-webgl\", {});\n      if (!gl) {\n        gl = null;\n      } else {\n        gl.getExtension(\"WEBGL_draw_buffers\");\n      }\n    }\n    context = gl;\n  }\n  return context;\n}\n\nexport { getTestContext };\n//# sourceMappingURL=getTestContext.mjs.map\n","import { PRECISION } from '@pixi/constants';\nimport { getTestContext } from './getTestContext.mjs';\n\nlet maxFragmentPrecision;\nfunction getMaxFragmentPrecision() {\n  if (!maxFragmentPrecision) {\n    maxFragmentPrecision = PRECISION.MEDIUM;\n    const gl = getTestContext();\n    if (gl) {\n      if (gl.getShaderPrecisionFormat) {\n        const shaderFragment = gl.getShaderPrecisionFormat(gl.FRAGMENT_SHADER, gl.HIGH_FLOAT);\n        maxFragmentPrecision = shaderFragment.precision ? PRECISION.HIGH : PRECISION.MEDIUM;\n      }\n    }\n  }\n  return maxFragmentPrecision;\n}\n\nexport { getMaxFragmentPrecision };\n//# sourceMappingURL=getMaxFragmentPrecision.mjs.map\n","const GLSL_TO_SIZE = {\n  float: 1,\n  vec2: 2,\n  vec3: 3,\n  vec4: 4,\n  int: 1,\n  ivec2: 2,\n  ivec3: 3,\n  ivec4: 4,\n  uint: 1,\n  uvec2: 2,\n  uvec3: 3,\n  uvec4: 4,\n  bool: 1,\n  bvec2: 2,\n  bvec3: 3,\n  bvec4: 4,\n  mat2: 4,\n  mat3: 9,\n  mat4: 16,\n  sampler2D: 1\n};\nfunction mapSize(type) {\n  return GLSL_TO_SIZE[type];\n}\n\nexport { mapSize };\n//# sourceMappingURL=mapSize.mjs.map\n","let GL_TABLE = null;\nconst GL_TO_GLSL_TYPES = {\n  FLOAT: \"float\",\n  FLOAT_VEC2: \"vec2\",\n  FLOAT_VEC3: \"vec3\",\n  FLOAT_VEC4: \"vec4\",\n  INT: \"int\",\n  INT_VEC2: \"ivec2\",\n  INT_VEC3: \"ivec3\",\n  INT_VEC4: \"ivec4\",\n  UNSIGNED_INT: \"uint\",\n  UNSIGNED_INT_VEC2: \"uvec2\",\n  UNSIGNED_INT_VEC3: \"uvec3\",\n  UNSIGNED_INT_VEC4: \"uvec4\",\n  BOOL: \"bool\",\n  BOOL_VEC2: \"bvec2\",\n  BOOL_VEC3: \"bvec3\",\n  BOOL_VEC4: \"bvec4\",\n  FLOAT_MAT2: \"mat2\",\n  FLOAT_MAT3: \"mat3\",\n  FLOAT_MAT4: \"mat4\",\n  SAMPLER_2D: \"sampler2D\",\n  INT_SAMPLER_2D: \"sampler2D\",\n  UNSIGNED_INT_SAMPLER_2D: \"sampler2D\",\n  SAMPLER_CUBE: \"samplerCube\",\n  INT_SAMPLER_CUBE: \"samplerCube\",\n  UNSIGNED_INT_SAMPLER_CUBE: \"samplerCube\",\n  SAMPLER_2D_ARRAY: \"sampler2DArray\",\n  INT_SAMPLER_2D_ARRAY: \"sampler2DArray\",\n  UNSIGNED_INT_SAMPLER_2D_ARRAY: \"sampler2DArray\"\n};\nfunction mapType(gl, type) {\n  if (!GL_TABLE) {\n    const typeNames = Object.keys(GL_TO_GLSL_TYPES);\n    GL_TABLE = {};\n    for (let i = 0; i < typeNames.length; ++i) {\n      const tn = typeNames[i];\n      GL_TABLE[gl[tn]] = GL_TO_GLSL_TYPES[tn];\n    }\n  }\n  return GL_TABLE[type];\n}\n\nexport { mapType };\n//# sourceMappingURL=mapType.mjs.map\n","import { PRECISION } from '@pixi/constants';\n\nfunction setPrecision(src, requestedPrecision, maxSupportedPrecision) {\n  if (src.substring(0, 9) !== \"precision\") {\n    let precision = requestedPrecision;\n    if (requestedPrecision === PRECISION.HIGH && maxSupportedPrecision !== PRECISION.HIGH) {\n      precision = PRECISION.MEDIUM;\n    }\n    return `precision ${precision} float;\n${src}`;\n  } else if (maxSupportedPrecision !== PRECISION.HIGH && src.substring(0, 15) === \"precision highp\") {\n    return src.replace(\"precision highp\", \"precision mediump\");\n  }\n  return src;\n}\n\nexport { setPrecision };\n//# sourceMappingURL=setPrecision.mjs.map\n","import { PRECISION } from '@pixi/constants';\nimport { ProgramCache, isMobile } from '@pixi/utils';\nimport defaultFragment from './defaultProgram.mjs';\nimport defaultVertex from './defaultProgram2.mjs';\nimport './utils/index.mjs';\nimport { setPrecision } from './utils/setPrecision.mjs';\nimport { getMaxFragmentPrecision } from './utils/getMaxFragmentPrecision.mjs';\n\nlet UID = 0;\nconst nameCache = {};\nconst _Program = class {\n  constructor(vertexSrc, fragmentSrc, name = \"pixi-shader\", extra = {}) {\n    this.extra = {};\n    this.id = UID++;\n    this.vertexSrc = vertexSrc || _Program.defaultVertexSrc;\n    this.fragmentSrc = fragmentSrc || _Program.defaultFragmentSrc;\n    this.vertexSrc = this.vertexSrc.trim();\n    this.fragmentSrc = this.fragmentSrc.trim();\n    this.extra = extra;\n    if (this.vertexSrc.substring(0, 8) !== \"#version\") {\n      name = name.replace(/\\s+/g, \"-\");\n      if (nameCache[name]) {\n        nameCache[name]++;\n        name += `-${nameCache[name]}`;\n      } else {\n        nameCache[name] = 1;\n      }\n      this.vertexSrc = `#define SHADER_NAME ${name}\n${this.vertexSrc}`;\n      this.fragmentSrc = `#define SHADER_NAME ${name}\n${this.fragmentSrc}`;\n      this.vertexSrc = setPrecision(this.vertexSrc, _Program.defaultVertexPrecision, PRECISION.HIGH);\n      this.fragmentSrc = setPrecision(this.fragmentSrc, _Program.defaultFragmentPrecision, getMaxFragmentPrecision());\n    }\n    this.glPrograms = {};\n    this.syncUniforms = null;\n  }\n  static get defaultVertexSrc() {\n    return defaultVertex;\n  }\n  static get defaultFragmentSrc() {\n    return defaultFragment;\n  }\n  static from(vertexSrc, fragmentSrc, name) {\n    const key = vertexSrc + fragmentSrc;\n    let program = ProgramCache[key];\n    if (!program) {\n      ProgramCache[key] = program = new _Program(vertexSrc, fragmentSrc, name);\n    }\n    return program;\n  }\n};\nlet Program = _Program;\nProgram.defaultVertexPrecision = PRECISION.HIGH;\nProgram.defaultFragmentPrecision = isMobile.apple.device ? PRECISION.HIGH : PRECISION.MEDIUM;\n\nexport { Program };\n//# sourceMappingURL=Program.mjs.map\n","var defaultVertex = \"attribute vec2 aVertexPosition;\\nattribute vec2 aTextureCoord;\\n\\nuniform mat3 projectionMatrix;\\n\\nvarying vec2 vTextureCoord;\\n\\nvoid main(void){\\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\\n   vTextureCoord = aTextureCoord;\\n}\\n\";\n\nexport { defaultVertex as default };\n//# sourceMappingURL=defaultProgram2.mjs.map\n","var defaultFragment = \"varying vec2 vTextureCoord;\\n\\nuniform sampler2D uSampler;\\n\\nvoid main(void){\\n   gl_FragColor *= texture2D(uSampler, vTextureCoord);\\n}\";\n\nexport { defaultFragment as default };\n//# sourceMappingURL=defaultProgram.mjs.map\n","import { BUFFER_TYPE } from '@pixi/constants';\nimport { Buffer } from '../geometry/Buffer.mjs';\n\nlet UID = 0;\nclass UniformGroup {\n  constructor(uniforms, isStatic, isUbo) {\n    this.group = true;\n    this.syncUniforms = {};\n    this.dirtyId = 0;\n    this.id = UID++;\n    this.static = !!isStatic;\n    this.ubo = !!isUbo;\n    if (uniforms instanceof Buffer) {\n      this.buffer = uniforms;\n      this.buffer.type = BUFFER_TYPE.UNIFORM_BUFFER;\n      this.autoManage = false;\n      this.ubo = true;\n    } else {\n      this.uniforms = uniforms;\n      if (this.ubo) {\n        this.buffer = new Buffer(new Float32Array(1));\n        this.buffer.type = BUFFER_TYPE.UNIFORM_BUFFER;\n        this.autoManage = true;\n      }\n    }\n  }\n  update() {\n    this.dirtyId++;\n    if (!this.autoManage && this.buffer) {\n      this.buffer.update();\n    }\n  }\n  add(name, uniforms, _static) {\n    if (!this.ubo) {\n      this.uniforms[name] = new UniformGroup(uniforms, _static);\n    } else {\n      throw new Error(\"[UniformGroup] uniform groups in ubo mode cannot be modified, or have uniform groups nested in them\");\n    }\n  }\n  static from(uniforms, _static, _ubo) {\n    return new UniformGroup(uniforms, _static, _ubo);\n  }\n  static uboFrom(uniforms, _static) {\n    return new UniformGroup(uniforms, _static ?? true, true);\n  }\n}\n\nexport { UniformGroup };\n//# sourceMappingURL=UniformGroup.mjs.map\n","import { Runner } from '@pixi/runner';\nimport { Program } from './Program.mjs';\nimport { UniformGroup } from './UniformGroup.mjs';\n\nclass Shader {\n  constructor(program, uniforms) {\n    this.uniformBindCount = 0;\n    this.program = program;\n    if (uniforms) {\n      if (uniforms instanceof UniformGroup) {\n        this.uniformGroup = uniforms;\n      } else {\n        this.uniformGroup = new UniformGroup(uniforms);\n      }\n    } else {\n      this.uniformGroup = new UniformGroup({});\n    }\n    this.disposeRunner = new Runner(\"disposeShader\");\n  }\n  checkUniformExists(name, group) {\n    if (group.uniforms[name]) {\n      return true;\n    }\n    for (const i in group.uniforms) {\n      const uniform = group.uniforms[i];\n      if (uniform.group) {\n        if (this.checkUniformExists(name, uniform)) {\n          return true;\n        }\n      }\n    }\n    return false;\n  }\n  destroy() {\n    this.uniformGroup = null;\n    this.disposeRunner.emit(this);\n    this.disposeRunner.destroy();\n  }\n  get uniforms() {\n    return this.uniformGroup.uniforms;\n  }\n  static from(vertexSrc, fragmentSrc, uniforms) {\n    const program = Program.from(vertexSrc, fragmentSrc);\n    return new Shader(program, uniforms);\n  }\n}\n\nexport { Shader };\n//# sourceMappingURL=Shader.mjs.map\n","import { Matrix } from '@pixi/math';\nimport { Program } from '../shader/Program.mjs';\nimport { Shader } from '../shader/Shader.mjs';\nimport { UniformGroup } from '../shader/UniformGroup.mjs';\n\nclass BatchShaderGenerator {\n  constructor(vertexSrc, fragTemplate) {\n    this.vertexSrc = vertexSrc;\n    this.fragTemplate = fragTemplate;\n    this.programCache = {};\n    this.defaultGroupCache = {};\n    if (!fragTemplate.includes(\"%count%\")) {\n      throw new Error('Fragment template must contain \"%count%\".');\n    }\n    if (!fragTemplate.includes(\"%forloop%\")) {\n      throw new Error('Fragment template must contain \"%forloop%\".');\n    }\n  }\n  generateShader(maxTextures) {\n    if (!this.programCache[maxTextures]) {\n      const sampleValues = new Int32Array(maxTextures);\n      for (let i = 0; i < maxTextures; i++) {\n        sampleValues[i] = i;\n      }\n      this.defaultGroupCache[maxTextures] = UniformGroup.from({ uSamplers: sampleValues }, true);\n      let fragmentSrc = this.fragTemplate;\n      fragmentSrc = fragmentSrc.replace(/%count%/gi, `${maxTextures}`);\n      fragmentSrc = fragmentSrc.replace(/%forloop%/gi, this.generateSampleSrc(maxTextures));\n      this.programCache[maxTextures] = new Program(this.vertexSrc, fragmentSrc);\n    }\n    const uniforms = {\n      tint: new Float32Array([1, 1, 1, 1]),\n      translationMatrix: new Matrix(),\n      default: this.defaultGroupCache[maxTextures]\n    };\n    return new Shader(this.programCache[maxTextures], uniforms);\n  }\n  generateSampleSrc(maxTextures) {\n    let src = \"\";\n    src += \"\\n\";\n    src += \"\\n\";\n    for (let i = 0; i < maxTextures; i++) {\n      if (i > 0) {\n        src += \"\\nelse \";\n      }\n      if (i < maxTextures - 1) {\n        src += `if(vTextureId < ${i}.5)`;\n      }\n      src += \"\\n{\";\n      src += `\n\tcolor = texture2D(uSamplers[${i}], vTextureCoord);`;\n      src += \"\\n}\";\n    }\n    src += \"\\n\";\n    src += \"\\n\";\n    return src;\n  }\n}\n\nexport { BatchShaderGenerator };\n//# sourceMappingURL=BatchShaderGenerator.mjs.map\n","class BatchTextureArray {\n  constructor() {\n    this.elements = [];\n    this.ids = [];\n    this.count = 0;\n  }\n  clear() {\n    for (let i = 0; i < this.count; i++) {\n      this.elements[i] = null;\n    }\n    this.count = 0;\n  }\n}\n\nexport { BatchTextureArray };\n//# sourceMappingURL=BatchTextureArray.mjs.map\n","class ObjectRenderer {\n  constructor(renderer) {\n    this.renderer = renderer;\n  }\n  flush() {\n  }\n  destroy() {\n    this.renderer = null;\n  }\n  start() {\n  }\n  stop() {\n    this.flush();\n  }\n  render(_object) {\n  }\n}\n\nexport { ObjectRenderer };\n//# sourceMappingURL=ObjectRenderer.mjs.map\n","import { Color } from '@pixi/color';\nimport { ENV } from '@pixi/constants';\nimport { ExtensionType, extensions } from '@pixi/extensions';\nimport { settings } from '@pixi/settings';\nimport { deprecation, premultiplyBlendMode, nextPow2, log2 } from '@pixi/utils';\nimport { ViewableBuffer } from '../geometry/ViewableBuffer.mjs';\nimport { checkMaxIfStatementsInShader } from '../shader/utils/checkMaxIfStatementsInShader.mjs';\nimport { State } from '../state/State.mjs';\nimport { BaseTexture } from '../textures/BaseTexture.mjs';\nimport { BatchDrawCall } from './BatchDrawCall.mjs';\nimport { BatchGeometry } from './BatchGeometry.mjs';\nimport { BatchShaderGenerator } from './BatchShaderGenerator.mjs';\nimport { BatchTextureArray } from './BatchTextureArray.mjs';\nimport { canUploadSameBuffer } from './canUploadSameBuffer.mjs';\nimport { maxRecommendedTextures } from './maxRecommendedTextures.mjs';\nimport { ObjectRenderer } from './ObjectRenderer.mjs';\nimport defaultFragment from './texture.mjs';\nimport defaultVertex from './texture2.mjs';\n\nconst _BatchRenderer = class extends ObjectRenderer {\n  constructor(renderer) {\n    super(renderer);\n    this.setShaderGenerator();\n    this.geometryClass = BatchGeometry;\n    this.vertexSize = 6;\n    this.state = State.for2d();\n    this.size = _BatchRenderer.defaultBatchSize * 4;\n    this._vertexCount = 0;\n    this._indexCount = 0;\n    this._bufferedElements = [];\n    this._bufferedTextures = [];\n    this._bufferSize = 0;\n    this._shader = null;\n    this._packedGeometries = [];\n    this._packedGeometryPoolSize = 2;\n    this._flushId = 0;\n    this._aBuffers = {};\n    this._iBuffers = {};\n    this.maxTextures = 1;\n    this.renderer.on(\"prerender\", this.onPrerender, this);\n    renderer.runners.contextChange.add(this);\n    this._dcIndex = 0;\n    this._aIndex = 0;\n    this._iIndex = 0;\n    this._attributeBuffer = null;\n    this._indexBuffer = null;\n    this._tempBoundTextures = [];\n  }\n  static get defaultMaxTextures() {\n    this._defaultMaxTextures = this._defaultMaxTextures ?? maxRecommendedTextures(32);\n    return this._defaultMaxTextures;\n  }\n  static set defaultMaxTextures(value) {\n    this._defaultMaxTextures = value;\n  }\n  static get canUploadSameBuffer() {\n    this._canUploadSameBuffer = this._canUploadSameBuffer ?? canUploadSameBuffer();\n    return this._canUploadSameBuffer;\n  }\n  static set canUploadSameBuffer(value) {\n    this._canUploadSameBuffer = value;\n  }\n  get MAX_TEXTURES() {\n    deprecation(\"7.1.0\", \"BatchRenderer#MAX_TEXTURES renamed to BatchRenderer#maxTextures\");\n    return this.maxTextures;\n  }\n  static get defaultVertexSrc() {\n    return defaultVertex;\n  }\n  static get defaultFragmentTemplate() {\n    return defaultFragment;\n  }\n  setShaderGenerator({\n    vertex = _BatchRenderer.defaultVertexSrc,\n    fragment = _BatchRenderer.defaultFragmentTemplate\n  } = {}) {\n    this.shaderGenerator = new BatchShaderGenerator(vertex, fragment);\n  }\n  contextChange() {\n    const gl = this.renderer.gl;\n    if (settings.PREFER_ENV === ENV.WEBGL_LEGACY) {\n      this.maxTextures = 1;\n    } else {\n      this.maxTextures = Math.min(gl.getParameter(gl.MAX_TEXTURE_IMAGE_UNITS), _BatchRenderer.defaultMaxTextures);\n      this.maxTextures = checkMaxIfStatementsInShader(this.maxTextures, gl);\n    }\n    this._shader = this.shaderGenerator.generateShader(this.maxTextures);\n    for (let i = 0; i < this._packedGeometryPoolSize; i++) {\n      this._packedGeometries[i] = new this.geometryClass();\n    }\n    this.initFlushBuffers();\n  }\n  initFlushBuffers() {\n    const {\n      _drawCallPool,\n      _textureArrayPool\n    } = _BatchRenderer;\n    const MAX_SPRITES = this.size / 4;\n    const MAX_TA = Math.floor(MAX_SPRITES / this.maxTextures) + 1;\n    while (_drawCallPool.length < MAX_SPRITES) {\n      _drawCallPool.push(new BatchDrawCall());\n    }\n    while (_textureArrayPool.length < MAX_TA) {\n      _textureArrayPool.push(new BatchTextureArray());\n    }\n    for (let i = 0; i < this.maxTextures; i++) {\n      this._tempBoundTextures[i] = null;\n    }\n  }\n  onPrerender() {\n    this._flushId = 0;\n  }\n  render(element) {\n    if (!element._texture.valid) {\n      return;\n    }\n    if (this._vertexCount + element.vertexData.length / 2 > this.size) {\n      this.flush();\n    }\n    this._vertexCount += element.vertexData.length / 2;\n    this._indexCount += element.indices.length;\n    this._bufferedTextures[this._bufferSize] = element._texture.baseTexture;\n    this._bufferedElements[this._bufferSize++] = element;\n  }\n  buildTexturesAndDrawCalls() {\n    const {\n      _bufferedTextures: textures,\n      maxTextures\n    } = this;\n    const textureArrays = _BatchRenderer._textureArrayPool;\n    const batch = this.renderer.batch;\n    const boundTextures = this._tempBoundTextures;\n    const touch = this.renderer.textureGC.count;\n    let TICK = ++BaseTexture._globalBatch;\n    let countTexArrays = 0;\n    let texArray = textureArrays[0];\n    let start = 0;\n    batch.copyBoundTextures(boundTextures, maxTextures);\n    for (let i = 0; i < this._bufferSize; ++i) {\n      const tex = textures[i];\n      textures[i] = null;\n      if (tex._batchEnabled === TICK) {\n        continue;\n      }\n      if (texArray.count >= maxTextures) {\n        batch.boundArray(texArray, boundTextures, TICK, maxTextures);\n        this.buildDrawCalls(texArray, start, i);\n        start = i;\n        texArray = textureArrays[++countTexArrays];\n        ++TICK;\n      }\n      tex._batchEnabled = TICK;\n      tex.touched = touch;\n      texArray.elements[texArray.count++] = tex;\n    }\n    if (texArray.count > 0) {\n      batch.boundArray(texArray, boundTextures, TICK, maxTextures);\n      this.buildDrawCalls(texArray, start, this._bufferSize);\n      ++countTexArrays;\n      ++TICK;\n    }\n    for (let i = 0; i < boundTextures.length; i++) {\n      boundTextures[i] = null;\n    }\n    BaseTexture._globalBatch = TICK;\n  }\n  buildDrawCalls(texArray, start, finish) {\n    const {\n      _bufferedElements: elements,\n      _attributeBuffer,\n      _indexBuffer,\n      vertexSize\n    } = this;\n    const drawCalls = _BatchRenderer._drawCallPool;\n    let dcIndex = this._dcIndex;\n    let aIndex = this._aIndex;\n    let iIndex = this._iIndex;\n    let drawCall = drawCalls[dcIndex];\n    drawCall.start = this._iIndex;\n    drawCall.texArray = texArray;\n    for (let i = start; i < finish; ++i) {\n      const sprite = elements[i];\n      const tex = sprite._texture.baseTexture;\n      const spriteBlendMode = premultiplyBlendMode[tex.alphaMode ? 1 : 0][sprite.blendMode];\n      elements[i] = null;\n      if (start < i && drawCall.blend !== spriteBlendMode) {\n        drawCall.size = iIndex - drawCall.start;\n        start = i;\n        drawCall = drawCalls[++dcIndex];\n        drawCall.texArray = texArray;\n        drawCall.start = iIndex;\n      }\n      this.packInterleavedGeometry(sprite, _attributeBuffer, _indexBuffer, aIndex, iIndex);\n      aIndex += sprite.vertexData.length / 2 * vertexSize;\n      iIndex += sprite.indices.length;\n      drawCall.blend = spriteBlendMode;\n    }\n    if (start < finish) {\n      drawCall.size = iIndex - drawCall.start;\n      ++dcIndex;\n    }\n    this._dcIndex = dcIndex;\n    this._aIndex = aIndex;\n    this._iIndex = iIndex;\n  }\n  bindAndClearTexArray(texArray) {\n    const textureSystem = this.renderer.texture;\n    for (let j = 0; j < texArray.count; j++) {\n      textureSystem.bind(texArray.elements[j], texArray.ids[j]);\n      texArray.elements[j] = null;\n    }\n    texArray.count = 0;\n  }\n  updateGeometry() {\n    const {\n      _packedGeometries: packedGeometries,\n      _attributeBuffer: attributeBuffer,\n      _indexBuffer: indexBuffer\n    } = this;\n    if (!_BatchRenderer.canUploadSameBuffer) {\n      if (this._packedGeometryPoolSize <= this._flushId) {\n        this._packedGeometryPoolSize++;\n        packedGeometries[this._flushId] = new this.geometryClass();\n      }\n      packedGeometries[this._flushId]._buffer.update(attributeBuffer.rawBinaryData);\n      packedGeometries[this._flushId]._indexBuffer.update(indexBuffer);\n      this.renderer.geometry.bind(packedGeometries[this._flushId]);\n      this.renderer.geometry.updateBuffers();\n      this._flushId++;\n    } else {\n      packedGeometries[this._flushId]._buffer.update(attributeBuffer.rawBinaryData);\n      packedGeometries[this._flushId]._indexBuffer.update(indexBuffer);\n      this.renderer.geometry.updateBuffers();\n    }\n  }\n  drawBatches() {\n    const dcCount = this._dcIndex;\n    const { gl, state: stateSystem } = this.renderer;\n    const drawCalls = _BatchRenderer._drawCallPool;\n    let curTexArray = null;\n    for (let i = 0; i < dcCount; i++) {\n      const { texArray, type, size, start, blend } = drawCalls[i];\n      if (curTexArray !== texArray) {\n        curTexArray = texArray;\n        this.bindAndClearTexArray(texArray);\n      }\n      this.state.blendMode = blend;\n      stateSystem.set(this.state);\n      gl.drawElements(type, size, gl.UNSIGNED_SHORT, start * 2);\n    }\n  }\n  flush() {\n    if (this._vertexCount === 0) {\n      return;\n    }\n    this._attributeBuffer = this.getAttributeBuffer(this._vertexCount);\n    this._indexBuffer = this.getIndexBuffer(this._indexCount);\n    this._aIndex = 0;\n    this._iIndex = 0;\n    this._dcIndex = 0;\n    this.buildTexturesAndDrawCalls();\n    this.updateGeometry();\n    this.drawBatches();\n    this._bufferSize = 0;\n    this._vertexCount = 0;\n    this._indexCount = 0;\n  }\n  start() {\n    this.renderer.state.set(this.state);\n    this.renderer.texture.ensureSamplerType(this.maxTextures);\n    this.renderer.shader.bind(this._shader);\n    if (_BatchRenderer.canUploadSameBuffer) {\n      this.renderer.geometry.bind(this._packedGeometries[this._flushId]);\n    }\n  }\n  stop() {\n    this.flush();\n  }\n  destroy() {\n    for (let i = 0; i < this._packedGeometryPoolSize; i++) {\n      if (this._packedGeometries[i]) {\n        this._packedGeometries[i].destroy();\n      }\n    }\n    this.renderer.off(\"prerender\", this.onPrerender, this);\n    this._aBuffers = null;\n    this._iBuffers = null;\n    this._packedGeometries = null;\n    this._attributeBuffer = null;\n    this._indexBuffer = null;\n    if (this._shader) {\n      this._shader.destroy();\n      this._shader = null;\n    }\n    super.destroy();\n  }\n  getAttributeBuffer(size) {\n    const roundedP2 = nextPow2(Math.ceil(size / 8));\n    const roundedSizeIndex = log2(roundedP2);\n    const roundedSize = roundedP2 * 8;\n    if (this._aBuffers.length <= roundedSizeIndex) {\n      this._iBuffers.length = roundedSizeIndex + 1;\n    }\n    let buffer = this._aBuffers[roundedSize];\n    if (!buffer) {\n      this._aBuffers[roundedSize] = buffer = new ViewableBuffer(roundedSize * this.vertexSize * 4);\n    }\n    return buffer;\n  }\n  getIndexBuffer(size) {\n    const roundedP2 = nextPow2(Math.ceil(size / 12));\n    const roundedSizeIndex = log2(roundedP2);\n    const roundedSize = roundedP2 * 12;\n    if (this._iBuffers.length <= roundedSizeIndex) {\n      this._iBuffers.length = roundedSizeIndex + 1;\n    }\n    let buffer = this._iBuffers[roundedSizeIndex];\n    if (!buffer) {\n      this._iBuffers[roundedSizeIndex] = buffer = new Uint16Array(roundedSize);\n    }\n    return buffer;\n  }\n  packInterleavedGeometry(element, attributeBuffer, indexBuffer, aIndex, iIndex) {\n    const {\n      uint32View,\n      float32View\n    } = attributeBuffer;\n    const packedVertices = aIndex / this.vertexSize;\n    const uvs = element.uvs;\n    const indicies = element.indices;\n    const vertexData = element.vertexData;\n    const textureId = element._texture.baseTexture._batchLocation;\n    const alpha = Math.min(element.worldAlpha, 1);\n    const argb = Color.shared.setValue(element._tintRGB).toPremultiplied(alpha);\n    for (let i = 0; i < vertexData.length; i += 2) {\n      float32View[aIndex++] = vertexData[i];\n      float32View[aIndex++] = vertexData[i + 1];\n      float32View[aIndex++] = uvs[i];\n      float32View[aIndex++] = uvs[i + 1];\n      uint32View[aIndex++] = argb;\n      float32View[aIndex++] = textureId;\n    }\n    for (let i = 0; i < indicies.length; i++) {\n      indexBuffer[iIndex++] = packedVertices + indicies[i];\n    }\n  }\n};\nlet BatchRenderer = _BatchRenderer;\nBatchRenderer.defaultBatchSize = 4096;\nBatchRenderer.extension = {\n  name: \"batch\",\n  type: ExtensionType.RendererPlugin\n};\nBatchRenderer._drawCallPool = [];\nBatchRenderer._textureArrayPool = [];\nextensions.add(BatchRenderer);\n\nexport { BatchRenderer };\n//# sourceMappingURL=BatchRenderer.mjs.map\n","import { settings, isMobile } from '@pixi/settings';\n\nfunction maxRecommendedTextures(max) {\n  let allowMax = true;\n  const navigator = settings.ADAPTER.getNavigator();\n  if (isMobile.tablet || isMobile.phone) {\n    if (isMobile.apple.device) {\n      const match = navigator.userAgent.match(/OS (\\d+)_(\\d+)?/);\n      if (match) {\n        const majorVersion = parseInt(match[1], 10);\n        if (majorVersion < 11) {\n          allowMax = false;\n        }\n      }\n    }\n    if (isMobile.android.device) {\n      const match = navigator.userAgent.match(/Android\\s([0-9.]*)/);\n      if (match) {\n        const majorVersion = parseInt(match[1], 10);\n        if (majorVersion < 7) {\n          allowMax = false;\n        }\n      }\n    }\n  }\n  return allowMax ? max : 4;\n}\n\nexport { maxRecommendedTextures };\n//# sourceMappingURL=maxRecommendedTextures.mjs.map\n","import { isMobile } from '@pixi/settings';\n\nfunction canUploadSameBuffer() {\n  return !isMobile.apple.device;\n}\n\nexport { canUploadSameBuffer };\n//# sourceMappingURL=canUploadSameBuffer.mjs.map\n","var defaultVertex = \"precision highp float;\\nattribute vec2 aVertexPosition;\\nattribute vec2 aTextureCoord;\\nattribute vec4 aColor;\\nattribute float aTextureId;\\n\\nuniform mat3 projectionMatrix;\\nuniform mat3 translationMatrix;\\nuniform vec4 tint;\\n\\nvarying vec2 vTextureCoord;\\nvarying vec4 vColor;\\nvarying float vTextureId;\\n\\nvoid main(void){\\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\\n\\n    vTextureCoord = aTextureCoord;\\n    vTextureId = aTextureId;\\n    vColor = aColor * tint;\\n}\\n\";\n\nexport { defaultVertex as default };\n//# sourceMappingURL=texture2.mjs.map\n","var defaultFragment = \"varying vec2 vTextureCoord;\\nvarying vec4 vColor;\\nvarying float vTextureId;\\nuniform sampler2D uSamplers[%count%];\\n\\nvoid main(void){\\n    vec4 color;\\n    %forloop%\\n    gl_FragColor = color * vColor;\\n}\\n\";\n\nexport { defaultFragment as default };\n//# sourceMappingURL=texture.mjs.map\n","import { MSAA_QUALITY } from '@pixi/constants';\nimport { Program } from '../shader/Program.mjs';\nimport { Shader } from '../shader/Shader.mjs';\nimport { State } from '../state/State.mjs';\nimport defaultFragment from './defaultFilter.mjs';\nimport defaultVertex from './defaultFilter2.mjs';\n\nconst _Filter = class extends Shader {\n  constructor(vertexSrc, fragmentSrc, uniforms) {\n    const program = Program.from(vertexSrc || _Filter.defaultVertexSrc, fragmentSrc || _Filter.defaultFragmentSrc);\n    super(program, uniforms);\n    this.padding = 0;\n    this.resolution = _Filter.defaultResolution;\n    this.multisample = _Filter.defaultMultisample;\n    this.enabled = true;\n    this.autoFit = true;\n    this.state = new State();\n  }\n  apply(filterManager, input, output, clearMode, _currentState) {\n    filterManager.applyFilter(this, input, output, clearMode);\n  }\n  get blendMode() {\n    return this.state.blendMode;\n  }\n  set blendMode(value) {\n    this.state.blendMode = value;\n  }\n  get resolution() {\n    return this._resolution;\n  }\n  set resolution(value) {\n    this._resolution = value;\n  }\n  static get defaultVertexSrc() {\n    return defaultVertex;\n  }\n  static get defaultFragmentSrc() {\n    return defaultFragment;\n  }\n};\nlet Filter = _Filter;\nFilter.defaultResolution = 1;\nFilter.defaultMultisample = MSAA_QUALITY.NONE;\n\nexport { Filter };\n//# sourceMappingURL=Filter.mjs.map\n","var defaultVertex = \"attribute vec2 aVertexPosition;\\n\\nuniform mat3 projectionMatrix;\\n\\nvarying vec2 vTextureCoord;\\n\\nuniform vec4 inputSize;\\nuniform vec4 outputFrame;\\n\\nvec4 filterVertexPosition( void )\\n{\\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\\n\\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\\n}\\n\\nvec2 filterTextureCoord( void )\\n{\\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\\n}\\n\\nvoid main(void)\\n{\\n    gl_Position = filterVertexPosition();\\n    vTextureCoord = filterTextureCoord();\\n}\\n\";\n\nexport { defaultVertex as default };\n//# sourceMappingURL=defaultFilter2.mjs.map\n","var defaultFragment = \"varying vec2 vTextureCoord;\\n\\nuniform sampler2D uSampler;\\n\\nvoid main(void){\\n   gl_FragColor = texture2D(uSampler, vTextureCoord);\\n}\\n\";\n\nexport { defaultFragment as default };\n//# sourceMappingURL=defaultFilter.mjs.map\n","import { Color } from '@pixi/color';\nimport { ExtensionType, extensions } from '@pixi/extensions';\n\nclass BackgroundSystem {\n  constructor() {\n    this.clearBeforeRender = true;\n    this._backgroundColor = new Color(0);\n    this.alpha = 1;\n  }\n  init(options) {\n    this.clearBeforeRender = options.clearBeforeRender;\n    const { backgroundColor, background, backgroundAlpha } = options;\n    const color = background ?? backgroundColor;\n    if (color !== void 0) {\n      this.color = color;\n    }\n    this.alpha = backgroundAlpha;\n  }\n  get color() {\n    return this._backgroundColor.value;\n  }\n  set color(value) {\n    this._backgroundColor.setValue(value);\n  }\n  get alpha() {\n    return this._backgroundColor.alpha;\n  }\n  set alpha(value) {\n    this._backgroundColor.setAlpha(value);\n  }\n  get backgroundColor() {\n    return this._backgroundColor;\n  }\n  destroy() {\n  }\n}\nBackgroundSystem.defaultOptions = {\n  backgroundAlpha: 1,\n  backgroundColor: 0,\n  clearBeforeRender: true\n};\nBackgroundSystem.extension = {\n  type: [\n    ExtensionType.RendererSystem,\n    ExtensionType.CanvasRendererSystem\n  ],\n  name: \"background\"\n};\nextensions.add(BackgroundSystem);\n\nexport { BackgroundSystem };\n//# sourceMappingURL=BackgroundSystem.mjs.map\n","import { ExtensionType, extensions } from '@pixi/extensions';\nimport { ObjectRenderer } from './ObjectRenderer.mjs';\n\nclass BatchSystem {\n  constructor(renderer) {\n    this.renderer = renderer;\n    this.emptyRenderer = new ObjectRenderer(renderer);\n    this.currentRenderer = this.emptyRenderer;\n  }\n  setObjectRenderer(objectRenderer) {\n    if (this.currentRenderer === objectRenderer) {\n      return;\n    }\n    this.currentRenderer.stop();\n    this.currentRenderer = objectRenderer;\n    this.currentRenderer.start();\n  }\n  flush() {\n    this.setObjectRenderer(this.emptyRenderer);\n  }\n  reset() {\n    this.setObjectRenderer(this.emptyRenderer);\n  }\n  copyBoundTextures(arr, maxTextures) {\n    const { boundTextures } = this.renderer.texture;\n    for (let i = maxTextures - 1; i >= 0; --i) {\n      arr[i] = boundTextures[i] || null;\n      if (arr[i]) {\n        arr[i]._batchLocation = i;\n      }\n    }\n  }\n  boundArray(texArray, boundTextures, batchId, maxTextures) {\n    const { elements, ids, count } = texArray;\n    let j = 0;\n    for (let i = 0; i < count; i++) {\n      const tex = elements[i];\n      const loc = tex._batchLocation;\n      if (loc >= 0 && loc < maxTextures && boundTextures[loc] === tex) {\n        ids[i] = loc;\n        continue;\n      }\n      while (j < maxTextures) {\n        const bound = boundTextures[j];\n        if (bound && bound._batchEnabled === batchId && bound._batchLocation === j) {\n          j++;\n          continue;\n        }\n        ids[i] = j;\n        tex._batchLocation = j;\n        boundTextures[j] = tex;\n        break;\n      }\n    }\n  }\n  destroy() {\n    this.renderer = null;\n  }\n}\nBatchSystem.extension = {\n  type: ExtensionType.RendererSystem,\n  name: \"batch\"\n};\nextensions.add(BatchSystem);\n\nexport { BatchSystem };\n//# sourceMappingURL=BatchSystem.mjs.map\n","import { ENV } from '@pixi/constants';\nimport { ExtensionType, extensions } from '@pixi/extensions';\nimport { settings } from '@pixi/settings';\n\nlet CONTEXT_UID_COUNTER = 0;\nclass ContextSystem {\n  constructor(renderer) {\n    this.renderer = renderer;\n    this.webGLVersion = 1;\n    this.extensions = {};\n    this.supports = {\n      uint32Indices: false\n    };\n    this.handleContextLost = this.handleContextLost.bind(this);\n    this.handleContextRestored = this.handleContextRestored.bind(this);\n  }\n  get isLost() {\n    return !this.gl || this.gl.isContextLost();\n  }\n  contextChange(gl) {\n    this.gl = gl;\n    this.renderer.gl = gl;\n    this.renderer.CONTEXT_UID = CONTEXT_UID_COUNTER++;\n  }\n  init(options) {\n    if (options.context) {\n      this.initFromContext(options.context);\n    } else {\n      const alpha = this.renderer.background.alpha < 1;\n      const premultipliedAlpha = options.premultipliedAlpha;\n      this.preserveDrawingBuffer = options.preserveDrawingBuffer;\n      this.useContextAlpha = options.useContextAlpha;\n      this.powerPreference = options.powerPreference;\n      this.initFromOptions({\n        alpha,\n        premultipliedAlpha,\n        antialias: options.antialias,\n        stencil: true,\n        preserveDrawingBuffer: options.preserveDrawingBuffer,\n        powerPreference: options.powerPreference\n      });\n    }\n  }\n  initFromContext(gl) {\n    this.gl = gl;\n    this.validateContext(gl);\n    this.renderer.gl = gl;\n    this.renderer.CONTEXT_UID = CONTEXT_UID_COUNTER++;\n    this.renderer.runners.contextChange.emit(gl);\n    const view = this.renderer.view;\n    if (view.addEventListener !== void 0) {\n      view.addEventListener(\"webglcontextlost\", this.handleContextLost, false);\n      view.addEventListener(\"webglcontextrestored\", this.handleContextRestored, false);\n    }\n  }\n  initFromOptions(options) {\n    const gl = this.createContext(this.renderer.view, options);\n    this.initFromContext(gl);\n  }\n  createContext(canvas, options) {\n    let gl;\n    if (settings.PREFER_ENV >= ENV.WEBGL2) {\n      gl = canvas.getContext(\"webgl2\", options);\n    }\n    if (gl) {\n      this.webGLVersion = 2;\n    } else {\n      this.webGLVersion = 1;\n      gl = canvas.getContext(\"webgl\", options) || canvas.getContext(\"experimental-webgl\", options);\n      if (!gl) {\n        throw new Error(\"This browser does not support WebGL. Try using the canvas renderer\");\n      }\n    }\n    this.gl = gl;\n    this.getExtensions();\n    return this.gl;\n  }\n  getExtensions() {\n    const { gl } = this;\n    const common = {\n      loseContext: gl.getExtension(\"WEBGL_lose_context\"),\n      anisotropicFiltering: gl.getExtension(\"EXT_texture_filter_anisotropic\"),\n      floatTextureLinear: gl.getExtension(\"OES_texture_float_linear\"),\n      s3tc: gl.getExtension(\"WEBGL_compressed_texture_s3tc\"),\n      s3tc_sRGB: gl.getExtension(\"WEBGL_compressed_texture_s3tc_srgb\"),\n      etc: gl.getExtension(\"WEBGL_compressed_texture_etc\"),\n      etc1: gl.getExtension(\"WEBGL_compressed_texture_etc1\"),\n      pvrtc: gl.getExtension(\"WEBGL_compressed_texture_pvrtc\") || gl.getExtension(\"WEBKIT_WEBGL_compressed_texture_pvrtc\"),\n      atc: gl.getExtension(\"WEBGL_compressed_texture_atc\"),\n      astc: gl.getExtension(\"WEBGL_compressed_texture_astc\")\n    };\n    if (this.webGLVersion === 1) {\n      Object.assign(this.extensions, common, {\n        drawBuffers: gl.getExtension(\"WEBGL_draw_buffers\"),\n        depthTexture: gl.getExtension(\"WEBGL_depth_texture\"),\n        vertexArrayObject: gl.getExtension(\"OES_vertex_array_object\") || gl.getExtension(\"MOZ_OES_vertex_array_object\") || gl.getExtension(\"WEBKIT_OES_vertex_array_object\"),\n        uint32ElementIndex: gl.getExtension(\"OES_element_index_uint\"),\n        floatTexture: gl.getExtension(\"OES_texture_float\"),\n        floatTextureLinear: gl.getExtension(\"OES_texture_float_linear\"),\n        textureHalfFloat: gl.getExtension(\"OES_texture_half_float\"),\n        textureHalfFloatLinear: gl.getExtension(\"OES_texture_half_float_linear\")\n      });\n    } else if (this.webGLVersion === 2) {\n      Object.assign(this.extensions, common, {\n        colorBufferFloat: gl.getExtension(\"EXT_color_buffer_float\")\n      });\n    }\n  }\n  handleContextLost(event) {\n    event.preventDefault();\n    setTimeout(() => {\n      if (this.gl.isContextLost() && this.extensions.loseContext) {\n        this.extensions.loseContext.restoreContext();\n      }\n    }, 0);\n  }\n  handleContextRestored() {\n    this.renderer.runners.contextChange.emit(this.gl);\n  }\n  destroy() {\n    const view = this.renderer.view;\n    this.renderer = null;\n    if (view.removeEventListener !== void 0) {\n      view.removeEventListener(\"webglcontextlost\", this.handleContextLost);\n      view.removeEventListener(\"webglcontextrestored\", this.handleContextRestored);\n    }\n    this.gl.useProgram(null);\n    if (this.extensions.loseContext) {\n      this.extensions.loseContext.loseContext();\n    }\n  }\n  postrender() {\n    if (this.renderer.objectRenderer.renderingToScreen) {\n      this.gl.flush();\n    }\n  }\n  validateContext(gl) {\n    const attributes = gl.getContextAttributes();\n    const isWebGl2 = \"WebGL2RenderingContext\" in globalThis && gl instanceof globalThis.WebGL2RenderingContext;\n    if (isWebGl2) {\n      this.webGLVersion = 2;\n    }\n    if (attributes && !attributes.stencil) {\n      console.warn(\"Provided WebGL context does not have a stencil buffer, masks may not render correctly\");\n    }\n    const hasuint32 = isWebGl2 || !!gl.getExtension(\"OES_element_index_uint\");\n    this.supports.uint32Indices = hasuint32;\n    if (!hasuint32) {\n      console.warn(\"Provided WebGL context does not support 32 index buffer, complex graphics may not render correctly\");\n    }\n  }\n}\nContextSystem.defaultOptions = {\n  context: null,\n  antialias: false,\n  premultipliedAlpha: true,\n  preserveDrawingBuffer: false,\n  powerPreference: \"default\"\n};\nContextSystem.extension = {\n  type: ExtensionType.RendererSystem,\n  name: \"context\"\n};\nextensions.add(ContextSystem);\n\nexport { ContextSystem };\n//# sourceMappingURL=ContextSystem.mjs.map\n","import { ALPHA_MODES } from '@pixi/constants';\nimport { BufferResource } from './BufferResource.mjs';\n\nclass DepthResource extends BufferResource {\n  upload(renderer, baseTexture, glTexture) {\n    const gl = renderer.gl;\n    gl.pixelStorei(gl.UNPACK_PREMULTIPLY_ALPHA_WEBGL, baseTexture.alphaMode === ALPHA_MODES.UNPACK);\n    const width = baseTexture.realWidth;\n    const height = baseTexture.realHeight;\n    if (glTexture.width === width && glTexture.height === height) {\n      gl.texSubImage2D(baseTexture.target, 0, 0, 0, width, height, baseTexture.format, glTexture.type, this.data);\n    } else {\n      glTexture.width = width;\n      glTexture.height = height;\n      gl.texImage2D(baseTexture.target, 0, glTexture.internalFormat, width, height, 0, baseTexture.format, glTexture.type, this.data);\n    }\n    return true;\n  }\n}\n\nexport { DepthResource };\n//# sourceMappingURL=DepthResource.mjs.map\n","import { MSAA_QUALITY, SCALE_MODES, MIPMAP_MODES, FORMATS, TYPES } from '@pixi/constants';\nimport { Runner } from '@pixi/runner';\nimport { BaseTexture } from '../textures/BaseTexture.mjs';\nimport { DepthResource } from '../textures/resources/DepthResource.mjs';\n\nclass Framebuffer {\n  constructor(width, height) {\n    this.width = Math.round(width || 100);\n    this.height = Math.round(height || 100);\n    this.stencil = false;\n    this.depth = false;\n    this.dirtyId = 0;\n    this.dirtyFormat = 0;\n    this.dirtySize = 0;\n    this.depthTexture = null;\n    this.colorTextures = [];\n    this.glFramebuffers = {};\n    this.disposeRunner = new Runner(\"disposeFramebuffer\");\n    this.multisample = MSAA_QUALITY.NONE;\n  }\n  get colorTexture() {\n    return this.colorTextures[0];\n  }\n  addColorTexture(index = 0, texture) {\n    this.colorTextures[index] = texture || new BaseTexture(null, {\n      scaleMode: SCALE_MODES.NEAREST,\n      resolution: 1,\n      mipmap: MIPMAP_MODES.OFF,\n      width: this.width,\n      height: this.height\n    });\n    this.dirtyId++;\n    this.dirtyFormat++;\n    return this;\n  }\n  addDepthTexture(texture) {\n    this.depthTexture = texture || new BaseTexture(new DepthResource(null, { width: this.width, height: this.height }), {\n      scaleMode: SCALE_MODES.NEAREST,\n      resolution: 1,\n      width: this.width,\n      height: this.height,\n      mipmap: MIPMAP_MODES.OFF,\n      format: FORMATS.DEPTH_COMPONENT,\n      type: TYPES.UNSIGNED_SHORT\n    });\n    this.dirtyId++;\n    this.dirtyFormat++;\n    return this;\n  }\n  enableDepth() {\n    this.depth = true;\n    this.dirtyId++;\n    this.dirtyFormat++;\n    return this;\n  }\n  enableStencil() {\n    this.stencil = true;\n    this.dirtyId++;\n    this.dirtyFormat++;\n    return this;\n  }\n  resize(width, height) {\n    width = Math.round(width);\n    height = Math.round(height);\n    if (width === this.width && height === this.height)\n      return;\n    this.width = width;\n    this.height = height;\n    this.dirtyId++;\n    this.dirtySize++;\n    for (let i = 0; i < this.colorTextures.length; i++) {\n      const texture = this.colorTextures[i];\n      const resolution = texture.resolution;\n      texture.setSize(width / resolution, height / resolution);\n    }\n    if (this.depthTexture) {\n      const resolution = this.depthTexture.resolution;\n      this.depthTexture.setSize(width / resolution, height / resolution);\n    }\n  }\n  dispose() {\n    this.disposeRunner.emit(this, false);\n  }\n  destroyDepthTexture() {\n    if (this.depthTexture) {\n      this.depthTexture.destroy();\n      this.depthTexture = null;\n      ++this.dirtyId;\n      ++this.dirtyFormat;\n    }\n  }\n}\n\nexport { Framebuffer };\n//# sourceMappingURL=Framebuffer.mjs.map\n","import { Color } from '@pixi/color';\nimport { MSAA_QUALITY, MIPMAP_MODES } from '@pixi/constants';\nimport { Framebuffer } from '../framebuffer/Framebuffer.mjs';\nimport { BaseTexture } from '../textures/BaseTexture.mjs';\n\nclass BaseRenderTexture extends BaseTexture {\n  constructor(options = {}) {\n    if (typeof options === \"number\") {\n      const width = arguments[0];\n      const height = arguments[1];\n      const scaleMode = arguments[2];\n      const resolution = arguments[3];\n      options = { width, height, scaleMode, resolution };\n    }\n    options.width = options.width || 100;\n    options.height = options.height || 100;\n    options.multisample ?? (options.multisample = MSAA_QUALITY.NONE);\n    super(null, options);\n    this.mipmap = MIPMAP_MODES.OFF;\n    this.valid = true;\n    this._clear = new Color([0, 0, 0, 0]);\n    this.framebuffer = new Framebuffer(this.realWidth, this.realHeight).addColorTexture(0, this);\n    this.framebuffer.multisample = options.multisample;\n    this.maskStack = [];\n    this.filterStack = [{}];\n  }\n  set clearColor(value) {\n    this._clear.setValue(value);\n  }\n  get clearColor() {\n    return this._clear.value;\n  }\n  get clear() {\n    return this._clear;\n  }\n  resize(desiredWidth, desiredHeight) {\n    this.framebuffer.resize(desiredWidth * this.resolution, desiredHeight * this.resolution);\n    this.setRealSize(this.framebuffer.width, this.framebuffer.height);\n  }\n  dispose() {\n    this.framebuffer.dispose();\n    super.dispose();\n  }\n  destroy() {\n    super.destroy();\n    this.framebuffer.destroyDepthTexture();\n    this.framebuffer = null;\n  }\n}\n\nexport { BaseRenderTexture };\n//# sourceMappingURL=BaseRenderTexture.mjs.map\n","import { ALPHA_MODES } from '@pixi/constants';\nimport { determineCrossOrigin } from '@pixi/utils';\nimport { Resource } from './Resource.mjs';\n\nclass BaseImageResource extends Resource {\n  constructor(source) {\n    const sourceAny = source;\n    const width = sourceAny.naturalWidth || sourceAny.videoWidth || sourceAny.width;\n    const height = sourceAny.naturalHeight || sourceAny.videoHeight || sourceAny.height;\n    super(width, height);\n    this.source = source;\n    this.noSubImage = false;\n  }\n  static crossOrigin(element, url, crossorigin) {\n    if (crossorigin === void 0 && !url.startsWith(\"data:\")) {\n      element.crossOrigin = determineCrossOrigin(url);\n    } else if (crossorigin !== false) {\n      element.crossOrigin = typeof crossorigin === \"string\" ? crossorigin : \"anonymous\";\n    }\n  }\n  upload(renderer, baseTexture, glTexture, source) {\n    const gl = renderer.gl;\n    const width = baseTexture.realWidth;\n    const height = baseTexture.realHeight;\n    source = source || this.source;\n    if (typeof HTMLImageElement !== \"undefined\" && source instanceof HTMLImageElement) {\n      if (!source.complete || source.naturalWidth === 0) {\n        return false;\n      }\n    } else if (typeof HTMLVideoElement !== \"undefined\" && source instanceof HTMLVideoElement) {\n      if (source.readyState <= 1 && source.buffered.length === 0) {\n        return false;\n      }\n    }\n    gl.pixelStorei(gl.UNPACK_PREMULTIPLY_ALPHA_WEBGL, baseTexture.alphaMode === ALPHA_MODES.UNPACK);\n    if (!this.noSubImage && baseTexture.target === gl.TEXTURE_2D && glTexture.width === width && glTexture.height === height) {\n      gl.texSubImage2D(gl.TEXTURE_2D, 0, 0, 0, baseTexture.format, glTexture.type, source);\n    } else {\n      glTexture.width = width;\n      glTexture.height = height;\n      gl.texImage2D(baseTexture.target, 0, glTexture.internalFormat, baseTexture.format, glTexture.type, source);\n    }\n    return true;\n  }\n  update() {\n    if (this.destroyed) {\n      return;\n    }\n    const source = this.source;\n    const width = source.naturalWidth || source.videoWidth || source.width;\n    const height = source.naturalHeight || source.videoHeight || source.height;\n    this.resize(width, height);\n    super.update();\n  }\n  dispose() {\n    this.source = null;\n  }\n}\n\nexport { BaseImageResource };\n//# sourceMappingURL=BaseImageResource.mjs.map\n","import { ALPHA_MODES } from '@pixi/constants';\nimport { settings } from '@pixi/settings';\nimport { BaseImageResource } from './BaseImageResource.mjs';\n\nclass ImageResource extends BaseImageResource {\n  constructor(source, options) {\n    options = options || {};\n    if (typeof source === \"string\") {\n      const imageElement = new Image();\n      BaseImageResource.crossOrigin(imageElement, source, options.crossorigin);\n      imageElement.src = source;\n      source = imageElement;\n    }\n    super(source);\n    if (!source.complete && !!this._width && !!this._height) {\n      this._width = 0;\n      this._height = 0;\n    }\n    this.url = source.src;\n    this._process = null;\n    this.preserveBitmap = false;\n    this.createBitmap = (options.createBitmap ?? settings.CREATE_IMAGE_BITMAP) && !!globalThis.createImageBitmap;\n    this.alphaMode = typeof options.alphaMode === \"number\" ? options.alphaMode : null;\n    this.bitmap = null;\n    this._load = null;\n    if (options.autoLoad !== false) {\n      this.load();\n    }\n  }\n  load(createBitmap) {\n    if (this._load) {\n      return this._load;\n    }\n    if (createBitmap !== void 0) {\n      this.createBitmap = createBitmap;\n    }\n    this._load = new Promise((resolve, reject) => {\n      const source = this.source;\n      this.url = source.src;\n      const completed = () => {\n        if (this.destroyed) {\n          return;\n        }\n        source.onload = null;\n        source.onerror = null;\n        this.resize(source.width, source.height);\n        this._load = null;\n        if (this.createBitmap) {\n          resolve(this.process());\n        } else {\n          resolve(this);\n        }\n      };\n      if (source.complete && source.src) {\n        completed();\n      } else {\n        source.onload = completed;\n        source.onerror = (event) => {\n          reject(event);\n          this.onError.emit(event);\n        };\n      }\n    });\n    return this._load;\n  }\n  process() {\n    const source = this.source;\n    if (this._process !== null) {\n      return this._process;\n    }\n    if (this.bitmap !== null || !globalThis.createImageBitmap) {\n      return Promise.resolve(this);\n    }\n    const createImageBitmap = globalThis.createImageBitmap;\n    const cors = !source.crossOrigin || source.crossOrigin === \"anonymous\";\n    this._process = fetch(source.src, {\n      mode: cors ? \"cors\" : \"no-cors\"\n    }).then((r) => r.blob()).then((blob) => createImageBitmap(blob, 0, 0, source.width, source.height, {\n      premultiplyAlpha: this.alphaMode === null || this.alphaMode === ALPHA_MODES.UNPACK ? \"premultiply\" : \"none\"\n    })).then((bitmap) => {\n      if (this.destroyed) {\n        return Promise.reject();\n      }\n      this.bitmap = bitmap;\n      this.update();\n      this._process = null;\n      return Promise.resolve(this);\n    });\n    return this._process;\n  }\n  upload(renderer, baseTexture, glTexture) {\n    if (typeof this.alphaMode === \"number\") {\n      baseTexture.alphaMode = this.alphaMode;\n    }\n    if (!this.createBitmap) {\n      return super.upload(renderer, baseTexture, glTexture);\n    }\n    if (!this.bitmap) {\n      this.process();\n      if (!this.bitmap) {\n        return false;\n      }\n    }\n    super.upload(renderer, baseTexture, glTexture, this.bitmap);\n    if (!this.preserveBitmap) {\n      let flag = true;\n      const glTextures = baseTexture._glTextures;\n      for (const key in glTextures) {\n        const otherTex = glTextures[key];\n        if (otherTex !== glTexture && otherTex.dirtyId !== baseTexture.dirtyId) {\n          flag = false;\n          break;\n        }\n      }\n      if (flag) {\n        if (this.bitmap.close) {\n          this.bitmap.close();\n        }\n        this.bitmap = null;\n      }\n    }\n    return true;\n  }\n  dispose() {\n    this.source.onload = null;\n    this.source.onerror = null;\n    super.dispose();\n    if (this.bitmap) {\n      this.bitmap.close();\n      this.bitmap = null;\n    }\n    this._process = null;\n    this._load = null;\n  }\n  static test(source) {\n    return typeof HTMLImageElement !== \"undefined\" && (typeof source === \"string\" || source instanceof HTMLImageElement);\n  }\n}\n\nexport { ImageResource };\n//# sourceMappingURL=ImageResource.mjs.map\n","import { groupD8 } from '@pixi/math';\n\nclass TextureUvs {\n  constructor() {\n    this.x0 = 0;\n    this.y0 = 0;\n    this.x1 = 1;\n    this.y1 = 0;\n    this.x2 = 1;\n    this.y2 = 1;\n    this.x3 = 0;\n    this.y3 = 1;\n    this.uvsFloat32 = new Float32Array(8);\n  }\n  set(frame, baseFrame, rotate) {\n    const tw = baseFrame.width;\n    const th = baseFrame.height;\n    if (rotate) {\n      const w2 = frame.width / 2 / tw;\n      const h2 = frame.height / 2 / th;\n      const cX = frame.x / tw + w2;\n      const cY = frame.y / th + h2;\n      rotate = groupD8.add(rotate, groupD8.NW);\n      this.x0 = cX + w2 * groupD8.uX(rotate);\n      this.y0 = cY + h2 * groupD8.uY(rotate);\n      rotate = groupD8.add(rotate, 2);\n      this.x1 = cX + w2 * groupD8.uX(rotate);\n      this.y1 = cY + h2 * groupD8.uY(rotate);\n      rotate = groupD8.add(rotate, 2);\n      this.x2 = cX + w2 * groupD8.uX(rotate);\n      this.y2 = cY + h2 * groupD8.uY(rotate);\n      rotate = groupD8.add(rotate, 2);\n      this.x3 = cX + w2 * groupD8.uX(rotate);\n      this.y3 = cY + h2 * groupD8.uY(rotate);\n    } else {\n      this.x0 = frame.x / tw;\n      this.y0 = frame.y / th;\n      this.x1 = (frame.x + frame.width) / tw;\n      this.y1 = frame.y / th;\n      this.x2 = (frame.x + frame.width) / tw;\n      this.y2 = (frame.y + frame.height) / th;\n      this.x3 = frame.x / tw;\n      this.y3 = (frame.y + frame.height) / th;\n    }\n    this.uvsFloat32[0] = this.x0;\n    this.uvsFloat32[1] = this.y0;\n    this.uvsFloat32[2] = this.x1;\n    this.uvsFloat32[3] = this.y1;\n    this.uvsFloat32[4] = this.x2;\n    this.uvsFloat32[5] = this.y2;\n    this.uvsFloat32[6] = this.x3;\n    this.uvsFloat32[7] = this.y3;\n  }\n  toString() {\n    return `[@pixi/core:TextureUvs x0=${this.x0} y0=${this.y0} x1=${this.x1} y1=${this.y1} x2=${this.x2} y2=${this.y2} x3=${this.x3} y3=${this.y3}]`;\n  }\n}\n\nexport { TextureUvs };\n//# sourceMappingURL=TextureUvs.mjs.map\n","import { Rectangle, Point } from '@pixi/math';\nimport { settings } from '@pixi/settings';\nimport { EventEmitter, TextureCache, uid, getResolutionOfUrl } from '@pixi/utils';\nimport { BaseTexture } from './BaseTexture.mjs';\nimport { ImageResource } from './resources/ImageResource.mjs';\nimport { TextureUvs } from './TextureUvs.mjs';\n\nconst DEFAULT_UVS = new TextureUvs();\nfunction removeAllHandlers(tex) {\n  tex.destroy = function _emptyDestroy() {\n  };\n  tex.on = function _emptyOn() {\n  };\n  tex.once = function _emptyOnce() {\n  };\n  tex.emit = function _emptyEmit() {\n  };\n}\nclass Texture extends EventEmitter {\n  constructor(baseTexture, frame, orig, trim, rotate, anchor, borders) {\n    super();\n    this.noFrame = false;\n    if (!frame) {\n      this.noFrame = true;\n      frame = new Rectangle(0, 0, 1, 1);\n    }\n    if (baseTexture instanceof Texture) {\n      baseTexture = baseTexture.baseTexture;\n    }\n    this.baseTexture = baseTexture;\n    this._frame = frame;\n    this.trim = trim;\n    this.valid = false;\n    this._uvs = DEFAULT_UVS;\n    this.uvMatrix = null;\n    this.orig = orig || frame;\n    this._rotate = Number(rotate || 0);\n    if (rotate === true) {\n      this._rotate = 2;\n    } else if (this._rotate % 2 !== 0) {\n      throw new Error(\"attempt to use diamond-shaped UVs. If you are sure, set rotation manually\");\n    }\n    this.defaultAnchor = anchor ? new Point(anchor.x, anchor.y) : new Point(0, 0);\n    this.defaultBorders = borders;\n    this._updateID = 0;\n    this.textureCacheIds = [];\n    if (!baseTexture.valid) {\n      baseTexture.once(\"loaded\", this.onBaseTextureUpdated, this);\n    } else if (this.noFrame) {\n      if (baseTexture.valid) {\n        this.onBaseTextureUpdated(baseTexture);\n      }\n    } else {\n      this.frame = frame;\n    }\n    if (this.noFrame) {\n      baseTexture.on(\"update\", this.onBaseTextureUpdated, this);\n    }\n  }\n  update() {\n    if (this.baseTexture.resource) {\n      this.baseTexture.resource.update();\n    }\n  }\n  onBaseTextureUpdated(baseTexture) {\n    if (this.noFrame) {\n      if (!this.baseTexture.valid) {\n        return;\n      }\n      this._frame.width = baseTexture.width;\n      this._frame.height = baseTexture.height;\n      this.valid = true;\n      this.updateUvs();\n    } else {\n      this.frame = this._frame;\n    }\n    this.emit(\"update\", this);\n  }\n  destroy(destroyBase) {\n    if (this.baseTexture) {\n      if (destroyBase) {\n        const { resource } = this.baseTexture;\n        if (resource?.url && TextureCache[resource.url]) {\n          Texture.removeFromCache(resource.url);\n        }\n        this.baseTexture.destroy();\n      }\n      this.baseTexture.off(\"loaded\", this.onBaseTextureUpdated, this);\n      this.baseTexture.off(\"update\", this.onBaseTextureUpdated, this);\n      this.baseTexture = null;\n    }\n    this._frame = null;\n    this._uvs = null;\n    this.trim = null;\n    this.orig = null;\n    this.valid = false;\n    Texture.removeFromCache(this);\n    this.textureCacheIds = null;\n  }\n  clone() {\n    const clonedFrame = this._frame.clone();\n    const clonedOrig = this._frame === this.orig ? clonedFrame : this.orig.clone();\n    const clonedTexture = new Texture(this.baseTexture, !this.noFrame && clonedFrame, clonedOrig, this.trim?.clone(), this.rotate, this.defaultAnchor, this.defaultBorders);\n    if (this.noFrame) {\n      clonedTexture._frame = clonedFrame;\n    }\n    return clonedTexture;\n  }\n  updateUvs() {\n    if (this._uvs === DEFAULT_UVS) {\n      this._uvs = new TextureUvs();\n    }\n    this._uvs.set(this._frame, this.baseTexture, this.rotate);\n    this._updateID++;\n  }\n  static from(source, options = {}, strict = settings.STRICT_TEXTURE_CACHE) {\n    const isFrame = typeof source === \"string\";\n    let cacheId = null;\n    if (isFrame) {\n      cacheId = source;\n    } else if (source instanceof BaseTexture) {\n      if (!source.cacheId) {\n        const prefix = options?.pixiIdPrefix || \"pixiid\";\n        source.cacheId = `${prefix}-${uid()}`;\n        BaseTexture.addToCache(source, source.cacheId);\n      }\n      cacheId = source.cacheId;\n    } else {\n      if (!source._pixiId) {\n        const prefix = options?.pixiIdPrefix || \"pixiid\";\n        source._pixiId = `${prefix}_${uid()}`;\n      }\n      cacheId = source._pixiId;\n    }\n    let texture = TextureCache[cacheId];\n    if (isFrame && strict && !texture) {\n      throw new Error(`The cacheId \"${cacheId}\" does not exist in TextureCache.`);\n    }\n    if (!texture && !(source instanceof BaseTexture)) {\n      if (!options.resolution) {\n        options.resolution = getResolutionOfUrl(source);\n      }\n      texture = new Texture(new BaseTexture(source, options));\n      texture.baseTexture.cacheId = cacheId;\n      BaseTexture.addToCache(texture.baseTexture, cacheId);\n      Texture.addToCache(texture, cacheId);\n    } else if (!texture && source instanceof BaseTexture) {\n      texture = new Texture(source);\n      Texture.addToCache(texture, cacheId);\n    }\n    return texture;\n  }\n  static fromURL(url, options) {\n    const resourceOptions = Object.assign({ autoLoad: false }, options?.resourceOptions);\n    const texture = Texture.from(url, Object.assign({ resourceOptions }, options), false);\n    const resource = texture.baseTexture.resource;\n    if (texture.baseTexture.valid) {\n      return Promise.resolve(texture);\n    }\n    return resource.load().then(() => Promise.resolve(texture));\n  }\n  static fromBuffer(buffer, width, height, options) {\n    return new Texture(BaseTexture.fromBuffer(buffer, width, height, options));\n  }\n  static fromLoader(source, imageUrl, name, options) {\n    const baseTexture = new BaseTexture(source, Object.assign({\n      scaleMode: BaseTexture.defaultOptions.scaleMode,\n      resolution: getResolutionOfUrl(imageUrl)\n    }, options));\n    const { resource } = baseTexture;\n    if (resource instanceof ImageResource) {\n      resource.url = imageUrl;\n    }\n    const texture = new Texture(baseTexture);\n    if (!name) {\n      name = imageUrl;\n    }\n    BaseTexture.addToCache(texture.baseTexture, name);\n    Texture.addToCache(texture, name);\n    if (name !== imageUrl) {\n      BaseTexture.addToCache(texture.baseTexture, imageUrl);\n      Texture.addToCache(texture, imageUrl);\n    }\n    if (texture.baseTexture.valid) {\n      return Promise.resolve(texture);\n    }\n    return new Promise((resolve) => {\n      texture.baseTexture.once(\"loaded\", () => resolve(texture));\n    });\n  }\n  static addToCache(texture, id) {\n    if (id) {\n      if (!texture.textureCacheIds.includes(id)) {\n        texture.textureCacheIds.push(id);\n      }\n      if (TextureCache[id] && TextureCache[id] !== texture) {\n        console.warn(`Texture added to the cache with an id [${id}] that already had an entry`);\n      }\n      TextureCache[id] = texture;\n    }\n  }\n  static removeFromCache(texture) {\n    if (typeof texture === \"string\") {\n      const textureFromCache = TextureCache[texture];\n      if (textureFromCache) {\n        const index = textureFromCache.textureCacheIds.indexOf(texture);\n        if (index > -1) {\n          textureFromCache.textureCacheIds.splice(index, 1);\n        }\n        delete TextureCache[texture];\n        return textureFromCache;\n      }\n    } else if (texture?.textureCacheIds) {\n      for (let i = 0; i < texture.textureCacheIds.length; ++i) {\n        if (TextureCache[texture.textureCacheIds[i]] === texture) {\n          delete TextureCache[texture.textureCacheIds[i]];\n        }\n      }\n      texture.textureCacheIds.length = 0;\n      return texture;\n    }\n    return null;\n  }\n  get resolution() {\n    return this.baseTexture.resolution;\n  }\n  get frame() {\n    return this._frame;\n  }\n  set frame(frame) {\n    this._frame = frame;\n    this.noFrame = false;\n    const { x, y, width, height } = frame;\n    const xNotFit = x + width > this.baseTexture.width;\n    const yNotFit = y + height > this.baseTexture.height;\n    if (xNotFit || yNotFit) {\n      const relationship = xNotFit && yNotFit ? \"and\" : \"or\";\n      const errorX = `X: ${x} + ${width} = ${x + width} > ${this.baseTexture.width}`;\n      const errorY = `Y: ${y} + ${height} = ${y + height} > ${this.baseTexture.height}`;\n      throw new Error(`Texture Error: frame does not fit inside the base Texture dimensions: ${errorX} ${relationship} ${errorY}`);\n    }\n    this.valid = width && height && this.baseTexture.valid;\n    if (!this.trim && !this.rotate) {\n      this.orig = frame;\n    }\n    if (this.valid) {\n      this.updateUvs();\n    }\n  }\n  get rotate() {\n    return this._rotate;\n  }\n  set rotate(rotate) {\n    this._rotate = rotate;\n    if (this.valid) {\n      this.updateUvs();\n    }\n  }\n  get width() {\n    return this.orig.width;\n  }\n  get height() {\n    return this.orig.height;\n  }\n  castToBaseTexture() {\n    return this.baseTexture;\n  }\n  static get EMPTY() {\n    if (!Texture._EMPTY) {\n      Texture._EMPTY = new Texture(new BaseTexture());\n      removeAllHandlers(Texture._EMPTY);\n      removeAllHandlers(Texture._EMPTY.baseTexture);\n    }\n    return Texture._EMPTY;\n  }\n  static get WHITE() {\n    if (!Texture._WHITE) {\n      const canvas = settings.ADAPTER.createCanvas(16, 16);\n      const context = canvas.getContext(\"2d\");\n      canvas.width = 16;\n      canvas.height = 16;\n      context.fillStyle = \"white\";\n      context.fillRect(0, 0, 16, 16);\n      Texture._WHITE = new Texture(BaseTexture.from(canvas));\n      removeAllHandlers(Texture._WHITE);\n      removeAllHandlers(Texture._WHITE.baseTexture);\n    }\n    return Texture._WHITE;\n  }\n}\n\nexport { Texture };\n//# sourceMappingURL=Texture.mjs.map\n","import { Texture } from '../textures/Texture.mjs';\nimport { BaseRenderTexture } from './BaseRenderTexture.mjs';\n\nclass RenderTexture extends Texture {\n  constructor(baseRenderTexture, frame) {\n    super(baseRenderTexture, frame);\n    this.valid = true;\n    this.filterFrame = null;\n    this.filterPoolKey = null;\n    this.updateUvs();\n  }\n  get framebuffer() {\n    return this.baseTexture.framebuffer;\n  }\n  get multisample() {\n    return this.framebuffer.multisample;\n  }\n  set multisample(value) {\n    this.framebuffer.multisample = value;\n  }\n  resize(desiredWidth, desiredHeight, resizeBaseTexture = true) {\n    const resolution = this.baseTexture.resolution;\n    const width = Math.round(desiredWidth * resolution) / resolution;\n    const height = Math.round(desiredHeight * resolution) / resolution;\n    this.valid = width > 0 && height > 0;\n    this._frame.width = this.orig.width = width;\n    this._frame.height = this.orig.height = height;\n    if (resizeBaseTexture) {\n      this.baseTexture.resize(width, height);\n    }\n    this.updateUvs();\n  }\n  setResolution(resolution) {\n    const { baseTexture } = this;\n    if (baseTexture.resolution === resolution) {\n      return;\n    }\n    baseTexture.setResolution(resolution);\n    this.resize(baseTexture.width, baseTexture.height, false);\n  }\n  static create(options) {\n    return new RenderTexture(new BaseRenderTexture(options));\n  }\n}\n\nexport { RenderTexture };\n//# sourceMappingURL=RenderTexture.mjs.map\n","import { MSAA_QUALITY } from '@pixi/constants';\nimport { nextPow2 } from '@pixi/utils';\nimport { BaseRenderTexture } from './BaseRenderTexture.mjs';\nimport { RenderTexture } from './RenderTexture.mjs';\n\nclass RenderTexturePool {\n  constructor(textureOptions) {\n    this.texturePool = {};\n    this.textureOptions = textureOptions || {};\n    this.enableFullScreen = false;\n    this._pixelsWidth = 0;\n    this._pixelsHeight = 0;\n  }\n  createTexture(realWidth, realHeight, multisample = MSAA_QUALITY.NONE) {\n    const baseRenderTexture = new BaseRenderTexture(Object.assign({\n      width: realWidth,\n      height: realHeight,\n      resolution: 1,\n      multisample\n    }, this.textureOptions));\n    return new RenderTexture(baseRenderTexture);\n  }\n  getOptimalTexture(minWidth, minHeight, resolution = 1, multisample = MSAA_QUALITY.NONE) {\n    let key;\n    minWidth = Math.ceil(minWidth * resolution - 1e-6);\n    minHeight = Math.ceil(minHeight * resolution - 1e-6);\n    if (!this.enableFullScreen || minWidth !== this._pixelsWidth || minHeight !== this._pixelsHeight) {\n      minWidth = nextPow2(minWidth);\n      minHeight = nextPow2(minHeight);\n      key = ((minWidth & 65535) << 16 | minHeight & 65535) >>> 0;\n      if (multisample > 1) {\n        key += multisample * 4294967296;\n      }\n    } else {\n      key = multisample > 1 ? -multisample : -1;\n    }\n    if (!this.texturePool[key]) {\n      this.texturePool[key] = [];\n    }\n    let renderTexture = this.texturePool[key].pop();\n    if (!renderTexture) {\n      renderTexture = this.createTexture(minWidth, minHeight, multisample);\n    }\n    renderTexture.filterPoolKey = key;\n    renderTexture.setResolution(resolution);\n    return renderTexture;\n  }\n  getFilterTexture(input, resolution, multisample) {\n    const filterTexture = this.getOptimalTexture(input.width, input.height, resolution || input.resolution, multisample || MSAA_QUALITY.NONE);\n    filterTexture.filterFrame = input.filterFrame;\n    return filterTexture;\n  }\n  returnTexture(renderTexture) {\n    const key = renderTexture.filterPoolKey;\n    renderTexture.filterFrame = null;\n    this.texturePool[key].push(renderTexture);\n  }\n  returnFilterTexture(renderTexture) {\n    this.returnTexture(renderTexture);\n  }\n  clear(destroyTextures) {\n    destroyTextures = destroyTextures !== false;\n    if (destroyTextures) {\n      for (const i in this.texturePool) {\n        const textures = this.texturePool[i];\n        if (textures) {\n          for (let j = 0; j < textures.length; j++) {\n            textures[j].destroy(true);\n          }\n        }\n      }\n    }\n    this.texturePool = {};\n  }\n  setScreenSize(size) {\n    if (size.width === this._pixelsWidth && size.height === this._pixelsHeight) {\n      return;\n    }\n    this.enableFullScreen = size.width > 0 && size.height > 0;\n    for (const i in this.texturePool) {\n      if (!(Number(i) < 0)) {\n        continue;\n      }\n      const textures = this.texturePool[i];\n      if (textures) {\n        for (let j = 0; j < textures.length; j++) {\n          textures[j].destroy(true);\n        }\n      }\n      this.texturePool[i] = [];\n    }\n    this._pixelsWidth = size.width;\n    this._pixelsHeight = size.height;\n  }\n}\nRenderTexturePool.SCREEN_KEY = -1;\n\nexport { RenderTexturePool };\n//# sourceMappingURL=RenderTexturePool.mjs.map\n","import { Geometry } from '../geometry/Geometry.mjs';\n\nclass Quad extends Geometry {\n  constructor() {\n    super();\n    this.addAttribute(\"aVertexPosition\", new Float32Array([\n      0,\n      0,\n      1,\n      0,\n      1,\n      1,\n      0,\n      1\n    ])).addIndex([0, 1, 3, 2]);\n  }\n}\n\nexport { Quad };\n//# sourceMappingURL=Quad.mjs.map\n","import { Buffer } from '../geometry/Buffer.mjs';\nimport { Geometry } from '../geometry/Geometry.mjs';\n\nclass QuadUv extends Geometry {\n  constructor() {\n    super();\n    this.vertices = new Float32Array([\n      -1,\n      -1,\n      1,\n      -1,\n      1,\n      1,\n      -1,\n      1\n    ]);\n    this.uvs = new Float32Array([\n      0,\n      0,\n      1,\n      0,\n      1,\n      1,\n      0,\n      1\n    ]);\n    this.vertexBuffer = new Buffer(this.vertices);\n    this.uvBuffer = new Buffer(this.uvs);\n    this.addAttribute(\"aVertexPosition\", this.vertexBuffer).addAttribute(\"aTextureCoord\", this.uvBuffer).addIndex([0, 1, 2, 0, 2, 3]);\n  }\n  map(targetTextureFrame, destinationFrame) {\n    let x = 0;\n    let y = 0;\n    this.uvs[0] = x;\n    this.uvs[1] = y;\n    this.uvs[2] = x + destinationFrame.width / targetTextureFrame.width;\n    this.uvs[3] = y;\n    this.uvs[4] = x + destinationFrame.width / targetTextureFrame.width;\n    this.uvs[5] = y + destinationFrame.height / targetTextureFrame.height;\n    this.uvs[6] = x;\n    this.uvs[7] = y + destinationFrame.height / targetTextureFrame.height;\n    x = destinationFrame.x;\n    y = destinationFrame.y;\n    this.vertices[0] = x;\n    this.vertices[1] = y;\n    this.vertices[2] = x + destinationFrame.width;\n    this.vertices[3] = y;\n    this.vertices[4] = x + destinationFrame.width;\n    this.vertices[5] = y + destinationFrame.height;\n    this.vertices[6] = x;\n    this.vertices[7] = y + destinationFrame.height;\n    this.invalidate();\n    return this;\n  }\n  invalidate() {\n    this.vertexBuffer._updateID++;\n    this.uvBuffer._updateID++;\n    return this;\n  }\n}\n\nexport { QuadUv };\n//# sourceMappingURL=QuadUv.mjs.map\n","import { MSAA_QUALITY } from '@pixi/constants';\nimport { Rectangle } from '@pixi/math';\n\nclass FilterState {\n  constructor() {\n    this.renderTexture = null;\n    this.target = null;\n    this.legacy = false;\n    this.resolution = 1;\n    this.multisample = MSAA_QUALITY.NONE;\n    this.sourceFrame = new Rectangle();\n    this.destinationFrame = new Rectangle();\n    this.bindingSourceFrame = new Rectangle();\n    this.bindingDestinationFrame = new Rectangle();\n    this.filters = [];\n    this.transform = null;\n  }\n  clear() {\n    this.target = null;\n    this.filters = null;\n    this.renderTexture = null;\n  }\n}\n\nexport { FilterState };\n//# sourceMappingURL=FilterState.mjs.map\n","import { CLEAR_MODES, DRAW_MODES, MSAA_QUALITY } from '@pixi/constants';\nimport { ExtensionType, extensions } from '@pixi/extensions';\nimport { Point, Matrix, Rectangle } from '@pixi/math';\nimport { RenderTexturePool } from '../renderTexture/RenderTexturePool.mjs';\nimport { UniformGroup } from '../shader/UniformGroup.mjs';\nimport { Quad } from '../utils/Quad.mjs';\nimport { QuadUv } from '../utils/QuadUv.mjs';\nimport { FilterState } from './FilterState.mjs';\n\nconst tempPoints = [new Point(), new Point(), new Point(), new Point()];\nconst tempMatrix = new Matrix();\nclass FilterSystem {\n  constructor(renderer) {\n    this.renderer = renderer;\n    this.defaultFilterStack = [{}];\n    this.texturePool = new RenderTexturePool();\n    this.statePool = [];\n    this.quad = new Quad();\n    this.quadUv = new QuadUv();\n    this.tempRect = new Rectangle();\n    this.activeState = {};\n    this.globalUniforms = new UniformGroup({\n      outputFrame: new Rectangle(),\n      inputSize: new Float32Array(4),\n      inputPixel: new Float32Array(4),\n      inputClamp: new Float32Array(4),\n      resolution: 1,\n      filterArea: new Float32Array(4),\n      filterClamp: new Float32Array(4)\n    }, true);\n    this.forceClear = false;\n    this.useMaxPadding = false;\n  }\n  init() {\n    this.texturePool.setScreenSize(this.renderer.view);\n  }\n  push(target, filters) {\n    const renderer = this.renderer;\n    const filterStack = this.defaultFilterStack;\n    const state = this.statePool.pop() || new FilterState();\n    const renderTextureSystem = this.renderer.renderTexture;\n    let resolution = filters[0].resolution;\n    let multisample = filters[0].multisample;\n    let padding = filters[0].padding;\n    let autoFit = filters[0].autoFit;\n    let legacy = filters[0].legacy ?? true;\n    for (let i = 1; i < filters.length; i++) {\n      const filter = filters[i];\n      resolution = Math.min(resolution, filter.resolution);\n      multisample = Math.min(multisample, filter.multisample);\n      padding = this.useMaxPadding ? Math.max(padding, filter.padding) : padding + filter.padding;\n      autoFit = autoFit && filter.autoFit;\n      legacy = legacy || (filter.legacy ?? true);\n    }\n    if (filterStack.length === 1) {\n      this.defaultFilterStack[0].renderTexture = renderTextureSystem.current;\n    }\n    filterStack.push(state);\n    state.resolution = resolution;\n    state.multisample = multisample;\n    state.legacy = legacy;\n    state.target = target;\n    state.sourceFrame.copyFrom(target.filterArea || target.getBounds(true));\n    state.sourceFrame.pad(padding);\n    const sourceFrameProjected = this.tempRect.copyFrom(renderTextureSystem.sourceFrame);\n    if (renderer.projection.transform) {\n      this.transformAABB(tempMatrix.copyFrom(renderer.projection.transform).invert(), sourceFrameProjected);\n    }\n    if (autoFit) {\n      state.sourceFrame.fit(sourceFrameProjected);\n      if (state.sourceFrame.width <= 0 || state.sourceFrame.height <= 0) {\n        state.sourceFrame.width = 0;\n        state.sourceFrame.height = 0;\n      }\n    } else if (!state.sourceFrame.intersects(sourceFrameProjected)) {\n      state.sourceFrame.width = 0;\n      state.sourceFrame.height = 0;\n    }\n    this.roundFrame(state.sourceFrame, renderTextureSystem.current ? renderTextureSystem.current.resolution : renderer.resolution, renderTextureSystem.sourceFrame, renderTextureSystem.destinationFrame, renderer.projection.transform);\n    state.renderTexture = this.getOptimalFilterTexture(state.sourceFrame.width, state.sourceFrame.height, resolution, multisample);\n    state.filters = filters;\n    state.destinationFrame.width = state.renderTexture.width;\n    state.destinationFrame.height = state.renderTexture.height;\n    const destinationFrame = this.tempRect;\n    destinationFrame.x = 0;\n    destinationFrame.y = 0;\n    destinationFrame.width = state.sourceFrame.width;\n    destinationFrame.height = state.sourceFrame.height;\n    state.renderTexture.filterFrame = state.sourceFrame;\n    state.bindingSourceFrame.copyFrom(renderTextureSystem.sourceFrame);\n    state.bindingDestinationFrame.copyFrom(renderTextureSystem.destinationFrame);\n    state.transform = renderer.projection.transform;\n    renderer.projection.transform = null;\n    renderTextureSystem.bind(state.renderTexture, state.sourceFrame, destinationFrame);\n    renderer.framebuffer.clear(0, 0, 0, 0);\n  }\n  pop() {\n    const filterStack = this.defaultFilterStack;\n    const state = filterStack.pop();\n    const filters = state.filters;\n    this.activeState = state;\n    const globalUniforms = this.globalUniforms.uniforms;\n    globalUniforms.outputFrame = state.sourceFrame;\n    globalUniforms.resolution = state.resolution;\n    const inputSize = globalUniforms.inputSize;\n    const inputPixel = globalUniforms.inputPixel;\n    const inputClamp = globalUniforms.inputClamp;\n    inputSize[0] = state.destinationFrame.width;\n    inputSize[1] = state.destinationFrame.height;\n    inputSize[2] = 1 / inputSize[0];\n    inputSize[3] = 1 / inputSize[1];\n    inputPixel[0] = Math.round(inputSize[0] * state.resolution);\n    inputPixel[1] = Math.round(inputSize[1] * state.resolution);\n    inputPixel[2] = 1 / inputPixel[0];\n    inputPixel[3] = 1 / inputPixel[1];\n    inputClamp[0] = 0.5 * inputPixel[2];\n    inputClamp[1] = 0.5 * inputPixel[3];\n    inputClamp[2] = state.sourceFrame.width * inputSize[2] - 0.5 * inputPixel[2];\n    inputClamp[3] = state.sourceFrame.height * inputSize[3] - 0.5 * inputPixel[3];\n    if (state.legacy) {\n      const filterArea = globalUniforms.filterArea;\n      filterArea[0] = state.destinationFrame.width;\n      filterArea[1] = state.destinationFrame.height;\n      filterArea[2] = state.sourceFrame.x;\n      filterArea[3] = state.sourceFrame.y;\n      globalUniforms.filterClamp = globalUniforms.inputClamp;\n    }\n    this.globalUniforms.update();\n    const lastState = filterStack[filterStack.length - 1];\n    this.renderer.framebuffer.blit();\n    if (filters.length === 1) {\n      filters[0].apply(this, state.renderTexture, lastState.renderTexture, CLEAR_MODES.BLEND, state);\n      this.returnFilterTexture(state.renderTexture);\n    } else {\n      let flip = state.renderTexture;\n      let flop = this.getOptimalFilterTexture(flip.width, flip.height, state.resolution);\n      flop.filterFrame = flip.filterFrame;\n      let i = 0;\n      for (i = 0; i < filters.length - 1; ++i) {\n        if (i === 1 && state.multisample > 1) {\n          flop = this.getOptimalFilterTexture(flip.width, flip.height, state.resolution);\n          flop.filterFrame = flip.filterFrame;\n        }\n        filters[i].apply(this, flip, flop, CLEAR_MODES.CLEAR, state);\n        const t = flip;\n        flip = flop;\n        flop = t;\n      }\n      filters[i].apply(this, flip, lastState.renderTexture, CLEAR_MODES.BLEND, state);\n      if (i > 1 && state.multisample > 1) {\n        this.returnFilterTexture(state.renderTexture);\n      }\n      this.returnFilterTexture(flip);\n      this.returnFilterTexture(flop);\n    }\n    state.clear();\n    this.statePool.push(state);\n  }\n  bindAndClear(filterTexture, clearMode = CLEAR_MODES.CLEAR) {\n    const {\n      renderTexture: renderTextureSystem,\n      state: stateSystem\n    } = this.renderer;\n    if (filterTexture === this.defaultFilterStack[this.defaultFilterStack.length - 1].renderTexture) {\n      this.renderer.projection.transform = this.activeState.transform;\n    } else {\n      this.renderer.projection.transform = null;\n    }\n    if (filterTexture?.filterFrame) {\n      const destinationFrame = this.tempRect;\n      destinationFrame.x = 0;\n      destinationFrame.y = 0;\n      destinationFrame.width = filterTexture.filterFrame.width;\n      destinationFrame.height = filterTexture.filterFrame.height;\n      renderTextureSystem.bind(filterTexture, filterTexture.filterFrame, destinationFrame);\n    } else if (filterTexture !== this.defaultFilterStack[this.defaultFilterStack.length - 1].renderTexture) {\n      renderTextureSystem.bind(filterTexture);\n    } else {\n      this.renderer.renderTexture.bind(filterTexture, this.activeState.bindingSourceFrame, this.activeState.bindingDestinationFrame);\n    }\n    const autoClear = stateSystem.stateId & 1 || this.forceClear;\n    if (clearMode === CLEAR_MODES.CLEAR || clearMode === CLEAR_MODES.BLIT && autoClear) {\n      this.renderer.framebuffer.clear(0, 0, 0, 0);\n    }\n  }\n  applyFilter(filter, input, output, clearMode) {\n    const renderer = this.renderer;\n    renderer.state.set(filter.state);\n    this.bindAndClear(output, clearMode);\n    filter.uniforms.uSampler = input;\n    filter.uniforms.filterGlobals = this.globalUniforms;\n    renderer.shader.bind(filter);\n    filter.legacy = !!filter.program.attributeData.aTextureCoord;\n    if (filter.legacy) {\n      this.quadUv.map(input._frame, input.filterFrame);\n      renderer.geometry.bind(this.quadUv);\n      renderer.geometry.draw(DRAW_MODES.TRIANGLES);\n    } else {\n      renderer.geometry.bind(this.quad);\n      renderer.geometry.draw(DRAW_MODES.TRIANGLE_STRIP);\n    }\n  }\n  calculateSpriteMatrix(outputMatrix, sprite) {\n    const { sourceFrame, destinationFrame } = this.activeState;\n    const { orig } = sprite._texture;\n    const mappedMatrix = outputMatrix.set(destinationFrame.width, 0, 0, destinationFrame.height, sourceFrame.x, sourceFrame.y);\n    const worldTransform = sprite.worldTransform.copyTo(Matrix.TEMP_MATRIX);\n    worldTransform.invert();\n    mappedMatrix.prepend(worldTransform);\n    mappedMatrix.scale(1 / orig.width, 1 / orig.height);\n    mappedMatrix.translate(sprite.anchor.x, sprite.anchor.y);\n    return mappedMatrix;\n  }\n  destroy() {\n    this.renderer = null;\n    this.texturePool.clear(false);\n  }\n  getOptimalFilterTexture(minWidth, minHeight, resolution = 1, multisample = MSAA_QUALITY.NONE) {\n    return this.texturePool.getOptimalTexture(minWidth, minHeight, resolution, multisample);\n  }\n  getFilterTexture(input, resolution, multisample) {\n    if (typeof input === \"number\") {\n      const swap = input;\n      input = resolution;\n      resolution = swap;\n    }\n    input = input || this.activeState.renderTexture;\n    const filterTexture = this.texturePool.getOptimalTexture(input.width, input.height, resolution || input.resolution, multisample || MSAA_QUALITY.NONE);\n    filterTexture.filterFrame = input.filterFrame;\n    return filterTexture;\n  }\n  returnFilterTexture(renderTexture) {\n    this.texturePool.returnTexture(renderTexture);\n  }\n  emptyPool() {\n    this.texturePool.clear(true);\n  }\n  resize() {\n    this.texturePool.setScreenSize(this.renderer.view);\n  }\n  transformAABB(matrix, rect) {\n    const lt = tempPoints[0];\n    const lb = tempPoints[1];\n    const rt = tempPoints[2];\n    const rb = tempPoints[3];\n    lt.set(rect.left, rect.top);\n    lb.set(rect.left, rect.bottom);\n    rt.set(rect.right, rect.top);\n    rb.set(rect.right, rect.bottom);\n    matrix.apply(lt, lt);\n    matrix.apply(lb, lb);\n    matrix.apply(rt, rt);\n    matrix.apply(rb, rb);\n    const x0 = Math.min(lt.x, lb.x, rt.x, rb.x);\n    const y0 = Math.min(lt.y, lb.y, rt.y, rb.y);\n    const x1 = Math.max(lt.x, lb.x, rt.x, rb.x);\n    const y1 = Math.max(lt.y, lb.y, rt.y, rb.y);\n    rect.x = x0;\n    rect.y = y0;\n    rect.width = x1 - x0;\n    rect.height = y1 - y0;\n  }\n  roundFrame(frame, resolution, bindingSourceFrame, bindingDestinationFrame, transform) {\n    if (frame.width <= 0 || frame.height <= 0 || bindingSourceFrame.width <= 0 || bindingSourceFrame.height <= 0) {\n      return;\n    }\n    if (transform) {\n      const { a, b, c, d } = transform;\n      if ((Math.abs(b) > 1e-4 || Math.abs(c) > 1e-4) && (Math.abs(a) > 1e-4 || Math.abs(d) > 1e-4)) {\n        return;\n      }\n    }\n    transform = transform ? tempMatrix.copyFrom(transform) : tempMatrix.identity();\n    transform.translate(-bindingSourceFrame.x, -bindingSourceFrame.y).scale(bindingDestinationFrame.width / bindingSourceFrame.width, bindingDestinationFrame.height / bindingSourceFrame.height).translate(bindingDestinationFrame.x, bindingDestinationFrame.y);\n    this.transformAABB(transform, frame);\n    frame.ceil(resolution);\n    this.transformAABB(transform.invert(), frame);\n  }\n}\nFilterSystem.extension = {\n  type: ExtensionType.RendererSystem,\n  name: \"filter\"\n};\nextensions.add(FilterSystem);\n\nexport { FilterSystem };\n//# sourceMappingURL=FilterSystem.mjs.map\n","import { MSAA_QUALITY } from '@pixi/constants';\n\nclass GLFramebuffer {\n  constructor(framebuffer) {\n    this.framebuffer = framebuffer;\n    this.stencil = null;\n    this.dirtyId = -1;\n    this.dirtyFormat = -1;\n    this.dirtySize = -1;\n    this.multisample = MSAA_QUALITY.NONE;\n    this.msaaBuffer = null;\n    this.blitFramebuffer = null;\n    this.mipLevel = 0;\n  }\n}\n\nexport { GLFramebuffer };\n//# sourceMappingURL=GLFramebuffer.mjs.map\n","import { ENV, BUFFER_BITS, MSAA_QUALITY } from '@pixi/constants';\nimport { ExtensionType, extensions } from '@pixi/extensions';\nimport { Rectangle } from '@pixi/math';\nimport { settings } from '@pixi/settings';\nimport { Framebuffer } from './Framebuffer.mjs';\nimport { GLFramebuffer } from './GLFramebuffer.mjs';\n\nconst tempRectangle = new Rectangle();\nclass FramebufferSystem {\n  constructor(renderer) {\n    this.renderer = renderer;\n    this.managedFramebuffers = [];\n    this.unknownFramebuffer = new Framebuffer(10, 10);\n    this.msaaSamples = null;\n  }\n  contextChange() {\n    this.disposeAll(true);\n    const gl = this.gl = this.renderer.gl;\n    this.CONTEXT_UID = this.renderer.CONTEXT_UID;\n    this.current = this.unknownFramebuffer;\n    this.viewport = new Rectangle();\n    this.hasMRT = true;\n    this.writeDepthTexture = true;\n    if (this.renderer.context.webGLVersion === 1) {\n      let nativeDrawBuffersExtension = this.renderer.context.extensions.drawBuffers;\n      let nativeDepthTextureExtension = this.renderer.context.extensions.depthTexture;\n      if (settings.PREFER_ENV === ENV.WEBGL_LEGACY) {\n        nativeDrawBuffersExtension = null;\n        nativeDepthTextureExtension = null;\n      }\n      if (nativeDrawBuffersExtension) {\n        gl.drawBuffers = (activeTextures) => nativeDrawBuffersExtension.drawBuffersWEBGL(activeTextures);\n      } else {\n        this.hasMRT = false;\n        gl.drawBuffers = () => {\n        };\n      }\n      if (!nativeDepthTextureExtension) {\n        this.writeDepthTexture = false;\n      }\n    } else {\n      this.msaaSamples = gl.getInternalformatParameter(gl.RENDERBUFFER, gl.RGBA8, gl.SAMPLES);\n    }\n  }\n  bind(framebuffer, frame, mipLevel = 0) {\n    const { gl } = this;\n    if (framebuffer) {\n      const fbo = framebuffer.glFramebuffers[this.CONTEXT_UID] || this.initFramebuffer(framebuffer);\n      if (this.current !== framebuffer) {\n        this.current = framebuffer;\n        gl.bindFramebuffer(gl.FRAMEBUFFER, fbo.framebuffer);\n      }\n      if (fbo.mipLevel !== mipLevel) {\n        framebuffer.dirtyId++;\n        framebuffer.dirtyFormat++;\n        fbo.mipLevel = mipLevel;\n      }\n      if (fbo.dirtyId !== framebuffer.dirtyId) {\n        fbo.dirtyId = framebuffer.dirtyId;\n        if (fbo.dirtyFormat !== framebuffer.dirtyFormat) {\n          fbo.dirtyFormat = framebuffer.dirtyFormat;\n          fbo.dirtySize = framebuffer.dirtySize;\n          this.updateFramebuffer(framebuffer, mipLevel);\n        } else if (fbo.dirtySize !== framebuffer.dirtySize) {\n          fbo.dirtySize = framebuffer.dirtySize;\n          this.resizeFramebuffer(framebuffer);\n        }\n      }\n      for (let i = 0; i < framebuffer.colorTextures.length; i++) {\n        const tex = framebuffer.colorTextures[i];\n        this.renderer.texture.unbind(tex.parentTextureArray || tex);\n      }\n      if (framebuffer.depthTexture) {\n        this.renderer.texture.unbind(framebuffer.depthTexture);\n      }\n      if (frame) {\n        const mipWidth = frame.width >> mipLevel;\n        const mipHeight = frame.height >> mipLevel;\n        const scale = mipWidth / frame.width;\n        this.setViewport(frame.x * scale, frame.y * scale, mipWidth, mipHeight);\n      } else {\n        const mipWidth = framebuffer.width >> mipLevel;\n        const mipHeight = framebuffer.height >> mipLevel;\n        this.setViewport(0, 0, mipWidth, mipHeight);\n      }\n    } else {\n      if (this.current) {\n        this.current = null;\n        gl.bindFramebuffer(gl.FRAMEBUFFER, null);\n      }\n      if (frame) {\n        this.setViewport(frame.x, frame.y, frame.width, frame.height);\n      } else {\n        this.setViewport(0, 0, this.renderer.width, this.renderer.height);\n      }\n    }\n  }\n  setViewport(x, y, width, height) {\n    const v = this.viewport;\n    x = Math.round(x);\n    y = Math.round(y);\n    width = Math.round(width);\n    height = Math.round(height);\n    if (v.width !== width || v.height !== height || v.x !== x || v.y !== y) {\n      v.x = x;\n      v.y = y;\n      v.width = width;\n      v.height = height;\n      this.gl.viewport(x, y, width, height);\n    }\n  }\n  get size() {\n    if (this.current) {\n      return { x: 0, y: 0, width: this.current.width, height: this.current.height };\n    }\n    return { x: 0, y: 0, width: this.renderer.width, height: this.renderer.height };\n  }\n  clear(r, g, b, a, mask = BUFFER_BITS.COLOR | BUFFER_BITS.DEPTH) {\n    const { gl } = this;\n    gl.clearColor(r, g, b, a);\n    gl.clear(mask);\n  }\n  initFramebuffer(framebuffer) {\n    const { gl } = this;\n    const fbo = new GLFramebuffer(gl.createFramebuffer());\n    fbo.multisample = this.detectSamples(framebuffer.multisample);\n    framebuffer.glFramebuffers[this.CONTEXT_UID] = fbo;\n    this.managedFramebuffers.push(framebuffer);\n    framebuffer.disposeRunner.add(this);\n    return fbo;\n  }\n  resizeFramebuffer(framebuffer) {\n    const { gl } = this;\n    const fbo = framebuffer.glFramebuffers[this.CONTEXT_UID];\n    if (fbo.stencil) {\n      gl.bindRenderbuffer(gl.RENDERBUFFER, fbo.stencil);\n      if (fbo.msaaBuffer) {\n        gl.renderbufferStorageMultisample(gl.RENDERBUFFER, fbo.multisample, gl.DEPTH24_STENCIL8, framebuffer.width, framebuffer.height);\n      } else {\n        gl.renderbufferStorage(gl.RENDERBUFFER, gl.DEPTH_STENCIL, framebuffer.width, framebuffer.height);\n      }\n    }\n    const colorTextures = framebuffer.colorTextures;\n    let count = colorTextures.length;\n    if (!gl.drawBuffers) {\n      count = Math.min(count, 1);\n    }\n    for (let i = 0; i < count; i++) {\n      const texture = colorTextures[i];\n      const parentTexture = texture.parentTextureArray || texture;\n      this.renderer.texture.bind(parentTexture, 0);\n      if (i === 0 && fbo.msaaBuffer) {\n        gl.bindRenderbuffer(gl.RENDERBUFFER, fbo.msaaBuffer);\n        gl.renderbufferStorageMultisample(gl.RENDERBUFFER, fbo.multisample, parentTexture._glTextures[this.CONTEXT_UID].internalFormat, framebuffer.width, framebuffer.height);\n      }\n    }\n    if (framebuffer.depthTexture && this.writeDepthTexture) {\n      this.renderer.texture.bind(framebuffer.depthTexture, 0);\n    }\n  }\n  updateFramebuffer(framebuffer, mipLevel) {\n    const { gl } = this;\n    const fbo = framebuffer.glFramebuffers[this.CONTEXT_UID];\n    const colorTextures = framebuffer.colorTextures;\n    let count = colorTextures.length;\n    if (!gl.drawBuffers) {\n      count = Math.min(count, 1);\n    }\n    if (fbo.multisample > 1 && this.canMultisampleFramebuffer(framebuffer)) {\n      fbo.msaaBuffer = fbo.msaaBuffer || gl.createRenderbuffer();\n    } else if (fbo.msaaBuffer) {\n      gl.deleteRenderbuffer(fbo.msaaBuffer);\n      fbo.msaaBuffer = null;\n      if (fbo.blitFramebuffer) {\n        fbo.blitFramebuffer.dispose();\n        fbo.blitFramebuffer = null;\n      }\n    }\n    const activeTextures = [];\n    for (let i = 0; i < count; i++) {\n      const texture = colorTextures[i];\n      const parentTexture = texture.parentTextureArray || texture;\n      this.renderer.texture.bind(parentTexture, 0);\n      if (i === 0 && fbo.msaaBuffer) {\n        gl.bindRenderbuffer(gl.RENDERBUFFER, fbo.msaaBuffer);\n        gl.renderbufferStorageMultisample(gl.RENDERBUFFER, fbo.multisample, parentTexture._glTextures[this.CONTEXT_UID].internalFormat, framebuffer.width, framebuffer.height);\n        gl.framebufferRenderbuffer(gl.FRAMEBUFFER, gl.COLOR_ATTACHMENT0, gl.RENDERBUFFER, fbo.msaaBuffer);\n      } else {\n        gl.framebufferTexture2D(gl.FRAMEBUFFER, gl.COLOR_ATTACHMENT0 + i, texture.target, parentTexture._glTextures[this.CONTEXT_UID].texture, mipLevel);\n        activeTextures.push(gl.COLOR_ATTACHMENT0 + i);\n      }\n    }\n    if (activeTextures.length > 1) {\n      gl.drawBuffers(activeTextures);\n    }\n    if (framebuffer.depthTexture) {\n      const writeDepthTexture = this.writeDepthTexture;\n      if (writeDepthTexture) {\n        const depthTexture = framebuffer.depthTexture;\n        this.renderer.texture.bind(depthTexture, 0);\n        gl.framebufferTexture2D(gl.FRAMEBUFFER, gl.DEPTH_ATTACHMENT, gl.TEXTURE_2D, depthTexture._glTextures[this.CONTEXT_UID].texture, mipLevel);\n      }\n    }\n    if ((framebuffer.stencil || framebuffer.depth) && !(framebuffer.depthTexture && this.writeDepthTexture)) {\n      fbo.stencil = fbo.stencil || gl.createRenderbuffer();\n      gl.bindRenderbuffer(gl.RENDERBUFFER, fbo.stencil);\n      if (fbo.msaaBuffer) {\n        gl.renderbufferStorageMultisample(gl.RENDERBUFFER, fbo.multisample, gl.DEPTH24_STENCIL8, framebuffer.width, framebuffer.height);\n      } else {\n        gl.renderbufferStorage(gl.RENDERBUFFER, gl.DEPTH_STENCIL, framebuffer.width, framebuffer.height);\n      }\n      gl.framebufferRenderbuffer(gl.FRAMEBUFFER, gl.DEPTH_STENCIL_ATTACHMENT, gl.RENDERBUFFER, fbo.stencil);\n    } else if (fbo.stencil) {\n      gl.deleteRenderbuffer(fbo.stencil);\n      fbo.stencil = null;\n    }\n  }\n  canMultisampleFramebuffer(framebuffer) {\n    return this.renderer.context.webGLVersion !== 1 && framebuffer.colorTextures.length <= 1 && !framebuffer.depthTexture;\n  }\n  detectSamples(samples) {\n    const { msaaSamples } = this;\n    let res = MSAA_QUALITY.NONE;\n    if (samples <= 1 || msaaSamples === null) {\n      return res;\n    }\n    for (let i = 0; i < msaaSamples.length; i++) {\n      if (msaaSamples[i] <= samples) {\n        res = msaaSamples[i];\n        break;\n      }\n    }\n    if (res === 1) {\n      res = MSAA_QUALITY.NONE;\n    }\n    return res;\n  }\n  blit(framebuffer, sourcePixels, destPixels) {\n    const { current, renderer, gl, CONTEXT_UID } = this;\n    if (renderer.context.webGLVersion !== 2) {\n      return;\n    }\n    if (!current) {\n      return;\n    }\n    const fbo = current.glFramebuffers[CONTEXT_UID];\n    if (!fbo) {\n      return;\n    }\n    if (!framebuffer) {\n      if (!fbo.msaaBuffer) {\n        return;\n      }\n      const colorTexture = current.colorTextures[0];\n      if (!colorTexture) {\n        return;\n      }\n      if (!fbo.blitFramebuffer) {\n        fbo.blitFramebuffer = new Framebuffer(current.width, current.height);\n        fbo.blitFramebuffer.addColorTexture(0, colorTexture);\n      }\n      framebuffer = fbo.blitFramebuffer;\n      if (framebuffer.colorTextures[0] !== colorTexture) {\n        framebuffer.colorTextures[0] = colorTexture;\n        framebuffer.dirtyId++;\n        framebuffer.dirtyFormat++;\n      }\n      if (framebuffer.width !== current.width || framebuffer.height !== current.height) {\n        framebuffer.width = current.width;\n        framebuffer.height = current.height;\n        framebuffer.dirtyId++;\n        framebuffer.dirtySize++;\n      }\n    }\n    if (!sourcePixels) {\n      sourcePixels = tempRectangle;\n      sourcePixels.width = current.width;\n      sourcePixels.height = current.height;\n    }\n    if (!destPixels) {\n      destPixels = sourcePixels;\n    }\n    const sameSize = sourcePixels.width === destPixels.width && sourcePixels.height === destPixels.height;\n    this.bind(framebuffer);\n    gl.bindFramebuffer(gl.READ_FRAMEBUFFER, fbo.framebuffer);\n    gl.blitFramebuffer(sourcePixels.left, sourcePixels.top, sourcePixels.right, sourcePixels.bottom, destPixels.left, destPixels.top, destPixels.right, destPixels.bottom, gl.COLOR_BUFFER_BIT, sameSize ? gl.NEAREST : gl.LINEAR);\n  }\n  disposeFramebuffer(framebuffer, contextLost) {\n    const fbo = framebuffer.glFramebuffers[this.CONTEXT_UID];\n    const gl = this.gl;\n    if (!fbo) {\n      return;\n    }\n    delete framebuffer.glFramebuffers[this.CONTEXT_UID];\n    const index = this.managedFramebuffers.indexOf(framebuffer);\n    if (index >= 0) {\n      this.managedFramebuffers.splice(index, 1);\n    }\n    framebuffer.disposeRunner.remove(this);\n    if (!contextLost) {\n      gl.deleteFramebuffer(fbo.framebuffer);\n      if (fbo.msaaBuffer) {\n        gl.deleteRenderbuffer(fbo.msaaBuffer);\n      }\n      if (fbo.stencil) {\n        gl.deleteRenderbuffer(fbo.stencil);\n      }\n    }\n    if (fbo.blitFramebuffer) {\n      fbo.blitFramebuffer.dispose();\n    }\n  }\n  disposeAll(contextLost) {\n    const list = this.managedFramebuffers;\n    this.managedFramebuffers = [];\n    for (let i = 0; i < list.length; i++) {\n      this.disposeFramebuffer(list[i], contextLost);\n    }\n  }\n  forceStencil() {\n    const framebuffer = this.current;\n    if (!framebuffer) {\n      return;\n    }\n    const fbo = framebuffer.glFramebuffers[this.CONTEXT_UID];\n    if (!fbo || fbo.stencil) {\n      return;\n    }\n    framebuffer.stencil = true;\n    const w = framebuffer.width;\n    const h = framebuffer.height;\n    const gl = this.gl;\n    const stencil = gl.createRenderbuffer();\n    gl.bindRenderbuffer(gl.RENDERBUFFER, stencil);\n    if (fbo.msaaBuffer) {\n      gl.renderbufferStorageMultisample(gl.RENDERBUFFER, fbo.multisample, gl.DEPTH24_STENCIL8, w, h);\n    } else {\n      gl.renderbufferStorage(gl.RENDERBUFFER, gl.DEPTH_STENCIL, w, h);\n    }\n    fbo.stencil = stencil;\n    gl.framebufferRenderbuffer(gl.FRAMEBUFFER, gl.DEPTH_STENCIL_ATTACHMENT, gl.RENDERBUFFER, stencil);\n  }\n  reset() {\n    this.current = this.unknownFramebuffer;\n    this.viewport = new Rectangle();\n  }\n  destroy() {\n    this.renderer = null;\n  }\n}\nFramebufferSystem.extension = {\n  type: ExtensionType.RendererSystem,\n  name: \"framebuffer\"\n};\nextensions.add(FramebufferSystem);\n\nexport { FramebufferSystem };\n//# sourceMappingURL=FramebufferSystem.mjs.map\n","import { ENV, BUFFER_TYPE } from '@pixi/constants';\nimport { ExtensionType, extensions } from '@pixi/extensions';\nimport { settings } from '@pixi/settings';\n\nconst byteSizeMap = { 5126: 4, 5123: 2, 5121: 1 };\nclass GeometrySystem {\n  constructor(renderer) {\n    this.renderer = renderer;\n    this._activeGeometry = null;\n    this._activeVao = null;\n    this.hasVao = true;\n    this.hasInstance = true;\n    this.canUseUInt32ElementIndex = false;\n    this.managedGeometries = {};\n  }\n  contextChange() {\n    this.disposeAll(true);\n    const gl = this.gl = this.renderer.gl;\n    const context = this.renderer.context;\n    this.CONTEXT_UID = this.renderer.CONTEXT_UID;\n    if (context.webGLVersion !== 2) {\n      let nativeVaoExtension = this.renderer.context.extensions.vertexArrayObject;\n      if (settings.PREFER_ENV === ENV.WEBGL_LEGACY) {\n        nativeVaoExtension = null;\n      }\n      if (nativeVaoExtension) {\n        gl.createVertexArray = () => nativeVaoExtension.createVertexArrayOES();\n        gl.bindVertexArray = (vao) => nativeVaoExtension.bindVertexArrayOES(vao);\n        gl.deleteVertexArray = (vao) => nativeVaoExtension.deleteVertexArrayOES(vao);\n      } else {\n        this.hasVao = false;\n        gl.createVertexArray = () => null;\n        gl.bindVertexArray = () => null;\n        gl.deleteVertexArray = () => null;\n      }\n    }\n    if (context.webGLVersion !== 2) {\n      const instanceExt = gl.getExtension(\"ANGLE_instanced_arrays\");\n      if (instanceExt) {\n        gl.vertexAttribDivisor = (a, b) => instanceExt.vertexAttribDivisorANGLE(a, b);\n        gl.drawElementsInstanced = (a, b, c, d, e) => instanceExt.drawElementsInstancedANGLE(a, b, c, d, e);\n        gl.drawArraysInstanced = (a, b, c, d) => instanceExt.drawArraysInstancedANGLE(a, b, c, d);\n      } else {\n        this.hasInstance = false;\n      }\n    }\n    this.canUseUInt32ElementIndex = context.webGLVersion === 2 || !!context.extensions.uint32ElementIndex;\n  }\n  bind(geometry, shader) {\n    shader = shader || this.renderer.shader.shader;\n    const { gl } = this;\n    let vaos = geometry.glVertexArrayObjects[this.CONTEXT_UID];\n    let incRefCount = false;\n    if (!vaos) {\n      this.managedGeometries[geometry.id] = geometry;\n      geometry.disposeRunner.add(this);\n      geometry.glVertexArrayObjects[this.CONTEXT_UID] = vaos = {};\n      incRefCount = true;\n    }\n    const vao = vaos[shader.program.id] || this.initGeometryVao(geometry, shader, incRefCount);\n    this._activeGeometry = geometry;\n    if (this._activeVao !== vao) {\n      this._activeVao = vao;\n      if (this.hasVao) {\n        gl.bindVertexArray(vao);\n      } else {\n        this.activateVao(geometry, shader.program);\n      }\n    }\n    this.updateBuffers();\n  }\n  reset() {\n    this.unbind();\n  }\n  updateBuffers() {\n    const geometry = this._activeGeometry;\n    const bufferSystem = this.renderer.buffer;\n    for (let i = 0; i < geometry.buffers.length; i++) {\n      const buffer = geometry.buffers[i];\n      bufferSystem.update(buffer);\n    }\n  }\n  checkCompatibility(geometry, program) {\n    const geometryAttributes = geometry.attributes;\n    const shaderAttributes = program.attributeData;\n    for (const j in shaderAttributes) {\n      if (!geometryAttributes[j]) {\n        throw new Error(`shader and geometry incompatible, geometry missing the \"${j}\" attribute`);\n      }\n    }\n  }\n  getSignature(geometry, program) {\n    const attribs = geometry.attributes;\n    const shaderAttributes = program.attributeData;\n    const strings = [\"g\", geometry.id];\n    for (const i in attribs) {\n      if (shaderAttributes[i]) {\n        strings.push(i, shaderAttributes[i].location);\n      }\n    }\n    return strings.join(\"-\");\n  }\n  initGeometryVao(geometry, shader, incRefCount = true) {\n    const gl = this.gl;\n    const CONTEXT_UID = this.CONTEXT_UID;\n    const bufferSystem = this.renderer.buffer;\n    const program = shader.program;\n    if (!program.glPrograms[CONTEXT_UID]) {\n      this.renderer.shader.generateProgram(shader);\n    }\n    this.checkCompatibility(geometry, program);\n    const signature = this.getSignature(geometry, program);\n    const vaoObjectHash = geometry.glVertexArrayObjects[this.CONTEXT_UID];\n    let vao = vaoObjectHash[signature];\n    if (vao) {\n      vaoObjectHash[program.id] = vao;\n      return vao;\n    }\n    const buffers = geometry.buffers;\n    const attributes = geometry.attributes;\n    const tempStride = {};\n    const tempStart = {};\n    for (const j in buffers) {\n      tempStride[j] = 0;\n      tempStart[j] = 0;\n    }\n    for (const j in attributes) {\n      if (!attributes[j].size && program.attributeData[j]) {\n        attributes[j].size = program.attributeData[j].size;\n      } else if (!attributes[j].size) {\n        console.warn(`PIXI Geometry attribute '${j}' size cannot be determined (likely the bound shader does not have the attribute)`);\n      }\n      tempStride[attributes[j].buffer] += attributes[j].size * byteSizeMap[attributes[j].type];\n    }\n    for (const j in attributes) {\n      const attribute = attributes[j];\n      const attribSize = attribute.size;\n      if (attribute.stride === void 0) {\n        if (tempStride[attribute.buffer] === attribSize * byteSizeMap[attribute.type]) {\n          attribute.stride = 0;\n        } else {\n          attribute.stride = tempStride[attribute.buffer];\n        }\n      }\n      if (attribute.start === void 0) {\n        attribute.start = tempStart[attribute.buffer];\n        tempStart[attribute.buffer] += attribSize * byteSizeMap[attribute.type];\n      }\n    }\n    vao = gl.createVertexArray();\n    gl.bindVertexArray(vao);\n    for (let i = 0; i < buffers.length; i++) {\n      const buffer = buffers[i];\n      bufferSystem.bind(buffer);\n      if (incRefCount) {\n        buffer._glBuffers[CONTEXT_UID].refCount++;\n      }\n    }\n    this.activateVao(geometry, program);\n    vaoObjectHash[program.id] = vao;\n    vaoObjectHash[signature] = vao;\n    gl.bindVertexArray(null);\n    bufferSystem.unbind(BUFFER_TYPE.ARRAY_BUFFER);\n    return vao;\n  }\n  disposeGeometry(geometry, contextLost) {\n    if (!this.managedGeometries[geometry.id]) {\n      return;\n    }\n    delete this.managedGeometries[geometry.id];\n    const vaos = geometry.glVertexArrayObjects[this.CONTEXT_UID];\n    const gl = this.gl;\n    const buffers = geometry.buffers;\n    const bufferSystem = this.renderer?.buffer;\n    geometry.disposeRunner.remove(this);\n    if (!vaos) {\n      return;\n    }\n    if (bufferSystem) {\n      for (let i = 0; i < buffers.length; i++) {\n        const buf = buffers[i]._glBuffers[this.CONTEXT_UID];\n        if (buf) {\n          buf.refCount--;\n          if (buf.refCount === 0 && !contextLost) {\n            bufferSystem.dispose(buffers[i], contextLost);\n          }\n        }\n      }\n    }\n    if (!contextLost) {\n      for (const vaoId in vaos) {\n        if (vaoId[0] === \"g\") {\n          const vao = vaos[vaoId];\n          if (this._activeVao === vao) {\n            this.unbind();\n          }\n          gl.deleteVertexArray(vao);\n        }\n      }\n    }\n    delete geometry.glVertexArrayObjects[this.CONTEXT_UID];\n  }\n  disposeAll(contextLost) {\n    const all = Object.keys(this.managedGeometries);\n    for (let i = 0; i < all.length; i++) {\n      this.disposeGeometry(this.managedGeometries[all[i]], contextLost);\n    }\n  }\n  activateVao(geometry, program) {\n    const gl = this.gl;\n    const CONTEXT_UID = this.CONTEXT_UID;\n    const bufferSystem = this.renderer.buffer;\n    const buffers = geometry.buffers;\n    const attributes = geometry.attributes;\n    if (geometry.indexBuffer) {\n      bufferSystem.bind(geometry.indexBuffer);\n    }\n    let lastBuffer = null;\n    for (const j in attributes) {\n      const attribute = attributes[j];\n      const buffer = buffers[attribute.buffer];\n      const glBuffer = buffer._glBuffers[CONTEXT_UID];\n      if (program.attributeData[j]) {\n        if (lastBuffer !== glBuffer) {\n          bufferSystem.bind(buffer);\n          lastBuffer = glBuffer;\n        }\n        const location = program.attributeData[j].location;\n        gl.enableVertexAttribArray(location);\n        gl.vertexAttribPointer(location, attribute.size, attribute.type || gl.FLOAT, attribute.normalized, attribute.stride, attribute.start);\n        if (attribute.instance) {\n          if (this.hasInstance) {\n            gl.vertexAttribDivisor(location, attribute.divisor);\n          } else {\n            throw new Error(\"geometry error, GPU Instancing is not supported on this device\");\n          }\n        }\n      }\n    }\n  }\n  draw(type, size, start, instanceCount) {\n    const { gl } = this;\n    const geometry = this._activeGeometry;\n    if (geometry.indexBuffer) {\n      const byteSize = geometry.indexBuffer.data.BYTES_PER_ELEMENT;\n      const glType = byteSize === 2 ? gl.UNSIGNED_SHORT : gl.UNSIGNED_INT;\n      if (byteSize === 2 || byteSize === 4 && this.canUseUInt32ElementIndex) {\n        if (geometry.instanced) {\n          gl.drawElementsInstanced(type, size || geometry.indexBuffer.data.length, glType, (start || 0) * byteSize, instanceCount || 1);\n        } else {\n          gl.drawElements(type, size || geometry.indexBuffer.data.length, glType, (start || 0) * byteSize);\n        }\n      } else {\n        console.warn(\"unsupported index buffer type: uint32\");\n      }\n    } else if (geometry.instanced) {\n      gl.drawArraysInstanced(type, start, size || geometry.getSize(), instanceCount || 1);\n    } else {\n      gl.drawArrays(type, start, size || geometry.getSize());\n    }\n    return this;\n  }\n  unbind() {\n    this.gl.bindVertexArray(null);\n    this._activeVao = null;\n    this._activeGeometry = null;\n  }\n  destroy() {\n    this.renderer = null;\n  }\n}\nGeometrySystem.extension = {\n  type: ExtensionType.RendererSystem,\n  name: \"geometry\"\n};\nextensions.add(GeometrySystem);\n\nexport { GeometrySystem };\n//# sourceMappingURL=GeometrySystem.mjs.map\n","import { Matrix } from '@pixi/math';\n\nconst tempMat = new Matrix();\nclass TextureMatrix {\n  constructor(texture, clampMargin) {\n    this._texture = texture;\n    this.mapCoord = new Matrix();\n    this.uClampFrame = new Float32Array(4);\n    this.uClampOffset = new Float32Array(2);\n    this._textureID = -1;\n    this._updateID = 0;\n    this.clampOffset = 0;\n    this.clampMargin = typeof clampMargin === \"undefined\" ? 0.5 : clampMargin;\n    this.isSimple = false;\n  }\n  get texture() {\n    return this._texture;\n  }\n  set texture(value) {\n    this._texture = value;\n    this._textureID = -1;\n  }\n  multiplyUvs(uvs, out) {\n    if (out === void 0) {\n      out = uvs;\n    }\n    const mat = this.mapCoord;\n    for (let i = 0; i < uvs.length; i += 2) {\n      const x = uvs[i];\n      const y = uvs[i + 1];\n      out[i] = x * mat.a + y * mat.c + mat.tx;\n      out[i + 1] = x * mat.b + y * mat.d + mat.ty;\n    }\n    return out;\n  }\n  update(forceUpdate) {\n    const tex = this._texture;\n    if (!tex || !tex.valid) {\n      return false;\n    }\n    if (!forceUpdate && this._textureID === tex._updateID) {\n      return false;\n    }\n    this._textureID = tex._updateID;\n    this._updateID++;\n    const uvs = tex._uvs;\n    this.mapCoord.set(uvs.x1 - uvs.x0, uvs.y1 - uvs.y0, uvs.x3 - uvs.x0, uvs.y3 - uvs.y0, uvs.x0, uvs.y0);\n    const orig = tex.orig;\n    const trim = tex.trim;\n    if (trim) {\n      tempMat.set(orig.width / trim.width, 0, 0, orig.height / trim.height, -trim.x / trim.width, -trim.y / trim.height);\n      this.mapCoord.append(tempMat);\n    }\n    const texBase = tex.baseTexture;\n    const frame = this.uClampFrame;\n    const margin = this.clampMargin / texBase.resolution;\n    const offset = this.clampOffset;\n    frame[0] = (tex._frame.x + margin + offset) / texBase.width;\n    frame[1] = (tex._frame.y + margin + offset) / texBase.height;\n    frame[2] = (tex._frame.x + tex._frame.width - margin + offset) / texBase.width;\n    frame[3] = (tex._frame.y + tex._frame.height - margin + offset) / texBase.height;\n    this.uClampOffset[0] = offset / texBase.realWidth;\n    this.uClampOffset[1] = offset / texBase.realHeight;\n    this.isSimple = tex._frame.width === texBase.width && tex._frame.height === texBase.height && tex.rotate === 0;\n    return true;\n  }\n}\n\nexport { TextureMatrix };\n//# sourceMappingURL=TextureMatrix.mjs.map\n","import { Matrix } from '@pixi/math';\nimport { TextureMatrix } from '../../textures/TextureMatrix.mjs';\nimport { Filter } from '../Filter.mjs';\nimport fragment from './spriteMaskFilter2.mjs';\nimport vertex from './spriteMaskFilter3.mjs';\n\nclass SpriteMaskFilter extends Filter {\n  constructor(vertexSrc, fragmentSrc, uniforms) {\n    let sprite = null;\n    if (typeof vertexSrc !== \"string\" && fragmentSrc === void 0 && uniforms === void 0) {\n      sprite = vertexSrc;\n      vertexSrc = void 0;\n      fragmentSrc = void 0;\n      uniforms = void 0;\n    }\n    super(vertexSrc || vertex, fragmentSrc || fragment, uniforms);\n    this.maskSprite = sprite;\n    this.maskMatrix = new Matrix();\n  }\n  get maskSprite() {\n    return this._maskSprite;\n  }\n  set maskSprite(value) {\n    this._maskSprite = value;\n    if (this._maskSprite) {\n      this._maskSprite.renderable = false;\n    }\n  }\n  apply(filterManager, input, output, clearMode) {\n    const maskSprite = this._maskSprite;\n    const tex = maskSprite._texture;\n    if (!tex.valid) {\n      return;\n    }\n    if (!tex.uvMatrix) {\n      tex.uvMatrix = new TextureMatrix(tex, 0);\n    }\n    tex.uvMatrix.update();\n    this.uniforms.npmAlpha = tex.baseTexture.alphaMode ? 0 : 1;\n    this.uniforms.mask = tex;\n    this.uniforms.otherMatrix = filterManager.calculateSpriteMatrix(this.maskMatrix, maskSprite).prepend(tex.uvMatrix.mapCoord);\n    this.uniforms.alpha = maskSprite.worldAlpha;\n    this.uniforms.maskClamp = tex.uvMatrix.uClampFrame;\n    filterManager.applyFilter(this, input, output, clearMode);\n  }\n}\n\nexport { SpriteMaskFilter };\n//# sourceMappingURL=SpriteMaskFilter.mjs.map\n","var vertex = \"attribute vec2 aVertexPosition;\\nattribute vec2 aTextureCoord;\\n\\nuniform mat3 projectionMatrix;\\nuniform mat3 otherMatrix;\\n\\nvarying vec2 vMaskCoord;\\nvarying vec2 vTextureCoord;\\n\\nvoid main(void)\\n{\\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\\n\\n    vTextureCoord = aTextureCoord;\\n    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;\\n}\\n\";\n\nexport { vertex as default };\n//# sourceMappingURL=spriteMaskFilter3.mjs.map\n","var fragment = \"varying vec2 vMaskCoord;\\nvarying vec2 vTextureCoord;\\n\\nuniform sampler2D uSampler;\\nuniform sampler2D mask;\\nuniform float alpha;\\nuniform float npmAlpha;\\nuniform vec4 maskClamp;\\n\\nvoid main(void)\\n{\\n    float clip = step(3.5,\\n        step(maskClamp.x, vMaskCoord.x) +\\n        step(maskClamp.y, vMaskCoord.y) +\\n        step(vMaskCoord.x, maskClamp.z) +\\n        step(vMaskCoord.y, maskClamp.w));\\n\\n    vec4 original = texture2D(uSampler, vTextureCoord);\\n    vec4 masky = texture2D(mask, vMaskCoord);\\n    float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);\\n\\n    original *= (alphaMul * masky.r * alpha * clip);\\n\\n    gl_FragColor = original;\\n}\\n\";\n\nexport { fragment as default };\n//# sourceMappingURL=spriteMaskFilter2.mjs.map\n","import { MASK_TYPES } from '@pixi/constants';\nimport { Filter } from '../filters/Filter.mjs';\n\nclass MaskData {\n  constructor(maskObject = null) {\n    this.type = MASK_TYPES.NONE;\n    this.autoDetect = true;\n    this.maskObject = maskObject || null;\n    this.pooled = false;\n    this.isMaskData = true;\n    this.resolution = null;\n    this.multisample = Filter.defaultMultisample;\n    this.enabled = true;\n    this.colorMask = 15;\n    this._filters = null;\n    this._stencilCounter = 0;\n    this._scissorCounter = 0;\n    this._scissorRect = null;\n    this._scissorRectLocal = null;\n    this._colorMask = 15;\n    this._target = null;\n  }\n  get filter() {\n    return this._filters ? this._filters[0] : null;\n  }\n  set filter(value) {\n    if (value) {\n      if (this._filters) {\n        this._filters[0] = value;\n      } else {\n        this._filters = [value];\n      }\n    } else {\n      this._filters = null;\n    }\n  }\n  reset() {\n    if (this.pooled) {\n      this.maskObject = null;\n      this.type = MASK_TYPES.NONE;\n      this.autoDetect = true;\n    }\n    this._target = null;\n    this._scissorRectLocal = null;\n  }\n  copyCountersOrReset(maskAbove) {\n    if (maskAbove) {\n      this._stencilCounter = maskAbove._stencilCounter;\n      this._scissorCounter = maskAbove._scissorCounter;\n      this._scissorRect = maskAbove._scissorRect;\n    } else {\n      this._stencilCounter = 0;\n      this._scissorCounter = 0;\n      this._scissorRect = null;\n    }\n  }\n}\n\nexport { MaskData };\n//# sourceMappingURL=MaskData.mjs.map\n","import { MASK_TYPES } from '@pixi/constants';\nimport { ExtensionType, extensions } from '@pixi/extensions';\nimport { SpriteMaskFilter } from '../filters/spriteMask/SpriteMaskFilter.mjs';\nimport { MaskData } from './MaskData.mjs';\n\nclass MaskSystem {\n  constructor(renderer) {\n    this.renderer = renderer;\n    this.enableScissor = true;\n    this.alphaMaskPool = [];\n    this.maskDataPool = [];\n    this.maskStack = [];\n    this.alphaMaskIndex = 0;\n  }\n  setMaskStack(maskStack) {\n    this.maskStack = maskStack;\n    this.renderer.scissor.setMaskStack(maskStack);\n    this.renderer.stencil.setMaskStack(maskStack);\n  }\n  push(target, maskDataOrTarget) {\n    let maskData = maskDataOrTarget;\n    if (!maskData.isMaskData) {\n      const d = this.maskDataPool.pop() || new MaskData();\n      d.pooled = true;\n      d.maskObject = maskDataOrTarget;\n      maskData = d;\n    }\n    const maskAbove = this.maskStack.length !== 0 ? this.maskStack[this.maskStack.length - 1] : null;\n    maskData.copyCountersOrReset(maskAbove);\n    maskData._colorMask = maskAbove ? maskAbove._colorMask : 15;\n    if (maskData.autoDetect) {\n      this.detect(maskData);\n    }\n    maskData._target = target;\n    if (maskData.type !== MASK_TYPES.SPRITE) {\n      this.maskStack.push(maskData);\n    }\n    if (maskData.enabled) {\n      switch (maskData.type) {\n        case MASK_TYPES.SCISSOR:\n          this.renderer.scissor.push(maskData);\n          break;\n        case MASK_TYPES.STENCIL:\n          this.renderer.stencil.push(maskData);\n          break;\n        case MASK_TYPES.SPRITE:\n          maskData.copyCountersOrReset(null);\n          this.pushSpriteMask(maskData);\n          break;\n        case MASK_TYPES.COLOR:\n          this.pushColorMask(maskData);\n          break;\n        default:\n          break;\n      }\n    }\n    if (maskData.type === MASK_TYPES.SPRITE) {\n      this.maskStack.push(maskData);\n    }\n  }\n  pop(target) {\n    const maskData = this.maskStack.pop();\n    if (!maskData || maskData._target !== target) {\n      return;\n    }\n    if (maskData.enabled) {\n      switch (maskData.type) {\n        case MASK_TYPES.SCISSOR:\n          this.renderer.scissor.pop(maskData);\n          break;\n        case MASK_TYPES.STENCIL:\n          this.renderer.stencil.pop(maskData.maskObject);\n          break;\n        case MASK_TYPES.SPRITE:\n          this.popSpriteMask(maskData);\n          break;\n        case MASK_TYPES.COLOR:\n          this.popColorMask(maskData);\n          break;\n        default:\n          break;\n      }\n    }\n    maskData.reset();\n    if (maskData.pooled) {\n      this.maskDataPool.push(maskData);\n    }\n    if (this.maskStack.length !== 0) {\n      const maskCurrent = this.maskStack[this.maskStack.length - 1];\n      if (maskCurrent.type === MASK_TYPES.SPRITE && maskCurrent._filters) {\n        maskCurrent._filters[0].maskSprite = maskCurrent.maskObject;\n      }\n    }\n  }\n  detect(maskData) {\n    const maskObject = maskData.maskObject;\n    if (!maskObject) {\n      maskData.type = MASK_TYPES.COLOR;\n    } else if (maskObject.isSprite) {\n      maskData.type = MASK_TYPES.SPRITE;\n    } else if (this.enableScissor && this.renderer.scissor.testScissor(maskData)) {\n      maskData.type = MASK_TYPES.SCISSOR;\n    } else {\n      maskData.type = MASK_TYPES.STENCIL;\n    }\n  }\n  pushSpriteMask(maskData) {\n    const { maskObject } = maskData;\n    const target = maskData._target;\n    let alphaMaskFilter = maskData._filters;\n    if (!alphaMaskFilter) {\n      alphaMaskFilter = this.alphaMaskPool[this.alphaMaskIndex];\n      if (!alphaMaskFilter) {\n        alphaMaskFilter = this.alphaMaskPool[this.alphaMaskIndex] = [new SpriteMaskFilter()];\n      }\n    }\n    const renderer = this.renderer;\n    const renderTextureSystem = renderer.renderTexture;\n    let resolution;\n    let multisample;\n    if (renderTextureSystem.current) {\n      const renderTexture = renderTextureSystem.current;\n      resolution = maskData.resolution || renderTexture.resolution;\n      multisample = maskData.multisample ?? renderTexture.multisample;\n    } else {\n      resolution = maskData.resolution || renderer.resolution;\n      multisample = maskData.multisample ?? renderer.multisample;\n    }\n    alphaMaskFilter[0].resolution = resolution;\n    alphaMaskFilter[0].multisample = multisample;\n    alphaMaskFilter[0].maskSprite = maskObject;\n    const stashFilterArea = target.filterArea;\n    target.filterArea = maskObject.getBounds(true);\n    renderer.filter.push(target, alphaMaskFilter);\n    target.filterArea = stashFilterArea;\n    if (!maskData._filters) {\n      this.alphaMaskIndex++;\n    }\n  }\n  popSpriteMask(maskData) {\n    this.renderer.filter.pop();\n    if (maskData._filters) {\n      maskData._filters[0].maskSprite = null;\n    } else {\n      this.alphaMaskIndex--;\n      this.alphaMaskPool[this.alphaMaskIndex][0].maskSprite = null;\n    }\n  }\n  pushColorMask(maskData) {\n    const currColorMask = maskData._colorMask;\n    const nextColorMask = maskData._colorMask = currColorMask & maskData.colorMask;\n    if (nextColorMask !== currColorMask) {\n      this.renderer.gl.colorMask((nextColorMask & 1) !== 0, (nextColorMask & 2) !== 0, (nextColorMask & 4) !== 0, (nextColorMask & 8) !== 0);\n    }\n  }\n  popColorMask(maskData) {\n    const currColorMask = maskData._colorMask;\n    const nextColorMask = this.maskStack.length > 0 ? this.maskStack[this.maskStack.length - 1]._colorMask : 15;\n    if (nextColorMask !== currColorMask) {\n      this.renderer.gl.colorMask((nextColorMask & 1) !== 0, (nextColorMask & 2) !== 0, (nextColorMask & 4) !== 0, (nextColorMask & 8) !== 0);\n    }\n  }\n  destroy() {\n    this.renderer = null;\n  }\n}\nMaskSystem.extension = {\n  type: ExtensionType.RendererSystem,\n  name: \"mask\"\n};\nextensions.add(MaskSystem);\n\nexport { MaskSystem };\n//# sourceMappingURL=MaskSystem.mjs.map\n","class AbstractMaskSystem {\n  constructor(renderer) {\n    this.renderer = renderer;\n    this.maskStack = [];\n    this.glConst = 0;\n  }\n  getStackLength() {\n    return this.maskStack.length;\n  }\n  setMaskStack(maskStack) {\n    const { gl } = this.renderer;\n    const curStackLen = this.getStackLength();\n    this.maskStack = maskStack;\n    const newStackLen = this.getStackLength();\n    if (newStackLen !== curStackLen) {\n      if (newStackLen === 0) {\n        gl.disable(this.glConst);\n      } else {\n        gl.enable(this.glConst);\n        this._useCurrent();\n      }\n    }\n  }\n  _useCurrent() {\n  }\n  destroy() {\n    this.renderer = null;\n    this.maskStack = null;\n  }\n}\n\nexport { AbstractMaskSystem };\n//# sourceMappingURL=AbstractMaskSystem.mjs.map\n","import { ExtensionType, extensions } from '@pixi/extensions';\nimport { Matrix, Rectangle } from '@pixi/math';\nimport { settings } from '@pixi/settings';\nimport { AbstractMaskSystem } from './AbstractMaskSystem.mjs';\n\nconst tempMatrix = new Matrix();\nconst rectPool = [];\nconst _ScissorSystem = class extends AbstractMaskSystem {\n  constructor(renderer) {\n    super(renderer);\n    this.glConst = settings.ADAPTER.getWebGLRenderingContext().SCISSOR_TEST;\n  }\n  getStackLength() {\n    const maskData = this.maskStack[this.maskStack.length - 1];\n    if (maskData) {\n      return maskData._scissorCounter;\n    }\n    return 0;\n  }\n  calcScissorRect(maskData) {\n    if (maskData._scissorRectLocal) {\n      return;\n    }\n    const prevData = maskData._scissorRect;\n    const { maskObject } = maskData;\n    const { renderer } = this;\n    const renderTextureSystem = renderer.renderTexture;\n    const rect = maskObject.getBounds(true, rectPool.pop() ?? new Rectangle());\n    this.roundFrameToPixels(rect, renderTextureSystem.current ? renderTextureSystem.current.resolution : renderer.resolution, renderTextureSystem.sourceFrame, renderTextureSystem.destinationFrame, renderer.projection.transform);\n    if (prevData) {\n      rect.fit(prevData);\n    }\n    maskData._scissorRectLocal = rect;\n  }\n  static isMatrixRotated(matrix) {\n    if (!matrix) {\n      return false;\n    }\n    const { a, b, c, d } = matrix;\n    return (Math.abs(b) > 1e-4 || Math.abs(c) > 1e-4) && (Math.abs(a) > 1e-4 || Math.abs(d) > 1e-4);\n  }\n  testScissor(maskData) {\n    const { maskObject } = maskData;\n    if (!maskObject.isFastRect || !maskObject.isFastRect()) {\n      return false;\n    }\n    if (_ScissorSystem.isMatrixRotated(maskObject.worldTransform)) {\n      return false;\n    }\n    if (_ScissorSystem.isMatrixRotated(this.renderer.projection.transform)) {\n      return false;\n    }\n    this.calcScissorRect(maskData);\n    const rect = maskData._scissorRectLocal;\n    return rect.width > 0 && rect.height > 0;\n  }\n  roundFrameToPixels(frame, resolution, bindingSourceFrame, bindingDestinationFrame, transform) {\n    if (_ScissorSystem.isMatrixRotated(transform)) {\n      return;\n    }\n    transform = transform ? tempMatrix.copyFrom(transform) : tempMatrix.identity();\n    transform.translate(-bindingSourceFrame.x, -bindingSourceFrame.y).scale(bindingDestinationFrame.width / bindingSourceFrame.width, bindingDestinationFrame.height / bindingSourceFrame.height).translate(bindingDestinationFrame.x, bindingDestinationFrame.y);\n    this.renderer.filter.transformAABB(transform, frame);\n    frame.fit(bindingDestinationFrame);\n    frame.x = Math.round(frame.x * resolution);\n    frame.y = Math.round(frame.y * resolution);\n    frame.width = Math.round(frame.width * resolution);\n    frame.height = Math.round(frame.height * resolution);\n  }\n  push(maskData) {\n    if (!maskData._scissorRectLocal) {\n      this.calcScissorRect(maskData);\n    }\n    const { gl } = this.renderer;\n    if (!maskData._scissorRect) {\n      gl.enable(gl.SCISSOR_TEST);\n    }\n    maskData._scissorCounter++;\n    maskData._scissorRect = maskData._scissorRectLocal;\n    this._useCurrent();\n  }\n  pop(maskData) {\n    const { gl } = this.renderer;\n    if (maskData) {\n      rectPool.push(maskData._scissorRectLocal);\n    }\n    if (this.getStackLength() > 0) {\n      this._useCurrent();\n    } else {\n      gl.disable(gl.SCISSOR_TEST);\n    }\n  }\n  _useCurrent() {\n    const rect = this.maskStack[this.maskStack.length - 1]._scissorRect;\n    let y;\n    if (this.renderer.renderTexture.current) {\n      y = rect.y;\n    } else {\n      y = this.renderer.height - rect.height - rect.y;\n    }\n    this.renderer.gl.scissor(rect.x, y, rect.width, rect.height);\n  }\n};\nlet ScissorSystem = _ScissorSystem;\nScissorSystem.extension = {\n  type: ExtensionType.RendererSystem,\n  name: \"scissor\"\n};\nextensions.add(ScissorSystem);\n\nexport { ScissorSystem };\n//# sourceMappingURL=ScissorSystem.mjs.map\n","import { ExtensionType, extensions } from '@pixi/extensions';\nimport { settings } from '@pixi/settings';\nimport { AbstractMaskSystem } from './AbstractMaskSystem.mjs';\n\nclass StencilSystem extends AbstractMaskSystem {\n  constructor(renderer) {\n    super(renderer);\n    this.glConst = settings.ADAPTER.getWebGLRenderingContext().STENCIL_TEST;\n  }\n  getStackLength() {\n    const maskData = this.maskStack[this.maskStack.length - 1];\n    if (maskData) {\n      return maskData._stencilCounter;\n    }\n    return 0;\n  }\n  push(maskData) {\n    const maskObject = maskData.maskObject;\n    const { gl } = this.renderer;\n    const prevMaskCount = maskData._stencilCounter;\n    if (prevMaskCount === 0) {\n      this.renderer.framebuffer.forceStencil();\n      gl.clearStencil(0);\n      gl.clear(gl.STENCIL_BUFFER_BIT);\n      gl.enable(gl.STENCIL_TEST);\n    }\n    maskData._stencilCounter++;\n    const colorMask = maskData._colorMask;\n    if (colorMask !== 0) {\n      maskData._colorMask = 0;\n      gl.colorMask(false, false, false, false);\n    }\n    gl.stencilFunc(gl.EQUAL, prevMaskCount, 4294967295);\n    gl.stencilOp(gl.KEEP, gl.KEEP, gl.INCR);\n    maskObject.renderable = true;\n    maskObject.render(this.renderer);\n    this.renderer.batch.flush();\n    maskObject.renderable = false;\n    if (colorMask !== 0) {\n      maskData._colorMask = colorMask;\n      gl.colorMask((colorMask & 1) !== 0, (colorMask & 2) !== 0, (colorMask & 4) !== 0, (colorMask & 8) !== 0);\n    }\n    this._useCurrent();\n  }\n  pop(maskObject) {\n    const gl = this.renderer.gl;\n    if (this.getStackLength() === 0) {\n      gl.disable(gl.STENCIL_TEST);\n    } else {\n      const maskData = this.maskStack.length !== 0 ? this.maskStack[this.maskStack.length - 1] : null;\n      const colorMask = maskData ? maskData._colorMask : 15;\n      if (colorMask !== 0) {\n        maskData._colorMask = 0;\n        gl.colorMask(false, false, false, false);\n      }\n      gl.stencilOp(gl.KEEP, gl.KEEP, gl.DECR);\n      maskObject.renderable = true;\n      maskObject.render(this.renderer);\n      this.renderer.batch.flush();\n      maskObject.renderable = false;\n      if (colorMask !== 0) {\n        maskData._colorMask = colorMask;\n        gl.colorMask((colorMask & 1) !== 0, (colorMask & 2) !== 0, (colorMask & 4) !== 0, (colorMask & 8) !== 0);\n      }\n      this._useCurrent();\n    }\n  }\n  _useCurrent() {\n    const gl = this.renderer.gl;\n    gl.stencilFunc(gl.EQUAL, this.getStackLength(), 4294967295);\n    gl.stencilOp(gl.KEEP, gl.KEEP, gl.KEEP);\n  }\n}\nStencilSystem.extension = {\n  type: ExtensionType.RendererSystem,\n  name: \"stencil\"\n};\nextensions.add(StencilSystem);\n\nexport { StencilSystem };\n//# sourceMappingURL=StencilSystem.mjs.map\n","import { ExtensionType, extensions } from '@pixi/extensions';\nimport { deprecation } from '@pixi/utils';\n\nclass PluginSystem {\n  constructor(renderer) {\n    this.renderer = renderer;\n    this.plugins = {};\n    Object.defineProperties(this.plugins, {\n      extract: {\n        enumerable: false,\n        get() {\n          deprecation(\"7.0.0\", \"renderer.plugins.extract has moved to renderer.extract\");\n          return renderer.extract;\n        }\n      },\n      prepare: {\n        enumerable: false,\n        get() {\n          deprecation(\"7.0.0\", \"renderer.plugins.prepare has moved to renderer.prepare\");\n          return renderer.prepare;\n        }\n      },\n      interaction: {\n        enumerable: false,\n        get() {\n          deprecation(\"7.0.0\", \"renderer.plugins.interaction has been deprecated, use renderer.events\");\n          return renderer.events;\n        }\n      }\n    });\n  }\n  init() {\n    const staticMap = this.rendererPlugins;\n    for (const o in staticMap) {\n      this.plugins[o] = new staticMap[o](this.renderer);\n    }\n  }\n  destroy() {\n    for (const o in this.plugins) {\n      this.plugins[o].destroy();\n      this.plugins[o] = null;\n    }\n  }\n}\nPluginSystem.extension = {\n  type: [\n    ExtensionType.RendererSystem,\n    ExtensionType.CanvasRendererSystem\n  ],\n  name: \"_plugin\"\n};\nextensions.add(PluginSystem);\n\nexport { PluginSystem };\n//# sourceMappingURL=PluginSystem.mjs.map\n","import { ExtensionType, extensions } from '@pixi/extensions';\nimport { Matrix } from '@pixi/math';\n\nclass ProjectionSystem {\n  constructor(renderer) {\n    this.renderer = renderer;\n    this.destinationFrame = null;\n    this.sourceFrame = null;\n    this.defaultFrame = null;\n    this.projectionMatrix = new Matrix();\n    this.transform = null;\n  }\n  update(destinationFrame, sourceFrame, resolution, root) {\n    this.destinationFrame = destinationFrame || this.destinationFrame || this.defaultFrame;\n    this.sourceFrame = sourceFrame || this.sourceFrame || destinationFrame;\n    this.calculateProjection(this.destinationFrame, this.sourceFrame, resolution, root);\n    if (this.transform) {\n      this.projectionMatrix.append(this.transform);\n    }\n    const renderer = this.renderer;\n    renderer.globalUniforms.uniforms.projectionMatrix = this.projectionMatrix;\n    renderer.globalUniforms.update();\n    if (renderer.shader.shader) {\n      renderer.shader.syncUniformGroup(renderer.shader.shader.uniforms.globals);\n    }\n  }\n  calculateProjection(_destinationFrame, sourceFrame, _resolution, root) {\n    const pm = this.projectionMatrix;\n    const sign = !root ? 1 : -1;\n    pm.identity();\n    pm.a = 1 / sourceFrame.width * 2;\n    pm.d = sign * (1 / sourceFrame.height * 2);\n    pm.tx = -1 - sourceFrame.x * pm.a;\n    pm.ty = -sign - sourceFrame.y * pm.d;\n  }\n  setTransform(_matrix) {\n  }\n  destroy() {\n    this.renderer = null;\n  }\n}\nProjectionSystem.extension = {\n  type: ExtensionType.RendererSystem,\n  name: \"projection\"\n};\nextensions.add(ProjectionSystem);\n\nexport { ProjectionSystem };\n//# sourceMappingURL=ProjectionSystem.mjs.map\n","import { ExtensionType, extensions } from '@pixi/extensions';\nimport { Transform, Matrix } from '@pixi/math';\nimport { RenderTexture } from './RenderTexture.mjs';\n\nconst tempTransform = new Transform();\nclass GenerateTextureSystem {\n  constructor(renderer) {\n    this.renderer = renderer;\n    this._tempMatrix = new Matrix();\n  }\n  generateTexture(displayObject, options) {\n    const { region: manualRegion, ...textureOptions } = options || {};\n    const region = manualRegion || displayObject.getLocalBounds(null, true);\n    if (region.width === 0)\n      region.width = 1;\n    if (region.height === 0)\n      region.height = 1;\n    const renderTexture = RenderTexture.create({\n      width: region.width,\n      height: region.height,\n      ...textureOptions\n    });\n    this._tempMatrix.tx = -region.x;\n    this._tempMatrix.ty = -region.y;\n    const transform = displayObject.transform;\n    displayObject.transform = tempTransform;\n    this.renderer.render(displayObject, {\n      renderTexture,\n      transform: this._tempMatrix,\n      skipUpdateTransform: !!displayObject.parent,\n      blit: true\n    });\n    displayObject.transform = transform;\n    return renderTexture;\n  }\n  destroy() {\n  }\n}\nGenerateTextureSystem.extension = {\n  type: [\n    ExtensionType.RendererSystem,\n    ExtensionType.CanvasRendererSystem\n  ],\n  name: \"textureGenerator\"\n};\nextensions.add(GenerateTextureSystem);\n\nexport { GenerateTextureSystem };\n//# sourceMappingURL=GenerateTextureSystem.mjs.map\n","import { Color } from '@pixi/color';\nimport { ExtensionType, extensions } from '@pixi/extensions';\nimport { Rectangle } from '@pixi/math';\n\nconst tempRect = new Rectangle();\nconst tempRect2 = new Rectangle();\nclass RenderTextureSystem {\n  constructor(renderer) {\n    this.renderer = renderer;\n    this.defaultMaskStack = [];\n    this.current = null;\n    this.sourceFrame = new Rectangle();\n    this.destinationFrame = new Rectangle();\n    this.viewportFrame = new Rectangle();\n  }\n  bind(renderTexture = null, sourceFrame, destinationFrame) {\n    const renderer = this.renderer;\n    this.current = renderTexture;\n    let baseTexture;\n    let framebuffer;\n    let resolution;\n    if (renderTexture) {\n      baseTexture = renderTexture.baseTexture;\n      resolution = baseTexture.resolution;\n      if (!sourceFrame) {\n        tempRect.width = renderTexture.frame.width;\n        tempRect.height = renderTexture.frame.height;\n        sourceFrame = tempRect;\n      }\n      if (!destinationFrame) {\n        tempRect2.x = renderTexture.frame.x;\n        tempRect2.y = renderTexture.frame.y;\n        tempRect2.width = sourceFrame.width;\n        tempRect2.height = sourceFrame.height;\n        destinationFrame = tempRect2;\n      }\n      framebuffer = baseTexture.framebuffer;\n    } else {\n      resolution = renderer.resolution;\n      if (!sourceFrame) {\n        tempRect.width = renderer._view.screen.width;\n        tempRect.height = renderer._view.screen.height;\n        sourceFrame = tempRect;\n      }\n      if (!destinationFrame) {\n        destinationFrame = tempRect;\n        destinationFrame.width = sourceFrame.width;\n        destinationFrame.height = sourceFrame.height;\n      }\n    }\n    const viewportFrame = this.viewportFrame;\n    viewportFrame.x = destinationFrame.x * resolution;\n    viewportFrame.y = destinationFrame.y * resolution;\n    viewportFrame.width = destinationFrame.width * resolution;\n    viewportFrame.height = destinationFrame.height * resolution;\n    if (!renderTexture) {\n      viewportFrame.y = renderer.view.height - (viewportFrame.y + viewportFrame.height);\n    }\n    viewportFrame.ceil();\n    this.renderer.framebuffer.bind(framebuffer, viewportFrame);\n    this.renderer.projection.update(destinationFrame, sourceFrame, resolution, !framebuffer);\n    if (renderTexture) {\n      this.renderer.mask.setMaskStack(baseTexture.maskStack);\n    } else {\n      this.renderer.mask.setMaskStack(this.defaultMaskStack);\n    }\n    this.sourceFrame.copyFrom(sourceFrame);\n    this.destinationFrame.copyFrom(destinationFrame);\n  }\n  clear(clearColor, mask) {\n    const fallbackColor = this.current ? this.current.baseTexture.clear : this.renderer.background.backgroundColor;\n    const color = clearColor ? Color.shared.setValue(clearColor) : fallbackColor;\n    const destinationFrame = this.destinationFrame;\n    const baseFrame = this.current ? this.current.baseTexture : this.renderer._view.screen;\n    const clearMask = destinationFrame.width !== baseFrame.width || destinationFrame.height !== baseFrame.height;\n    if (clearMask) {\n      let { x, y, width, height } = this.viewportFrame;\n      x = Math.round(x);\n      y = Math.round(y);\n      width = Math.round(width);\n      height = Math.round(height);\n      this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST);\n      this.renderer.gl.scissor(x, y, width, height);\n    }\n    this.renderer.framebuffer.clear(color.red, color.green, color.blue, color.alpha, mask);\n    if (clearMask) {\n      this.renderer.scissor.pop();\n    }\n  }\n  resize() {\n    this.bind(null);\n  }\n  reset() {\n    this.bind(null);\n  }\n  destroy() {\n    this.renderer = null;\n  }\n}\nRenderTextureSystem.extension = {\n  type: ExtensionType.RendererSystem,\n  name: \"renderTexture\"\n};\nextensions.add(RenderTextureSystem);\n\nexport { RenderTextureSystem };\n//# sourceMappingURL=RenderTextureSystem.mjs.map\n","class IGLUniformData {\n}\nclass GLProgram {\n  constructor(program, uniformData) {\n    this.program = program;\n    this.uniformData = uniformData;\n    this.uniformGroups = {};\n    this.uniformDirtyGroups = {};\n    this.uniformBufferBindings = {};\n  }\n  destroy() {\n    this.uniformData = null;\n    this.uniformGroups = null;\n    this.uniformDirtyGroups = null;\n    this.uniformBufferBindings = null;\n    this.program = null;\n  }\n}\n\nexport { GLProgram, IGLUniformData };\n//# sourceMappingURL=GLProgram.mjs.map\n","function compileShader(gl, type, src) {\n  const shader = gl.createShader(type);\n  gl.shaderSource(shader, src);\n  gl.compileShader(shader);\n  return shader;\n}\n\nexport { compileShader };\n//# sourceMappingURL=compileShader.mjs.map\n","function booleanArray(size) {\n  const array = new Array(size);\n  for (let i = 0; i < array.length; i++) {\n    array[i] = false;\n  }\n  return array;\n}\nfunction defaultValue(type, size) {\n  switch (type) {\n    case \"float\":\n      return 0;\n    case \"vec2\":\n      return new Float32Array(2 * size);\n    case \"vec3\":\n      return new Float32Array(3 * size);\n    case \"vec4\":\n      return new Float32Array(4 * size);\n    case \"int\":\n    case \"uint\":\n    case \"sampler2D\":\n    case \"sampler2DArray\":\n      return 0;\n    case \"ivec2\":\n      return new Int32Array(2 * size);\n    case \"ivec3\":\n      return new Int32Array(3 * size);\n    case \"ivec4\":\n      return new Int32Array(4 * size);\n    case \"uvec2\":\n      return new Uint32Array(2 * size);\n    case \"uvec3\":\n      return new Uint32Array(3 * size);\n    case \"uvec4\":\n      return new Uint32Array(4 * size);\n    case \"bool\":\n      return false;\n    case \"bvec2\":\n      return booleanArray(2 * size);\n    case \"bvec3\":\n      return booleanArray(3 * size);\n    case \"bvec4\":\n      return booleanArray(4 * size);\n    case \"mat2\":\n      return new Float32Array([\n        1,\n        0,\n        0,\n        1\n      ]);\n    case \"mat3\":\n      return new Float32Array([\n        1,\n        0,\n        0,\n        0,\n        1,\n        0,\n        0,\n        0,\n        1\n      ]);\n    case \"mat4\":\n      return new Float32Array([\n        1,\n        0,\n        0,\n        0,\n        0,\n        1,\n        0,\n        0,\n        0,\n        0,\n        1,\n        0,\n        0,\n        0,\n        0,\n        1\n      ]);\n  }\n  return null;\n}\n\nexport { defaultValue };\n//# sourceMappingURL=defaultValue.mjs.map\n","function logPrettyShaderError(gl, shader) {\n  const shaderSrc = gl.getShaderSource(shader).split(\"\\n\").map((line, index) => `${index}: ${line}`);\n  const shaderLog = gl.getShaderInfoLog(shader);\n  const splitShader = shaderLog.split(\"\\n\");\n  const dedupe = {};\n  const lineNumbers = splitShader.map((line) => parseFloat(line.replace(/^ERROR\\: 0\\:([\\d]+)\\:.*$/, \"$1\"))).filter((n) => {\n    if (n && !dedupe[n]) {\n      dedupe[n] = true;\n      return true;\n    }\n    return false;\n  });\n  const logArgs = [\"\"];\n  lineNumbers.forEach((number) => {\n    shaderSrc[number - 1] = `%c${shaderSrc[number - 1]}%c`;\n    logArgs.push(\"background: #FF0000; color:#FFFFFF; font-size: 10px\", \"font-size: 10px\");\n  });\n  const fragmentSourceToLog = shaderSrc.join(\"\\n\");\n  logArgs[0] = fragmentSourceToLog;\n  console.error(shaderLog);\n  console.groupCollapsed(\"click to view full shader code\");\n  console.warn(...logArgs);\n  console.groupEnd();\n}\nfunction logProgramError(gl, program, vertexShader, fragmentShader) {\n  if (!gl.getProgramParameter(program, gl.LINK_STATUS)) {\n    if (!gl.getShaderParameter(vertexShader, gl.COMPILE_STATUS)) {\n      logPrettyShaderError(gl, vertexShader);\n    }\n    if (!gl.getShaderParameter(fragmentShader, gl.COMPILE_STATUS)) {\n      logPrettyShaderError(gl, fragmentShader);\n    }\n    console.error(\"PixiJS Error: Could not initialize shader.\");\n    if (gl.getProgramInfoLog(program) !== \"\") {\n      console.warn(\"PixiJS Warning: gl.getProgramInfoLog()\", gl.getProgramInfoLog(program));\n    }\n  }\n}\n\nexport { logProgramError };\n//# sourceMappingURL=logProgramError.mjs.map\n","import './index.mjs';\nimport { uniformParsers } from './uniformParsers.mjs';\nimport { mapSize } from './mapSize.mjs';\n\nfunction uboUpdate(_ud, _uv, _renderer, _syncData, buffer) {\n  _renderer.buffer.update(buffer);\n}\nconst UBO_TO_SINGLE_SETTERS = {\n  float: `\n        data[offset] = v;\n    `,\n  vec2: `\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n    `,\n  vec3: `\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n        data[offset+2] = v[2];\n\n    `,\n  vec4: `\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n        data[offset+2] = v[2];\n        data[offset+3] = v[3];\n    `,\n  mat2: `\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n\n        data[offset+4] = v[2];\n        data[offset+5] = v[3];\n    `,\n  mat3: `\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n        data[offset+2] = v[2];\n\n        data[offset + 4] = v[3];\n        data[offset + 5] = v[4];\n        data[offset + 6] = v[5];\n\n        data[offset + 8] = v[6];\n        data[offset + 9] = v[7];\n        data[offset + 10] = v[8];\n    `,\n  mat4: `\n        for(var i = 0; i < 16; i++)\n        {\n            data[offset + i] = v[i];\n        }\n    `\n};\nconst GLSL_TO_STD40_SIZE = {\n  float: 4,\n  vec2: 8,\n  vec3: 12,\n  vec4: 16,\n  int: 4,\n  ivec2: 8,\n  ivec3: 12,\n  ivec4: 16,\n  uint: 4,\n  uvec2: 8,\n  uvec3: 12,\n  uvec4: 16,\n  bool: 4,\n  bvec2: 8,\n  bvec3: 12,\n  bvec4: 16,\n  mat2: 16 * 2,\n  mat3: 16 * 3,\n  mat4: 16 * 4\n};\nfunction createUBOElements(uniformData) {\n  const uboElements = uniformData.map((data) => ({\n    data,\n    offset: 0,\n    dataLen: 0,\n    dirty: 0\n  }));\n  let size = 0;\n  let chunkSize = 0;\n  let offset = 0;\n  for (let i = 0; i < uboElements.length; i++) {\n    const uboElement = uboElements[i];\n    size = GLSL_TO_STD40_SIZE[uboElement.data.type];\n    if (uboElement.data.size > 1) {\n      size = Math.max(size, 16) * uboElement.data.size;\n    }\n    uboElement.dataLen = size;\n    if (chunkSize % size !== 0 && chunkSize < 16) {\n      const lineUpValue = chunkSize % size % 16;\n      chunkSize += lineUpValue;\n      offset += lineUpValue;\n    }\n    if (chunkSize + size > 16) {\n      offset = Math.ceil(offset / 16) * 16;\n      uboElement.offset = offset;\n      offset += size;\n      chunkSize = size;\n    } else {\n      uboElement.offset = offset;\n      chunkSize += size;\n      offset += size;\n    }\n  }\n  offset = Math.ceil(offset / 16) * 16;\n  return { uboElements, size: offset };\n}\nfunction getUBOData(uniforms, uniformData) {\n  const usedUniformDatas = [];\n  for (const i in uniforms) {\n    if (uniformData[i]) {\n      usedUniformDatas.push(uniformData[i]);\n    }\n  }\n  usedUniformDatas.sort((a, b) => a.index - b.index);\n  return usedUniformDatas;\n}\nfunction generateUniformBufferSync(group, uniformData) {\n  if (!group.autoManage) {\n    return { size: 0, syncFunc: uboUpdate };\n  }\n  const usedUniformDatas = getUBOData(group.uniforms, uniformData);\n  const { uboElements, size } = createUBOElements(usedUniformDatas);\n  const funcFragments = [`\n    var v = null;\n    var v2 = null;\n    var cv = null;\n    var t = 0;\n    var gl = renderer.gl\n    var index = 0;\n    var data = buffer.data;\n    `];\n  for (let i = 0; i < uboElements.length; i++) {\n    const uboElement = uboElements[i];\n    const uniform = group.uniforms[uboElement.data.name];\n    const name = uboElement.data.name;\n    let parsed = false;\n    for (let j = 0; j < uniformParsers.length; j++) {\n      const uniformParser = uniformParsers[j];\n      if (uniformParser.codeUbo && uniformParser.test(uboElement.data, uniform)) {\n        funcFragments.push(`offset = ${uboElement.offset / 4};`, uniformParsers[j].codeUbo(uboElement.data.name, uniform));\n        parsed = true;\n        break;\n      }\n    }\n    if (!parsed) {\n      if (uboElement.data.size > 1) {\n        const size2 = mapSize(uboElement.data.type);\n        const rowSize = Math.max(GLSL_TO_STD40_SIZE[uboElement.data.type] / 16, 1);\n        const elementSize = size2 / rowSize;\n        const remainder = (4 - elementSize % 4) % 4;\n        funcFragments.push(`\n                cv = ud.${name}.value;\n                v = uv.${name};\n                offset = ${uboElement.offset / 4};\n\n                t = 0;\n\n                for(var i=0; i < ${uboElement.data.size * rowSize}; i++)\n                {\n                    for(var j = 0; j < ${elementSize}; j++)\n                    {\n                        data[offset++] = v[t++];\n                    }\n                    offset += ${remainder};\n                }\n\n                `);\n      } else {\n        const template = UBO_TO_SINGLE_SETTERS[uboElement.data.type];\n        funcFragments.push(`\n                cv = ud.${name}.value;\n                v = uv.${name};\n                offset = ${uboElement.offset / 4};\n                ${template};\n                `);\n      }\n    }\n  }\n  funcFragments.push(`\n       renderer.buffer.update(buffer);\n    `);\n  return {\n    size,\n    syncFunc: new Function(\"ud\", \"uv\", \"renderer\", \"syncData\", \"buffer\", funcFragments.join(\"\\n\"))\n  };\n}\n\nexport { createUBOElements, generateUniformBufferSync, getUBOData };\n//# sourceMappingURL=generateUniformBufferSync.mjs.map\n","let unsafeEval;\nfunction unsafeEvalSupported() {\n  if (typeof unsafeEval === \"boolean\") {\n    return unsafeEval;\n  }\n  try {\n    const func = new Function(\"param1\", \"param2\", \"param3\", \"return param1[param2] === param3;\");\n    unsafeEval = func({ a: \"b\" }, \"a\", \"b\") === true;\n  } catch (e) {\n    unsafeEval = false;\n  }\n  return unsafeEval;\n}\n\nexport { unsafeEvalSupported };\n//# sourceMappingURL=unsafeEvalSupported.mjs.map\n","import { ExtensionType, extensions } from '@pixi/extensions';\nimport './utils/index.mjs';\nimport { generateProgram } from './utils/generateProgram.mjs';\nimport { generateUniformBufferSync } from './utils/generateUniformBufferSync.mjs';\nimport { unsafeEvalSupported } from './utils/unsafeEvalSupported.mjs';\nimport { generateUniformsSync } from './utils/generateUniformsSync.mjs';\n\nlet UID = 0;\nconst defaultSyncData = { textureCount: 0, uboCount: 0 };\nclass ShaderSystem {\n  constructor(renderer) {\n    this.destroyed = false;\n    this.renderer = renderer;\n    this.systemCheck();\n    this.gl = null;\n    this.shader = null;\n    this.program = null;\n    this.cache = {};\n    this._uboCache = {};\n    this.id = UID++;\n  }\n  systemCheck() {\n    if (!unsafeEvalSupported()) {\n      throw new Error(\"Current environment does not allow unsafe-eval, please use @pixi/unsafe-eval module to enable support.\");\n    }\n  }\n  contextChange(gl) {\n    this.gl = gl;\n    this.reset();\n  }\n  bind(shader, dontSync) {\n    shader.disposeRunner.add(this);\n    shader.uniforms.globals = this.renderer.globalUniforms;\n    const program = shader.program;\n    const glProgram = program.glPrograms[this.renderer.CONTEXT_UID] || this.generateProgram(shader);\n    this.shader = shader;\n    if (this.program !== program) {\n      this.program = program;\n      this.gl.useProgram(glProgram.program);\n    }\n    if (!dontSync) {\n      defaultSyncData.textureCount = 0;\n      defaultSyncData.uboCount = 0;\n      this.syncUniformGroup(shader.uniformGroup, defaultSyncData);\n    }\n    return glProgram;\n  }\n  setUniforms(uniforms) {\n    const shader = this.shader.program;\n    const glProgram = shader.glPrograms[this.renderer.CONTEXT_UID];\n    shader.syncUniforms(glProgram.uniformData, uniforms, this.renderer);\n  }\n  syncUniformGroup(group, syncData) {\n    const glProgram = this.getGlProgram();\n    if (!group.static || group.dirtyId !== glProgram.uniformDirtyGroups[group.id]) {\n      glProgram.uniformDirtyGroups[group.id] = group.dirtyId;\n      this.syncUniforms(group, glProgram, syncData);\n    }\n  }\n  syncUniforms(group, glProgram, syncData) {\n    const syncFunc = group.syncUniforms[this.shader.program.id] || this.createSyncGroups(group);\n    syncFunc(glProgram.uniformData, group.uniforms, this.renderer, syncData);\n  }\n  createSyncGroups(group) {\n    const id = this.getSignature(group, this.shader.program.uniformData, \"u\");\n    if (!this.cache[id]) {\n      this.cache[id] = generateUniformsSync(group, this.shader.program.uniformData);\n    }\n    group.syncUniforms[this.shader.program.id] = this.cache[id];\n    return group.syncUniforms[this.shader.program.id];\n  }\n  syncUniformBufferGroup(group, name) {\n    const glProgram = this.getGlProgram();\n    if (!group.static || group.dirtyId !== 0 || !glProgram.uniformGroups[group.id]) {\n      group.dirtyId = 0;\n      const syncFunc = glProgram.uniformGroups[group.id] || this.createSyncBufferGroup(group, glProgram, name);\n      group.buffer.update();\n      syncFunc(glProgram.uniformData, group.uniforms, this.renderer, defaultSyncData, group.buffer);\n    }\n    this.renderer.buffer.bindBufferBase(group.buffer, glProgram.uniformBufferBindings[name]);\n  }\n  createSyncBufferGroup(group, glProgram, name) {\n    const { gl } = this.renderer;\n    this.renderer.buffer.bind(group.buffer);\n    const uniformBlockIndex = this.gl.getUniformBlockIndex(glProgram.program, name);\n    glProgram.uniformBufferBindings[name] = this.shader.uniformBindCount;\n    gl.uniformBlockBinding(glProgram.program, uniformBlockIndex, this.shader.uniformBindCount);\n    this.shader.uniformBindCount++;\n    const id = this.getSignature(group, this.shader.program.uniformData, \"ubo\");\n    let uboData = this._uboCache[id];\n    if (!uboData) {\n      uboData = this._uboCache[id] = generateUniformBufferSync(group, this.shader.program.uniformData);\n    }\n    if (group.autoManage) {\n      const data = new Float32Array(uboData.size / 4);\n      group.buffer.update(data);\n    }\n    glProgram.uniformGroups[group.id] = uboData.syncFunc;\n    return glProgram.uniformGroups[group.id];\n  }\n  getSignature(group, uniformData, preFix) {\n    const uniforms = group.uniforms;\n    const strings = [`${preFix}-`];\n    for (const i in uniforms) {\n      strings.push(i);\n      if (uniformData[i]) {\n        strings.push(uniformData[i].type);\n      }\n    }\n    return strings.join(\"-\");\n  }\n  getGlProgram() {\n    if (this.shader) {\n      return this.shader.program.glPrograms[this.renderer.CONTEXT_UID];\n    }\n    return null;\n  }\n  generateProgram(shader) {\n    const gl = this.gl;\n    const program = shader.program;\n    const glProgram = generateProgram(gl, program);\n    program.glPrograms[this.renderer.CONTEXT_UID] = glProgram;\n    return glProgram;\n  }\n  reset() {\n    this.program = null;\n    this.shader = null;\n  }\n  disposeShader(shader) {\n    if (this.shader === shader) {\n      this.shader = null;\n    }\n  }\n  destroy() {\n    this.renderer = null;\n    this.destroyed = true;\n  }\n}\nShaderSystem.extension = {\n  type: ExtensionType.RendererSystem,\n  name: \"shader\"\n};\nextensions.add(ShaderSystem);\n\nexport { ShaderSystem };\n//# sourceMappingURL=ShaderSystem.mjs.map\n","import { GLProgram } from '../GLProgram.mjs';\nimport { compileShader } from './compileShader.mjs';\nimport { defaultValue } from './defaultValue.mjs';\nimport { getAttributeData } from './getAttributeData.mjs';\nimport { getUniformData } from './getUniformData.mjs';\nimport { logProgramError } from './logProgramError.mjs';\n\nfunction generateProgram(gl, program) {\n  const glVertShader = compileShader(gl, gl.VERTEX_SHADER, program.vertexSrc);\n  const glFragShader = compileShader(gl, gl.FRAGMENT_SHADER, program.fragmentSrc);\n  const webGLProgram = gl.createProgram();\n  gl.attachShader(webGLProgram, glVertShader);\n  gl.attachShader(webGLProgram, glFragShader);\n  const transformFeedbackVaryings = program.extra?.transformFeedbackVaryings;\n  if (transformFeedbackVaryings) {\n    if (typeof gl.transformFeedbackVaryings !== \"function\") {\n      console.warn(`TransformFeedback is not supported but TransformFeedbackVaryings are given.`);\n    } else {\n      gl.transformFeedbackVaryings(webGLProgram, transformFeedbackVaryings.names, transformFeedbackVaryings.bufferMode === \"separate\" ? gl.SEPARATE_ATTRIBS : gl.INTERLEAVED_ATTRIBS);\n    }\n  }\n  gl.linkProgram(webGLProgram);\n  if (!gl.getProgramParameter(webGLProgram, gl.LINK_STATUS)) {\n    logProgramError(gl, webGLProgram, glVertShader, glFragShader);\n  }\n  program.attributeData = getAttributeData(webGLProgram, gl);\n  program.uniformData = getUniformData(webGLProgram, gl);\n  if (!/^[ \\t]*#[ \\t]*version[ \\t]+300[ \\t]+es[ \\t]*$/m.test(program.vertexSrc)) {\n    const keys = Object.keys(program.attributeData);\n    keys.sort((a, b) => a > b ? 1 : -1);\n    for (let i = 0; i < keys.length; i++) {\n      program.attributeData[keys[i]].location = i;\n      gl.bindAttribLocation(webGLProgram, i, keys[i]);\n    }\n    gl.linkProgram(webGLProgram);\n  }\n  gl.deleteShader(glVertShader);\n  gl.deleteShader(glFragShader);\n  const uniformData = {};\n  for (const i in program.uniformData) {\n    const data = program.uniformData[i];\n    uniformData[i] = {\n      location: gl.getUniformLocation(webGLProgram, i),\n      value: defaultValue(data.type, data.size)\n    };\n  }\n  const glProgram = new GLProgram(webGLProgram, uniformData);\n  return glProgram;\n}\n\nexport { generateProgram };\n//# sourceMappingURL=generateProgram.mjs.map\n","import { mapSize } from './mapSize.mjs';\nimport { mapType } from './mapType.mjs';\n\nfunction getAttributeData(program, gl) {\n  const attributes = {};\n  const totalAttributes = gl.getProgramParameter(program, gl.ACTIVE_ATTRIBUTES);\n  for (let i = 0; i < totalAttributes; i++) {\n    const attribData = gl.getActiveAttrib(program, i);\n    if (attribData.name.startsWith(\"gl_\")) {\n      continue;\n    }\n    const type = mapType(gl, attribData.type);\n    const data = {\n      type,\n      name: attribData.name,\n      size: mapSize(type),\n      location: gl.getAttribLocation(program, attribData.name)\n    };\n    attributes[attribData.name] = data;\n  }\n  return attributes;\n}\n\nexport { getAttributeData };\n//# sourceMappingURL=getAttributeData.mjs.map\n","import { defaultValue } from './defaultValue.mjs';\nimport { mapType } from './mapType.mjs';\n\nfunction getUniformData(program, gl) {\n  const uniforms = {};\n  const totalUniforms = gl.getProgramParameter(program, gl.ACTIVE_UNIFORMS);\n  for (let i = 0; i < totalUniforms; i++) {\n    const uniformData = gl.getActiveUniform(program, i);\n    const name = uniformData.name.replace(/\\[.*?\\]$/, \"\");\n    const isArray = !!uniformData.name.match(/\\[.*?\\]$/);\n    const type = mapType(gl, uniformData.type);\n    uniforms[name] = {\n      name,\n      index: i,\n      type,\n      size: uniformData.size,\n      isArray,\n      value: defaultValue(type, uniformData.size)\n    };\n  }\n  return uniforms;\n}\n\nexport { getUniformData };\n//# sourceMappingURL=getUniformData.mjs.map\n","import { ExtensionType, extensions } from '@pixi/extensions';\n\nclass StartupSystem {\n  constructor(renderer) {\n    this.renderer = renderer;\n  }\n  run(options) {\n    const { renderer } = this;\n    renderer.runners.init.emit(renderer.options);\n    if (options.hello) {\n      console.log(`PixiJS ${\"7.2.0-beta\"} - ${renderer.rendererLogId} - https://pixijs.com`);\n    }\n    renderer.resize(renderer.screen.width, renderer.screen.height);\n  }\n  destroy() {\n  }\n}\nStartupSystem.defaultOptions = {\n  hello: false\n};\nStartupSystem.extension = {\n  type: [\n    ExtensionType.RendererSystem,\n    ExtensionType.CanvasRendererSystem\n  ],\n  name: \"startup\"\n};\nextensions.add(StartupSystem);\n\nexport { StartupSystem };\n//# sourceMappingURL=StartupSystem.mjs.map\n","import { BLEND_MODES } from '@pixi/constants';\nimport { ExtensionType, extensions } from '@pixi/extensions';\nimport { State } from './State.mjs';\nimport { mapWebGLBlendModesToPixi } from './utils/mapWebGLBlendModesToPixi.mjs';\n\nconst BLEND = 0;\nconst OFFSET = 1;\nconst CULLING = 2;\nconst DEPTH_TEST = 3;\nconst WINDING = 4;\nconst DEPTH_MASK = 5;\nconst _StateSystem = class {\n  constructor() {\n    this.gl = null;\n    this.stateId = 0;\n    this.polygonOffset = 0;\n    this.blendMode = BLEND_MODES.NONE;\n    this._blendEq = false;\n    this.map = [];\n    this.map[BLEND] = this.setBlend;\n    this.map[OFFSET] = this.setOffset;\n    this.map[CULLING] = this.setCullFace;\n    this.map[DEPTH_TEST] = this.setDepthTest;\n    this.map[WINDING] = this.setFrontFace;\n    this.map[DEPTH_MASK] = this.setDepthMask;\n    this.checks = [];\n    this.defaultState = new State();\n    this.defaultState.blend = true;\n  }\n  contextChange(gl) {\n    this.gl = gl;\n    this.blendModes = mapWebGLBlendModesToPixi(gl);\n    this.set(this.defaultState);\n    this.reset();\n  }\n  set(state) {\n    state = state || this.defaultState;\n    if (this.stateId !== state.data) {\n      let diff = this.stateId ^ state.data;\n      let i = 0;\n      while (diff) {\n        if (diff & 1) {\n          this.map[i].call(this, !!(state.data & 1 << i));\n        }\n        diff = diff >> 1;\n        i++;\n      }\n      this.stateId = state.data;\n    }\n    for (let i = 0; i < this.checks.length; i++) {\n      this.checks[i](this, state);\n    }\n  }\n  forceState(state) {\n    state = state || this.defaultState;\n    for (let i = 0; i < this.map.length; i++) {\n      this.map[i].call(this, !!(state.data & 1 << i));\n    }\n    for (let i = 0; i < this.checks.length; i++) {\n      this.checks[i](this, state);\n    }\n    this.stateId = state.data;\n  }\n  setBlend(value) {\n    this.updateCheck(_StateSystem.checkBlendMode, value);\n    this.gl[value ? \"enable\" : \"disable\"](this.gl.BLEND);\n  }\n  setOffset(value) {\n    this.updateCheck(_StateSystem.checkPolygonOffset, value);\n    this.gl[value ? \"enable\" : \"disable\"](this.gl.POLYGON_OFFSET_FILL);\n  }\n  setDepthTest(value) {\n    this.gl[value ? \"enable\" : \"disable\"](this.gl.DEPTH_TEST);\n  }\n  setDepthMask(value) {\n    this.gl.depthMask(value);\n  }\n  setCullFace(value) {\n    this.gl[value ? \"enable\" : \"disable\"](this.gl.CULL_FACE);\n  }\n  setFrontFace(value) {\n    this.gl.frontFace(this.gl[value ? \"CW\" : \"CCW\"]);\n  }\n  setBlendMode(value) {\n    if (value === this.blendMode) {\n      return;\n    }\n    this.blendMode = value;\n    const mode = this.blendModes[value];\n    const gl = this.gl;\n    if (mode.length === 2) {\n      gl.blendFunc(mode[0], mode[1]);\n    } else {\n      gl.blendFuncSeparate(mode[0], mode[1], mode[2], mode[3]);\n    }\n    if (mode.length === 6) {\n      this._blendEq = true;\n      gl.blendEquationSeparate(mode[4], mode[5]);\n    } else if (this._blendEq) {\n      this._blendEq = false;\n      gl.blendEquationSeparate(gl.FUNC_ADD, gl.FUNC_ADD);\n    }\n  }\n  setPolygonOffset(value, scale) {\n    this.gl.polygonOffset(value, scale);\n  }\n  reset() {\n    this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL, false);\n    this.forceState(this.defaultState);\n    this._blendEq = true;\n    this.blendMode = -1;\n    this.setBlendMode(0);\n  }\n  updateCheck(func, value) {\n    const index = this.checks.indexOf(func);\n    if (value && index === -1) {\n      this.checks.push(func);\n    } else if (!value && index !== -1) {\n      this.checks.splice(index, 1);\n    }\n  }\n  static checkBlendMode(system, state) {\n    system.setBlendMode(state.blendMode);\n  }\n  static checkPolygonOffset(system, state) {\n    system.setPolygonOffset(1, state.polygonOffset);\n  }\n  destroy() {\n    this.gl = null;\n  }\n};\nlet StateSystem = _StateSystem;\nStateSystem.extension = {\n  type: ExtensionType.RendererSystem,\n  name: \"state\"\n};\nextensions.add(StateSystem);\n\nexport { StateSystem };\n//# sourceMappingURL=StateSystem.mjs.map\n","import { BLEND_MODES } from '@pixi/constants';\n\nfunction mapWebGLBlendModesToPixi(gl, array = []) {\n  array[BLEND_MODES.NORMAL] = [gl.ONE, gl.ONE_MINUS_SRC_ALPHA];\n  array[BLEND_MODES.ADD] = [gl.ONE, gl.ONE];\n  array[BLEND_MODES.MULTIPLY] = [gl.DST_COLOR, gl.ONE_MINUS_SRC_ALPHA, gl.ONE, gl.ONE_MINUS_SRC_ALPHA];\n  array[BLEND_MODES.SCREEN] = [gl.ONE, gl.ONE_MINUS_SRC_COLOR, gl.ONE, gl.ONE_MINUS_SRC_ALPHA];\n  array[BLEND_MODES.OVERLAY] = [gl.ONE, gl.ONE_MINUS_SRC_ALPHA];\n  array[BLEND_MODES.DARKEN] = [gl.ONE, gl.ONE_MINUS_SRC_ALPHA];\n  array[BLEND_MODES.LIGHTEN] = [gl.ONE, gl.ONE_MINUS_SRC_ALPHA];\n  array[BLEND_MODES.COLOR_DODGE] = [gl.ONE, gl.ONE_MINUS_SRC_ALPHA];\n  array[BLEND_MODES.COLOR_BURN] = [gl.ONE, gl.ONE_MINUS_SRC_ALPHA];\n  array[BLEND_MODES.HARD_LIGHT] = [gl.ONE, gl.ONE_MINUS_SRC_ALPHA];\n  array[BLEND_MODES.SOFT_LIGHT] = [gl.ONE, gl.ONE_MINUS_SRC_ALPHA];\n  array[BLEND_MODES.DIFFERENCE] = [gl.ONE, gl.ONE_MINUS_SRC_ALPHA];\n  array[BLEND_MODES.EXCLUSION] = [gl.ONE, gl.ONE_MINUS_SRC_ALPHA];\n  array[BLEND_MODES.HUE] = [gl.ONE, gl.ONE_MINUS_SRC_ALPHA];\n  array[BLEND_MODES.SATURATION] = [gl.ONE, gl.ONE_MINUS_SRC_ALPHA];\n  array[BLEND_MODES.COLOR] = [gl.ONE, gl.ONE_MINUS_SRC_ALPHA];\n  array[BLEND_MODES.LUMINOSITY] = [gl.ONE, gl.ONE_MINUS_SRC_ALPHA];\n  array[BLEND_MODES.NONE] = [0, 0];\n  array[BLEND_MODES.NORMAL_NPM] = [gl.SRC_ALPHA, gl.ONE_MINUS_SRC_ALPHA, gl.ONE, gl.ONE_MINUS_SRC_ALPHA];\n  array[BLEND_MODES.ADD_NPM] = [gl.SRC_ALPHA, gl.ONE, gl.ONE, gl.ONE];\n  array[BLEND_MODES.SCREEN_NPM] = [gl.SRC_ALPHA, gl.ONE_MINUS_SRC_COLOR, gl.ONE, gl.ONE_MINUS_SRC_ALPHA];\n  array[BLEND_MODES.SRC_IN] = [gl.DST_ALPHA, gl.ZERO];\n  array[BLEND_MODES.SRC_OUT] = [gl.ONE_MINUS_DST_ALPHA, gl.ZERO];\n  array[BLEND_MODES.SRC_ATOP] = [gl.DST_ALPHA, gl.ONE_MINUS_SRC_ALPHA];\n  array[BLEND_MODES.DST_OVER] = [gl.ONE_MINUS_DST_ALPHA, gl.ONE];\n  array[BLEND_MODES.DST_IN] = [gl.ZERO, gl.SRC_ALPHA];\n  array[BLEND_MODES.DST_OUT] = [gl.ZERO, gl.ONE_MINUS_SRC_ALPHA];\n  array[BLEND_MODES.DST_ATOP] = [gl.ONE_MINUS_DST_ALPHA, gl.SRC_ALPHA];\n  array[BLEND_MODES.XOR] = [gl.ONE_MINUS_DST_ALPHA, gl.ONE_MINUS_SRC_ALPHA];\n  array[BLEND_MODES.SUBTRACT] = [gl.ONE, gl.ONE, gl.ONE, gl.ONE, gl.FUNC_REVERSE_SUBTRACT, gl.FUNC_ADD];\n  return array;\n}\n\nexport { mapWebGLBlendModesToPixi };\n//# sourceMappingURL=mapWebGLBlendModesToPixi.mjs.map\n","import { Runner } from '@pixi/runner';\nimport { EventEmitter } from '@pixi/utils';\n\nclass SystemManager extends EventEmitter {\n  constructor() {\n    super(...arguments);\n    this.runners = {};\n    this._systemsHash = {};\n  }\n  setup(config) {\n    this.addRunners(...config.runners);\n    const priority = (config.priority ?? []).filter((key) => config.systems[key]);\n    const orderByPriority = [\n      ...priority,\n      ...Object.keys(config.systems).filter((key) => !priority.includes(key))\n    ];\n    for (const i of orderByPriority) {\n      this.addSystem(config.systems[i], i);\n    }\n  }\n  addRunners(...runnerIds) {\n    runnerIds.forEach((runnerId) => {\n      this.runners[runnerId] = new Runner(runnerId);\n    });\n  }\n  addSystem(ClassRef, name) {\n    const system = new ClassRef(this);\n    if (this[name]) {\n      throw new Error(`Whoops! The name \"${name}\" is already in use`);\n    }\n    this[name] = system;\n    this._systemsHash[name] = system;\n    for (const i in this.runners) {\n      this.runners[i].add(system);\n    }\n    return this;\n  }\n  emitWithCustomOptions(runner, options) {\n    const systemHashKeys = Object.keys(this._systemsHash);\n    runner.items.forEach((system) => {\n      const systemName = systemHashKeys.find((systemId) => this._systemsHash[systemId] === system);\n      system[runner.name](options[systemName]);\n    });\n  }\n  destroy() {\n    Object.values(this.runners).forEach((runner) => {\n      runner.destroy();\n    });\n    this._systemsHash = {};\n  }\n}\n\nexport { SystemManager };\n//# sourceMappingURL=SystemManager.mjs.map\n","import { GC_MODES } from '@pixi/constants';\nimport { ExtensionType, extensions } from '@pixi/extensions';\n\nconst _TextureGCSystem = class {\n  constructor(renderer) {\n    this.renderer = renderer;\n    this.count = 0;\n    this.checkCount = 0;\n    this.maxIdle = _TextureGCSystem.defaultMaxIdle;\n    this.checkCountMax = _TextureGCSystem.defaultCheckCountMax;\n    this.mode = _TextureGCSystem.defaultMode;\n  }\n  postrender() {\n    if (!this.renderer.objectRenderer.renderingToScreen) {\n      return;\n    }\n    this.count++;\n    if (this.mode === GC_MODES.MANUAL) {\n      return;\n    }\n    this.checkCount++;\n    if (this.checkCount > this.checkCountMax) {\n      this.checkCount = 0;\n      this.run();\n    }\n  }\n  run() {\n    const tm = this.renderer.texture;\n    const managedTextures = tm.managedTextures;\n    let wasRemoved = false;\n    for (let i = 0; i < managedTextures.length; i++) {\n      const texture = managedTextures[i];\n      if (!texture.framebuffer && this.count - texture.touched > this.maxIdle) {\n        tm.destroyTexture(texture, true);\n        managedTextures[i] = null;\n        wasRemoved = true;\n      }\n    }\n    if (wasRemoved) {\n      let j = 0;\n      for (let i = 0; i < managedTextures.length; i++) {\n        if (managedTextures[i] !== null) {\n          managedTextures[j++] = managedTextures[i];\n        }\n      }\n      managedTextures.length = j;\n    }\n  }\n  unload(displayObject) {\n    const tm = this.renderer.texture;\n    const texture = displayObject._texture;\n    if (texture && !texture.framebuffer) {\n      tm.destroyTexture(texture);\n    }\n    for (let i = displayObject.children.length - 1; i >= 0; i--) {\n      this.unload(displayObject.children[i]);\n    }\n  }\n  destroy() {\n    this.renderer = null;\n  }\n};\nlet TextureGCSystem = _TextureGCSystem;\nTextureGCSystem.defaultMode = GC_MODES.AUTO;\nTextureGCSystem.defaultMaxIdle = 60 * 60;\nTextureGCSystem.defaultCheckCountMax = 60 * 10;\nTextureGCSystem.extension = {\n  type: ExtensionType.RendererSystem,\n  name: \"textureGC\"\n};\nextensions.add(TextureGCSystem);\n\nexport { TextureGCSystem };\n//# sourceMappingURL=TextureGCSystem.mjs.map\n","import { TYPES, FORMATS } from '@pixi/constants';\n\nclass GLTexture {\n  constructor(texture) {\n    this.texture = texture;\n    this.width = -1;\n    this.height = -1;\n    this.dirtyId = -1;\n    this.dirtyStyleId = -1;\n    this.mipmap = false;\n    this.wrapMode = 33071;\n    this.type = TYPES.UNSIGNED_BYTE;\n    this.internalFormat = FORMATS.RGBA;\n    this.samplerType = 0;\n  }\n}\n\nexport { GLTexture };\n//# sourceMappingURL=GLTexture.mjs.map\n","import { SAMPLER_TYPES, TYPES, MIPMAP_MODES, WRAP_MODES, SCALE_MODES } from '@pixi/constants';\nimport { ExtensionType, extensions } from '@pixi/extensions';\nimport { removeItems } from '@pixi/utils';\nimport { BaseTexture } from './BaseTexture.mjs';\nimport { GLTexture } from './GLTexture.mjs';\nimport { mapTypeAndFormatToInternalFormat } from './utils/mapTypeAndFormatToInternalFormat.mjs';\n\nclass TextureSystem {\n  constructor(renderer) {\n    this.renderer = renderer;\n    this.boundTextures = [];\n    this.currentLocation = -1;\n    this.managedTextures = [];\n    this._unknownBoundTextures = false;\n    this.unknownTexture = new BaseTexture();\n    this.hasIntegerTextures = false;\n  }\n  contextChange() {\n    const gl = this.gl = this.renderer.gl;\n    this.CONTEXT_UID = this.renderer.CONTEXT_UID;\n    this.webGLVersion = this.renderer.context.webGLVersion;\n    this.internalFormats = mapTypeAndFormatToInternalFormat(gl);\n    const maxTextures = gl.getParameter(gl.MAX_TEXTURE_IMAGE_UNITS);\n    this.boundTextures.length = maxTextures;\n    for (let i = 0; i < maxTextures; i++) {\n      this.boundTextures[i] = null;\n    }\n    this.emptyTextures = {};\n    const emptyTexture2D = new GLTexture(gl.createTexture());\n    gl.bindTexture(gl.TEXTURE_2D, emptyTexture2D.texture);\n    gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, 1, 1, 0, gl.RGBA, gl.UNSIGNED_BYTE, new Uint8Array(4));\n    this.emptyTextures[gl.TEXTURE_2D] = emptyTexture2D;\n    this.emptyTextures[gl.TEXTURE_CUBE_MAP] = new GLTexture(gl.createTexture());\n    gl.bindTexture(gl.TEXTURE_CUBE_MAP, this.emptyTextures[gl.TEXTURE_CUBE_MAP].texture);\n    for (let i = 0; i < 6; i++) {\n      gl.texImage2D(gl.TEXTURE_CUBE_MAP_POSITIVE_X + i, 0, gl.RGBA, 1, 1, 0, gl.RGBA, gl.UNSIGNED_BYTE, null);\n    }\n    gl.texParameteri(gl.TEXTURE_CUBE_MAP, gl.TEXTURE_MAG_FILTER, gl.LINEAR);\n    gl.texParameteri(gl.TEXTURE_CUBE_MAP, gl.TEXTURE_MIN_FILTER, gl.LINEAR);\n    for (let i = 0; i < this.boundTextures.length; i++) {\n      this.bind(null, i);\n    }\n  }\n  bind(texture, location = 0) {\n    const { gl } = this;\n    texture = texture?.castToBaseTexture();\n    if (texture?.valid && !texture.parentTextureArray) {\n      texture.touched = this.renderer.textureGC.count;\n      const glTexture = texture._glTextures[this.CONTEXT_UID] || this.initTexture(texture);\n      if (this.boundTextures[location] !== texture) {\n        if (this.currentLocation !== location) {\n          this.currentLocation = location;\n          gl.activeTexture(gl.TEXTURE0 + location);\n        }\n        gl.bindTexture(texture.target, glTexture.texture);\n      }\n      if (glTexture.dirtyId !== texture.dirtyId) {\n        if (this.currentLocation !== location) {\n          this.currentLocation = location;\n          gl.activeTexture(gl.TEXTURE0 + location);\n        }\n        this.updateTexture(texture);\n      } else if (glTexture.dirtyStyleId !== texture.dirtyStyleId) {\n        this.updateTextureStyle(texture);\n      }\n      this.boundTextures[location] = texture;\n    } else {\n      if (this.currentLocation !== location) {\n        this.currentLocation = location;\n        gl.activeTexture(gl.TEXTURE0 + location);\n      }\n      gl.bindTexture(gl.TEXTURE_2D, this.emptyTextures[gl.TEXTURE_2D].texture);\n      this.boundTextures[location] = null;\n    }\n  }\n  reset() {\n    this._unknownBoundTextures = true;\n    this.hasIntegerTextures = false;\n    this.currentLocation = -1;\n    for (let i = 0; i < this.boundTextures.length; i++) {\n      this.boundTextures[i] = this.unknownTexture;\n    }\n  }\n  unbind(texture) {\n    const { gl, boundTextures } = this;\n    if (this._unknownBoundTextures) {\n      this._unknownBoundTextures = false;\n      for (let i = 0; i < boundTextures.length; i++) {\n        if (boundTextures[i] === this.unknownTexture) {\n          this.bind(null, i);\n        }\n      }\n    }\n    for (let i = 0; i < boundTextures.length; i++) {\n      if (boundTextures[i] === texture) {\n        if (this.currentLocation !== i) {\n          gl.activeTexture(gl.TEXTURE0 + i);\n          this.currentLocation = i;\n        }\n        gl.bindTexture(texture.target, this.emptyTextures[texture.target].texture);\n        boundTextures[i] = null;\n      }\n    }\n  }\n  ensureSamplerType(maxTextures) {\n    const { boundTextures, hasIntegerTextures, CONTEXT_UID } = this;\n    if (!hasIntegerTextures) {\n      return;\n    }\n    for (let i = maxTextures - 1; i >= 0; --i) {\n      const tex = boundTextures[i];\n      if (tex) {\n        const glTexture = tex._glTextures[CONTEXT_UID];\n        if (glTexture.samplerType !== SAMPLER_TYPES.FLOAT) {\n          this.renderer.texture.unbind(tex);\n        }\n      }\n    }\n  }\n  initTexture(texture) {\n    const glTexture = new GLTexture(this.gl.createTexture());\n    glTexture.dirtyId = -1;\n    texture._glTextures[this.CONTEXT_UID] = glTexture;\n    this.managedTextures.push(texture);\n    texture.on(\"dispose\", this.destroyTexture, this);\n    return glTexture;\n  }\n  initTextureType(texture, glTexture) {\n    glTexture.internalFormat = this.internalFormats[texture.type]?.[texture.format] ?? texture.format;\n    if (this.webGLVersion === 2 && texture.type === TYPES.HALF_FLOAT) {\n      glTexture.type = this.gl.HALF_FLOAT;\n    } else {\n      glTexture.type = texture.type;\n    }\n  }\n  updateTexture(texture) {\n    const glTexture = texture._glTextures[this.CONTEXT_UID];\n    if (!glTexture) {\n      return;\n    }\n    const renderer = this.renderer;\n    this.initTextureType(texture, glTexture);\n    if (texture.resource?.upload(renderer, texture, glTexture)) {\n      if (glTexture.samplerType !== SAMPLER_TYPES.FLOAT) {\n        this.hasIntegerTextures = true;\n      }\n    } else {\n      const width = texture.realWidth;\n      const height = texture.realHeight;\n      const gl = renderer.gl;\n      if (glTexture.width !== width || glTexture.height !== height || glTexture.dirtyId < 0) {\n        glTexture.width = width;\n        glTexture.height = height;\n        gl.texImage2D(texture.target, 0, glTexture.internalFormat, width, height, 0, texture.format, glTexture.type, null);\n      }\n    }\n    if (texture.dirtyStyleId !== glTexture.dirtyStyleId) {\n      this.updateTextureStyle(texture);\n    }\n    glTexture.dirtyId = texture.dirtyId;\n  }\n  destroyTexture(texture, skipRemove) {\n    const { gl } = this;\n    texture = texture.castToBaseTexture();\n    if (texture._glTextures[this.CONTEXT_UID]) {\n      this.unbind(texture);\n      gl.deleteTexture(texture._glTextures[this.CONTEXT_UID].texture);\n      texture.off(\"dispose\", this.destroyTexture, this);\n      delete texture._glTextures[this.CONTEXT_UID];\n      if (!skipRemove) {\n        const i = this.managedTextures.indexOf(texture);\n        if (i !== -1) {\n          removeItems(this.managedTextures, i, 1);\n        }\n      }\n    }\n  }\n  updateTextureStyle(texture) {\n    const glTexture = texture._glTextures[this.CONTEXT_UID];\n    if (!glTexture) {\n      return;\n    }\n    if ((texture.mipmap === MIPMAP_MODES.POW2 || this.webGLVersion !== 2) && !texture.isPowerOfTwo) {\n      glTexture.mipmap = false;\n    } else {\n      glTexture.mipmap = texture.mipmap >= 1;\n    }\n    if (this.webGLVersion !== 2 && !texture.isPowerOfTwo) {\n      glTexture.wrapMode = WRAP_MODES.CLAMP;\n    } else {\n      glTexture.wrapMode = texture.wrapMode;\n    }\n    if (texture.resource?.style(this.renderer, texture, glTexture)) {\n    } else {\n      this.setStyle(texture, glTexture);\n    }\n    glTexture.dirtyStyleId = texture.dirtyStyleId;\n  }\n  setStyle(texture, glTexture) {\n    const gl = this.gl;\n    if (glTexture.mipmap && texture.mipmap !== MIPMAP_MODES.ON_MANUAL) {\n      gl.generateMipmap(texture.target);\n    }\n    gl.texParameteri(texture.target, gl.TEXTURE_WRAP_S, glTexture.wrapMode);\n    gl.texParameteri(texture.target, gl.TEXTURE_WRAP_T, glTexture.wrapMode);\n    if (glTexture.mipmap) {\n      gl.texParameteri(texture.target, gl.TEXTURE_MIN_FILTER, texture.scaleMode === SCALE_MODES.LINEAR ? gl.LINEAR_MIPMAP_LINEAR : gl.NEAREST_MIPMAP_NEAREST);\n      const anisotropicExt = this.renderer.context.extensions.anisotropicFiltering;\n      if (anisotropicExt && texture.anisotropicLevel > 0 && texture.scaleMode === SCALE_MODES.LINEAR) {\n        const level = Math.min(texture.anisotropicLevel, gl.getParameter(anisotropicExt.MAX_TEXTURE_MAX_ANISOTROPY_EXT));\n        gl.texParameterf(texture.target, anisotropicExt.TEXTURE_MAX_ANISOTROPY_EXT, level);\n      }\n    } else {\n      gl.texParameteri(texture.target, gl.TEXTURE_MIN_FILTER, texture.scaleMode === SCALE_MODES.LINEAR ? gl.LINEAR : gl.NEAREST);\n    }\n    gl.texParameteri(texture.target, gl.TEXTURE_MAG_FILTER, texture.scaleMode === SCALE_MODES.LINEAR ? gl.LINEAR : gl.NEAREST);\n  }\n  destroy() {\n    this.renderer = null;\n  }\n}\nTextureSystem.extension = {\n  type: ExtensionType.RendererSystem,\n  name: \"texture\"\n};\nextensions.add(TextureSystem);\n\nexport { TextureSystem };\n//# sourceMappingURL=TextureSystem.mjs.map\n","import { TYPES, FORMATS } from '@pixi/constants';\n\nfunction mapTypeAndFormatToInternalFormat(gl) {\n  let table;\n  if (\"WebGL2RenderingContext\" in globalThis && gl instanceof globalThis.WebGL2RenderingContext) {\n    table = {\n      [TYPES.UNSIGNED_BYTE]: {\n        [FORMATS.RGBA]: gl.RGBA8,\n        [FORMATS.RGB]: gl.RGB8,\n        [FORMATS.RG]: gl.RG8,\n        [FORMATS.RED]: gl.R8,\n        [FORMATS.RGBA_INTEGER]: gl.RGBA8UI,\n        [FORMATS.RGB_INTEGER]: gl.RGB8UI,\n        [FORMATS.RG_INTEGER]: gl.RG8UI,\n        [FORMATS.RED_INTEGER]: gl.R8UI,\n        [FORMATS.ALPHA]: gl.ALPHA,\n        [FORMATS.LUMINANCE]: gl.LUMINANCE,\n        [FORMATS.LUMINANCE_ALPHA]: gl.LUMINANCE_ALPHA\n      },\n      [TYPES.BYTE]: {\n        [FORMATS.RGBA]: gl.RGBA8_SNORM,\n        [FORMATS.RGB]: gl.RGB8_SNORM,\n        [FORMATS.RG]: gl.RG8_SNORM,\n        [FORMATS.RED]: gl.R8_SNORM,\n        [FORMATS.RGBA_INTEGER]: gl.RGBA8I,\n        [FORMATS.RGB_INTEGER]: gl.RGB8I,\n        [FORMATS.RG_INTEGER]: gl.RG8I,\n        [FORMATS.RED_INTEGER]: gl.R8I\n      },\n      [TYPES.UNSIGNED_SHORT]: {\n        [FORMATS.RGBA_INTEGER]: gl.RGBA16UI,\n        [FORMATS.RGB_INTEGER]: gl.RGB16UI,\n        [FORMATS.RG_INTEGER]: gl.RG16UI,\n        [FORMATS.RED_INTEGER]: gl.R16UI,\n        [FORMATS.DEPTH_COMPONENT]: gl.DEPTH_COMPONENT16\n      },\n      [TYPES.SHORT]: {\n        [FORMATS.RGBA_INTEGER]: gl.RGBA16I,\n        [FORMATS.RGB_INTEGER]: gl.RGB16I,\n        [FORMATS.RG_INTEGER]: gl.RG16I,\n        [FORMATS.RED_INTEGER]: gl.R16I\n      },\n      [TYPES.UNSIGNED_INT]: {\n        [FORMATS.RGBA_INTEGER]: gl.RGBA32UI,\n        [FORMATS.RGB_INTEGER]: gl.RGB32UI,\n        [FORMATS.RG_INTEGER]: gl.RG32UI,\n        [FORMATS.RED_INTEGER]: gl.R32UI,\n        [FORMATS.DEPTH_COMPONENT]: gl.DEPTH_COMPONENT24\n      },\n      [TYPES.INT]: {\n        [FORMATS.RGBA_INTEGER]: gl.RGBA32I,\n        [FORMATS.RGB_INTEGER]: gl.RGB32I,\n        [FORMATS.RG_INTEGER]: gl.RG32I,\n        [FORMATS.RED_INTEGER]: gl.R32I\n      },\n      [TYPES.FLOAT]: {\n        [FORMATS.RGBA]: gl.RGBA32F,\n        [FORMATS.RGB]: gl.RGB32F,\n        [FORMATS.RG]: gl.RG32F,\n        [FORMATS.RED]: gl.R32F,\n        [FORMATS.DEPTH_COMPONENT]: gl.DEPTH_COMPONENT32F\n      },\n      [TYPES.HALF_FLOAT]: {\n        [FORMATS.RGBA]: gl.RGBA16F,\n        [FORMATS.RGB]: gl.RGB16F,\n        [FORMATS.RG]: gl.RG16F,\n        [FORMATS.RED]: gl.R16F\n      },\n      [TYPES.UNSIGNED_SHORT_5_6_5]: {\n        [FORMATS.RGB]: gl.RGB565\n      },\n      [TYPES.UNSIGNED_SHORT_4_4_4_4]: {\n        [FORMATS.RGBA]: gl.RGBA4\n      },\n      [TYPES.UNSIGNED_SHORT_5_5_5_1]: {\n        [FORMATS.RGBA]: gl.RGB5_A1\n      },\n      [TYPES.UNSIGNED_INT_2_10_10_10_REV]: {\n        [FORMATS.RGBA]: gl.RGB10_A2,\n        [FORMATS.RGBA_INTEGER]: gl.RGB10_A2UI\n      },\n      [TYPES.UNSIGNED_INT_10F_11F_11F_REV]: {\n        [FORMATS.RGB]: gl.R11F_G11F_B10F\n      },\n      [TYPES.UNSIGNED_INT_5_9_9_9_REV]: {\n        [FORMATS.RGB]: gl.RGB9_E5\n      },\n      [TYPES.UNSIGNED_INT_24_8]: {\n        [FORMATS.DEPTH_STENCIL]: gl.DEPTH24_STENCIL8\n      },\n      [TYPES.FLOAT_32_UNSIGNED_INT_24_8_REV]: {\n        [FORMATS.DEPTH_STENCIL]: gl.DEPTH32F_STENCIL8\n      }\n    };\n  } else {\n    table = {\n      [TYPES.UNSIGNED_BYTE]: {\n        [FORMATS.RGBA]: gl.RGBA,\n        [FORMATS.RGB]: gl.RGB,\n        [FORMATS.ALPHA]: gl.ALPHA,\n        [FORMATS.LUMINANCE]: gl.LUMINANCE,\n        [FORMATS.LUMINANCE_ALPHA]: gl.LUMINANCE_ALPHA\n      },\n      [TYPES.UNSIGNED_SHORT_5_6_5]: {\n        [FORMATS.RGB]: gl.RGB\n      },\n      [TYPES.UNSIGNED_SHORT_4_4_4_4]: {\n        [FORMATS.RGBA]: gl.RGBA\n      },\n      [TYPES.UNSIGNED_SHORT_5_5_5_1]: {\n        [FORMATS.RGBA]: gl.RGBA\n      }\n    };\n  }\n  return table;\n}\n\nexport { mapTypeAndFormatToInternalFormat };\n//# sourceMappingURL=mapTypeAndFormatToInternalFormat.mjs.map\n","import { ExtensionType, extensions } from '@pixi/extensions';\n\nclass TransformFeedbackSystem {\n  constructor(renderer) {\n    this.renderer = renderer;\n  }\n  contextChange() {\n    this.gl = this.renderer.gl;\n    this.CONTEXT_UID = this.renderer.CONTEXT_UID;\n  }\n  bind(transformFeedback) {\n    const { gl, CONTEXT_UID } = this;\n    const glTransformFeedback = transformFeedback._glTransformFeedbacks[CONTEXT_UID] || this.createGLTransformFeedback(transformFeedback);\n    gl.bindTransformFeedback(gl.TRANSFORM_FEEDBACK, glTransformFeedback);\n  }\n  unbind() {\n    const { gl } = this;\n    gl.bindTransformFeedback(gl.TRANSFORM_FEEDBACK, null);\n  }\n  beginTransformFeedback(drawMode, shader) {\n    const { gl, renderer } = this;\n    if (shader) {\n      renderer.shader.bind(shader);\n    }\n    gl.beginTransformFeedback(drawMode);\n  }\n  endTransformFeedback() {\n    const { gl } = this;\n    gl.endTransformFeedback();\n  }\n  createGLTransformFeedback(tf) {\n    const { gl, renderer, CONTEXT_UID } = this;\n    const glTransformFeedback = gl.createTransformFeedback();\n    tf._glTransformFeedbacks[CONTEXT_UID] = glTransformFeedback;\n    gl.bindTransformFeedback(gl.TRANSFORM_FEEDBACK, glTransformFeedback);\n    for (let i = 0; i < tf.buffers.length; i++) {\n      const buffer = tf.buffers[i];\n      if (!buffer)\n        continue;\n      renderer.buffer.update(buffer);\n      buffer._glBuffers[CONTEXT_UID].refCount++;\n      gl.bindBufferBase(gl.TRANSFORM_FEEDBACK_BUFFER, i, buffer._glBuffers[CONTEXT_UID].buffer || null);\n    }\n    gl.bindTransformFeedback(gl.TRANSFORM_FEEDBACK, null);\n    tf.disposeRunner.add(this);\n    return glTransformFeedback;\n  }\n  disposeTransformFeedback(tf, contextLost) {\n    const glTF = tf._glTransformFeedbacks[this.CONTEXT_UID];\n    const gl = this.gl;\n    tf.disposeRunner.remove(this);\n    const bufferSystem = this.renderer.buffer;\n    if (bufferSystem) {\n      for (let i = 0; i < tf.buffers.length; i++) {\n        const buffer = tf.buffers[i];\n        if (!buffer)\n          continue;\n        const buf = buffer._glBuffers[this.CONTEXT_UID];\n        if (buf) {\n          buf.refCount--;\n          if (buf.refCount === 0 && !contextLost) {\n            bufferSystem.dispose(buffer, contextLost);\n          }\n        }\n      }\n    }\n    if (!glTF) {\n      return;\n    }\n    if (!contextLost) {\n      gl.deleteTransformFeedback(glTF);\n    }\n    delete tf._glTransformFeedbacks[this.CONTEXT_UID];\n  }\n  destroy() {\n    this.renderer = null;\n  }\n}\nTransformFeedbackSystem.extension = {\n  type: ExtensionType.RendererSystem,\n  name: \"transformFeedback\"\n};\nextensions.add(TransformFeedbackSystem);\n\nexport { TransformFeedbackSystem };\n//# sourceMappingURL=TransformFeedbackSystem.mjs.map\n","import { ExtensionType, extensions } from '@pixi/extensions';\nimport { Rectangle } from '@pixi/math';\nimport { settings } from '@pixi/settings';\n\nclass ViewSystem {\n  constructor(renderer) {\n    this.renderer = renderer;\n  }\n  init(options) {\n    this.screen = new Rectangle(0, 0, options.width, options.height);\n    this.element = options.view || settings.ADAPTER.createCanvas();\n    this.resolution = options.resolution || settings.RESOLUTION;\n    this.autoDensity = !!options.autoDensity;\n  }\n  resizeView(desiredScreenWidth, desiredScreenHeight) {\n    this.element.width = Math.round(desiredScreenWidth * this.resolution);\n    this.element.height = Math.round(desiredScreenHeight * this.resolution);\n    const screenWidth = this.element.width / this.resolution;\n    const screenHeight = this.element.height / this.resolution;\n    this.screen.width = screenWidth;\n    this.screen.height = screenHeight;\n    if (this.autoDensity) {\n      this.element.style.width = `${screenWidth}px`;\n      this.element.style.height = `${screenHeight}px`;\n    }\n    this.renderer.emit(\"resize\", screenWidth, screenHeight);\n    this.renderer.runners.resize.emit(this.screen.width, this.screen.height);\n  }\n  destroy(removeView) {\n    if (removeView) {\n      this.element.parentNode?.removeChild(this.element);\n    }\n    this.renderer = null;\n    this.element = null;\n    this.screen = null;\n  }\n}\nViewSystem.defaultOptions = {\n  width: 800,\n  height: 600,\n  resolution: settings.RESOLUTION,\n  autoDensity: false\n};\nViewSystem.extension = {\n  type: [\n    ExtensionType.RendererSystem,\n    ExtensionType.CanvasRendererSystem\n  ],\n  name: \"_view\"\n};\nextensions.add(ViewSystem);\n\nexport { ViewSystem };\n//# sourceMappingURL=ViewSystem.mjs.map\n","import { ENV } from '@pixi/constants';\nimport { settings } from '@pixi/settings';\nimport { deprecation } from '@pixi/utils';\nimport { BatchRenderer } from './batch/BatchRenderer.mjs';\nimport { Filter } from './filters/Filter.mjs';\nimport { Program } from './shader/Program.mjs';\nimport './systems.mjs';\nimport { BaseTexture } from './textures/BaseTexture.mjs';\nimport { ContextSystem } from './context/ContextSystem.mjs';\nimport { BackgroundSystem } from './background/BackgroundSystem.mjs';\nimport { ViewSystem } from './view/ViewSystem.mjs';\nimport { StartupSystem } from './startup/StartupSystem.mjs';\nimport { TextureGCSystem } from './textures/TextureGCSystem.mjs';\n\nsettings.PREFER_ENV = ENV.WEBGL2;\nsettings.STRICT_TEXTURE_CACHE = false;\nsettings.RENDER_OPTIONS = {\n  ...ContextSystem.defaultOptions,\n  ...BackgroundSystem.defaultOptions,\n  ...ViewSystem.defaultOptions,\n  ...StartupSystem.defaultOptions\n};\nObject.defineProperties(settings, {\n  WRAP_MODE: {\n    get() {\n      return BaseTexture.defaultOptions.wrapMode;\n    },\n    set(value) {\n      deprecation(\"7.1.0\", \"settings.WRAP_MODE is deprecated, use BaseTexture.defaultOptions.wrapMode\");\n      BaseTexture.defaultOptions.wrapMode = value;\n    }\n  },\n  SCALE_MODE: {\n    get() {\n      return BaseTexture.defaultOptions.scaleMode;\n    },\n    set(value) {\n      deprecation(\"7.1.0\", \"settings.SCALE_MODE is deprecated, use BaseTexture.defaultOptions.scaleMode\");\n      BaseTexture.defaultOptions.scaleMode = value;\n    }\n  },\n  MIPMAP_TEXTURES: {\n    get() {\n      return BaseTexture.defaultOptions.mipmap;\n    },\n    set(value) {\n      deprecation(\"7.1.0\", \"settings.MIPMAP_TEXTURES is deprecated, use BaseTexture.defaultOptions.mipmap\");\n      BaseTexture.defaultOptions.mipmap = value;\n    }\n  },\n  ANISOTROPIC_LEVEL: {\n    get() {\n      return BaseTexture.defaultOptions.anisotropicLevel;\n    },\n    set(value) {\n      deprecation(\"7.1.0\", \"settings.ANISOTROPIC_LEVEL is deprecated, use BaseTexture.defaultOptions.anisotropicLevel\");\n      BaseTexture.defaultOptions.anisotropicLevel = value;\n    }\n  },\n  FILTER_RESOLUTION: {\n    get() {\n      deprecation(\"7.1.0\", \"settings.FILTER_RESOLUTION is deprecated, use Filter.defaultResolution\");\n      return Filter.defaultResolution;\n    },\n    set(value) {\n      Filter.defaultResolution = value;\n    }\n  },\n  FILTER_MULTISAMPLE: {\n    get() {\n      deprecation(\"7.1.0\", \"settings.FILTER_MULTISAMPLE is deprecated, use Filter.defaultMultisample\");\n      return Filter.defaultMultisample;\n    },\n    set(value) {\n      Filter.defaultMultisample = value;\n    }\n  },\n  SPRITE_MAX_TEXTURES: {\n    get() {\n      return BatchRenderer.defaultMaxTextures;\n    },\n    set(value) {\n      deprecation(\"7.1.0\", \"settings.SPRITE_MAX_TEXTURES is deprecated, use BatchRenderer.defaultMaxTextures\");\n      BatchRenderer.defaultMaxTextures = value;\n    }\n  },\n  SPRITE_BATCH_SIZE: {\n    get() {\n      return BatchRenderer.defaultBatchSize;\n    },\n    set(value) {\n      deprecation(\"7.1.0\", \"settings.SPRITE_BATCH_SIZE is deprecated, use BatchRenderer.defaultBatchSize\");\n      BatchRenderer.defaultBatchSize = value;\n    }\n  },\n  CAN_UPLOAD_SAME_BUFFER: {\n    get() {\n      return BatchRenderer.canUploadSameBuffer;\n    },\n    set(value) {\n      deprecation(\"7.1.0\", \"settings.CAN_UPLOAD_SAME_BUFFER is deprecated, use BatchRenderer.canUploadSameBuffer\");\n      BatchRenderer.canUploadSameBuffer = value;\n    }\n  },\n  GC_MODE: {\n    get() {\n      return TextureGCSystem.defaultMode;\n    },\n    set(value) {\n      deprecation(\"7.1.0\", \"settings.GC_MODE is deprecated, use TextureGCSystem.defaultMode\");\n      TextureGCSystem.defaultMode = value;\n    }\n  },\n  GC_MAX_IDLE: {\n    get() {\n      return TextureGCSystem.defaultMaxIdle;\n    },\n    set(value) {\n      deprecation(\"7.1.0\", \"settings.GC_MAX_IDLE is deprecated, use TextureGCSystem.defaultMaxIdle\");\n      TextureGCSystem.defaultMaxIdle = value;\n    }\n  },\n  GC_MAX_CHECK_COUNT: {\n    get() {\n      return TextureGCSystem.defaultCheckCountMax;\n    },\n    set(value) {\n      deprecation(\"7.1.0\", \"settings.GC_MAX_CHECK_COUNT is deprecated, use TextureGCSystem.defaultCheckCountMax\");\n      TextureGCSystem.defaultCheckCountMax = value;\n    }\n  },\n  PRECISION_VERTEX: {\n    get() {\n      return Program.defaultVertexPrecision;\n    },\n    set(value) {\n      deprecation(\"7.1.0\", \"settings.PRECISION_VERTEX is deprecated, use Program.defaultVertexPrecision\");\n      Program.defaultVertexPrecision = value;\n    }\n  },\n  PRECISION_FRAGMENT: {\n    get() {\n      return Program.defaultFragmentPrecision;\n    },\n    set(value) {\n      deprecation(\"7.1.0\", \"settings.PRECISION_FRAGMENT is deprecated, use Program.defaultFragmentPrecision\");\n      Program.defaultFragmentPrecision = value;\n    }\n  }\n});\n//# sourceMappingURL=settings.mjs.map\n","var UPDATE_PRIORITY = /* @__PURE__ */ ((UPDATE_PRIORITY2) => {\n  UPDATE_PRIORITY2[UPDATE_PRIORITY2[\"INTERACTION\"] = 50] = \"INTERACTION\";\n  UPDATE_PRIORITY2[UPDATE_PRIORITY2[\"HIGH\"] = 25] = \"HIGH\";\n  UPDATE_PRIORITY2[UPDATE_PRIORITY2[\"NORMAL\"] = 0] = \"NORMAL\";\n  UPDATE_PRIORITY2[UPDATE_PRIORITY2[\"LOW\"] = -25] = \"LOW\";\n  UPDATE_PRIORITY2[UPDATE_PRIORITY2[\"UTILITY\"] = -50] = \"UTILITY\";\n  return UPDATE_PRIORITY2;\n})(UPDATE_PRIORITY || {});\n\nexport { UPDATE_PRIORITY };\n//# sourceMappingURL=const.mjs.map\n","class TickerListener {\n  constructor(fn, context = null, priority = 0, once = false) {\n    this.next = null;\n    this.previous = null;\n    this._destroyed = false;\n    this.fn = fn;\n    this.context = context;\n    this.priority = priority;\n    this.once = once;\n  }\n  match(fn, context = null) {\n    return this.fn === fn && this.context === context;\n  }\n  emit(deltaTime) {\n    if (this.fn) {\n      if (this.context) {\n        this.fn.call(this.context, deltaTime);\n      } else {\n        this.fn(deltaTime);\n      }\n    }\n    const redirect = this.next;\n    if (this.once) {\n      this.destroy(true);\n    }\n    if (this._destroyed) {\n      this.next = null;\n    }\n    return redirect;\n  }\n  connect(previous) {\n    this.previous = previous;\n    if (previous.next) {\n      previous.next.previous = this;\n    }\n    this.next = previous.next;\n    previous.next = this;\n  }\n  destroy(hard = false) {\n    this._destroyed = true;\n    this.fn = null;\n    this.context = null;\n    if (this.previous) {\n      this.previous.next = this.next;\n    }\n    if (this.next) {\n      this.next.previous = this.previous;\n    }\n    const redirect = this.next;\n    this.next = hard ? null : redirect;\n    this.previous = null;\n    return redirect;\n  }\n}\n\nexport { TickerListener };\n//# sourceMappingURL=TickerListener.mjs.map\n","import { UPDATE_PRIORITY } from './const.mjs';\nimport { TickerListener } from './TickerListener.mjs';\n\nconst _Ticker = class {\n  constructor() {\n    this.autoStart = false;\n    this.deltaTime = 1;\n    this.lastTime = -1;\n    this.speed = 1;\n    this.started = false;\n    this._requestId = null;\n    this._maxElapsedMS = 100;\n    this._minElapsedMS = 0;\n    this._protected = false;\n    this._lastFrame = -1;\n    this._head = new TickerListener(null, null, Infinity);\n    this.deltaMS = 1 / _Ticker.targetFPMS;\n    this.elapsedMS = 1 / _Ticker.targetFPMS;\n    this._tick = (time) => {\n      this._requestId = null;\n      if (this.started) {\n        this.update(time);\n        if (this.started && this._requestId === null && this._head.next) {\n          this._requestId = requestAnimationFrame(this._tick);\n        }\n      }\n    };\n  }\n  _requestIfNeeded() {\n    if (this._requestId === null && this._head.next) {\n      this.lastTime = performance.now();\n      this._lastFrame = this.lastTime;\n      this._requestId = requestAnimationFrame(this._tick);\n    }\n  }\n  _cancelIfNeeded() {\n    if (this._requestId !== null) {\n      cancelAnimationFrame(this._requestId);\n      this._requestId = null;\n    }\n  }\n  _startIfPossible() {\n    if (this.started) {\n      this._requestIfNeeded();\n    } else if (this.autoStart) {\n      this.start();\n    }\n  }\n  add(fn, context, priority = UPDATE_PRIORITY.NORMAL) {\n    return this._addListener(new TickerListener(fn, context, priority));\n  }\n  addOnce(fn, context, priority = UPDATE_PRIORITY.NORMAL) {\n    return this._addListener(new TickerListener(fn, context, priority, true));\n  }\n  _addListener(listener) {\n    let current = this._head.next;\n    let previous = this._head;\n    if (!current) {\n      listener.connect(previous);\n    } else {\n      while (current) {\n        if (listener.priority > current.priority) {\n          listener.connect(previous);\n          break;\n        }\n        previous = current;\n        current = current.next;\n      }\n      if (!listener.previous) {\n        listener.connect(previous);\n      }\n    }\n    this._startIfPossible();\n    return this;\n  }\n  remove(fn, context) {\n    let listener = this._head.next;\n    while (listener) {\n      if (listener.match(fn, context)) {\n        listener = listener.destroy();\n      } else {\n        listener = listener.next;\n      }\n    }\n    if (!this._head.next) {\n      this._cancelIfNeeded();\n    }\n    return this;\n  }\n  get count() {\n    if (!this._head) {\n      return 0;\n    }\n    let count = 0;\n    let current = this._head;\n    while (current = current.next) {\n      count++;\n    }\n    return count;\n  }\n  start() {\n    if (!this.started) {\n      this.started = true;\n      this._requestIfNeeded();\n    }\n  }\n  stop() {\n    if (this.started) {\n      this.started = false;\n      this._cancelIfNeeded();\n    }\n  }\n  destroy() {\n    if (!this._protected) {\n      this.stop();\n      let listener = this._head.next;\n      while (listener) {\n        listener = listener.destroy(true);\n      }\n      this._head.destroy();\n      this._head = null;\n    }\n  }\n  update(currentTime = performance.now()) {\n    let elapsedMS;\n    if (currentTime > this.lastTime) {\n      elapsedMS = this.elapsedMS = currentTime - this.lastTime;\n      if (elapsedMS > this._maxElapsedMS) {\n        elapsedMS = this._maxElapsedMS;\n      }\n      elapsedMS *= this.speed;\n      if (this._minElapsedMS) {\n        const delta = currentTime - this._lastFrame | 0;\n        if (delta < this._minElapsedMS) {\n          return;\n        }\n        this._lastFrame = currentTime - delta % this._minElapsedMS;\n      }\n      this.deltaMS = elapsedMS;\n      this.deltaTime = this.deltaMS * _Ticker.targetFPMS;\n      const head = this._head;\n      let listener = head.next;\n      while (listener) {\n        listener = listener.emit(this.deltaTime);\n      }\n      if (!head.next) {\n        this._cancelIfNeeded();\n      }\n    } else {\n      this.deltaTime = this.deltaMS = this.elapsedMS = 0;\n    }\n    this.lastTime = currentTime;\n  }\n  get FPS() {\n    return 1e3 / this.elapsedMS;\n  }\n  get minFPS() {\n    return 1e3 / this._maxElapsedMS;\n  }\n  set minFPS(fps) {\n    const minFPS = Math.min(this.maxFPS, fps);\n    const minFPMS = Math.min(Math.max(0, minFPS) / 1e3, _Ticker.targetFPMS);\n    this._maxElapsedMS = 1 / minFPMS;\n  }\n  get maxFPS() {\n    if (this._minElapsedMS) {\n      return Math.round(1e3 / this._minElapsedMS);\n    }\n    return 0;\n  }\n  set maxFPS(fps) {\n    if (fps === 0) {\n      this._minElapsedMS = 0;\n    } else {\n      const maxFPS = Math.max(this.minFPS, fps);\n      this._minElapsedMS = 1 / (maxFPS / 1e3);\n    }\n  }\n  static get shared() {\n    if (!_Ticker._shared) {\n      const shared = _Ticker._shared = new _Ticker();\n      shared.autoStart = true;\n      shared._protected = true;\n    }\n    return _Ticker._shared;\n  }\n  static get system() {\n    if (!_Ticker._system) {\n      const system = _Ticker._system = new _Ticker();\n      system.autoStart = true;\n      system._protected = true;\n    }\n    return _Ticker._system;\n  }\n};\nlet Ticker = _Ticker;\nTicker.targetFPMS = 0.06;\n\nexport { Ticker };\n//# sourceMappingURL=Ticker.mjs.map\n","import { settings } from '@pixi/settings';\nexport { settings } from '@pixi/settings';\nimport { deprecation } from '@pixi/utils';\nimport { Ticker } from './Ticker.mjs';\n\nObject.defineProperties(settings, {\n  TARGET_FPMS: {\n    get() {\n      return Ticker.targetFPMS;\n    },\n    set(value) {\n      deprecation(\"7.1.0\", \"settings.TARGET_FPMS is deprecated, use Ticker.targetFPMS\");\n      Ticker.targetFPMS = value;\n    }\n  }\n});\n//# sourceMappingURL=settings.mjs.map\n","import { ExtensionType, extensions } from '@pixi/extensions';\nimport { UPDATE_PRIORITY } from './const.mjs';\nimport { Ticker } from './Ticker.mjs';\n\nclass TickerPlugin {\n  static init(options) {\n    options = Object.assign({\n      autoStart: true,\n      sharedTicker: false\n    }, options);\n    Object.defineProperty(this, \"ticker\", {\n      set(ticker) {\n        if (this._ticker) {\n          this._ticker.remove(this.render, this);\n        }\n        this._ticker = ticker;\n        if (ticker) {\n          ticker.add(this.render, this, UPDATE_PRIORITY.LOW);\n        }\n      },\n      get() {\n        return this._ticker;\n      }\n    });\n    this.stop = () => {\n      this._ticker.stop();\n    };\n    this.start = () => {\n      this._ticker.start();\n    };\n    this._ticker = null;\n    this.ticker = options.sharedTicker ? Ticker.shared : new Ticker();\n    if (options.autoStart) {\n      this.start();\n    }\n  }\n  static destroy() {\n    if (this._ticker) {\n      const oldTicker = this._ticker;\n      this.ticker = null;\n      oldTicker.destroy();\n    }\n  }\n}\nTickerPlugin.extension = ExtensionType.Application;\nextensions.add(TickerPlugin);\n\nexport { TickerPlugin };\n//# sourceMappingURL=TickerPlugin.mjs.map\n","import { extensions, ExtensionType } from '@pixi/extensions';\n\nconst renderers = [];\nextensions.handleByList(ExtensionType.Renderer, renderers);\nfunction autoDetectRenderer(options) {\n  for (const RendererType of renderers) {\n    if (RendererType.test(options)) {\n      return new RendererType(options);\n    }\n  }\n  throw new Error(\"Unable to auto-detect a suitable renderer.\");\n}\n\nexport { autoDetectRenderer };\n//# sourceMappingURL=autoDetectRenderer.mjs.map\n","import $defaultVertex from './default.mjs';\nimport $defaultFilterVertex from './defaultFilter.mjs';\n\nconst defaultVertex = $defaultVertex;\nconst defaultFilterVertex = $defaultFilterVertex;\n\nexport { defaultFilterVertex, defaultVertex };\n//# sourceMappingURL=index.mjs.map\n","var $defaultFilterVertex = \"attribute vec2 aVertexPosition;\\n\\nuniform mat3 projectionMatrix;\\n\\nvarying vec2 vTextureCoord;\\n\\nuniform vec4 inputSize;\\nuniform vec4 outputFrame;\\n\\nvec4 filterVertexPosition( void )\\n{\\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\\n\\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\\n}\\n\\nvec2 filterTextureCoord( void )\\n{\\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\\n}\\n\\nvoid main(void)\\n{\\n    gl_Position = filterVertexPosition();\\n    vTextureCoord = filterTextureCoord();\\n}\\n\";\n\nexport { $defaultFilterVertex as default };\n//# sourceMappingURL=defaultFilter.mjs.map\n","import { MSAA_QUALITY } from '@pixi/constants';\nimport { ExtensionType, extensions } from '@pixi/extensions';\n\nclass MultisampleSystem {\n  constructor(renderer) {\n    this.renderer = renderer;\n  }\n  contextChange(gl) {\n    let samples;\n    if (this.renderer.context.webGLVersion === 1) {\n      const framebuffer = gl.getParameter(gl.FRAMEBUFFER_BINDING);\n      gl.bindFramebuffer(gl.FRAMEBUFFER, null);\n      samples = gl.getParameter(gl.SAMPLES);\n      gl.bindFramebuffer(gl.FRAMEBUFFER, framebuffer);\n    } else {\n      const framebuffer = gl.getParameter(gl.DRAW_FRAMEBUFFER_BINDING);\n      gl.bindFramebuffer(gl.DRAW_FRAMEBUFFER, null);\n      samples = gl.getParameter(gl.SAMPLES);\n      gl.bindFramebuffer(gl.DRAW_FRAMEBUFFER, framebuffer);\n    }\n    if (samples >= MSAA_QUALITY.HIGH) {\n      this.multisample = MSAA_QUALITY.HIGH;\n    } else if (samples >= MSAA_QUALITY.MEDIUM) {\n      this.multisample = MSAA_QUALITY.MEDIUM;\n    } else if (samples >= MSAA_QUALITY.LOW) {\n      this.multisample = MSAA_QUALITY.LOW;\n    } else {\n      this.multisample = MSAA_QUALITY.NONE;\n    }\n  }\n  destroy() {\n  }\n}\nMultisampleSystem.extension = {\n  type: ExtensionType.RendererSystem,\n  name: \"_multisample\"\n};\nextensions.add(MultisampleSystem);\n\nexport { MultisampleSystem };\n//# sourceMappingURL=MultisampleSystem.mjs.map\n","class GLBuffer {\n  constructor(buffer) {\n    this.buffer = buffer || null;\n    this.updateID = -1;\n    this.byteLength = -1;\n    this.refCount = 0;\n  }\n}\n\nexport { GLBuffer };\n//# sourceMappingURL=GLBuffer.mjs.map\n","import { ExtensionType, extensions } from '@pixi/extensions';\nimport { GLBuffer } from './GLBuffer.mjs';\n\nclass BufferSystem {\n  constructor(renderer) {\n    this.renderer = renderer;\n    this.managedBuffers = {};\n    this.boundBufferBases = {};\n  }\n  destroy() {\n    this.renderer = null;\n  }\n  contextChange() {\n    this.disposeAll(true);\n    this.gl = this.renderer.gl;\n    this.CONTEXT_UID = this.renderer.CONTEXT_UID;\n  }\n  bind(buffer) {\n    const { gl, CONTEXT_UID } = this;\n    const glBuffer = buffer._glBuffers[CONTEXT_UID] || this.createGLBuffer(buffer);\n    gl.bindBuffer(buffer.type, glBuffer.buffer);\n  }\n  unbind(type) {\n    const { gl } = this;\n    gl.bindBuffer(type, null);\n  }\n  bindBufferBase(buffer, index) {\n    const { gl, CONTEXT_UID } = this;\n    if (this.boundBufferBases[index] !== buffer) {\n      const glBuffer = buffer._glBuffers[CONTEXT_UID] || this.createGLBuffer(buffer);\n      this.boundBufferBases[index] = buffer;\n      gl.bindBufferBase(gl.UNIFORM_BUFFER, index, glBuffer.buffer);\n    }\n  }\n  bindBufferRange(buffer, index, offset) {\n    const { gl, CONTEXT_UID } = this;\n    offset = offset || 0;\n    const glBuffer = buffer._glBuffers[CONTEXT_UID] || this.createGLBuffer(buffer);\n    gl.bindBufferRange(gl.UNIFORM_BUFFER, index || 0, glBuffer.buffer, offset * 256, 256);\n  }\n  update(buffer) {\n    const { gl, CONTEXT_UID } = this;\n    const glBuffer = buffer._glBuffers[CONTEXT_UID] || this.createGLBuffer(buffer);\n    if (buffer._updateID === glBuffer.updateID) {\n      return;\n    }\n    glBuffer.updateID = buffer._updateID;\n    gl.bindBuffer(buffer.type, glBuffer.buffer);\n    if (glBuffer.byteLength >= buffer.data.byteLength) {\n      gl.bufferSubData(buffer.type, 0, buffer.data);\n    } else {\n      const drawType = buffer.static ? gl.STATIC_DRAW : gl.DYNAMIC_DRAW;\n      glBuffer.byteLength = buffer.data.byteLength;\n      gl.bufferData(buffer.type, buffer.data, drawType);\n    }\n  }\n  dispose(buffer, contextLost) {\n    if (!this.managedBuffers[buffer.id]) {\n      return;\n    }\n    delete this.managedBuffers[buffer.id];\n    const glBuffer = buffer._glBuffers[this.CONTEXT_UID];\n    const gl = this.gl;\n    buffer.disposeRunner.remove(this);\n    if (!glBuffer) {\n      return;\n    }\n    if (!contextLost) {\n      gl.deleteBuffer(glBuffer.buffer);\n    }\n    delete buffer._glBuffers[this.CONTEXT_UID];\n  }\n  disposeAll(contextLost) {\n    const all = Object.keys(this.managedBuffers);\n    for (let i = 0; i < all.length; i++) {\n      this.dispose(this.managedBuffers[all[i]], contextLost);\n    }\n  }\n  createGLBuffer(buffer) {\n    const { CONTEXT_UID, gl } = this;\n    buffer._glBuffers[CONTEXT_UID] = new GLBuffer(gl.createBuffer());\n    this.managedBuffers[buffer.id] = buffer;\n    buffer.disposeRunner.add(this);\n    return buffer._glBuffers[CONTEXT_UID];\n  }\n}\nBufferSystem.extension = {\n  type: ExtensionType.RendererSystem,\n  name: \"buffer\"\n};\nextensions.add(BufferSystem);\n\nexport { BufferSystem };\n//# sourceMappingURL=BufferSystem.mjs.map\n","import { ExtensionType, extensions } from '@pixi/extensions';\n\nclass ObjectRendererSystem {\n  constructor(renderer) {\n    this.renderer = renderer;\n  }\n  render(displayObject, options) {\n    const renderer = this.renderer;\n    let renderTexture;\n    let clear;\n    let transform;\n    let skipUpdateTransform;\n    if (options) {\n      renderTexture = options.renderTexture;\n      clear = options.clear;\n      transform = options.transform;\n      skipUpdateTransform = options.skipUpdateTransform;\n    }\n    this.renderingToScreen = !renderTexture;\n    renderer.runners.prerender.emit();\n    renderer.emit(\"prerender\");\n    renderer.projection.transform = transform;\n    if (renderer.context.isLost) {\n      return;\n    }\n    if (!renderTexture) {\n      this.lastObjectRendered = displayObject;\n    }\n    if (!skipUpdateTransform) {\n      const cacheParent = displayObject.enableTempParent();\n      displayObject.updateTransform();\n      displayObject.disableTempParent(cacheParent);\n    }\n    renderer.renderTexture.bind(renderTexture);\n    renderer.batch.currentRenderer.start();\n    if (clear ?? renderer.background.clearBeforeRender) {\n      renderer.renderTexture.clear();\n    }\n    displayObject.render(renderer);\n    renderer.batch.currentRenderer.flush();\n    if (renderTexture) {\n      if (options.blit) {\n        renderer.framebuffer.blit();\n      }\n      renderTexture.baseTexture.update();\n    }\n    renderer.runners.postrender.emit();\n    renderer.projection.transform = null;\n    renderer.emit(\"postrender\");\n  }\n  destroy() {\n    this.renderer = null;\n    this.lastObjectRendered = null;\n  }\n}\nObjectRendererSystem.extension = {\n  type: ExtensionType.RendererSystem,\n  name: \"objectRenderer\"\n};\nextensions.add(ObjectRendererSystem);\n\nexport { ObjectRendererSystem };\n//# sourceMappingURL=ObjectRendererSystem.mjs.map\n","import { ExtensionType, extensions } from '@pixi/extensions';\nimport { Matrix } from '@pixi/math';\nimport { settings } from '@pixi/settings';\nimport { deprecation, isWebGLSupported } from '@pixi/utils';\nimport { UniformGroup } from './shader/UniformGroup.mjs';\nimport { SystemManager } from './system/SystemManager.mjs';\n\nconst _Renderer = class extends SystemManager {\n  constructor(options) {\n    super();\n    options = Object.assign({}, settings.RENDER_OPTIONS, options);\n    this.gl = null;\n    this.CONTEXT_UID = 0;\n    this.globalUniforms = new UniformGroup({\n      projectionMatrix: new Matrix()\n    }, true);\n    const systemConfig = {\n      runners: [\n        \"init\",\n        \"destroy\",\n        \"contextChange\",\n        \"resolutionChange\",\n        \"reset\",\n        \"update\",\n        \"postrender\",\n        \"prerender\",\n        \"resize\"\n      ],\n      systems: _Renderer.__systems,\n      priority: [\n        \"_view\",\n        \"textureGenerator\",\n        \"background\",\n        \"_plugin\",\n        \"startup\",\n        \"context\",\n        \"state\",\n        \"texture\",\n        \"buffer\",\n        \"geometry\",\n        \"framebuffer\",\n        \"transformFeedback\",\n        \"mask\",\n        \"scissor\",\n        \"stencil\",\n        \"projection\",\n        \"textureGC\",\n        \"filter\",\n        \"renderTexture\",\n        \"batch\",\n        \"objectRenderer\",\n        \"_multisample\"\n      ]\n    };\n    this.setup(systemConfig);\n    if (\"useContextAlpha\" in options) {\n      deprecation(\"7.0.0\", \"options.useContextAlpha is deprecated, use options.premultipliedAlpha and options.backgroundAlpha instead\");\n      options.premultipliedAlpha = options.useContextAlpha && options.useContextAlpha !== \"notMultiplied\";\n      options.backgroundAlpha = options.useContextAlpha === false ? 1 : options.backgroundAlpha;\n    }\n    this._plugin.rendererPlugins = _Renderer.__plugins;\n    this.options = options;\n    this.startup.run(this.options);\n  }\n  static test(options) {\n    if (options?.forceCanvas) {\n      return false;\n    }\n    return isWebGLSupported();\n  }\n  render(displayObject, options) {\n    this.objectRenderer.render(displayObject, options);\n  }\n  resize(desiredScreenWidth, desiredScreenHeight) {\n    this._view.resizeView(desiredScreenWidth, desiredScreenHeight);\n  }\n  reset() {\n    this.runners.reset.emit();\n    return this;\n  }\n  clear() {\n    this.renderTexture.bind();\n    this.renderTexture.clear();\n  }\n  destroy(removeView = false) {\n    this.runners.destroy.items.reverse();\n    this.emitWithCustomOptions(this.runners.destroy, {\n      _view: removeView\n    });\n    super.destroy();\n  }\n  get plugins() {\n    return this._plugin.plugins;\n  }\n  get multisample() {\n    return this._multisample.multisample;\n  }\n  get width() {\n    return this._view.element.width;\n  }\n  get height() {\n    return this._view.element.height;\n  }\n  get resolution() {\n    return this._view.resolution;\n  }\n  set resolution(value) {\n    this._view.resolution = value;\n    this.runners.resolutionChange.emit(value);\n  }\n  get autoDensity() {\n    return this._view.autoDensity;\n  }\n  get view() {\n    return this._view.element;\n  }\n  get screen() {\n    return this._view.screen;\n  }\n  get lastObjectRendered() {\n    return this.objectRenderer.lastObjectRendered;\n  }\n  get renderingToScreen() {\n    return this.objectRenderer.renderingToScreen;\n  }\n  get rendererLogId() {\n    return `WebGL ${this.context.webGLVersion}`;\n  }\n  get clearBeforeRender() {\n    deprecation(\"7.0.0\", \"renderer.clearBeforeRender has been deprecated, please use renderer.background.clearBeforeRender instead.\");\n    return this.background.clearBeforeRender;\n  }\n  get useContextAlpha() {\n    deprecation(\"7.0.0\", \"renderer.useContextAlpha has been deprecated, please use renderer.context.premultipliedAlpha instead.\");\n    return this.context.useContextAlpha;\n  }\n  get preserveDrawingBuffer() {\n    deprecation(\"7.0.0\", \"renderer.preserveDrawingBuffer has been deprecated, we cannot truly know this unless pixi created the context\");\n    return this.context.preserveDrawingBuffer;\n  }\n  get backgroundColor() {\n    deprecation(\"7.0.0\", \"renderer.backgroundColor has been deprecated, use renderer.background.color instead.\");\n    return this.background.color;\n  }\n  set backgroundColor(value) {\n    deprecation(\"7.0.0\", \"renderer.backgroundColor has been deprecated, use renderer.background.color instead.\");\n    this.background.color = value;\n  }\n  get backgroundAlpha() {\n    deprecation(\"7.0.0\", \"renderer.backgroundAlpha has been deprecated, use renderer.background.alpha instead.\");\n    return this.background.alpha;\n  }\n  set backgroundAlpha(value) {\n    deprecation(\"7.0.0\", \"renderer.backgroundAlpha has been deprecated, use renderer.background.alpha instead.\");\n    this.background.alpha = value;\n  }\n  get powerPreference() {\n    deprecation(\"7.0.0\", \"renderer.powerPreference has been deprecated, we can only know this if pixi creates the context\");\n    return this.context.powerPreference;\n  }\n  generateTexture(displayObject, options) {\n    return this.textureGenerator.generateTexture(displayObject, options);\n  }\n};\nlet Renderer = _Renderer;\nRenderer.extension = {\n  type: ExtensionType.Renderer,\n  priority: 1\n};\nRenderer.__plugins = {};\nRenderer.__systems = {};\nextensions.handleByMap(ExtensionType.RendererPlugin, Renderer.__plugins);\nextensions.handleByMap(ExtensionType.RendererSystem, Renderer.__systems);\nextensions.add(Renderer);\n\nexport { Renderer };\n//# sourceMappingURL=Renderer.mjs.map\n","import { BaseTexture } from '../BaseTexture.mjs';\nimport { autoDetectResource } from './autoDetectResource.mjs';\nimport { Resource } from './Resource.mjs';\n\nclass AbstractMultiResource extends Resource {\n  constructor(length, options) {\n    const { width, height } = options || {};\n    super(width, height);\n    this.items = [];\n    this.itemDirtyIds = [];\n    for (let i = 0; i < length; i++) {\n      const partTexture = new BaseTexture();\n      this.items.push(partTexture);\n      this.itemDirtyIds.push(-2);\n    }\n    this.length = length;\n    this._load = null;\n    this.baseTexture = null;\n  }\n  initFromArray(resources, options) {\n    for (let i = 0; i < this.length; i++) {\n      if (!resources[i]) {\n        continue;\n      }\n      if (resources[i].castToBaseTexture) {\n        this.addBaseTextureAt(resources[i].castToBaseTexture(), i);\n      } else if (resources[i] instanceof Resource) {\n        this.addResourceAt(resources[i], i);\n      } else {\n        this.addResourceAt(autoDetectResource(resources[i], options), i);\n      }\n    }\n  }\n  dispose() {\n    for (let i = 0, len = this.length; i < len; i++) {\n      this.items[i].destroy();\n    }\n    this.items = null;\n    this.itemDirtyIds = null;\n    this._load = null;\n  }\n  addResourceAt(resource, index) {\n    if (!this.items[index]) {\n      throw new Error(`Index ${index} is out of bounds`);\n    }\n    if (resource.valid && !this.valid) {\n      this.resize(resource.width, resource.height);\n    }\n    this.items[index].setResource(resource);\n    return this;\n  }\n  bind(baseTexture) {\n    if (this.baseTexture !== null) {\n      throw new Error(\"Only one base texture per TextureArray is allowed\");\n    }\n    super.bind(baseTexture);\n    for (let i = 0; i < this.length; i++) {\n      this.items[i].parentTextureArray = baseTexture;\n      this.items[i].on(\"update\", baseTexture.update, baseTexture);\n    }\n  }\n  unbind(baseTexture) {\n    super.unbind(baseTexture);\n    for (let i = 0; i < this.length; i++) {\n      this.items[i].parentTextureArray = null;\n      this.items[i].off(\"update\", baseTexture.update, baseTexture);\n    }\n  }\n  load() {\n    if (this._load) {\n      return this._load;\n    }\n    const resources = this.items.map((item) => item.resource).filter((item) => item);\n    const promises = resources.map((item) => item.load());\n    this._load = Promise.all(promises).then(() => {\n      const { realWidth, realHeight } = this.items[0];\n      this.resize(realWidth, realHeight);\n      return Promise.resolve(this);\n    });\n    return this._load;\n  }\n}\n\nexport { AbstractMultiResource };\n//# sourceMappingURL=AbstractMultiResource.mjs.map\n","import { TARGETS } from '@pixi/constants';\nimport { AbstractMultiResource } from './AbstractMultiResource.mjs';\n\nconst _CubeResource = class extends AbstractMultiResource {\n  constructor(source, options) {\n    const { width, height, autoLoad, linkBaseTexture } = options || {};\n    if (source && source.length !== _CubeResource.SIDES) {\n      throw new Error(`Invalid length. Got ${source.length}, expected 6`);\n    }\n    super(6, { width, height });\n    for (let i = 0; i < _CubeResource.SIDES; i++) {\n      this.items[i].target = TARGETS.TEXTURE_CUBE_MAP_POSITIVE_X + i;\n    }\n    this.linkBaseTexture = linkBaseTexture !== false;\n    if (source) {\n      this.initFromArray(source, options);\n    }\n    if (autoLoad !== false) {\n      this.load();\n    }\n  }\n  bind(baseTexture) {\n    super.bind(baseTexture);\n    baseTexture.target = TARGETS.TEXTURE_CUBE_MAP;\n  }\n  addBaseTextureAt(baseTexture, index, linkBaseTexture) {\n    if (linkBaseTexture === void 0) {\n      linkBaseTexture = this.linkBaseTexture;\n    }\n    if (!this.items[index]) {\n      throw new Error(`Index ${index} is out of bounds`);\n    }\n    if (!this.linkBaseTexture || baseTexture.parentTextureArray || Object.keys(baseTexture._glTextures).length > 0) {\n      if (baseTexture.resource) {\n        this.addResourceAt(baseTexture.resource, index);\n      } else {\n        throw new Error(`CubeResource does not support copying of renderTexture.`);\n      }\n    } else {\n      baseTexture.target = TARGETS.TEXTURE_CUBE_MAP_POSITIVE_X + index;\n      baseTexture.parentTextureArray = this.baseTexture;\n      this.items[index] = baseTexture;\n    }\n    if (baseTexture.valid && !this.valid) {\n      this.resize(baseTexture.realWidth, baseTexture.realHeight);\n    }\n    this.items[index] = baseTexture;\n    return this;\n  }\n  upload(renderer, _baseTexture, glTexture) {\n    const dirty = this.itemDirtyIds;\n    for (let i = 0; i < _CubeResource.SIDES; i++) {\n      const side = this.items[i];\n      if (dirty[i] < side.dirtyId || glTexture.dirtyId < _baseTexture.dirtyId) {\n        if (side.valid && side.resource) {\n          side.resource.upload(renderer, side, glTexture);\n          dirty[i] = side.dirtyId;\n        } else if (dirty[i] < -1) {\n          renderer.gl.texImage2D(side.target, 0, glTexture.internalFormat, _baseTexture.realWidth, _baseTexture.realHeight, 0, _baseTexture.format, glTexture.type, null);\n          dirty[i] = -1;\n        }\n      }\n    }\n    return true;\n  }\n  static test(source) {\n    return Array.isArray(source) && source.length === _CubeResource.SIDES;\n  }\n};\nlet CubeResource = _CubeResource;\nCubeResource.SIDES = 6;\n\nexport { CubeResource };\n//# sourceMappingURL=CubeResource.mjs.map\n","import { ALPHA_MODES } from '@pixi/constants';\nimport { settings } from '@pixi/settings';\nimport { BaseImageResource } from './BaseImageResource.mjs';\n\nclass ImageBitmapResource extends BaseImageResource {\n  constructor(source, options) {\n    options = options || {};\n    let baseSource;\n    let url;\n    if (typeof source === \"string\") {\n      baseSource = ImageBitmapResource.EMPTY;\n      url = source;\n    } else {\n      baseSource = source;\n      url = null;\n    }\n    super(baseSource);\n    this.url = url;\n    this.crossOrigin = options.crossOrigin ?? true;\n    this.alphaMode = typeof options.alphaMode === \"number\" ? options.alphaMode : null;\n    this._load = null;\n    if (options.autoLoad !== false) {\n      this.load();\n    }\n  }\n  load() {\n    if (this._load) {\n      return this._load;\n    }\n    this._load = new Promise(async (resolve, reject) => {\n      if (this.url === null) {\n        resolve(this);\n        return;\n      }\n      try {\n        const response = await settings.ADAPTER.fetch(this.url, {\n          mode: this.crossOrigin ? \"cors\" : \"no-cors\"\n        });\n        if (this.destroyed)\n          return;\n        const imageBlob = await response.blob();\n        if (this.destroyed)\n          return;\n        const imageBitmap = await createImageBitmap(imageBlob, {\n          premultiplyAlpha: this.alphaMode === null || this.alphaMode === ALPHA_MODES.UNPACK ? \"premultiply\" : \"none\"\n        });\n        if (this.destroyed)\n          return;\n        this.source = imageBitmap;\n        this.update();\n        resolve(this);\n      } catch (e) {\n        if (this.destroyed)\n          return;\n        reject(e);\n        this.onError.emit(e);\n      }\n    });\n    return this._load;\n  }\n  upload(renderer, baseTexture, glTexture) {\n    if (!(this.source instanceof ImageBitmap)) {\n      this.load();\n      return false;\n    }\n    if (typeof this.alphaMode === \"number\") {\n      baseTexture.alphaMode = this.alphaMode;\n    }\n    return super.upload(renderer, baseTexture, glTexture);\n  }\n  dispose() {\n    if (this.source instanceof ImageBitmap) {\n      this.source.close();\n    }\n    super.dispose();\n    this._load = null;\n  }\n  static test(source) {\n    return !!globalThis.createImageBitmap && typeof ImageBitmap !== \"undefined\" && (typeof source === \"string\" || source instanceof ImageBitmap);\n  }\n  static get EMPTY() {\n    ImageBitmapResource._EMPTY = ImageBitmapResource._EMPTY ?? settings.ADAPTER.createCanvas(0, 0);\n    return ImageBitmapResource._EMPTY;\n  }\n}\n\nexport { ImageBitmapResource };\n//# sourceMappingURL=ImageBitmapResource.mjs.map\n","import { settings } from '@pixi/settings';\nimport { uid } from '@pixi/utils';\nimport { BaseImageResource } from './BaseImageResource.mjs';\n\nconst _SVGResource = class extends BaseImageResource {\n  constructor(sourceBase64, options) {\n    options = options || {};\n    super(settings.ADAPTER.createCanvas());\n    this._width = 0;\n    this._height = 0;\n    this.svg = sourceBase64;\n    this.scale = options.scale || 1;\n    this._overrideWidth = options.width;\n    this._overrideHeight = options.height;\n    this._resolve = null;\n    this._crossorigin = options.crossorigin;\n    this._load = null;\n    if (options.autoLoad !== false) {\n      this.load();\n    }\n  }\n  load() {\n    if (this._load) {\n      return this._load;\n    }\n    this._load = new Promise((resolve) => {\n      this._resolve = () => {\n        this.resize(this.source.width, this.source.height);\n        resolve(this);\n      };\n      if (_SVGResource.SVG_XML.test(this.svg.trim())) {\n        if (!btoa) {\n          throw new Error(\"Your browser doesn't support base64 conversions.\");\n        }\n        this.svg = `data:image/svg+xml;base64,${btoa(unescape(encodeURIComponent(this.svg)))}`;\n      }\n      this._loadSvg();\n    });\n    return this._load;\n  }\n  _loadSvg() {\n    const tempImage = new Image();\n    BaseImageResource.crossOrigin(tempImage, this.svg, this._crossorigin);\n    tempImage.src = this.svg;\n    tempImage.onerror = (event) => {\n      if (!this._resolve) {\n        return;\n      }\n      tempImage.onerror = null;\n      this.onError.emit(event);\n    };\n    tempImage.onload = () => {\n      if (!this._resolve) {\n        return;\n      }\n      const svgWidth = tempImage.width;\n      const svgHeight = tempImage.height;\n      if (!svgWidth || !svgHeight) {\n        throw new Error(\"The SVG image must have width and height defined (in pixels), canvas API needs them.\");\n      }\n      let width = svgWidth * this.scale;\n      let height = svgHeight * this.scale;\n      if (this._overrideWidth || this._overrideHeight) {\n        width = this._overrideWidth || this._overrideHeight / svgHeight * svgWidth;\n        height = this._overrideHeight || this._overrideWidth / svgWidth * svgHeight;\n      }\n      width = Math.round(width);\n      height = Math.round(height);\n      const canvas = this.source;\n      canvas.width = width;\n      canvas.height = height;\n      canvas._pixiId = `canvas_${uid()}`;\n      canvas.getContext(\"2d\").drawImage(tempImage, 0, 0, svgWidth, svgHeight, 0, 0, width, height);\n      this._resolve();\n      this._resolve = null;\n    };\n  }\n  static getSize(svgString) {\n    const sizeMatch = _SVGResource.SVG_SIZE.exec(svgString);\n    const size = {};\n    if (sizeMatch) {\n      size[sizeMatch[1]] = Math.round(parseFloat(sizeMatch[3]));\n      size[sizeMatch[5]] = Math.round(parseFloat(sizeMatch[7]));\n    }\n    return size;\n  }\n  dispose() {\n    super.dispose();\n    this._resolve = null;\n    this._crossorigin = null;\n  }\n  static test(source, extension) {\n    return extension === \"svg\" || typeof source === \"string\" && source.startsWith(\"data:image/svg+xml\") || typeof source === \"string\" && _SVGResource.SVG_XML.test(source);\n  }\n};\nlet SVGResource = _SVGResource;\nSVGResource.SVG_XML = /^(<\\?xml[^?]+\\?>)?\\s*(<!--[^(-->)]*-->)?\\s*\\<svg/m;\nSVGResource.SVG_SIZE = /<svg[^>]*(?:\\s(width|height)=('|\")(\\d*(?:\\.\\d+)?)(?:px)?('|\"))[^>]*(?:\\s(width|height)=('|\")(\\d*(?:\\.\\d+)?)(?:px)?('|\"))[^>]*>/i;\n\nexport { SVGResource };\n//# sourceMappingURL=SVGResource.mjs.map\n","import { Ticker } from '@pixi/ticker';\nimport { BaseImageResource } from './BaseImageResource.mjs';\n\nconst _VideoResource = class extends BaseImageResource {\n  constructor(source, options) {\n    options = options || {};\n    if (!(source instanceof HTMLVideoElement)) {\n      const videoElement = document.createElement(\"video\");\n      videoElement.setAttribute(\"preload\", \"auto\");\n      videoElement.setAttribute(\"webkit-playsinline\", \"\");\n      videoElement.setAttribute(\"playsinline\", \"\");\n      if (typeof source === \"string\") {\n        source = [source];\n      }\n      const firstSrc = source[0].src || source[0];\n      BaseImageResource.crossOrigin(videoElement, firstSrc, options.crossorigin);\n      for (let i = 0; i < source.length; ++i) {\n        const sourceElement = document.createElement(\"source\");\n        let { src, mime } = source[i];\n        src = src || source[i];\n        const baseSrc = src.split(\"?\").shift().toLowerCase();\n        const ext = baseSrc.slice(baseSrc.lastIndexOf(\".\") + 1);\n        mime = mime || _VideoResource.MIME_TYPES[ext] || `video/${ext}`;\n        sourceElement.src = src;\n        sourceElement.type = mime;\n        videoElement.appendChild(sourceElement);\n      }\n      source = videoElement;\n    }\n    super(source);\n    this.noSubImage = true;\n    this._autoUpdate = true;\n    this._isConnectedToTicker = false;\n    this._updateFPS = options.updateFPS || 0;\n    this._msToNextUpdate = 0;\n    this.autoPlay = options.autoPlay !== false;\n    this._load = null;\n    this._resolve = null;\n    this._onCanPlay = this._onCanPlay.bind(this);\n    this._onError = this._onError.bind(this);\n    if (options.autoLoad !== false) {\n      this.load();\n    }\n  }\n  update(_deltaTime = 0) {\n    if (!this.destroyed) {\n      const elapsedMS = Ticker.shared.elapsedMS * this.source.playbackRate;\n      this._msToNextUpdate = Math.floor(this._msToNextUpdate - elapsedMS);\n      if (!this._updateFPS || this._msToNextUpdate <= 0) {\n        super.update();\n        this._msToNextUpdate = this._updateFPS ? Math.floor(1e3 / this._updateFPS) : 0;\n      }\n    }\n  }\n  load() {\n    if (this._load) {\n      return this._load;\n    }\n    const source = this.source;\n    if ((source.readyState === source.HAVE_ENOUGH_DATA || source.readyState === source.HAVE_FUTURE_DATA) && source.width && source.height) {\n      source.complete = true;\n    }\n    source.addEventListener(\"play\", this._onPlayStart.bind(this));\n    source.addEventListener(\"pause\", this._onPlayStop.bind(this));\n    if (!this._isSourceReady()) {\n      source.addEventListener(\"canplay\", this._onCanPlay);\n      source.addEventListener(\"canplaythrough\", this._onCanPlay);\n      source.addEventListener(\"error\", this._onError, true);\n    } else {\n      this._onCanPlay();\n    }\n    this._load = new Promise((resolve) => {\n      if (this.valid) {\n        resolve(this);\n      } else {\n        this._resolve = resolve;\n        source.load();\n      }\n    });\n    return this._load;\n  }\n  _onError(event) {\n    this.source.removeEventListener(\"error\", this._onError, true);\n    this.onError.emit(event);\n  }\n  _isSourcePlaying() {\n    const source = this.source;\n    return !source.paused && !source.ended && this._isSourceReady();\n  }\n  _isSourceReady() {\n    const source = this.source;\n    return source.readyState > 2;\n  }\n  _onPlayStart() {\n    if (!this.valid) {\n      this._onCanPlay();\n    }\n    if (this.autoUpdate && !this._isConnectedToTicker) {\n      Ticker.shared.add(this.update, this);\n      this._isConnectedToTicker = true;\n    }\n  }\n  _onPlayStop() {\n    if (this._isConnectedToTicker) {\n      Ticker.shared.remove(this.update, this);\n      this._isConnectedToTicker = false;\n    }\n  }\n  _onCanPlay() {\n    const source = this.source;\n    source.removeEventListener(\"canplay\", this._onCanPlay);\n    source.removeEventListener(\"canplaythrough\", this._onCanPlay);\n    const valid = this.valid;\n    this.resize(source.videoWidth, source.videoHeight);\n    if (!valid && this._resolve) {\n      this._resolve(this);\n      this._resolve = null;\n    }\n    if (this._isSourcePlaying()) {\n      this._onPlayStart();\n    } else if (this.autoPlay) {\n      source.play();\n    }\n  }\n  dispose() {\n    if (this._isConnectedToTicker) {\n      Ticker.shared.remove(this.update, this);\n      this._isConnectedToTicker = false;\n    }\n    const source = this.source;\n    if (source) {\n      source.removeEventListener(\"error\", this._onError, true);\n      source.pause();\n      source.src = \"\";\n      source.load();\n    }\n    super.dispose();\n  }\n  get autoUpdate() {\n    return this._autoUpdate;\n  }\n  set autoUpdate(value) {\n    if (value !== this._autoUpdate) {\n      this._autoUpdate = value;\n      if (!this._autoUpdate && this._isConnectedToTicker) {\n        Ticker.shared.remove(this.update, this);\n        this._isConnectedToTicker = false;\n      } else if (this._autoUpdate && !this._isConnectedToTicker && this._isSourcePlaying()) {\n        Ticker.shared.add(this.update, this);\n        this._isConnectedToTicker = true;\n      }\n    }\n  }\n  get updateFPS() {\n    return this._updateFPS;\n  }\n  set updateFPS(value) {\n    if (value !== this._updateFPS) {\n      this._updateFPS = value;\n    }\n  }\n  static test(source, extension) {\n    return globalThis.HTMLVideoElement && source instanceof HTMLVideoElement || _VideoResource.TYPES.includes(extension);\n  }\n};\nlet VideoResource = _VideoResource;\nVideoResource.TYPES = [\"mp4\", \"m4v\", \"webm\", \"ogg\", \"ogv\", \"h264\", \"avi\", \"mov\"];\nVideoResource.MIME_TYPES = {\n  ogv: \"video/ogg\",\n  mov: \"video/quicktime\",\n  m4v: \"video/mp4\"\n};\n\nexport { VideoResource };\n//# sourceMappingURL=VideoResource.mjs.map\n","import { ArrayResource } from './ArrayResource.mjs';\nexport { ArrayResource } from './ArrayResource.mjs';\nimport { INSTALLED } from './autoDetectResource.mjs';\nexport { INSTALLED, autoDetectResource } from './autoDetectResource.mjs';\nimport { BufferResource } from './BufferResource.mjs';\nexport { BufferResource } from './BufferResource.mjs';\nimport { CanvasResource } from './CanvasResource.mjs';\nexport { CanvasResource } from './CanvasResource.mjs';\nimport { CubeResource } from './CubeResource.mjs';\nexport { CubeResource } from './CubeResource.mjs';\nimport { ImageBitmapResource } from './ImageBitmapResource.mjs';\nexport { ImageBitmapResource } from './ImageBitmapResource.mjs';\nimport { ImageResource } from './ImageResource.mjs';\nexport { ImageResource } from './ImageResource.mjs';\nimport { SVGResource } from './SVGResource.mjs';\nexport { SVGResource } from './SVGResource.mjs';\nimport { VideoResource } from './VideoResource.mjs';\nexport { VideoResource } from './VideoResource.mjs';\nexport { BaseImageResource } from './BaseImageResource.mjs';\nexport { Resource } from './Resource.mjs';\nexport { AbstractMultiResource } from './AbstractMultiResource.mjs';\n\nINSTALLED.push(ImageBitmapResource, ImageResource, CanvasResource, VideoResource, SVGResource, BufferResource, CubeResource, ArrayResource);\n//# sourceMappingURL=index.mjs.map\n","import { BaseImageResource } from './BaseImageResource.mjs';\n\nclass CanvasResource extends BaseImageResource {\n  constructor(source) {\n    super(source);\n  }\n  static test(source) {\n    const { OffscreenCanvas } = globalThis;\n    if (OffscreenCanvas && source instanceof OffscreenCanvas) {\n      return true;\n    }\n    return globalThis.HTMLCanvasElement && source instanceof HTMLCanvasElement;\n  }\n}\n\nexport { CanvasResource };\n//# sourceMappingURL=CanvasResource.mjs.map\n","import { TARGETS } from '@pixi/constants';\nimport { AbstractMultiResource } from './AbstractMultiResource.mjs';\n\nclass ArrayResource extends AbstractMultiResource {\n  constructor(source, options) {\n    const { width, height } = options || {};\n    let urls;\n    let length;\n    if (Array.isArray(source)) {\n      urls = source;\n      length = source.length;\n    } else {\n      length = source;\n    }\n    super(length, { width, height });\n    if (urls) {\n      this.initFromArray(urls, options);\n    }\n  }\n  addBaseTextureAt(baseTexture, index) {\n    if (baseTexture.resource) {\n      this.addResourceAt(baseTexture.resource, index);\n    } else {\n      throw new Error(\"ArrayResource does not support RenderTexture\");\n    }\n    return this;\n  }\n  bind(baseTexture) {\n    super.bind(baseTexture);\n    baseTexture.target = TARGETS.TEXTURE_2D_ARRAY;\n  }\n  upload(renderer, texture, glTexture) {\n    const { length, itemDirtyIds, items } = this;\n    const { gl } = renderer;\n    if (glTexture.dirtyId < 0) {\n      gl.texImage3D(gl.TEXTURE_2D_ARRAY, 0, glTexture.internalFormat, this._width, this._height, length, 0, texture.format, glTexture.type, null);\n    }\n    for (let i = 0; i < length; i++) {\n      const item = items[i];\n      if (itemDirtyIds[i] < item.dirtyId) {\n        itemDirtyIds[i] = item.dirtyId;\n        if (item.valid) {\n          gl.texSubImage3D(gl.TEXTURE_2D_ARRAY, 0, 0, 0, i, item.resource.width, item.resource.height, 1, texture.format, glTexture.type, item.resource.source);\n        }\n      }\n    }\n    return true;\n  }\n}\n\nexport { ArrayResource };\n//# sourceMappingURL=ArrayResource.mjs.map\n","import { Rectangle } from '@pixi/core';\n\nclass Bounds {\n  constructor() {\n    this.minX = Infinity;\n    this.minY = Infinity;\n    this.maxX = -Infinity;\n    this.maxY = -Infinity;\n    this.rect = null;\n    this.updateID = -1;\n  }\n  isEmpty() {\n    return this.minX > this.maxX || this.minY > this.maxY;\n  }\n  clear() {\n    this.minX = Infinity;\n    this.minY = Infinity;\n    this.maxX = -Infinity;\n    this.maxY = -Infinity;\n  }\n  getRectangle(rect) {\n    if (this.minX > this.maxX || this.minY > this.maxY) {\n      return Rectangle.EMPTY;\n    }\n    rect = rect || new Rectangle(0, 0, 1, 1);\n    rect.x = this.minX;\n    rect.y = this.minY;\n    rect.width = this.maxX - this.minX;\n    rect.height = this.maxY - this.minY;\n    return rect;\n  }\n  addPoint(point) {\n    this.minX = Math.min(this.minX, point.x);\n    this.maxX = Math.max(this.maxX, point.x);\n    this.minY = Math.min(this.minY, point.y);\n    this.maxY = Math.max(this.maxY, point.y);\n  }\n  addPointMatrix(matrix, point) {\n    const { a, b, c, d, tx, ty } = matrix;\n    const x = a * point.x + c * point.y + tx;\n    const y = b * point.x + d * point.y + ty;\n    this.minX = Math.min(this.minX, x);\n    this.maxX = Math.max(this.maxX, x);\n    this.minY = Math.min(this.minY, y);\n    this.maxY = Math.max(this.maxY, y);\n  }\n  addQuad(vertices) {\n    let minX = this.minX;\n    let minY = this.minY;\n    let maxX = this.maxX;\n    let maxY = this.maxY;\n    let x = vertices[0];\n    let y = vertices[1];\n    minX = x < minX ? x : minX;\n    minY = y < minY ? y : minY;\n    maxX = x > maxX ? x : maxX;\n    maxY = y > maxY ? y : maxY;\n    x = vertices[2];\n    y = vertices[3];\n    minX = x < minX ? x : minX;\n    minY = y < minY ? y : minY;\n    maxX = x > maxX ? x : maxX;\n    maxY = y > maxY ? y : maxY;\n    x = vertices[4];\n    y = vertices[5];\n    minX = x < minX ? x : minX;\n    minY = y < minY ? y : minY;\n    maxX = x > maxX ? x : maxX;\n    maxY = y > maxY ? y : maxY;\n    x = vertices[6];\n    y = vertices[7];\n    minX = x < minX ? x : minX;\n    minY = y < minY ? y : minY;\n    maxX = x > maxX ? x : maxX;\n    maxY = y > maxY ? y : maxY;\n    this.minX = minX;\n    this.minY = minY;\n    this.maxX = maxX;\n    this.maxY = maxY;\n  }\n  addFrame(transform, x0, y0, x1, y1) {\n    this.addFrameMatrix(transform.worldTransform, x0, y0, x1, y1);\n  }\n  addFrameMatrix(matrix, x0, y0, x1, y1) {\n    const a = matrix.a;\n    const b = matrix.b;\n    const c = matrix.c;\n    const d = matrix.d;\n    const tx = matrix.tx;\n    const ty = matrix.ty;\n    let minX = this.minX;\n    let minY = this.minY;\n    let maxX = this.maxX;\n    let maxY = this.maxY;\n    let x = a * x0 + c * y0 + tx;\n    let y = b * x0 + d * y0 + ty;\n    minX = x < minX ? x : minX;\n    minY = y < minY ? y : minY;\n    maxX = x > maxX ? x : maxX;\n    maxY = y > maxY ? y : maxY;\n    x = a * x1 + c * y0 + tx;\n    y = b * x1 + d * y0 + ty;\n    minX = x < minX ? x : minX;\n    minY = y < minY ? y : minY;\n    maxX = x > maxX ? x : maxX;\n    maxY = y > maxY ? y : maxY;\n    x = a * x0 + c * y1 + tx;\n    y = b * x0 + d * y1 + ty;\n    minX = x < minX ? x : minX;\n    minY = y < minY ? y : minY;\n    maxX = x > maxX ? x : maxX;\n    maxY = y > maxY ? y : maxY;\n    x = a * x1 + c * y1 + tx;\n    y = b * x1 + d * y1 + ty;\n    minX = x < minX ? x : minX;\n    minY = y < minY ? y : minY;\n    maxX = x > maxX ? x : maxX;\n    maxY = y > maxY ? y : maxY;\n    this.minX = minX;\n    this.minY = minY;\n    this.maxX = maxX;\n    this.maxY = maxY;\n  }\n  addVertexData(vertexData, beginOffset, endOffset) {\n    let minX = this.minX;\n    let minY = this.minY;\n    let maxX = this.maxX;\n    let maxY = this.maxY;\n    for (let i = beginOffset; i < endOffset; i += 2) {\n      const x = vertexData[i];\n      const y = vertexData[i + 1];\n      minX = x < minX ? x : minX;\n      minY = y < minY ? y : minY;\n      maxX = x > maxX ? x : maxX;\n      maxY = y > maxY ? y : maxY;\n    }\n    this.minX = minX;\n    this.minY = minY;\n    this.maxX = maxX;\n    this.maxY = maxY;\n  }\n  addVertices(transform, vertices, beginOffset, endOffset) {\n    this.addVerticesMatrix(transform.worldTransform, vertices, beginOffset, endOffset);\n  }\n  addVerticesMatrix(matrix, vertices, beginOffset, endOffset, padX = 0, padY = padX) {\n    const a = matrix.a;\n    const b = matrix.b;\n    const c = matrix.c;\n    const d = matrix.d;\n    const tx = matrix.tx;\n    const ty = matrix.ty;\n    let minX = this.minX;\n    let minY = this.minY;\n    let maxX = this.maxX;\n    let maxY = this.maxY;\n    for (let i = beginOffset; i < endOffset; i += 2) {\n      const rawX = vertices[i];\n      const rawY = vertices[i + 1];\n      const x = a * rawX + c * rawY + tx;\n      const y = d * rawY + b * rawX + ty;\n      minX = Math.min(minX, x - padX);\n      maxX = Math.max(maxX, x + padX);\n      minY = Math.min(minY, y - padY);\n      maxY = Math.max(maxY, y + padY);\n    }\n    this.minX = minX;\n    this.minY = minY;\n    this.maxX = maxX;\n    this.maxY = maxY;\n  }\n  addBounds(bounds) {\n    const minX = this.minX;\n    const minY = this.minY;\n    const maxX = this.maxX;\n    const maxY = this.maxY;\n    this.minX = bounds.minX < minX ? bounds.minX : minX;\n    this.minY = bounds.minY < minY ? bounds.minY : minY;\n    this.maxX = bounds.maxX > maxX ? bounds.maxX : maxX;\n    this.maxY = bounds.maxY > maxY ? bounds.maxY : maxY;\n  }\n  addBoundsMask(bounds, mask) {\n    const _minX = bounds.minX > mask.minX ? bounds.minX : mask.minX;\n    const _minY = bounds.minY > mask.minY ? bounds.minY : mask.minY;\n    const _maxX = bounds.maxX < mask.maxX ? bounds.maxX : mask.maxX;\n    const _maxY = bounds.maxY < mask.maxY ? bounds.maxY : mask.maxY;\n    if (_minX <= _maxX && _minY <= _maxY) {\n      const minX = this.minX;\n      const minY = this.minY;\n      const maxX = this.maxX;\n      const maxY = this.maxY;\n      this.minX = _minX < minX ? _minX : minX;\n      this.minY = _minY < minY ? _minY : minY;\n      this.maxX = _maxX > maxX ? _maxX : maxX;\n      this.maxY = _maxY > maxY ? _maxY : maxY;\n    }\n  }\n  addBoundsMatrix(bounds, matrix) {\n    this.addFrameMatrix(matrix, bounds.minX, bounds.minY, bounds.maxX, bounds.maxY);\n  }\n  addBoundsArea(bounds, area) {\n    const _minX = bounds.minX > area.x ? bounds.minX : area.x;\n    const _minY = bounds.minY > area.y ? bounds.minY : area.y;\n    const _maxX = bounds.maxX < area.x + area.width ? bounds.maxX : area.x + area.width;\n    const _maxY = bounds.maxY < area.y + area.height ? bounds.maxY : area.y + area.height;\n    if (_minX <= _maxX && _minY <= _maxY) {\n      const minX = this.minX;\n      const minY = this.minY;\n      const maxX = this.maxX;\n      const maxY = this.maxY;\n      this.minX = _minX < minX ? _minX : minX;\n      this.minY = _minY < minY ? _minY : minY;\n      this.maxX = _maxX > maxX ? _maxX : maxX;\n      this.maxY = _maxY > maxY ? _maxY : maxY;\n    }\n  }\n  pad(paddingX = 0, paddingY = paddingX) {\n    if (!this.isEmpty()) {\n      this.minX -= paddingX;\n      this.maxX += paddingX;\n      this.minY -= paddingY;\n      this.maxY += paddingY;\n    }\n  }\n  addFramePad(x0, y0, x1, y1, padX, padY) {\n    x0 -= padX;\n    y0 -= padY;\n    x1 += padX;\n    y1 += padY;\n    this.minX = this.minX < x0 ? this.minX : x0;\n    this.maxX = this.maxX > x1 ? this.maxX : x1;\n    this.minY = this.minY < y0 ? this.minY : y0;\n    this.maxY = this.maxY > y1 ? this.maxY : y1;\n  }\n}\n\nexport { Bounds };\n//# sourceMappingURL=Bounds.mjs.map\n","import { utils, Transform, Rectangle, RAD_TO_DEG, DEG_TO_RAD } from '@pixi/core';\nimport { Bounds } from './Bounds.mjs';\n\nclass DisplayObject extends utils.EventEmitter {\n  constructor() {\n    super();\n    this.tempDisplayObjectParent = null;\n    this.transform = new Transform();\n    this.alpha = 1;\n    this.visible = true;\n    this.renderable = true;\n    this.cullable = false;\n    this.cullArea = null;\n    this.parent = null;\n    this.worldAlpha = 1;\n    this._lastSortedIndex = 0;\n    this._zIndex = 0;\n    this.filterArea = null;\n    this.filters = null;\n    this._enabledFilters = null;\n    this._bounds = new Bounds();\n    this._localBounds = null;\n    this._boundsID = 0;\n    this._boundsRect = null;\n    this._localBoundsRect = null;\n    this._mask = null;\n    this._maskRefCount = 0;\n    this._destroyed = false;\n    this.isSprite = false;\n    this.isMask = false;\n  }\n  static mixin(source) {\n    const keys = Object.keys(source);\n    for (let i = 0; i < keys.length; ++i) {\n      const propertyName = keys[i];\n      Object.defineProperty(DisplayObject.prototype, propertyName, Object.getOwnPropertyDescriptor(source, propertyName));\n    }\n  }\n  get destroyed() {\n    return this._destroyed;\n  }\n  _recursivePostUpdateTransform() {\n    if (this.parent) {\n      this.parent._recursivePostUpdateTransform();\n      this.transform.updateTransform(this.parent.transform);\n    } else {\n      this.transform.updateTransform(this._tempDisplayObjectParent.transform);\n    }\n  }\n  updateTransform() {\n    this._boundsID++;\n    this.transform.updateTransform(this.parent.transform);\n    this.worldAlpha = this.alpha * this.parent.worldAlpha;\n  }\n  getBounds(skipUpdate, rect) {\n    if (!skipUpdate) {\n      if (!this.parent) {\n        this.parent = this._tempDisplayObjectParent;\n        this.updateTransform();\n        this.parent = null;\n      } else {\n        this._recursivePostUpdateTransform();\n        this.updateTransform();\n      }\n    }\n    if (this._bounds.updateID !== this._boundsID) {\n      this.calculateBounds();\n      this._bounds.updateID = this._boundsID;\n    }\n    if (!rect) {\n      if (!this._boundsRect) {\n        this._boundsRect = new Rectangle();\n      }\n      rect = this._boundsRect;\n    }\n    return this._bounds.getRectangle(rect);\n  }\n  getLocalBounds(rect) {\n    if (!rect) {\n      if (!this._localBoundsRect) {\n        this._localBoundsRect = new Rectangle();\n      }\n      rect = this._localBoundsRect;\n    }\n    if (!this._localBounds) {\n      this._localBounds = new Bounds();\n    }\n    const transformRef = this.transform;\n    const parentRef = this.parent;\n    this.parent = null;\n    this.transform = this._tempDisplayObjectParent.transform;\n    const worldBounds = this._bounds;\n    const worldBoundsID = this._boundsID;\n    this._bounds = this._localBounds;\n    const bounds = this.getBounds(false, rect);\n    this.parent = parentRef;\n    this.transform = transformRef;\n    this._bounds = worldBounds;\n    this._bounds.updateID += this._boundsID - worldBoundsID;\n    return bounds;\n  }\n  toGlobal(position, point, skipUpdate = false) {\n    if (!skipUpdate) {\n      this._recursivePostUpdateTransform();\n      if (!this.parent) {\n        this.parent = this._tempDisplayObjectParent;\n        this.displayObjectUpdateTransform();\n        this.parent = null;\n      } else {\n        this.displayObjectUpdateTransform();\n      }\n    }\n    return this.worldTransform.apply(position, point);\n  }\n  toLocal(position, from, point, skipUpdate) {\n    if (from) {\n      position = from.toGlobal(position, point, skipUpdate);\n    }\n    if (!skipUpdate) {\n      this._recursivePostUpdateTransform();\n      if (!this.parent) {\n        this.parent = this._tempDisplayObjectParent;\n        this.displayObjectUpdateTransform();\n        this.parent = null;\n      } else {\n        this.displayObjectUpdateTransform();\n      }\n    }\n    return this.worldTransform.applyInverse(position, point);\n  }\n  setParent(container) {\n    if (!container || !container.addChild) {\n      throw new Error(\"setParent: Argument must be a Container\");\n    }\n    container.addChild(this);\n    return container;\n  }\n  removeFromParent() {\n    this.parent?.removeChild(this);\n  }\n  setTransform(x = 0, y = 0, scaleX = 1, scaleY = 1, rotation = 0, skewX = 0, skewY = 0, pivotX = 0, pivotY = 0) {\n    this.position.x = x;\n    this.position.y = y;\n    this.scale.x = !scaleX ? 1 : scaleX;\n    this.scale.y = !scaleY ? 1 : scaleY;\n    this.rotation = rotation;\n    this.skew.x = skewX;\n    this.skew.y = skewY;\n    this.pivot.x = pivotX;\n    this.pivot.y = pivotY;\n    return this;\n  }\n  destroy(_options) {\n    this.removeFromParent();\n    this._destroyed = true;\n    this.transform = null;\n    this.parent = null;\n    this._bounds = null;\n    this.mask = null;\n    this.cullArea = null;\n    this.filters = null;\n    this.filterArea = null;\n    this.hitArea = null;\n    this.eventMode = \"auto\";\n    this.interactiveChildren = false;\n    this.emit(\"destroyed\");\n    this.removeAllListeners();\n  }\n  get _tempDisplayObjectParent() {\n    if (this.tempDisplayObjectParent === null) {\n      this.tempDisplayObjectParent = new TemporaryDisplayObject();\n    }\n    return this.tempDisplayObjectParent;\n  }\n  enableTempParent() {\n    const myParent = this.parent;\n    this.parent = this._tempDisplayObjectParent;\n    return myParent;\n  }\n  disableTempParent(cacheParent) {\n    this.parent = cacheParent;\n  }\n  get x() {\n    return this.position.x;\n  }\n  set x(value) {\n    this.transform.position.x = value;\n  }\n  get y() {\n    return this.position.y;\n  }\n  set y(value) {\n    this.transform.position.y = value;\n  }\n  get worldTransform() {\n    return this.transform.worldTransform;\n  }\n  get localTransform() {\n    return this.transform.localTransform;\n  }\n  get position() {\n    return this.transform.position;\n  }\n  set position(value) {\n    this.transform.position.copyFrom(value);\n  }\n  get scale() {\n    return this.transform.scale;\n  }\n  set scale(value) {\n    this.transform.scale.copyFrom(value);\n  }\n  get pivot() {\n    return this.transform.pivot;\n  }\n  set pivot(value) {\n    this.transform.pivot.copyFrom(value);\n  }\n  get skew() {\n    return this.transform.skew;\n  }\n  set skew(value) {\n    this.transform.skew.copyFrom(value);\n  }\n  get rotation() {\n    return this.transform.rotation;\n  }\n  set rotation(value) {\n    this.transform.rotation = value;\n  }\n  get angle() {\n    return this.transform.rotation * RAD_TO_DEG;\n  }\n  set angle(value) {\n    this.transform.rotation = value * DEG_TO_RAD;\n  }\n  get zIndex() {\n    return this._zIndex;\n  }\n  set zIndex(value) {\n    this._zIndex = value;\n    if (this.parent) {\n      this.parent.sortDirty = true;\n    }\n  }\n  get worldVisible() {\n    let item = this;\n    do {\n      if (!item.visible) {\n        return false;\n      }\n      item = item.parent;\n    } while (item);\n    return true;\n  }\n  get mask() {\n    return this._mask;\n  }\n  set mask(value) {\n    if (this._mask === value) {\n      return;\n    }\n    if (this._mask) {\n      const maskObject = this._mask.isMaskData ? this._mask.maskObject : this._mask;\n      if (maskObject) {\n        maskObject._maskRefCount--;\n        if (maskObject._maskRefCount === 0) {\n          maskObject.renderable = true;\n          maskObject.isMask = false;\n        }\n      }\n    }\n    this._mask = value;\n    if (this._mask) {\n      const maskObject = this._mask.isMaskData ? this._mask.maskObject : this._mask;\n      if (maskObject) {\n        if (maskObject._maskRefCount === 0) {\n          maskObject.renderable = false;\n          maskObject.isMask = true;\n        }\n        maskObject._maskRefCount++;\n      }\n    }\n  }\n}\nclass TemporaryDisplayObject extends DisplayObject {\n  constructor() {\n    super(...arguments);\n    this.sortDirty = null;\n  }\n}\nDisplayObject.prototype.displayObjectUpdateTransform = DisplayObject.prototype.updateTransform;\n\nexport { DisplayObject, TemporaryDisplayObject };\n//# sourceMappingURL=DisplayObject.mjs.map\n","import { Matrix, utils, MASK_TYPES } from '@pixi/core';\nimport { DisplayObject } from './DisplayObject.mjs';\n\nconst tempMatrix = new Matrix();\nfunction sortChildren(a, b) {\n  if (a.zIndex === b.zIndex) {\n    return a._lastSortedIndex - b._lastSortedIndex;\n  }\n  return a.zIndex - b.zIndex;\n}\nconst _Container = class extends DisplayObject {\n  constructor() {\n    super();\n    this.children = [];\n    this.sortableChildren = _Container.defaultSortableChildren;\n    this.sortDirty = false;\n  }\n  onChildrenChange(_length) {\n  }\n  addChild(...children) {\n    if (children.length > 1) {\n      for (let i = 0; i < children.length; i++) {\n        this.addChild(children[i]);\n      }\n    } else {\n      const child = children[0];\n      if (child.parent) {\n        child.parent.removeChild(child);\n      }\n      child.parent = this;\n      this.sortDirty = true;\n      child.transform._parentID = -1;\n      this.children.push(child);\n      this._boundsID++;\n      this.onChildrenChange(this.children.length - 1);\n      this.emit(\"childAdded\", child, this, this.children.length - 1);\n      child.emit(\"added\", this);\n    }\n    return children[0];\n  }\n  addChildAt(child, index) {\n    if (index < 0 || index > this.children.length) {\n      throw new Error(`${child}addChildAt: The index ${index} supplied is out of bounds ${this.children.length}`);\n    }\n    if (child.parent) {\n      child.parent.removeChild(child);\n    }\n    child.parent = this;\n    this.sortDirty = true;\n    child.transform._parentID = -1;\n    this.children.splice(index, 0, child);\n    this._boundsID++;\n    this.onChildrenChange(index);\n    child.emit(\"added\", this);\n    this.emit(\"childAdded\", child, this, index);\n    return child;\n  }\n  swapChildren(child, child2) {\n    if (child === child2) {\n      return;\n    }\n    const index1 = this.getChildIndex(child);\n    const index2 = this.getChildIndex(child2);\n    this.children[index1] = child2;\n    this.children[index2] = child;\n    this.onChildrenChange(index1 < index2 ? index1 : index2);\n  }\n  getChildIndex(child) {\n    const index = this.children.indexOf(child);\n    if (index === -1) {\n      throw new Error(\"The supplied DisplayObject must be a child of the caller\");\n    }\n    return index;\n  }\n  setChildIndex(child, index) {\n    if (index < 0 || index >= this.children.length) {\n      throw new Error(`The index ${index} supplied is out of bounds ${this.children.length}`);\n    }\n    const currentIndex = this.getChildIndex(child);\n    utils.removeItems(this.children, currentIndex, 1);\n    this.children.splice(index, 0, child);\n    this.onChildrenChange(index);\n  }\n  getChildAt(index) {\n    if (index < 0 || index >= this.children.length) {\n      throw new Error(`getChildAt: Index (${index}) does not exist.`);\n    }\n    return this.children[index];\n  }\n  removeChild(...children) {\n    if (children.length > 1) {\n      for (let i = 0; i < children.length; i++) {\n        this.removeChild(children[i]);\n      }\n    } else {\n      const child = children[0];\n      const index = this.children.indexOf(child);\n      if (index === -1)\n        return null;\n      child.parent = null;\n      child.transform._parentID = -1;\n      utils.removeItems(this.children, index, 1);\n      this._boundsID++;\n      this.onChildrenChange(index);\n      child.emit(\"removed\", this);\n      this.emit(\"childRemoved\", child, this, index);\n    }\n    return children[0];\n  }\n  removeChildAt(index) {\n    const child = this.getChildAt(index);\n    child.parent = null;\n    child.transform._parentID = -1;\n    utils.removeItems(this.children, index, 1);\n    this._boundsID++;\n    this.onChildrenChange(index);\n    child.emit(\"removed\", this);\n    this.emit(\"childRemoved\", child, this, index);\n    return child;\n  }\n  removeChildren(beginIndex = 0, endIndex = this.children.length) {\n    const begin = beginIndex;\n    const end = endIndex;\n    const range = end - begin;\n    let removed;\n    if (range > 0 && range <= end) {\n      removed = this.children.splice(begin, range);\n      for (let i = 0; i < removed.length; ++i) {\n        removed[i].parent = null;\n        if (removed[i].transform) {\n          removed[i].transform._parentID = -1;\n        }\n      }\n      this._boundsID++;\n      this.onChildrenChange(beginIndex);\n      for (let i = 0; i < removed.length; ++i) {\n        removed[i].emit(\"removed\", this);\n        this.emit(\"childRemoved\", removed[i], this, i);\n      }\n      return removed;\n    } else if (range === 0 && this.children.length === 0) {\n      return [];\n    }\n    throw new RangeError(\"removeChildren: numeric values are outside the acceptable range.\");\n  }\n  sortChildren() {\n    let sortRequired = false;\n    for (let i = 0, j = this.children.length; i < j; ++i) {\n      const child = this.children[i];\n      child._lastSortedIndex = i;\n      if (!sortRequired && child.zIndex !== 0) {\n        sortRequired = true;\n      }\n    }\n    if (sortRequired && this.children.length > 1) {\n      this.children.sort(sortChildren);\n    }\n    this.sortDirty = false;\n  }\n  updateTransform() {\n    if (this.sortableChildren && this.sortDirty) {\n      this.sortChildren();\n    }\n    this._boundsID++;\n    this.transform.updateTransform(this.parent.transform);\n    this.worldAlpha = this.alpha * this.parent.worldAlpha;\n    for (let i = 0, j = this.children.length; i < j; ++i) {\n      const child = this.children[i];\n      if (child.visible) {\n        child.updateTransform();\n      }\n    }\n  }\n  calculateBounds() {\n    this._bounds.clear();\n    this._calculateBounds();\n    for (let i = 0; i < this.children.length; i++) {\n      const child = this.children[i];\n      if (!child.visible || !child.renderable) {\n        continue;\n      }\n      child.calculateBounds();\n      if (child._mask) {\n        const maskObject = child._mask.isMaskData ? child._mask.maskObject : child._mask;\n        if (maskObject) {\n          maskObject.calculateBounds();\n          this._bounds.addBoundsMask(child._bounds, maskObject._bounds);\n        } else {\n          this._bounds.addBounds(child._bounds);\n        }\n      } else if (child.filterArea) {\n        this._bounds.addBoundsArea(child._bounds, child.filterArea);\n      } else {\n        this._bounds.addBounds(child._bounds);\n      }\n    }\n    this._bounds.updateID = this._boundsID;\n  }\n  getLocalBounds(rect, skipChildrenUpdate = false) {\n    const result = super.getLocalBounds(rect);\n    if (!skipChildrenUpdate) {\n      for (let i = 0, j = this.children.length; i < j; ++i) {\n        const child = this.children[i];\n        if (child.visible) {\n          child.updateTransform();\n        }\n      }\n    }\n    return result;\n  }\n  _calculateBounds() {\n  }\n  _renderWithCulling(renderer) {\n    const sourceFrame = renderer.renderTexture.sourceFrame;\n    if (!(sourceFrame.width > 0 && sourceFrame.height > 0)) {\n      return;\n    }\n    let bounds;\n    let transform;\n    if (this.cullArea) {\n      bounds = this.cullArea;\n      transform = this.worldTransform;\n    } else if (this._render !== _Container.prototype._render) {\n      bounds = this.getBounds(true);\n    }\n    const projectionTransform = renderer.projection.transform;\n    if (projectionTransform) {\n      if (transform) {\n        transform = tempMatrix.copyFrom(transform);\n        transform.prepend(projectionTransform);\n      } else {\n        transform = projectionTransform;\n      }\n    }\n    if (bounds && sourceFrame.intersects(bounds, transform)) {\n      this._render(renderer);\n    } else if (this.cullArea) {\n      return;\n    }\n    for (let i = 0, j = this.children.length; i < j; ++i) {\n      const child = this.children[i];\n      const childCullable = child.cullable;\n      child.cullable = childCullable || !this.cullArea;\n      child.render(renderer);\n      child.cullable = childCullable;\n    }\n  }\n  render(renderer) {\n    if (!this.visible || this.worldAlpha <= 0 || !this.renderable) {\n      return;\n    }\n    if (this._mask || this.filters?.length) {\n      this.renderAdvanced(renderer);\n    } else if (this.cullable) {\n      this._renderWithCulling(renderer);\n    } else {\n      this._render(renderer);\n      for (let i = 0, j = this.children.length; i < j; ++i) {\n        this.children[i].render(renderer);\n      }\n    }\n  }\n  renderAdvanced(renderer) {\n    const filters = this.filters;\n    const mask = this._mask;\n    if (filters) {\n      if (!this._enabledFilters) {\n        this._enabledFilters = [];\n      }\n      this._enabledFilters.length = 0;\n      for (let i = 0; i < filters.length; i++) {\n        if (filters[i].enabled) {\n          this._enabledFilters.push(filters[i]);\n        }\n      }\n    }\n    const flush = filters && this._enabledFilters?.length || mask && (!mask.isMaskData || mask.enabled && (mask.autoDetect || mask.type !== MASK_TYPES.NONE));\n    if (flush) {\n      renderer.batch.flush();\n    }\n    if (filters && this._enabledFilters?.length) {\n      renderer.filter.push(this, this._enabledFilters);\n    }\n    if (mask) {\n      renderer.mask.push(this, this._mask);\n    }\n    if (this.cullable) {\n      this._renderWithCulling(renderer);\n    } else {\n      this._render(renderer);\n      for (let i = 0, j = this.children.length; i < j; ++i) {\n        this.children[i].render(renderer);\n      }\n    }\n    if (flush) {\n      renderer.batch.flush();\n    }\n    if (mask) {\n      renderer.mask.pop(this);\n    }\n    if (filters && this._enabledFilters?.length) {\n      renderer.filter.pop();\n    }\n  }\n  _render(_renderer) {\n  }\n  destroy(options) {\n    super.destroy();\n    this.sortDirty = false;\n    const destroyChildren = typeof options === \"boolean\" ? options : options?.children;\n    const oldChildren = this.removeChildren(0, this.children.length);\n    if (destroyChildren) {\n      for (let i = 0; i < oldChildren.length; ++i) {\n        oldChildren[i].destroy(options);\n      }\n    }\n  }\n  get width() {\n    return this.scale.x * this.getLocalBounds().width;\n  }\n  set width(value) {\n    const width = this.getLocalBounds().width;\n    if (width !== 0) {\n      this.scale.x = value / width;\n    } else {\n      this.scale.x = 1;\n    }\n    this._width = value;\n  }\n  get height() {\n    return this.scale.y * this.getLocalBounds().height;\n  }\n  set height(value) {\n    const height = this.getLocalBounds().height;\n    if (height !== 0) {\n      this.scale.y = value / height;\n    } else {\n      this.scale.y = 1;\n    }\n    this._height = value;\n  }\n};\nlet Container = _Container;\nContainer.defaultSortableChildren = false;\nContainer.prototype.containerUpdateTransform = Container.prototype.updateTransform;\n\nexport { Container };\n//# sourceMappingURL=Container.mjs.map\n","import { settings, utils } from '@pixi/core';\nexport { settings } from '@pixi/core';\nimport { Container } from './Container.mjs';\n\nObject.defineProperties(settings, {\n  SORTABLE_CHILDREN: {\n    get() {\n      return Container.defaultSortableChildren;\n    },\n    set(value) {\n      utils.deprecation(\"7.1.0\", \"settings.SORTABLE_CHILDREN is deprecated, use Container.defaultSortableChildren\");\n      Container.defaultSortableChildren = value;\n    }\n  }\n});\n//# sourceMappingURL=settings.mjs.map\n","import { Point, ObservablePoint, BLEND_MODES, Texture, settings, utils, Rectangle, Color } from '@pixi/core';\nimport { Container, Bounds } from '@pixi/display';\n\nconst tempPoint = new Point();\nconst indices = new Uint16Array([0, 1, 2, 0, 2, 3]);\nclass Sprite extends Container {\n  constructor(texture) {\n    super();\n    this._anchor = new ObservablePoint(this._onAnchorUpdate, this, texture ? texture.defaultAnchor.x : 0, texture ? texture.defaultAnchor.y : 0);\n    this._texture = null;\n    this._width = 0;\n    this._height = 0;\n    this._tint = null;\n    this._tintRGB = null;\n    this.tint = 16777215;\n    this.blendMode = BLEND_MODES.NORMAL;\n    this._cachedTint = 16777215;\n    this.uvs = null;\n    this.texture = texture || Texture.EMPTY;\n    this.vertexData = new Float32Array(8);\n    this.vertexTrimmedData = null;\n    this._transformID = -1;\n    this._textureID = -1;\n    this._transformTrimmedID = -1;\n    this._textureTrimmedID = -1;\n    this.indices = indices;\n    this.pluginName = \"batch\";\n    this.isSprite = true;\n    this._roundPixels = settings.ROUND_PIXELS;\n  }\n  _onTextureUpdate() {\n    this._textureID = -1;\n    this._textureTrimmedID = -1;\n    this._cachedTint = 16777215;\n    if (this._width) {\n      this.scale.x = utils.sign(this.scale.x) * this._width / this._texture.orig.width;\n    }\n    if (this._height) {\n      this.scale.y = utils.sign(this.scale.y) * this._height / this._texture.orig.height;\n    }\n  }\n  _onAnchorUpdate() {\n    this._transformID = -1;\n    this._transformTrimmedID = -1;\n  }\n  calculateVertices() {\n    const texture = this._texture;\n    if (this._transformID === this.transform._worldID && this._textureID === texture._updateID) {\n      return;\n    }\n    if (this._textureID !== texture._updateID) {\n      this.uvs = this._texture._uvs.uvsFloat32;\n    }\n    this._transformID = this.transform._worldID;\n    this._textureID = texture._updateID;\n    const wt = this.transform.worldTransform;\n    const a = wt.a;\n    const b = wt.b;\n    const c = wt.c;\n    const d = wt.d;\n    const tx = wt.tx;\n    const ty = wt.ty;\n    const vertexData = this.vertexData;\n    const trim = texture.trim;\n    const orig = texture.orig;\n    const anchor = this._anchor;\n    let w0 = 0;\n    let w1 = 0;\n    let h0 = 0;\n    let h1 = 0;\n    if (trim) {\n      w1 = trim.x - anchor._x * orig.width;\n      w0 = w1 + trim.width;\n      h1 = trim.y - anchor._y * orig.height;\n      h0 = h1 + trim.height;\n    } else {\n      w1 = -anchor._x * orig.width;\n      w0 = w1 + orig.width;\n      h1 = -anchor._y * orig.height;\n      h0 = h1 + orig.height;\n    }\n    vertexData[0] = a * w1 + c * h1 + tx;\n    vertexData[1] = d * h1 + b * w1 + ty;\n    vertexData[2] = a * w0 + c * h1 + tx;\n    vertexData[3] = d * h1 + b * w0 + ty;\n    vertexData[4] = a * w0 + c * h0 + tx;\n    vertexData[5] = d * h0 + b * w0 + ty;\n    vertexData[6] = a * w1 + c * h0 + tx;\n    vertexData[7] = d * h0 + b * w1 + ty;\n    if (this._roundPixels) {\n      const resolution = settings.RESOLUTION;\n      for (let i = 0; i < vertexData.length; ++i) {\n        vertexData[i] = Math.round(vertexData[i] * resolution) / resolution;\n      }\n    }\n  }\n  calculateTrimmedVertices() {\n    if (!this.vertexTrimmedData) {\n      this.vertexTrimmedData = new Float32Array(8);\n    } else if (this._transformTrimmedID === this.transform._worldID && this._textureTrimmedID === this._texture._updateID) {\n      return;\n    }\n    this._transformTrimmedID = this.transform._worldID;\n    this._textureTrimmedID = this._texture._updateID;\n    const texture = this._texture;\n    const vertexData = this.vertexTrimmedData;\n    const orig = texture.orig;\n    const anchor = this._anchor;\n    const wt = this.transform.worldTransform;\n    const a = wt.a;\n    const b = wt.b;\n    const c = wt.c;\n    const d = wt.d;\n    const tx = wt.tx;\n    const ty = wt.ty;\n    const w1 = -anchor._x * orig.width;\n    const w0 = w1 + orig.width;\n    const h1 = -anchor._y * orig.height;\n    const h0 = h1 + orig.height;\n    vertexData[0] = a * w1 + c * h1 + tx;\n    vertexData[1] = d * h1 + b * w1 + ty;\n    vertexData[2] = a * w0 + c * h1 + tx;\n    vertexData[3] = d * h1 + b * w0 + ty;\n    vertexData[4] = a * w0 + c * h0 + tx;\n    vertexData[5] = d * h0 + b * w0 + ty;\n    vertexData[6] = a * w1 + c * h0 + tx;\n    vertexData[7] = d * h0 + b * w1 + ty;\n  }\n  _render(renderer) {\n    this.calculateVertices();\n    renderer.batch.setObjectRenderer(renderer.plugins[this.pluginName]);\n    renderer.plugins[this.pluginName].render(this);\n  }\n  _calculateBounds() {\n    const trim = this._texture.trim;\n    const orig = this._texture.orig;\n    if (!trim || trim.width === orig.width && trim.height === orig.height) {\n      this.calculateVertices();\n      this._bounds.addQuad(this.vertexData);\n    } else {\n      this.calculateTrimmedVertices();\n      this._bounds.addQuad(this.vertexTrimmedData);\n    }\n  }\n  getLocalBounds(rect) {\n    if (this.children.length === 0) {\n      if (!this._localBounds) {\n        this._localBounds = new Bounds();\n      }\n      this._localBounds.minX = this._texture.orig.width * -this._anchor._x;\n      this._localBounds.minY = this._texture.orig.height * -this._anchor._y;\n      this._localBounds.maxX = this._texture.orig.width * (1 - this._anchor._x);\n      this._localBounds.maxY = this._texture.orig.height * (1 - this._anchor._y);\n      if (!rect) {\n        if (!this._localBoundsRect) {\n          this._localBoundsRect = new Rectangle();\n        }\n        rect = this._localBoundsRect;\n      }\n      return this._localBounds.getRectangle(rect);\n    }\n    return super.getLocalBounds.call(this, rect);\n  }\n  containsPoint(point) {\n    this.worldTransform.applyInverse(point, tempPoint);\n    const width = this._texture.orig.width;\n    const height = this._texture.orig.height;\n    const x1 = -width * this.anchor.x;\n    let y1 = 0;\n    if (tempPoint.x >= x1 && tempPoint.x < x1 + width) {\n      y1 = -height * this.anchor.y;\n      if (tempPoint.y >= y1 && tempPoint.y < y1 + height) {\n        return true;\n      }\n    }\n    return false;\n  }\n  destroy(options) {\n    super.destroy(options);\n    this._texture.off(\"update\", this._onTextureUpdate, this);\n    this._anchor = null;\n    const destroyTexture = typeof options === \"boolean\" ? options : options?.texture;\n    if (destroyTexture) {\n      const destroyBaseTexture = typeof options === \"boolean\" ? options : options?.baseTexture;\n      this._texture.destroy(!!destroyBaseTexture);\n    }\n    this._texture = null;\n  }\n  static from(source, options) {\n    const texture = source instanceof Texture ? source : Texture.from(source, options);\n    return new Sprite(texture);\n  }\n  set roundPixels(value) {\n    if (this._roundPixels !== value) {\n      this._transformID = -1;\n    }\n    this._roundPixels = value;\n  }\n  get roundPixels() {\n    return this._roundPixels;\n  }\n  get width() {\n    return Math.abs(this.scale.x) * this._texture.orig.width;\n  }\n  set width(value) {\n    const s = utils.sign(this.scale.x) || 1;\n    this.scale.x = s * value / this._texture.orig.width;\n    this._width = value;\n  }\n  get height() {\n    return Math.abs(this.scale.y) * this._texture.orig.height;\n  }\n  set height(value) {\n    const s = utils.sign(this.scale.y) || 1;\n    this.scale.y = s * value / this._texture.orig.height;\n    this._height = value;\n  }\n  get anchor() {\n    return this._anchor;\n  }\n  set anchor(value) {\n    this._anchor.copyFrom(value);\n  }\n  get tint() {\n    return this._tint;\n  }\n  set tint(value) {\n    this._tint = value;\n    this._tintRGB = Color.shared.setValue(value).toLittleEndianNumber();\n  }\n  get texture() {\n    return this._texture;\n  }\n  set texture(value) {\n    if (this._texture === value) {\n      return;\n    }\n    if (this._texture) {\n      this._texture.off(\"update\", this._onTextureUpdate, this);\n    }\n    this._texture = value || Texture.EMPTY;\n    this._cachedTint = 16777215;\n    this._textureID = -1;\n    this._textureTrimmedID = -1;\n    if (value) {\n      if (value.baseTexture.valid) {\n        this._onTextureUpdate();\n      } else {\n        value.once(\"update\", this._onTextureUpdate, this);\n      }\n    }\n  }\n}\n\nexport { Sprite };\n//# sourceMappingURL=Sprite.mjs.map\n","import { Matrix, settings, RenderTexture, utils, BaseTexture, Texture } from '@pixi/core';\nimport { DisplayObject } from '@pixi/display';\nimport { Sprite } from '@pixi/sprite';\n\nconst _tempMatrix = new Matrix();\nDisplayObject.prototype._cacheAsBitmap = false;\nDisplayObject.prototype._cacheData = null;\nDisplayObject.prototype._cacheAsBitmapResolution = null;\nDisplayObject.prototype._cacheAsBitmapMultisample = null;\nclass CacheData {\n  constructor() {\n    this.textureCacheId = null;\n    this.originalRender = null;\n    this.originalRenderCanvas = null;\n    this.originalCalculateBounds = null;\n    this.originalGetLocalBounds = null;\n    this.originalUpdateTransform = null;\n    this.originalDestroy = null;\n    this.originalMask = null;\n    this.originalFilterArea = null;\n    this.originalContainsPoint = null;\n    this.sprite = null;\n  }\n}\nObject.defineProperties(DisplayObject.prototype, {\n  cacheAsBitmapResolution: {\n    get() {\n      return this._cacheAsBitmapResolution;\n    },\n    set(resolution) {\n      if (resolution === this._cacheAsBitmapResolution) {\n        return;\n      }\n      this._cacheAsBitmapResolution = resolution;\n      if (this.cacheAsBitmap) {\n        this.cacheAsBitmap = false;\n        this.cacheAsBitmap = true;\n      }\n    }\n  },\n  cacheAsBitmapMultisample: {\n    get() {\n      return this._cacheAsBitmapMultisample;\n    },\n    set(multisample) {\n      if (multisample === this._cacheAsBitmapMultisample) {\n        return;\n      }\n      this._cacheAsBitmapMultisample = multisample;\n      if (this.cacheAsBitmap) {\n        this.cacheAsBitmap = false;\n        this.cacheAsBitmap = true;\n      }\n    }\n  },\n  cacheAsBitmap: {\n    get() {\n      return this._cacheAsBitmap;\n    },\n    set(value) {\n      if (this._cacheAsBitmap === value) {\n        return;\n      }\n      this._cacheAsBitmap = value;\n      let data;\n      if (value) {\n        if (!this._cacheData) {\n          this._cacheData = new CacheData();\n        }\n        data = this._cacheData;\n        data.originalRender = this.render;\n        data.originalRenderCanvas = this.renderCanvas;\n        data.originalUpdateTransform = this.updateTransform;\n        data.originalCalculateBounds = this.calculateBounds;\n        data.originalGetLocalBounds = this.getLocalBounds;\n        data.originalDestroy = this.destroy;\n        data.originalContainsPoint = this.containsPoint;\n        data.originalMask = this._mask;\n        data.originalFilterArea = this.filterArea;\n        this.render = this._renderCached;\n        this.renderCanvas = this._renderCachedCanvas;\n        this.destroy = this._cacheAsBitmapDestroy;\n      } else {\n        data = this._cacheData;\n        if (data.sprite) {\n          this._destroyCachedDisplayObject();\n        }\n        this.render = data.originalRender;\n        this.renderCanvas = data.originalRenderCanvas;\n        this.calculateBounds = data.originalCalculateBounds;\n        this.getLocalBounds = data.originalGetLocalBounds;\n        this.destroy = data.originalDestroy;\n        this.updateTransform = data.originalUpdateTransform;\n        this.containsPoint = data.originalContainsPoint;\n        this._mask = data.originalMask;\n        this.filterArea = data.originalFilterArea;\n      }\n    }\n  }\n});\nDisplayObject.prototype._renderCached = function _renderCached(renderer) {\n  if (!this.visible || this.worldAlpha <= 0 || !this.renderable) {\n    return;\n  }\n  this._initCachedDisplayObject(renderer);\n  this._cacheData.sprite.transform._worldID = this.transform._worldID;\n  this._cacheData.sprite.worldAlpha = this.worldAlpha;\n  this._cacheData.sprite._render(renderer);\n};\nDisplayObject.prototype._initCachedDisplayObject = function _initCachedDisplayObject(renderer) {\n  if (this._cacheData?.sprite) {\n    return;\n  }\n  const cacheAlpha = this.alpha;\n  this.alpha = 1;\n  renderer.batch.flush();\n  const bounds = this.getLocalBounds(null, true).clone();\n  if (this.filters?.length) {\n    const padding = this.filters[0].padding;\n    bounds.pad(padding);\n  }\n  bounds.ceil(settings.RESOLUTION);\n  const cachedRenderTexture = renderer.renderTexture.current;\n  const cachedSourceFrame = renderer.renderTexture.sourceFrame.clone();\n  const cachedDestinationFrame = renderer.renderTexture.destinationFrame.clone();\n  const cachedProjectionTransform = renderer.projection.transform;\n  const renderTexture = RenderTexture.create({\n    width: bounds.width,\n    height: bounds.height,\n    resolution: this.cacheAsBitmapResolution || renderer.resolution,\n    multisample: this.cacheAsBitmapMultisample ?? renderer.multisample\n  });\n  const textureCacheId = `cacheAsBitmap_${utils.uid()}`;\n  this._cacheData.textureCacheId = textureCacheId;\n  BaseTexture.addToCache(renderTexture.baseTexture, textureCacheId);\n  Texture.addToCache(renderTexture, textureCacheId);\n  const m = this.transform.localTransform.copyTo(_tempMatrix).invert().translate(-bounds.x, -bounds.y);\n  this.render = this._cacheData.originalRender;\n  renderer.render(this, { renderTexture, clear: true, transform: m, skipUpdateTransform: false });\n  renderer.framebuffer.blit();\n  renderer.projection.transform = cachedProjectionTransform;\n  renderer.renderTexture.bind(cachedRenderTexture, cachedSourceFrame, cachedDestinationFrame);\n  this.render = this._renderCached;\n  this.updateTransform = this.displayObjectUpdateTransform;\n  this.calculateBounds = this._calculateCachedBounds;\n  this.getLocalBounds = this._getCachedLocalBounds;\n  this._mask = null;\n  this.filterArea = null;\n  this.alpha = cacheAlpha;\n  const cachedSprite = new Sprite(renderTexture);\n  cachedSprite.transform.worldTransform = this.transform.worldTransform;\n  cachedSprite.anchor.x = -(bounds.x / bounds.width);\n  cachedSprite.anchor.y = -(bounds.y / bounds.height);\n  cachedSprite.alpha = cacheAlpha;\n  cachedSprite._bounds = this._bounds;\n  this._cacheData.sprite = cachedSprite;\n  this.transform._parentID = -1;\n  if (!this.parent) {\n    this.enableTempParent();\n    this.updateTransform();\n    this.disableTempParent(null);\n  } else {\n    this.updateTransform();\n  }\n  this.containsPoint = cachedSprite.containsPoint.bind(cachedSprite);\n};\nDisplayObject.prototype._renderCachedCanvas = function _renderCachedCanvas(renderer) {\n  if (!this.visible || this.worldAlpha <= 0 || !this.renderable) {\n    return;\n  }\n  this._initCachedDisplayObjectCanvas(renderer);\n  this._cacheData.sprite.worldAlpha = this.worldAlpha;\n  this._cacheData.sprite._renderCanvas(renderer);\n};\nDisplayObject.prototype._initCachedDisplayObjectCanvas = function _initCachedDisplayObjectCanvas(renderer) {\n  if (this._cacheData?.sprite) {\n    return;\n  }\n  const bounds = this.getLocalBounds(null, true);\n  const cacheAlpha = this.alpha;\n  this.alpha = 1;\n  const cachedRenderTarget = renderer.canvasContext.activeContext;\n  const cachedProjectionTransform = renderer._projTransform;\n  bounds.ceil(settings.RESOLUTION);\n  const renderTexture = RenderTexture.create({ width: bounds.width, height: bounds.height });\n  const textureCacheId = `cacheAsBitmap_${utils.uid()}`;\n  this._cacheData.textureCacheId = textureCacheId;\n  BaseTexture.addToCache(renderTexture.baseTexture, textureCacheId);\n  Texture.addToCache(renderTexture, textureCacheId);\n  const m = _tempMatrix;\n  this.transform.localTransform.copyTo(m);\n  m.invert();\n  m.tx -= bounds.x;\n  m.ty -= bounds.y;\n  this.renderCanvas = this._cacheData.originalRenderCanvas;\n  renderer.render(this, { renderTexture, clear: true, transform: m, skipUpdateTransform: false });\n  renderer.canvasContext.activeContext = cachedRenderTarget;\n  renderer._projTransform = cachedProjectionTransform;\n  this.renderCanvas = this._renderCachedCanvas;\n  this.updateTransform = this.displayObjectUpdateTransform;\n  this.calculateBounds = this._calculateCachedBounds;\n  this.getLocalBounds = this._getCachedLocalBounds;\n  this._mask = null;\n  this.filterArea = null;\n  this.alpha = cacheAlpha;\n  const cachedSprite = new Sprite(renderTexture);\n  cachedSprite.transform.worldTransform = this.transform.worldTransform;\n  cachedSprite.anchor.x = -(bounds.x / bounds.width);\n  cachedSprite.anchor.y = -(bounds.y / bounds.height);\n  cachedSprite.alpha = cacheAlpha;\n  cachedSprite._bounds = this._bounds;\n  this._cacheData.sprite = cachedSprite;\n  this.transform._parentID = -1;\n  if (!this.parent) {\n    this.parent = renderer._tempDisplayObjectParent;\n    this.updateTransform();\n    this.parent = null;\n  } else {\n    this.updateTransform();\n  }\n  this.containsPoint = cachedSprite.containsPoint.bind(cachedSprite);\n};\nDisplayObject.prototype._calculateCachedBounds = function _calculateCachedBounds() {\n  this._bounds.clear();\n  this._cacheData.sprite.transform._worldID = this.transform._worldID;\n  this._cacheData.sprite._calculateBounds();\n  this._bounds.updateID = this._boundsID;\n};\nDisplayObject.prototype._getCachedLocalBounds = function _getCachedLocalBounds() {\n  return this._cacheData.sprite.getLocalBounds(null);\n};\nDisplayObject.prototype._destroyCachedDisplayObject = function _destroyCachedDisplayObject() {\n  this._cacheData.sprite._texture.destroy(true);\n  this._cacheData.sprite = null;\n  BaseTexture.removeFromCache(this._cacheData.textureCacheId);\n  Texture.removeFromCache(this._cacheData.textureCacheId);\n  this._cacheData.textureCacheId = null;\n};\nDisplayObject.prototype._cacheAsBitmapDestroy = function _cacheAsBitmapDestroy(options) {\n  this.cacheAsBitmap = false;\n  this.destroy(options);\n};\n\nexport { CacheData };\n//# sourceMappingURL=index.mjs.map\n","import { DisplayObject, Container } from '@pixi/display';\n\nDisplayObject.prototype.name = null;\nContainer.prototype.getChildByName = function getChildByName(name, deep) {\n  for (let i = 0, j = this.children.length; i < j; i++) {\n    if (this.children[i].name === name) {\n      return this.children[i];\n    }\n  }\n  if (deep) {\n    for (let i = 0, j = this.children.length; i < j; i++) {\n      const child = this.children[i];\n      if (!child.getChildByName) {\n        continue;\n      }\n      const target = child.getChildByName(name, true);\n      if (target) {\n        return target;\n      }\n    }\n  }\n  return null;\n};\n//# sourceMappingURL=index.mjs.map\n","import { Point } from '@pixi/core';\nimport { DisplayObject } from '@pixi/display';\n\nDisplayObject.prototype.getGlobalPosition = function getGlobalPosition(point = new Point(), skipUpdate = false) {\n  if (this.parent) {\n    this.parent.toGlobal(this.position, point, skipUpdate);\n  } else {\n    point.x = this.position.x;\n    point.y = this.position.y;\n  }\n  return point;\n};\n//# sourceMappingURL=index.mjs.map\n","const GAUSSIAN_VALUES = {\n  5: [0.153388, 0.221461, 0.250301],\n  7: [0.071303, 0.131514, 0.189879, 0.214607],\n  9: [0.028532, 0.067234, 0.124009, 0.179044, 0.20236],\n  11: [93e-4, 0.028002, 0.065984, 0.121703, 0.175713, 0.198596],\n  13: [2406e-6, 9255e-6, 0.027867, 0.065666, 0.121117, 0.174868, 0.197641],\n  15: [489e-6, 2403e-6, 9246e-6, 0.02784, 0.065602, 0.120999, 0.174697, 0.197448]\n};\nconst fragTemplate = [\n  \"varying vec2 vBlurTexCoords[%size%];\",\n  \"uniform sampler2D uSampler;\",\n  \"void main(void)\",\n  \"{\",\n  \"    gl_FragColor = vec4(0.0);\",\n  \"    %blur%\",\n  \"}\"\n].join(\"\\n\");\nfunction generateBlurFragSource(kernelSize) {\n  const kernel = GAUSSIAN_VALUES[kernelSize];\n  const halfLength = kernel.length;\n  let fragSource = fragTemplate;\n  let blurLoop = \"\";\n  const template = \"gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;\";\n  let value;\n  for (let i = 0; i < kernelSize; i++) {\n    let blur = template.replace(\"%index%\", i.toString());\n    value = i;\n    if (i >= halfLength) {\n      value = kernelSize - i - 1;\n    }\n    blur = blur.replace(\"%value%\", kernel[value].toString());\n    blurLoop += blur;\n    blurLoop += \"\\n\";\n  }\n  fragSource = fragSource.replace(\"%blur%\", blurLoop);\n  fragSource = fragSource.replace(\"%size%\", kernelSize.toString());\n  return fragSource;\n}\n\nexport { generateBlurFragSource };\n//# sourceMappingURL=generateBlurFragSource.mjs.map\n","import { Filter, CLEAR_MODES } from '@pixi/core';\nimport { generateBlurFragSource } from './generateBlurFragSource.mjs';\nimport { generateBlurVertSource } from './generateBlurVertSource.mjs';\n\nclass BlurFilterPass extends Filter {\n  constructor(horizontal, strength = 8, quality = 4, resolution = Filter.defaultResolution, kernelSize = 5) {\n    const vertSrc = generateBlurVertSource(kernelSize, horizontal);\n    const fragSrc = generateBlurFragSource(kernelSize);\n    super(vertSrc, fragSrc);\n    this.horizontal = horizontal;\n    this.resolution = resolution;\n    this._quality = 0;\n    this.quality = quality;\n    this.blur = strength;\n  }\n  apply(filterManager, input, output, clearMode) {\n    if (output) {\n      if (this.horizontal) {\n        this.uniforms.strength = 1 / output.width * (output.width / input.width);\n      } else {\n        this.uniforms.strength = 1 / output.height * (output.height / input.height);\n      }\n    } else {\n      if (this.horizontal) {\n        this.uniforms.strength = 1 / filterManager.renderer.width * (filterManager.renderer.width / input.width);\n      } else {\n        this.uniforms.strength = 1 / filterManager.renderer.height * (filterManager.renderer.height / input.height);\n      }\n    }\n    this.uniforms.strength *= this.strength;\n    this.uniforms.strength /= this.passes;\n    if (this.passes === 1) {\n      filterManager.applyFilter(this, input, output, clearMode);\n    } else {\n      const renderTarget = filterManager.getFilterTexture();\n      const renderer = filterManager.renderer;\n      let flip = input;\n      let flop = renderTarget;\n      this.state.blend = false;\n      filterManager.applyFilter(this, flip, flop, CLEAR_MODES.CLEAR);\n      for (let i = 1; i < this.passes - 1; i++) {\n        filterManager.bindAndClear(flip, CLEAR_MODES.BLIT);\n        this.uniforms.uSampler = flop;\n        const temp = flop;\n        flop = flip;\n        flip = temp;\n        renderer.shader.bind(this);\n        renderer.geometry.draw(5);\n      }\n      this.state.blend = true;\n      filterManager.applyFilter(this, flop, output, clearMode);\n      filterManager.returnFilterTexture(renderTarget);\n    }\n  }\n  get blur() {\n    return this.strength;\n  }\n  set blur(value) {\n    this.padding = 1 + Math.abs(value) * 2;\n    this.strength = value;\n  }\n  get quality() {\n    return this._quality;\n  }\n  set quality(value) {\n    this._quality = value;\n    this.passes = value;\n  }\n}\n\nexport { BlurFilterPass };\n//# sourceMappingURL=BlurFilterPass.mjs.map\n","const vertTemplate = `\n    attribute vec2 aVertexPosition;\n\n    uniform mat3 projectionMatrix;\n\n    uniform float strength;\n\n    varying vec2 vBlurTexCoords[%size%];\n\n    uniform vec4 inputSize;\n    uniform vec4 outputFrame;\n\n    vec4 filterVertexPosition( void )\n    {\n        vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n        return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n    }\n\n    vec2 filterTextureCoord( void )\n    {\n        return aVertexPosition * (outputFrame.zw * inputSize.zw);\n    }\n\n    void main(void)\n    {\n        gl_Position = filterVertexPosition();\n\n        vec2 textureCoord = filterTextureCoord();\n        %blur%\n    }`;\nfunction generateBlurVertSource(kernelSize, x) {\n  const halfLength = Math.ceil(kernelSize / 2);\n  let vertSource = vertTemplate;\n  let blurLoop = \"\";\n  let template;\n  if (x) {\n    template = \"vBlurTexCoords[%index%] =  textureCoord + vec2(%sampleIndex% * strength, 0.0);\";\n  } else {\n    template = \"vBlurTexCoords[%index%] =  textureCoord + vec2(0.0, %sampleIndex% * strength);\";\n  }\n  for (let i = 0; i < kernelSize; i++) {\n    let blur = template.replace(\"%index%\", i.toString());\n    blur = blur.replace(\"%sampleIndex%\", `${i - (halfLength - 1)}.0`);\n    blurLoop += blur;\n    blurLoop += \"\\n\";\n  }\n  vertSource = vertSource.replace(\"%blur%\", blurLoop);\n  vertSource = vertSource.replace(\"%size%\", kernelSize.toString());\n  return vertSource;\n}\n\nexport { generateBlurVertSource };\n//# sourceMappingURL=generateBlurVertSource.mjs.map\n","import { Filter, defaultFilterVertex, Color } from '@pixi/core';\nimport fragment from './colorMatrix.mjs';\n\nclass ColorMatrixFilter extends Filter {\n  constructor() {\n    const uniforms = {\n      m: new Float32Array([\n        1,\n        0,\n        0,\n        0,\n        0,\n        0,\n        1,\n        0,\n        0,\n        0,\n        0,\n        0,\n        1,\n        0,\n        0,\n        0,\n        0,\n        0,\n        1,\n        0\n      ]),\n      uAlpha: 1\n    };\n    super(defaultFilterVertex, fragment, uniforms);\n    this.alpha = 1;\n  }\n  _loadMatrix(matrix, multiply = false) {\n    let newMatrix = matrix;\n    if (multiply) {\n      this._multiply(newMatrix, this.uniforms.m, matrix);\n      newMatrix = this._colorMatrix(newMatrix);\n    }\n    this.uniforms.m = newMatrix;\n  }\n  _multiply(out, a, b) {\n    out[0] = a[0] * b[0] + a[1] * b[5] + a[2] * b[10] + a[3] * b[15];\n    out[1] = a[0] * b[1] + a[1] * b[6] + a[2] * b[11] + a[3] * b[16];\n    out[2] = a[0] * b[2] + a[1] * b[7] + a[2] * b[12] + a[3] * b[17];\n    out[3] = a[0] * b[3] + a[1] * b[8] + a[2] * b[13] + a[3] * b[18];\n    out[4] = a[0] * b[4] + a[1] * b[9] + a[2] * b[14] + a[3] * b[19] + a[4];\n    out[5] = a[5] * b[0] + a[6] * b[5] + a[7] * b[10] + a[8] * b[15];\n    out[6] = a[5] * b[1] + a[6] * b[6] + a[7] * b[11] + a[8] * b[16];\n    out[7] = a[5] * b[2] + a[6] * b[7] + a[7] * b[12] + a[8] * b[17];\n    out[8] = a[5] * b[3] + a[6] * b[8] + a[7] * b[13] + a[8] * b[18];\n    out[9] = a[5] * b[4] + a[6] * b[9] + a[7] * b[14] + a[8] * b[19] + a[9];\n    out[10] = a[10] * b[0] + a[11] * b[5] + a[12] * b[10] + a[13] * b[15];\n    out[11] = a[10] * b[1] + a[11] * b[6] + a[12] * b[11] + a[13] * b[16];\n    out[12] = a[10] * b[2] + a[11] * b[7] + a[12] * b[12] + a[13] * b[17];\n    out[13] = a[10] * b[3] + a[11] * b[8] + a[12] * b[13] + a[13] * b[18];\n    out[14] = a[10] * b[4] + a[11] * b[9] + a[12] * b[14] + a[13] * b[19] + a[14];\n    out[15] = a[15] * b[0] + a[16] * b[5] + a[17] * b[10] + a[18] * b[15];\n    out[16] = a[15] * b[1] + a[16] * b[6] + a[17] * b[11] + a[18] * b[16];\n    out[17] = a[15] * b[2] + a[16] * b[7] + a[17] * b[12] + a[18] * b[17];\n    out[18] = a[15] * b[3] + a[16] * b[8] + a[17] * b[13] + a[18] * b[18];\n    out[19] = a[15] * b[4] + a[16] * b[9] + a[17] * b[14] + a[18] * b[19] + a[19];\n    return out;\n  }\n  _colorMatrix(matrix) {\n    const m = new Float32Array(matrix);\n    m[4] /= 255;\n    m[9] /= 255;\n    m[14] /= 255;\n    m[19] /= 255;\n    return m;\n  }\n  brightness(b, multiply) {\n    const matrix = [\n      b,\n      0,\n      0,\n      0,\n      0,\n      0,\n      b,\n      0,\n      0,\n      0,\n      0,\n      0,\n      b,\n      0,\n      0,\n      0,\n      0,\n      0,\n      1,\n      0\n    ];\n    this._loadMatrix(matrix, multiply);\n  }\n  tint(color, multiply) {\n    const [r, g, b] = Color.shared.setValue(color).toArray();\n    const matrix = [\n      r,\n      0,\n      0,\n      0,\n      0,\n      0,\n      g,\n      0,\n      0,\n      0,\n      0,\n      0,\n      b,\n      0,\n      0,\n      0,\n      0,\n      0,\n      1,\n      0\n    ];\n    this._loadMatrix(matrix, multiply);\n  }\n  greyscale(scale, multiply) {\n    const matrix = [\n      scale,\n      scale,\n      scale,\n      0,\n      0,\n      scale,\n      scale,\n      scale,\n      0,\n      0,\n      scale,\n      scale,\n      scale,\n      0,\n      0,\n      0,\n      0,\n      0,\n      1,\n      0\n    ];\n    this._loadMatrix(matrix, multiply);\n  }\n  blackAndWhite(multiply) {\n    const matrix = [\n      0.3,\n      0.6,\n      0.1,\n      0,\n      0,\n      0.3,\n      0.6,\n      0.1,\n      0,\n      0,\n      0.3,\n      0.6,\n      0.1,\n      0,\n      0,\n      0,\n      0,\n      0,\n      1,\n      0\n    ];\n    this._loadMatrix(matrix, multiply);\n  }\n  hue(rotation, multiply) {\n    rotation = (rotation || 0) / 180 * Math.PI;\n    const cosR = Math.cos(rotation);\n    const sinR = Math.sin(rotation);\n    const sqrt = Math.sqrt;\n    const w = 1 / 3;\n    const sqrW = sqrt(w);\n    const a00 = cosR + (1 - cosR) * w;\n    const a01 = w * (1 - cosR) - sqrW * sinR;\n    const a02 = w * (1 - cosR) + sqrW * sinR;\n    const a10 = w * (1 - cosR) + sqrW * sinR;\n    const a11 = cosR + w * (1 - cosR);\n    const a12 = w * (1 - cosR) - sqrW * sinR;\n    const a20 = w * (1 - cosR) - sqrW * sinR;\n    const a21 = w * (1 - cosR) + sqrW * sinR;\n    const a22 = cosR + w * (1 - cosR);\n    const matrix = [\n      a00,\n      a01,\n      a02,\n      0,\n      0,\n      a10,\n      a11,\n      a12,\n      0,\n      0,\n      a20,\n      a21,\n      a22,\n      0,\n      0,\n      0,\n      0,\n      0,\n      1,\n      0\n    ];\n    this._loadMatrix(matrix, multiply);\n  }\n  contrast(amount, multiply) {\n    const v = (amount || 0) + 1;\n    const o = -0.5 * (v - 1);\n    const matrix = [\n      v,\n      0,\n      0,\n      0,\n      o,\n      0,\n      v,\n      0,\n      0,\n      o,\n      0,\n      0,\n      v,\n      0,\n      o,\n      0,\n      0,\n      0,\n      1,\n      0\n    ];\n    this._loadMatrix(matrix, multiply);\n  }\n  saturate(amount = 0, multiply) {\n    const x = amount * 2 / 3 + 1;\n    const y = (x - 1) * -0.5;\n    const matrix = [\n      x,\n      y,\n      y,\n      0,\n      0,\n      y,\n      x,\n      y,\n      0,\n      0,\n      y,\n      y,\n      x,\n      0,\n      0,\n      0,\n      0,\n      0,\n      1,\n      0\n    ];\n    this._loadMatrix(matrix, multiply);\n  }\n  desaturate() {\n    this.saturate(-1);\n  }\n  negative(multiply) {\n    const matrix = [\n      -1,\n      0,\n      0,\n      1,\n      0,\n      0,\n      -1,\n      0,\n      1,\n      0,\n      0,\n      0,\n      -1,\n      1,\n      0,\n      0,\n      0,\n      0,\n      1,\n      0\n    ];\n    this._loadMatrix(matrix, multiply);\n  }\n  sepia(multiply) {\n    const matrix = [\n      0.393,\n      0.7689999,\n      0.18899999,\n      0,\n      0,\n      0.349,\n      0.6859999,\n      0.16799999,\n      0,\n      0,\n      0.272,\n      0.5339999,\n      0.13099999,\n      0,\n      0,\n      0,\n      0,\n      0,\n      1,\n      0\n    ];\n    this._loadMatrix(matrix, multiply);\n  }\n  technicolor(multiply) {\n    const matrix = [\n      1.9125277891456083,\n      -0.8545344976951645,\n      -0.09155508482755585,\n      0,\n      11.793603434377337,\n      -0.3087833385928097,\n      1.7658908555458428,\n      -0.10601743074722245,\n      0,\n      -70.35205161461398,\n      -0.231103377548616,\n      -0.7501899197440212,\n      1.847597816108189,\n      0,\n      30.950940869491138,\n      0,\n      0,\n      0,\n      1,\n      0\n    ];\n    this._loadMatrix(matrix, multiply);\n  }\n  polaroid(multiply) {\n    const matrix = [\n      1.438,\n      -0.062,\n      -0.062,\n      0,\n      0,\n      -0.122,\n      1.378,\n      -0.122,\n      0,\n      0,\n      -0.016,\n      -0.016,\n      1.483,\n      0,\n      0,\n      0,\n      0,\n      0,\n      1,\n      0\n    ];\n    this._loadMatrix(matrix, multiply);\n  }\n  toBGR(multiply) {\n    const matrix = [\n      0,\n      0,\n      1,\n      0,\n      0,\n      0,\n      1,\n      0,\n      0,\n      0,\n      1,\n      0,\n      0,\n      0,\n      0,\n      0,\n      0,\n      0,\n      1,\n      0\n    ];\n    this._loadMatrix(matrix, multiply);\n  }\n  kodachrome(multiply) {\n    const matrix = [\n      1.1285582396593525,\n      -0.3967382283601348,\n      -0.03992559172921793,\n      0,\n      63.72958762196502,\n      -0.16404339962244616,\n      1.0835251566291304,\n      -0.05498805115633132,\n      0,\n      24.732407896706203,\n      -0.16786010706155763,\n      -0.5603416277695248,\n      1.6014850761964943,\n      0,\n      35.62982807460946,\n      0,\n      0,\n      0,\n      1,\n      0\n    ];\n    this._loadMatrix(matrix, multiply);\n  }\n  browni(multiply) {\n    const matrix = [\n      0.5997023498159715,\n      0.34553243048391263,\n      -0.2708298674538042,\n      0,\n      47.43192855600873,\n      -0.037703249837783157,\n      0.8609577587992641,\n      0.15059552388459913,\n      0,\n      -36.96841498319127,\n      0.24113635128153335,\n      -0.07441037908422492,\n      0.44972182064877153,\n      0,\n      -7.562075277591283,\n      0,\n      0,\n      0,\n      1,\n      0\n    ];\n    this._loadMatrix(matrix, multiply);\n  }\n  vintage(multiply) {\n    const matrix = [\n      0.6279345635605994,\n      0.3202183420819367,\n      -0.03965408211312453,\n      0,\n      9.651285835294123,\n      0.02578397704808868,\n      0.6441188644374771,\n      0.03259127616149294,\n      0,\n      7.462829176470591,\n      0.0466055556782719,\n      -0.0851232987247891,\n      0.5241648018700465,\n      0,\n      5.159190588235296,\n      0,\n      0,\n      0,\n      1,\n      0\n    ];\n    this._loadMatrix(matrix, multiply);\n  }\n  colorTone(desaturation, toned, lightColor, darkColor, multiply) {\n    desaturation = desaturation || 0.2;\n    toned = toned || 0.15;\n    lightColor = lightColor || 16770432;\n    darkColor = darkColor || 3375104;\n    const temp = Color.shared;\n    const [lR, lG, lB] = temp.setValue(lightColor).toArray();\n    const [dR, dG, dB] = temp.setValue(darkColor).toArray();\n    const matrix = [\n      0.3,\n      0.59,\n      0.11,\n      0,\n      0,\n      lR,\n      lG,\n      lB,\n      desaturation,\n      0,\n      dR,\n      dG,\n      dB,\n      toned,\n      0,\n      lR - dR,\n      lG - dG,\n      lB - dB,\n      0,\n      0\n    ];\n    this._loadMatrix(matrix, multiply);\n  }\n  night(intensity, multiply) {\n    intensity = intensity || 0.1;\n    const matrix = [\n      intensity * -2,\n      -intensity,\n      0,\n      0,\n      0,\n      -intensity,\n      0,\n      intensity,\n      0,\n      0,\n      0,\n      intensity,\n      intensity * 2,\n      0,\n      0,\n      0,\n      0,\n      0,\n      1,\n      0\n    ];\n    this._loadMatrix(matrix, multiply);\n  }\n  predator(amount, multiply) {\n    const matrix = [\n      11.224130630493164 * amount,\n      -4.794486999511719 * amount,\n      -2.8746118545532227 * amount,\n      0 * amount,\n      0.40342438220977783 * amount,\n      -3.6330697536468506 * amount,\n      9.193157196044922 * amount,\n      -2.951810836791992 * amount,\n      0 * amount,\n      -1.316135048866272 * amount,\n      -3.2184197902679443 * amount,\n      -4.2375030517578125 * amount,\n      7.476448059082031 * amount,\n      0 * amount,\n      0.8044459223747253 * amount,\n      0,\n      0,\n      0,\n      1,\n      0\n    ];\n    this._loadMatrix(matrix, multiply);\n  }\n  lsd(multiply) {\n    const matrix = [\n      2,\n      -0.4,\n      0.5,\n      0,\n      0,\n      -0.5,\n      2,\n      -0.4,\n      0,\n      0,\n      -0.4,\n      -0.5,\n      3,\n      0,\n      0,\n      0,\n      0,\n      0,\n      1,\n      0\n    ];\n    this._loadMatrix(matrix, multiply);\n  }\n  reset() {\n    const matrix = [\n      1,\n      0,\n      0,\n      0,\n      0,\n      0,\n      1,\n      0,\n      0,\n      0,\n      0,\n      0,\n      1,\n      0,\n      0,\n      0,\n      0,\n      0,\n      1,\n      0\n    ];\n    this._loadMatrix(matrix, false);\n  }\n  get matrix() {\n    return this.uniforms.m;\n  }\n  set matrix(value) {\n    this.uniforms.m = value;\n  }\n  get alpha() {\n    return this.uniforms.uAlpha;\n  }\n  set alpha(value) {\n    this.uniforms.uAlpha = value;\n  }\n}\nColorMatrixFilter.prototype.grayscale = ColorMatrixFilter.prototype.greyscale;\n\nexport { ColorMatrixFilter };\n//# sourceMappingURL=ColorMatrixFilter.mjs.map\n","var fragment = \"varying vec2 vTextureCoord;\\nuniform sampler2D uSampler;\\nuniform float m[20];\\nuniform float uAlpha;\\n\\nvoid main(void)\\n{\\n    vec4 c = texture2D(uSampler, vTextureCoord);\\n\\n    if (uAlpha == 0.0) {\\n        gl_FragColor = c;\\n        return;\\n    }\\n\\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\\n    if (c.a > 0.0) {\\n      c.rgb /= c.a;\\n    }\\n\\n    vec4 result;\\n\\n    result.r = (m[0] * c.r);\\n        result.r += (m[1] * c.g);\\n        result.r += (m[2] * c.b);\\n        result.r += (m[3] * c.a);\\n        result.r += m[4];\\n\\n    result.g = (m[5] * c.r);\\n        result.g += (m[6] * c.g);\\n        result.g += (m[7] * c.b);\\n        result.g += (m[8] * c.a);\\n        result.g += m[9];\\n\\n    result.b = (m[10] * c.r);\\n       result.b += (m[11] * c.g);\\n       result.b += (m[12] * c.b);\\n       result.b += (m[13] * c.a);\\n       result.b += m[14];\\n\\n    result.a = (m[15] * c.r);\\n       result.a += (m[16] * c.g);\\n       result.a += (m[17] * c.b);\\n       result.a += (m[18] * c.a);\\n       result.a += m[19];\\n\\n    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);\\n\\n    // Premultiply alpha again.\\n    rgb *= result.a;\\n\\n    gl_FragColor = vec4(rgb, result.a);\\n}\\n\";\n\nexport { fragment as default };\n//# sourceMappingURL=colorMatrix.mjs.map\n","import { utils } from '@pixi/core';\nimport { AlphaFilter } from '@pixi/filter-alpha';\nimport { BlurFilter, BlurFilterPass } from '@pixi/filter-blur';\nimport { ColorMatrixFilter } from '@pixi/filter-color-matrix';\nimport { DisplacementFilter } from '@pixi/filter-displacement';\nimport { FXAAFilter } from '@pixi/filter-fxaa';\nimport { NoiseFilter } from '@pixi/filter-noise';\n\nconst filters = {\n  AlphaFilter,\n  BlurFilter,\n  BlurFilterPass,\n  ColorMatrixFilter,\n  DisplacementFilter,\n  FXAAFilter,\n  NoiseFilter\n};\nObject.entries(filters).forEach(([key, FilterClass]) => {\n  Object.defineProperty(filters, key, {\n    get() {\n      utils.deprecation(\"7.1.0\", `filters.${key} has moved to ${key}`);\n      return FilterClass;\n    }\n  });\n});\n\nexport { filters };\n//# sourceMappingURL=filters.mjs.map\n","import { Filter, defaultVertex } from '@pixi/core';\nimport fragment from './alpha.mjs';\n\nclass AlphaFilter extends Filter {\n  constructor(alpha = 1) {\n    super(defaultVertex, fragment, { uAlpha: 1 });\n    this.alpha = alpha;\n  }\n  get alpha() {\n    return this.uniforms.uAlpha;\n  }\n  set alpha(value) {\n    this.uniforms.uAlpha = value;\n  }\n}\n\nexport { AlphaFilter };\n//# sourceMappingURL=AlphaFilter.mjs.map\n","var $defaultVertex = \"attribute vec2 aVertexPosition;\\nattribute vec2 aTextureCoord;\\n\\nuniform mat3 projectionMatrix;\\n\\nvarying vec2 vTextureCoord;\\n\\nvoid main(void)\\n{\\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\\n    vTextureCoord = aTextureCoord;\\n}\";\n\nexport { $defaultVertex as default };\n//# sourceMappingURL=default.mjs.map\n","var fragment = \"varying vec2 vTextureCoord;\\n\\nuniform sampler2D uSampler;\\nuniform float uAlpha;\\n\\nvoid main(void)\\n{\\n   gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;\\n}\\n\";\n\nexport { fragment as default };\n//# sourceMappingURL=alpha.mjs.map\n","import { Filter, CLEAR_MODES } from '@pixi/core';\nimport { BlurFilterPass } from './BlurFilterPass.mjs';\n\nclass BlurFilter extends Filter {\n  constructor(strength = 8, quality = 4, resolution = Filter.defaultResolution, kernelSize = 5) {\n    super();\n    this.blurXFilter = new BlurFilterPass(true, strength, quality, resolution, kernelSize);\n    this.blurYFilter = new BlurFilterPass(false, strength, quality, resolution, kernelSize);\n    this.resolution = resolution;\n    this.quality = quality;\n    this.blur = strength;\n    this.repeatEdgePixels = false;\n  }\n  apply(filterManager, input, output, clearMode) {\n    const xStrength = Math.abs(this.blurXFilter.strength);\n    const yStrength = Math.abs(this.blurYFilter.strength);\n    if (xStrength && yStrength) {\n      const renderTarget = filterManager.getFilterTexture();\n      this.blurXFilter.apply(filterManager, input, renderTarget, CLEAR_MODES.CLEAR);\n      this.blurYFilter.apply(filterManager, renderTarget, output, clearMode);\n      filterManager.returnFilterTexture(renderTarget);\n    } else if (yStrength) {\n      this.blurYFilter.apply(filterManager, input, output, clearMode);\n    } else {\n      this.blurXFilter.apply(filterManager, input, output, clearMode);\n    }\n  }\n  updatePadding() {\n    if (this._repeatEdgePixels) {\n      this.padding = 0;\n    } else {\n      this.padding = Math.max(Math.abs(this.blurXFilter.strength), Math.abs(this.blurYFilter.strength)) * 2;\n    }\n  }\n  get blur() {\n    return this.blurXFilter.blur;\n  }\n  set blur(value) {\n    this.blurXFilter.blur = this.blurYFilter.blur = value;\n    this.updatePadding();\n  }\n  get quality() {\n    return this.blurXFilter.quality;\n  }\n  set quality(value) {\n    this.blurXFilter.quality = this.blurYFilter.quality = value;\n  }\n  get blurX() {\n    return this.blurXFilter.blur;\n  }\n  set blurX(value) {\n    this.blurXFilter.blur = value;\n    this.updatePadding();\n  }\n  get blurY() {\n    return this.blurYFilter.blur;\n  }\n  set blurY(value) {\n    this.blurYFilter.blur = value;\n    this.updatePadding();\n  }\n  get blendMode() {\n    return this.blurYFilter.blendMode;\n  }\n  set blendMode(value) {\n    this.blurYFilter.blendMode = value;\n  }\n  get repeatEdgePixels() {\n    return this._repeatEdgePixels;\n  }\n  set repeatEdgePixels(value) {\n    this._repeatEdgePixels = value;\n    this.updatePadding();\n  }\n}\n\nexport { BlurFilter };\n//# sourceMappingURL=BlurFilter.mjs.map\n","import { Filter, Matrix, Point } from '@pixi/core';\nimport fragment from './displacement.mjs';\nimport vertex from './displacement2.mjs';\n\nclass DisplacementFilter extends Filter {\n  constructor(sprite, scale) {\n    const maskMatrix = new Matrix();\n    sprite.renderable = false;\n    super(vertex, fragment, {\n      mapSampler: sprite._texture,\n      filterMatrix: maskMatrix,\n      scale: { x: 1, y: 1 },\n      rotation: new Float32Array([1, 0, 0, 1])\n    });\n    this.maskSprite = sprite;\n    this.maskMatrix = maskMatrix;\n    if (scale === null || scale === void 0) {\n      scale = 20;\n    }\n    this.scale = new Point(scale, scale);\n  }\n  apply(filterManager, input, output, clearMode) {\n    this.uniforms.filterMatrix = filterManager.calculateSpriteMatrix(this.maskMatrix, this.maskSprite);\n    this.uniforms.scale.x = this.scale.x;\n    this.uniforms.scale.y = this.scale.y;\n    const wt = this.maskSprite.worldTransform;\n    const lenX = Math.sqrt(wt.a * wt.a + wt.b * wt.b);\n    const lenY = Math.sqrt(wt.c * wt.c + wt.d * wt.d);\n    if (lenX !== 0 && lenY !== 0) {\n      this.uniforms.rotation[0] = wt.a / lenX;\n      this.uniforms.rotation[1] = wt.b / lenX;\n      this.uniforms.rotation[2] = wt.c / lenY;\n      this.uniforms.rotation[3] = wt.d / lenY;\n    }\n    filterManager.applyFilter(this, input, output, clearMode);\n  }\n  get map() {\n    return this.uniforms.mapSampler;\n  }\n  set map(value) {\n    this.uniforms.mapSampler = value;\n  }\n}\n\nexport { DisplacementFilter };\n//# sourceMappingURL=DisplacementFilter.mjs.map\n","var vertex = \"attribute vec2 aVertexPosition;\\n\\nuniform mat3 projectionMatrix;\\nuniform mat3 filterMatrix;\\n\\nvarying vec2 vTextureCoord;\\nvarying vec2 vFilterCoord;\\n\\nuniform vec4 inputSize;\\nuniform vec4 outputFrame;\\n\\nvec4 filterVertexPosition( void )\\n{\\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\\n\\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\\n}\\n\\nvec2 filterTextureCoord( void )\\n{\\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\\n}\\n\\nvoid main(void)\\n{\\n\\tgl_Position = filterVertexPosition();\\n\\tvTextureCoord = filterTextureCoord();\\n\\tvFilterCoord = ( filterMatrix * vec3( vTextureCoord, 1.0)  ).xy;\\n}\\n\";\n\nexport { vertex as default };\n//# sourceMappingURL=displacement2.mjs.map\n","var fragment = \"varying vec2 vFilterCoord;\\nvarying vec2 vTextureCoord;\\n\\nuniform vec2 scale;\\nuniform mat2 rotation;\\nuniform sampler2D uSampler;\\nuniform sampler2D mapSampler;\\n\\nuniform highp vec4 inputSize;\\nuniform vec4 inputClamp;\\n\\nvoid main(void)\\n{\\n  vec4 map =  texture2D(mapSampler, vFilterCoord);\\n\\n  map -= 0.5;\\n  map.xy = scale * inputSize.zw * (rotation * map.xy);\\n\\n  gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), inputClamp.xy, inputClamp.zw));\\n}\\n\";\n\nexport { fragment as default };\n//# sourceMappingURL=displacement.mjs.map\n","import { Filter } from '@pixi/core';\nimport fragment from './fxaa.mjs';\nimport vertex from './fxaa2.mjs';\n\nclass FXAAFilter extends Filter {\n  constructor() {\n    super(vertex, fragment);\n  }\n}\n\nexport { FXAAFilter };\n//# sourceMappingURL=FXAAFilter.mjs.map\n","var vertex = \"\\nattribute vec2 aVertexPosition;\\n\\nuniform mat3 projectionMatrix;\\n\\nvarying vec2 v_rgbNW;\\nvarying vec2 v_rgbNE;\\nvarying vec2 v_rgbSW;\\nvarying vec2 v_rgbSE;\\nvarying vec2 v_rgbM;\\n\\nvarying vec2 vFragCoord;\\n\\nuniform vec4 inputSize;\\nuniform vec4 outputFrame;\\n\\nvec4 filterVertexPosition( void )\\n{\\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\\n\\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\\n}\\n\\nvoid texcoords(vec2 fragCoord, vec2 inverseVP,\\n               out vec2 v_rgbNW, out vec2 v_rgbNE,\\n               out vec2 v_rgbSW, out vec2 v_rgbSE,\\n               out vec2 v_rgbM) {\\n    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;\\n    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;\\n    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;\\n    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;\\n    v_rgbM = vec2(fragCoord * inverseVP);\\n}\\n\\nvoid main(void) {\\n\\n   gl_Position = filterVertexPosition();\\n\\n   vFragCoord = aVertexPosition * outputFrame.zw;\\n\\n   texcoords(vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\\n}\\n\";\n\nexport { vertex as default };\n//# sourceMappingURL=fxaa2.mjs.map\n","var fragment = \"varying vec2 v_rgbNW;\\nvarying vec2 v_rgbNE;\\nvarying vec2 v_rgbSW;\\nvarying vec2 v_rgbSE;\\nvarying vec2 v_rgbM;\\n\\nvarying vec2 vFragCoord;\\nuniform sampler2D uSampler;\\nuniform highp vec4 inputSize;\\n\\n\\n/**\\n Basic FXAA implementation based on the code on geeks3d.com with the\\n modification that the texture2DLod stuff was removed since it's\\n unsupported by WebGL.\\n\\n --\\n\\n From:\\n https://github.com/mitsuhiko/webgl-meincraft\\n\\n Copyright (c) 2011 by Armin Ronacher.\\n\\n Some rights reserved.\\n\\n Redistribution and use in source and binary forms, with or without\\n modification, are permitted provided that the following conditions are\\n met:\\n\\n * Redistributions of source code must retain the above copyright\\n notice, this list of conditions and the following disclaimer.\\n\\n * Redistributions in binary form must reproduce the above\\n copyright notice, this list of conditions and the following\\n disclaimer in the documentation and/or other materials provided\\n with the distribution.\\n\\n * The names of the contributors may not be used to endorse or\\n promote products derived from this software without specific\\n prior written permission.\\n\\n THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\\n \\\"AS IS\\\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\\n LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\\n A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\\n OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\\n SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\\n LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\\n DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\\n THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\\n (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\\n OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\\n */\\n\\n#ifndef FXAA_REDUCE_MIN\\n#define FXAA_REDUCE_MIN   (1.0/ 128.0)\\n#endif\\n#ifndef FXAA_REDUCE_MUL\\n#define FXAA_REDUCE_MUL   (1.0 / 8.0)\\n#endif\\n#ifndef FXAA_SPAN_MAX\\n#define FXAA_SPAN_MAX     8.0\\n#endif\\n\\n//optimized version for mobile, where dependent\\n//texture reads can be a bottleneck\\nvec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 inverseVP,\\n          vec2 v_rgbNW, vec2 v_rgbNE,\\n          vec2 v_rgbSW, vec2 v_rgbSE,\\n          vec2 v_rgbM) {\\n    vec4 color;\\n    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;\\n    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;\\n    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;\\n    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;\\n    vec4 texColor = texture2D(tex, v_rgbM);\\n    vec3 rgbM  = texColor.xyz;\\n    vec3 luma = vec3(0.299, 0.587, 0.114);\\n    float lumaNW = dot(rgbNW, luma);\\n    float lumaNE = dot(rgbNE, luma);\\n    float lumaSW = dot(rgbSW, luma);\\n    float lumaSE = dot(rgbSE, luma);\\n    float lumaM  = dot(rgbM,  luma);\\n    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));\\n    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));\\n\\n    mediump vec2 dir;\\n    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));\\n    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));\\n\\n    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *\\n                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);\\n\\n    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);\\n    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),\\n              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),\\n                  dir * rcpDirMin)) * inverseVP;\\n\\n    vec3 rgbA = 0.5 * (\\n                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +\\n                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);\\n    vec3 rgbB = rgbA * 0.5 + 0.25 * (\\n                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +\\n                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);\\n\\n    float lumaB = dot(rgbB, luma);\\n    if ((lumaB < lumaMin) || (lumaB > lumaMax))\\n        color = vec4(rgbA, texColor.a);\\n    else\\n        color = vec4(rgbB, texColor.a);\\n    return color;\\n}\\n\\nvoid main() {\\n\\n      vec4 color;\\n\\n      color = fxaa(uSampler, vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\\n\\n      gl_FragColor = color;\\n}\\n\";\n\nexport { fragment as default };\n//# sourceMappingURL=fxaa.mjs.map\n","import { Filter, defaultFilterVertex } from '@pixi/core';\nimport fragment from './noise.mjs';\n\nclass NoiseFilter extends Filter {\n  constructor(noise = 0.5, seed = Math.random()) {\n    super(defaultFilterVertex, fragment, {\n      uNoise: 0,\n      uSeed: 0\n    });\n    this.noise = noise;\n    this.seed = seed;\n  }\n  get noise() {\n    return this.uniforms.uNoise;\n  }\n  set noise(value) {\n    this.uniforms.uNoise = value;\n  }\n  get seed() {\n    return this.uniforms.uSeed;\n  }\n  set seed(value) {\n    this.uniforms.uSeed = value;\n  }\n}\n\nexport { NoiseFilter };\n//# sourceMappingURL=NoiseFilter.mjs.map\n","var fragment = \"precision highp float;\\n\\nvarying vec2 vTextureCoord;\\nvarying vec4 vColor;\\n\\nuniform float uNoise;\\nuniform float uSeed;\\nuniform sampler2D uSampler;\\n\\nfloat rand(vec2 co)\\n{\\n    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);\\n}\\n\\nvoid main()\\n{\\n    vec4 color = texture2D(uSampler, vTextureCoord);\\n    float randomValue = rand(gl_FragCoord.xy * uSeed);\\n    float diff = (randomValue - 0.5) * uNoise;\\n\\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\\n    if (color.a > 0.0) {\\n        color.rgb /= color.a;\\n    }\\n\\n    color.r += diff;\\n    color.g += diff;\\n    color.b += diff;\\n\\n    // Premultiply alpha again.\\n    color.rgb *= color.a;\\n\\n    gl_FragColor = color;\\n}\\n\";\n\nexport { fragment as default };\n//# sourceMappingURL=noise.mjs.map\n","import { Ticker, UPDATE_PRIORITY } from '@pixi/core';\n\nclass EventsTickerClass {\n  constructor() {\n    this.interactionFrequency = 10;\n    this._deltaTime = 0;\n    this._didMove = false;\n    this.tickerAdded = false;\n    this._pauseUpdate = true;\n  }\n  init(events) {\n    this.removeTickerListener();\n    this.events = events;\n    this.interactionFrequency = 10;\n    this._deltaTime = 0;\n    this._didMove = false;\n    this.tickerAdded = false;\n    this._pauseUpdate = true;\n  }\n  get pauseUpdate() {\n    return this._pauseUpdate;\n  }\n  set pauseUpdate(paused) {\n    this._pauseUpdate = paused;\n  }\n  addTickerListener() {\n    if (this.tickerAdded || !this.domElement) {\n      return;\n    }\n    Ticker.system.add(this.tickerUpdate, this, UPDATE_PRIORITY.INTERACTION);\n    this.tickerAdded = true;\n  }\n  removeTickerListener() {\n    if (!this.tickerAdded) {\n      return;\n    }\n    Ticker.system.remove(this.tickerUpdate, this);\n    this.tickerAdded = false;\n  }\n  pointerMoved() {\n    this._didMove = true;\n  }\n  update() {\n    if (!this.domElement || this._pauseUpdate) {\n      return;\n    }\n    if (this._didMove) {\n      this._didMove = false;\n      return;\n    }\n    const rootPointerEvent = this.events[\"rootPointerEvent\"];\n    if (this.events.supportsTouchEvents && rootPointerEvent.pointerType === \"touch\") {\n      return;\n    }\n    globalThis.document.dispatchEvent(new PointerEvent(\"pointermove\", {\n      clientX: rootPointerEvent.clientX,\n      clientY: rootPointerEvent.clientY\n    }));\n  }\n  tickerUpdate(deltaTime) {\n    this._deltaTime += deltaTime;\n    if (this._deltaTime < this.interactionFrequency) {\n      return;\n    }\n    this._deltaTime = 0;\n    this.update();\n  }\n}\nconst EventsTicker = new EventsTickerClass();\n\nexport { EventsTicker };\n//# sourceMappingURL=EventTicker.mjs.map\n","import { Point } from '@pixi/core';\n\nclass FederatedEvent {\n  constructor(manager) {\n    this.bubbles = true;\n    this.cancelBubble = true;\n    this.cancelable = false;\n    this.composed = false;\n    this.defaultPrevented = false;\n    this.eventPhase = FederatedEvent.prototype.NONE;\n    this.propagationStopped = false;\n    this.propagationImmediatelyStopped = false;\n    this.layer = new Point();\n    this.page = new Point();\n    this.AT_TARGET = 1;\n    this.BUBBLING_PHASE = 2;\n    this.CAPTURING_PHASE = 3;\n    this.NONE = 0;\n    this.manager = manager;\n  }\n  get layerX() {\n    return this.layer.x;\n  }\n  get layerY() {\n    return this.layer.y;\n  }\n  get pageX() {\n    return this.page.x;\n  }\n  get pageY() {\n    return this.page.y;\n  }\n  get data() {\n    return this;\n  }\n  composedPath() {\n    if (this.manager && (!this.path || this.path[this.path.length - 1] !== this.target)) {\n      this.path = this.target ? this.manager.propagationPath(this.target) : [];\n    }\n    return this.path;\n  }\n  initEvent(_type, _bubbles, _cancelable) {\n    throw new Error(\"initEvent() is a legacy DOM API. It is not implemented in the Federated Events API.\");\n  }\n  initUIEvent(_typeArg, _bubblesArg, _cancelableArg, _viewArg, _detailArg) {\n    throw new Error(\"initUIEvent() is a legacy DOM API. It is not implemented in the Federated Events API.\");\n  }\n  preventDefault() {\n    if (this.nativeEvent instanceof Event && this.nativeEvent.cancelable) {\n      this.nativeEvent.preventDefault();\n    }\n    this.defaultPrevented = true;\n  }\n  stopImmediatePropagation() {\n    this.propagationImmediatelyStopped = true;\n  }\n  stopPropagation() {\n    this.propagationStopped = true;\n  }\n}\n\nexport { FederatedEvent };\n//# sourceMappingURL=FederatedEvent.mjs.map\n","import { Point } from '@pixi/core';\nimport { FederatedEvent } from './FederatedEvent.mjs';\n\nclass FederatedMouseEvent extends FederatedEvent {\n  constructor() {\n    super(...arguments);\n    this.client = new Point();\n    this.movement = new Point();\n    this.offset = new Point();\n    this.global = new Point();\n    this.screen = new Point();\n  }\n  get clientX() {\n    return this.client.x;\n  }\n  get clientY() {\n    return this.client.y;\n  }\n  get x() {\n    return this.clientX;\n  }\n  get y() {\n    return this.clientY;\n  }\n  get movementX() {\n    return this.movement.x;\n  }\n  get movementY() {\n    return this.movement.y;\n  }\n  get offsetX() {\n    return this.offset.x;\n  }\n  get offsetY() {\n    return this.offset.y;\n  }\n  get globalX() {\n    return this.global.x;\n  }\n  get globalY() {\n    return this.global.y;\n  }\n  get screenX() {\n    return this.screen.x;\n  }\n  get screenY() {\n    return this.screen.y;\n  }\n  getLocalPosition(displayObject, point, globalPos) {\n    return displayObject.worldTransform.applyInverse(globalPos || this.global, point);\n  }\n  getModifierState(key) {\n    return \"getModifierState\" in this.nativeEvent && this.nativeEvent.getModifierState(key);\n  }\n  initMouseEvent(_typeArg, _canBubbleArg, _cancelableArg, _viewArg, _detailArg, _screenXArg, _screenYArg, _clientXArg, _clientYArg, _ctrlKeyArg, _altKeyArg, _shiftKeyArg, _metaKeyArg, _buttonArg, _relatedTargetArg) {\n    throw new Error(\"Method not implemented.\");\n  }\n}\n\nexport { FederatedMouseEvent };\n//# sourceMappingURL=FederatedMouseEvent.mjs.map\n","import { FederatedMouseEvent } from './FederatedMouseEvent.mjs';\n\nclass FederatedPointerEvent extends FederatedMouseEvent {\n  constructor() {\n    super(...arguments);\n    this.width = 0;\n    this.height = 0;\n    this.isPrimary = false;\n  }\n  getCoalescedEvents() {\n    if (this.type === \"pointermove\" || this.type === \"mousemove\" || this.type === \"touchmove\") {\n      return [this];\n    }\n    return [];\n  }\n  getPredictedEvents() {\n    throw new Error(\"getPredictedEvents is not supported!\");\n  }\n}\n\nexport { FederatedPointerEvent };\n//# sourceMappingURL=FederatedPointerEvent.mjs.map\n","import { FederatedMouseEvent } from './FederatedMouseEvent.mjs';\n\nclass FederatedWheelEvent extends FederatedMouseEvent {\n  constructor() {\n    super(...arguments);\n    this.DOM_DELTA_PIXEL = 0;\n    this.DOM_DELTA_LINE = 1;\n    this.DOM_DELTA_PAGE = 2;\n  }\n}\nFederatedWheelEvent.DOM_DELTA_PIXEL = 0;\nFederatedWheelEvent.DOM_DELTA_LINE = 1;\nFederatedWheelEvent.DOM_DELTA_PAGE = 2;\n\nexport { FederatedWheelEvent };\n//# sourceMappingURL=FederatedWheelEvent.mjs.map\n","import { Point, utils } from '@pixi/core';\nimport { EventsTicker } from './EventTicker.mjs';\nimport { FederatedMouseEvent } from './FederatedMouseEvent.mjs';\nimport { FederatedPointerEvent } from './FederatedPointerEvent.mjs';\nimport { FederatedWheelEvent } from './FederatedWheelEvent.mjs';\n\nconst PROPAGATION_LIMIT = 2048;\nconst tempHitLocation = new Point();\nconst tempLocalMapping = new Point();\nclass EventBoundary {\n  constructor(rootTarget) {\n    this.dispatch = new utils.EventEmitter();\n    this.moveOnAll = false;\n    this.mappingState = {\n      trackingData: {}\n    };\n    this.eventPool = /* @__PURE__ */ new Map();\n    this.rootTarget = rootTarget;\n    this.hitPruneFn = this.hitPruneFn.bind(this);\n    this.hitTestFn = this.hitTestFn.bind(this);\n    this.mapPointerDown = this.mapPointerDown.bind(this);\n    this.mapPointerMove = this.mapPointerMove.bind(this);\n    this.mapPointerOut = this.mapPointerOut.bind(this);\n    this.mapPointerOver = this.mapPointerOver.bind(this);\n    this.mapPointerUp = this.mapPointerUp.bind(this);\n    this.mapPointerUpOutside = this.mapPointerUpOutside.bind(this);\n    this.mapWheel = this.mapWheel.bind(this);\n    this.mappingTable = {};\n    this.addEventMapping(\"pointerdown\", this.mapPointerDown);\n    this.addEventMapping(\"pointermove\", this.mapPointerMove);\n    this.addEventMapping(\"pointerout\", this.mapPointerOut);\n    this.addEventMapping(\"pointerleave\", this.mapPointerOut);\n    this.addEventMapping(\"pointerover\", this.mapPointerOver);\n    this.addEventMapping(\"pointerup\", this.mapPointerUp);\n    this.addEventMapping(\"pointerupoutside\", this.mapPointerUpOutside);\n    this.addEventMapping(\"wheel\", this.mapWheel);\n  }\n  addEventMapping(type, fn) {\n    if (!this.mappingTable[type]) {\n      this.mappingTable[type] = [];\n    }\n    this.mappingTable[type].push({\n      fn,\n      priority: 0\n    });\n    this.mappingTable[type].sort((a, b) => a.priority - b.priority);\n  }\n  dispatchEvent(e, type) {\n    e.propagationStopped = false;\n    e.propagationImmediatelyStopped = false;\n    this.propagate(e, type);\n    this.dispatch.emit(type || e.type, e);\n  }\n  mapEvent(e) {\n    if (!this.rootTarget) {\n      return;\n    }\n    const mappers = this.mappingTable[e.type];\n    if (mappers) {\n      for (let i = 0, j = mappers.length; i < j; i++) {\n        mappers[i].fn(e);\n      }\n    } else {\n      console.warn(`[EventBoundary]: Event mapping not defined for ${e.type}`);\n    }\n  }\n  hitTest(x, y) {\n    EventsTicker.pauseUpdate = true;\n    const invertedPath = this.hitTestRecursive(this.rootTarget, this.rootTarget.eventMode, tempHitLocation.set(x, y), this.hitTestFn, this.hitPruneFn);\n    return invertedPath && invertedPath[0];\n  }\n  propagate(e, type) {\n    if (!e.target) {\n      return;\n    }\n    const composedPath = e.composedPath();\n    e.eventPhase = e.CAPTURING_PHASE;\n    for (let i = 0, j = composedPath.length - 1; i < j; i++) {\n      e.currentTarget = composedPath[i];\n      this.notifyTarget(e, type);\n      if (e.propagationStopped || e.propagationImmediatelyStopped)\n        return;\n    }\n    e.eventPhase = e.AT_TARGET;\n    e.currentTarget = e.target;\n    this.notifyTarget(e, type);\n    if (e.propagationStopped || e.propagationImmediatelyStopped)\n      return;\n    e.eventPhase = e.BUBBLING_PHASE;\n    for (let i = composedPath.length - 2; i >= 0; i--) {\n      e.currentTarget = composedPath[i];\n      this.notifyTarget(e, type);\n      if (e.propagationStopped || e.propagationImmediatelyStopped)\n        return;\n    }\n  }\n  all(e, type, target = this.rootTarget) {\n    e.eventPhase = e.BUBBLING_PHASE;\n    const children = target.children;\n    const interactionNone = target.eventMode === \"none\";\n    const interactionPassive = target.eventMode === \"passive\" && !target.interactiveChildren;\n    const interactiveChildren = target.interactiveChildren;\n    const shouldIterateChildren = !interactionNone && interactiveChildren && !interactionPassive;\n    if (children && children.length > 0) {\n      if (shouldIterateChildren) {\n        for (let i = 0; i < children.length; i++) {\n          this.all(e, type, children[i]);\n        }\n      }\n    }\n    e.currentTarget = target;\n    this.notifyTarget(e, type);\n  }\n  propagationPath(target) {\n    const propagationPath = [target];\n    for (let i = 0; i < PROPAGATION_LIMIT && target !== this.rootTarget; i++) {\n      if (!target.parent) {\n        throw new Error(\"Cannot find propagation path to disconnected target\");\n      }\n      propagationPath.push(target.parent);\n      target = target.parent;\n    }\n    propagationPath.reverse();\n    return propagationPath;\n  }\n  hitTestRecursive(currentTarget, eventMode, location, testFn, pruneFn) {\n    if (!currentTarget || !currentTarget.visible) {\n      return null;\n    }\n    if (pruneFn(currentTarget, location)) {\n      return null;\n    }\n    if (currentTarget.eventMode === \"dynamic\" || eventMode === \"dynamic\") {\n      EventsTicker.pauseUpdate = false;\n    }\n    if (currentTarget.interactiveChildren && currentTarget.children) {\n      const children = currentTarget.children;\n      for (let i = children.length - 1; i >= 0; i--) {\n        const child = children[i];\n        const nestedHit = this.hitTestRecursive(child, this._isInteractive(eventMode) ? eventMode : child.eventMode, location, testFn, pruneFn);\n        if (nestedHit) {\n          if (nestedHit.length > 0 && !nestedHit[nestedHit.length - 1].parent) {\n            continue;\n          }\n          if (nestedHit.length > 0 || currentTarget.isInteractive()) {\n            nestedHit.push(currentTarget);\n          }\n          return nestedHit;\n        }\n      }\n    }\n    if (this._isInteractive(eventMode) && testFn(currentTarget, location)) {\n      return currentTarget.isInteractive() ? [currentTarget] : [];\n    }\n    return null;\n  }\n  _isInteractive(int) {\n    return int === \"static\" || int === \"dynamic\";\n  }\n  hitPruneFn(displayObject, location) {\n    if (displayObject.eventMode === \"none\") {\n      return true;\n    }\n    if (displayObject.eventMode === \"passive\" && !displayObject.interactiveChildren) {\n      return true;\n    }\n    if (displayObject.isMask) {\n      return true;\n    }\n    if (displayObject.hitArea) {\n      displayObject.worldTransform.applyInverse(location, tempLocalMapping);\n      if (!displayObject.hitArea.contains(tempLocalMapping.x, tempLocalMapping.y)) {\n        return true;\n      }\n    }\n    if (displayObject._mask) {\n      const maskObject = displayObject._mask.isMaskData ? displayObject._mask.maskObject : displayObject._mask;\n      if (maskObject && !maskObject.containsPoint?.(location)) {\n        return true;\n      }\n    }\n    return false;\n  }\n  hitTestFn(displayObject, location) {\n    if (displayObject.eventMode === \"passive\") {\n      return false;\n    }\n    if (displayObject.hitArea) {\n      return true;\n    }\n    if (displayObject.containsPoint) {\n      return displayObject.containsPoint(location);\n    }\n    return false;\n  }\n  notifyTarget(e, type) {\n    type = type ?? e.type;\n    const handlerKey = `on${type}`;\n    e.currentTarget[handlerKey]?.(e);\n    const key = e.eventPhase === e.CAPTURING_PHASE || e.eventPhase === e.AT_TARGET ? `${type}capture` : type;\n    this.notifyListeners(e, key);\n    if (e.eventPhase === e.AT_TARGET) {\n      this.notifyListeners(e, type);\n    }\n  }\n  mapPointerDown(from) {\n    if (!(from instanceof FederatedPointerEvent)) {\n      console.warn(\"EventBoundary cannot map a non-pointer event as a pointer event\");\n      return;\n    }\n    const e = this.createPointerEvent(from);\n    this.dispatchEvent(e, \"pointerdown\");\n    if (e.pointerType === \"touch\") {\n      this.dispatchEvent(e, \"touchstart\");\n    } else if (e.pointerType === \"mouse\" || e.pointerType === \"pen\") {\n      const isRightButton = e.button === 2;\n      this.dispatchEvent(e, isRightButton ? \"rightdown\" : \"mousedown\");\n    }\n    const trackingData = this.trackingData(from.pointerId);\n    trackingData.pressTargetsByButton[from.button] = e.composedPath();\n    this.freeEvent(e);\n  }\n  mapPointerMove(from) {\n    if (!(from instanceof FederatedPointerEvent)) {\n      console.warn(\"EventBoundary cannot map a non-pointer event as a pointer event\");\n      return;\n    }\n    const e = this.createPointerEvent(from);\n    const isMouse = e.pointerType === \"mouse\" || e.pointerType === \"pen\";\n    const trackingData = this.trackingData(from.pointerId);\n    const outTarget = this.findMountedTarget(trackingData.overTargets);\n    if (trackingData.overTargets?.length > 0 && outTarget !== e.target) {\n      const outType = from.type === \"mousemove\" ? \"mouseout\" : \"pointerout\";\n      const outEvent = this.createPointerEvent(from, outType, outTarget);\n      this.dispatchEvent(outEvent, \"pointerout\");\n      if (isMouse)\n        this.dispatchEvent(outEvent, \"mouseout\");\n      if (!e.composedPath().includes(outTarget)) {\n        const leaveEvent = this.createPointerEvent(from, \"pointerleave\", outTarget);\n        leaveEvent.eventPhase = leaveEvent.AT_TARGET;\n        while (leaveEvent.target && !e.composedPath().includes(leaveEvent.target)) {\n          leaveEvent.currentTarget = leaveEvent.target;\n          this.notifyTarget(leaveEvent);\n          if (isMouse)\n            this.notifyTarget(leaveEvent, \"mouseleave\");\n          leaveEvent.target = leaveEvent.target.parent;\n        }\n        this.freeEvent(leaveEvent);\n      }\n      this.freeEvent(outEvent);\n    }\n    if (outTarget !== e.target) {\n      const overType = from.type === \"mousemove\" ? \"mouseover\" : \"pointerover\";\n      const overEvent = this.clonePointerEvent(e, overType);\n      this.dispatchEvent(overEvent, \"pointerover\");\n      if (isMouse)\n        this.dispatchEvent(overEvent, \"mouseover\");\n      let overTargetAncestor = outTarget?.parent;\n      while (overTargetAncestor && overTargetAncestor !== this.rootTarget.parent) {\n        if (overTargetAncestor === e.target)\n          break;\n        overTargetAncestor = overTargetAncestor.parent;\n      }\n      const didPointerEnter = !overTargetAncestor || overTargetAncestor === this.rootTarget.parent;\n      if (didPointerEnter) {\n        const enterEvent = this.clonePointerEvent(e, \"pointerenter\");\n        enterEvent.eventPhase = enterEvent.AT_TARGET;\n        while (enterEvent.target && enterEvent.target !== outTarget && enterEvent.target !== this.rootTarget.parent) {\n          enterEvent.currentTarget = enterEvent.target;\n          this.notifyTarget(enterEvent);\n          if (isMouse)\n            this.notifyTarget(enterEvent, \"mouseenter\");\n          enterEvent.target = enterEvent.target.parent;\n        }\n        this.freeEvent(enterEvent);\n      }\n      this.freeEvent(overEvent);\n    }\n    const propagationMethod = this.moveOnAll ? \"all\" : \"dispatchEvent\";\n    this[propagationMethod](e, \"pointermove\");\n    this.all(e, \"globalpointermove\");\n    if (e.pointerType === \"touch\") {\n      this[propagationMethod](e, \"touchmove\");\n      this.all(e, \"globaltouchmove\");\n    }\n    if (isMouse) {\n      this[propagationMethod](e, \"mousemove\");\n      this.all(e, \"globalmousemove\");\n      this.cursor = e.target?.cursor;\n    }\n    trackingData.overTargets = e.composedPath();\n    this.freeEvent(e);\n  }\n  mapPointerOver(from) {\n    if (!(from instanceof FederatedPointerEvent)) {\n      console.warn(\"EventBoundary cannot map a non-pointer event as a pointer event\");\n      return;\n    }\n    const trackingData = this.trackingData(from.pointerId);\n    const e = this.createPointerEvent(from);\n    const isMouse = e.pointerType === \"mouse\" || e.pointerType === \"pen\";\n    this.dispatchEvent(e, \"pointerover\");\n    if (isMouse)\n      this.dispatchEvent(e, \"mouseover\");\n    if (e.pointerType === \"mouse\")\n      this.cursor = e.target?.cursor;\n    const enterEvent = this.clonePointerEvent(e, \"pointerenter\");\n    enterEvent.eventPhase = enterEvent.AT_TARGET;\n    while (enterEvent.target && enterEvent.target !== this.rootTarget.parent) {\n      enterEvent.currentTarget = enterEvent.target;\n      this.notifyTarget(enterEvent);\n      if (isMouse)\n        this.notifyTarget(enterEvent, \"mouseenter\");\n      enterEvent.target = enterEvent.target.parent;\n    }\n    trackingData.overTargets = e.composedPath();\n    this.freeEvent(e);\n    this.freeEvent(enterEvent);\n  }\n  mapPointerOut(from) {\n    if (!(from instanceof FederatedPointerEvent)) {\n      console.warn(\"EventBoundary cannot map a non-pointer event as a pointer event\");\n      return;\n    }\n    const trackingData = this.trackingData(from.pointerId);\n    if (trackingData.overTargets) {\n      const isMouse = from.pointerType === \"mouse\" || from.pointerType === \"pen\";\n      const outTarget = this.findMountedTarget(trackingData.overTargets);\n      const outEvent = this.createPointerEvent(from, \"pointerout\", outTarget);\n      this.dispatchEvent(outEvent);\n      if (isMouse)\n        this.dispatchEvent(outEvent, \"mouseout\");\n      const leaveEvent = this.createPointerEvent(from, \"pointerleave\", outTarget);\n      leaveEvent.eventPhase = leaveEvent.AT_TARGET;\n      while (leaveEvent.target && leaveEvent.target !== this.rootTarget.parent) {\n        leaveEvent.currentTarget = leaveEvent.target;\n        this.notifyTarget(leaveEvent);\n        if (isMouse)\n          this.notifyTarget(leaveEvent, \"mouseleave\");\n        leaveEvent.target = leaveEvent.target.parent;\n      }\n      trackingData.overTargets = null;\n      this.freeEvent(outEvent);\n      this.freeEvent(leaveEvent);\n    }\n    this.cursor = null;\n  }\n  mapPointerUp(from) {\n    if (!(from instanceof FederatedPointerEvent)) {\n      console.warn(\"EventBoundary cannot map a non-pointer event as a pointer event\");\n      return;\n    }\n    const now = performance.now();\n    const e = this.createPointerEvent(from);\n    this.dispatchEvent(e, \"pointerup\");\n    if (e.pointerType === \"touch\") {\n      this.dispatchEvent(e, \"touchend\");\n    } else if (e.pointerType === \"mouse\" || e.pointerType === \"pen\") {\n      const isRightButton = e.button === 2;\n      this.dispatchEvent(e, isRightButton ? \"rightup\" : \"mouseup\");\n    }\n    const trackingData = this.trackingData(from.pointerId);\n    const pressTarget = this.findMountedTarget(trackingData.pressTargetsByButton[from.button]);\n    let clickTarget = pressTarget;\n    if (pressTarget && !e.composedPath().includes(pressTarget)) {\n      let currentTarget = pressTarget;\n      while (currentTarget && !e.composedPath().includes(currentTarget)) {\n        e.currentTarget = currentTarget;\n        this.notifyTarget(e, \"pointerupoutside\");\n        if (e.pointerType === \"touch\") {\n          this.notifyTarget(e, \"touchendoutside\");\n        } else if (e.pointerType === \"mouse\" || e.pointerType === \"pen\") {\n          const isRightButton = e.button === 2;\n          this.notifyTarget(e, isRightButton ? \"rightupoutside\" : \"mouseupoutside\");\n        }\n        currentTarget = currentTarget.parent;\n      }\n      delete trackingData.pressTargetsByButton[from.button];\n      clickTarget = currentTarget;\n    }\n    if (clickTarget) {\n      const clickEvent = this.clonePointerEvent(e, \"click\");\n      clickEvent.target = clickTarget;\n      clickEvent.path = null;\n      if (!trackingData.clicksByButton[from.button]) {\n        trackingData.clicksByButton[from.button] = {\n          clickCount: 0,\n          target: clickEvent.target,\n          timeStamp: now\n        };\n      }\n      const clickHistory = trackingData.clicksByButton[from.button];\n      if (clickHistory.target === clickEvent.target && now - clickHistory.timeStamp < 200) {\n        ++clickHistory.clickCount;\n      } else {\n        clickHistory.clickCount = 1;\n      }\n      clickHistory.target = clickEvent.target;\n      clickHistory.timeStamp = now;\n      clickEvent.detail = clickHistory.clickCount;\n      if (clickEvent.pointerType === \"mouse\") {\n        this.dispatchEvent(clickEvent, \"click\");\n      } else if (clickEvent.pointerType === \"touch\") {\n        this.dispatchEvent(clickEvent, \"tap\");\n      }\n      this.dispatchEvent(clickEvent, \"pointertap\");\n      this.freeEvent(clickEvent);\n    }\n    this.freeEvent(e);\n  }\n  mapPointerUpOutside(from) {\n    if (!(from instanceof FederatedPointerEvent)) {\n      console.warn(\"EventBoundary cannot map a non-pointer event as a pointer event\");\n      return;\n    }\n    const trackingData = this.trackingData(from.pointerId);\n    const pressTarget = this.findMountedTarget(trackingData.pressTargetsByButton[from.button]);\n    const e = this.createPointerEvent(from);\n    if (pressTarget) {\n      let currentTarget = pressTarget;\n      while (currentTarget) {\n        e.currentTarget = currentTarget;\n        this.notifyTarget(e, \"pointerupoutside\");\n        if (e.pointerType === \"touch\") {\n          this.notifyTarget(e, \"touchendoutside\");\n        } else if (e.pointerType === \"mouse\" || e.pointerType === \"pen\") {\n          this.notifyTarget(e, e.button === 2 ? \"rightupoutside\" : \"mouseupoutside\");\n        }\n        currentTarget = currentTarget.parent;\n      }\n      delete trackingData.pressTargetsByButton[from.button];\n    }\n    this.freeEvent(e);\n  }\n  mapWheel(from) {\n    if (!(from instanceof FederatedWheelEvent)) {\n      console.warn(\"EventBoundary cannot map a non-wheel event as a wheel event\");\n      return;\n    }\n    const wheelEvent = this.createWheelEvent(from);\n    this.dispatchEvent(wheelEvent);\n    this.freeEvent(wheelEvent);\n  }\n  findMountedTarget(propagationPath) {\n    if (!propagationPath) {\n      return null;\n    }\n    let currentTarget = propagationPath[0];\n    for (let i = 1; i < propagationPath.length; i++) {\n      if (propagationPath[i].parent === currentTarget) {\n        currentTarget = propagationPath[i];\n      } else {\n        break;\n      }\n    }\n    return currentTarget;\n  }\n  createPointerEvent(from, type, target) {\n    const event = this.allocateEvent(FederatedPointerEvent);\n    this.copyPointerData(from, event);\n    this.copyMouseData(from, event);\n    this.copyData(from, event);\n    event.nativeEvent = from.nativeEvent;\n    event.originalEvent = from;\n    event.target = target ?? this.hitTest(event.global.x, event.global.y);\n    if (typeof type === \"string\") {\n      event.type = type;\n    }\n    return event;\n  }\n  createWheelEvent(from) {\n    const event = this.allocateEvent(FederatedWheelEvent);\n    this.copyWheelData(from, event);\n    this.copyMouseData(from, event);\n    this.copyData(from, event);\n    event.nativeEvent = from.nativeEvent;\n    event.originalEvent = from;\n    event.target = this.hitTest(event.global.x, event.global.y);\n    return event;\n  }\n  clonePointerEvent(from, type) {\n    const event = this.allocateEvent(FederatedPointerEvent);\n    event.nativeEvent = from.nativeEvent;\n    event.originalEvent = from.originalEvent;\n    this.copyPointerData(from, event);\n    this.copyMouseData(from, event);\n    this.copyData(from, event);\n    event.target = from.target;\n    event.path = from.composedPath().slice();\n    event.type = type ?? event.type;\n    return event;\n  }\n  copyWheelData(from, to) {\n    to.deltaMode = from.deltaMode;\n    to.deltaX = from.deltaX;\n    to.deltaY = from.deltaY;\n    to.deltaZ = from.deltaZ;\n  }\n  copyPointerData(from, to) {\n    if (!(from instanceof FederatedPointerEvent && to instanceof FederatedPointerEvent))\n      return;\n    to.pointerId = from.pointerId;\n    to.width = from.width;\n    to.height = from.height;\n    to.isPrimary = from.isPrimary;\n    to.pointerType = from.pointerType;\n    to.pressure = from.pressure;\n    to.tangentialPressure = from.tangentialPressure;\n    to.tiltX = from.tiltX;\n    to.tiltY = from.tiltY;\n    to.twist = from.twist;\n  }\n  copyMouseData(from, to) {\n    if (!(from instanceof FederatedMouseEvent && to instanceof FederatedMouseEvent))\n      return;\n    to.altKey = from.altKey;\n    to.button = from.button;\n    to.buttons = from.buttons;\n    to.client.copyFrom(from.client);\n    to.ctrlKey = from.ctrlKey;\n    to.metaKey = from.metaKey;\n    to.movement.copyFrom(from.movement);\n    to.screen.copyFrom(from.screen);\n    to.global.copyFrom(from.global);\n  }\n  copyData(from, to) {\n    to.isTrusted = from.isTrusted;\n    to.srcElement = from.srcElement;\n    to.timeStamp = performance.now();\n    to.type = from.type;\n    to.detail = from.detail;\n    to.view = from.view;\n    to.which = from.which;\n    to.layer.copyFrom(from.layer);\n    to.page.copyFrom(from.page);\n  }\n  trackingData(id) {\n    if (!this.mappingState.trackingData[id]) {\n      this.mappingState.trackingData[id] = {\n        pressTargetsByButton: {},\n        clicksByButton: {},\n        overTarget: null\n      };\n    }\n    return this.mappingState.trackingData[id];\n  }\n  allocateEvent(constructor) {\n    if (!this.eventPool.has(constructor)) {\n      this.eventPool.set(constructor, []);\n    }\n    const event = this.eventPool.get(constructor).pop() || new constructor(this);\n    event.eventPhase = event.NONE;\n    event.currentTarget = null;\n    event.path = null;\n    event.target = null;\n    return event;\n  }\n  freeEvent(event) {\n    if (event.manager !== this)\n      throw new Error(\"It is illegal to free an event not managed by this EventBoundary!\");\n    const constructor = event.constructor;\n    if (!this.eventPool.has(constructor)) {\n      this.eventPool.set(constructor, []);\n    }\n    this.eventPool.get(constructor).push(event);\n  }\n  notifyListeners(e, type) {\n    const listeners = e.currentTarget._events[type];\n    if (!listeners)\n      return;\n    if (!e.currentTarget.isInteractive())\n      return;\n    if (\"fn\" in listeners) {\n      listeners.fn.call(listeners.context, e);\n    } else {\n      for (let i = 0, j = listeners.length; i < j && !e.propagationImmediatelyStopped; i++) {\n        listeners[i].fn.call(listeners[i].context, e);\n      }\n    }\n  }\n}\n\nexport { EventBoundary };\n//# sourceMappingURL=EventBoundary.mjs.map\n","import { ExtensionType, extensions } from '@pixi/core';\nimport { EventBoundary } from './EventBoundary.mjs';\nimport { EventsTicker } from './EventTicker.mjs';\nimport { FederatedPointerEvent } from './FederatedPointerEvent.mjs';\nimport { FederatedWheelEvent } from './FederatedWheelEvent.mjs';\n\nconst MOUSE_POINTER_ID = 1;\nconst TOUCH_TO_POINTER = {\n  touchstart: \"pointerdown\",\n  touchend: \"pointerup\",\n  touchendoutside: \"pointerupoutside\",\n  touchmove: \"pointermove\",\n  touchcancel: \"pointercancel\"\n};\nconst _EventSystem = class {\n  constructor(renderer) {\n    this.supportsTouchEvents = \"ontouchstart\" in globalThis;\n    this.supportsPointerEvents = !!globalThis.PointerEvent;\n    this.domElement = null;\n    this.resolution = 1;\n    this.renderer = renderer;\n    this.rootBoundary = new EventBoundary(null);\n    EventsTicker.init(this);\n    this.autoPreventDefault = true;\n    this.eventsAdded = false;\n    this.rootPointerEvent = new FederatedPointerEvent(null);\n    this.rootWheelEvent = new FederatedWheelEvent(null);\n    this.cursorStyles = {\n      default: \"inherit\",\n      pointer: \"pointer\"\n    };\n    this.onPointerDown = this.onPointerDown.bind(this);\n    this.onPointerMove = this.onPointerMove.bind(this);\n    this.onPointerUp = this.onPointerUp.bind(this);\n    this.onPointerOverOut = this.onPointerOverOut.bind(this);\n    this.onWheel = this.onWheel.bind(this);\n  }\n  static get defaultEventMode() {\n    return this._defaultEventMode;\n  }\n  init(options) {\n    const { view, resolution } = this.renderer;\n    this.setTargetElement(view);\n    this.resolution = resolution;\n    _EventSystem._defaultEventMode = options.eventMode ?? \"auto\";\n  }\n  resolutionChange(resolution) {\n    this.resolution = resolution;\n  }\n  destroy() {\n    this.setTargetElement(null);\n    this.renderer = null;\n  }\n  setCursor(mode) {\n    mode = mode || \"default\";\n    let applyStyles = true;\n    if (globalThis.OffscreenCanvas && this.domElement instanceof OffscreenCanvas) {\n      applyStyles = false;\n    }\n    if (this.currentCursor === mode) {\n      return;\n    }\n    this.currentCursor = mode;\n    const style = this.cursorStyles[mode];\n    if (style) {\n      switch (typeof style) {\n        case \"string\":\n          if (applyStyles) {\n            this.domElement.style.cursor = style;\n          }\n          break;\n        case \"function\":\n          style(mode);\n          break;\n        case \"object\":\n          if (applyStyles) {\n            Object.assign(this.domElement.style, style);\n          }\n          break;\n      }\n    } else if (applyStyles && typeof mode === \"string\" && !Object.prototype.hasOwnProperty.call(this.cursorStyles, mode)) {\n      this.domElement.style.cursor = mode;\n    }\n  }\n  onPointerDown(nativeEvent) {\n    this.rootBoundary.rootTarget = this.renderer.lastObjectRendered;\n    if (this.supportsTouchEvents && nativeEvent.pointerType === \"touch\")\n      return;\n    const events = this.normalizeToPointerData(nativeEvent);\n    if (this.autoPreventDefault && events[0].isNormalized) {\n      const cancelable = nativeEvent.cancelable || !(\"cancelable\" in nativeEvent);\n      if (cancelable) {\n        nativeEvent.preventDefault();\n      }\n    }\n    for (let i = 0, j = events.length; i < j; i++) {\n      const nativeEvent2 = events[i];\n      const federatedEvent = this.bootstrapEvent(this.rootPointerEvent, nativeEvent2);\n      this.rootBoundary.mapEvent(federatedEvent);\n    }\n    this.setCursor(this.rootBoundary.cursor);\n  }\n  onPointerMove(nativeEvent) {\n    this.rootBoundary.rootTarget = this.renderer.lastObjectRendered;\n    if (this.supportsTouchEvents && nativeEvent.pointerType === \"touch\")\n      return;\n    EventsTicker.pointerMoved();\n    const normalizedEvents = this.normalizeToPointerData(nativeEvent);\n    for (let i = 0, j = normalizedEvents.length; i < j; i++) {\n      const event = this.bootstrapEvent(this.rootPointerEvent, normalizedEvents[i]);\n      this.rootBoundary.mapEvent(event);\n    }\n    this.setCursor(this.rootBoundary.cursor);\n  }\n  onPointerUp(nativeEvent) {\n    this.rootBoundary.rootTarget = this.renderer.lastObjectRendered;\n    if (this.supportsTouchEvents && nativeEvent.pointerType === \"touch\")\n      return;\n    let target = nativeEvent.target;\n    if (nativeEvent.composedPath && nativeEvent.composedPath().length > 0) {\n      target = nativeEvent.composedPath()[0];\n    }\n    const outside = target !== this.domElement ? \"outside\" : \"\";\n    const normalizedEvents = this.normalizeToPointerData(nativeEvent);\n    for (let i = 0, j = normalizedEvents.length; i < j; i++) {\n      const event = this.bootstrapEvent(this.rootPointerEvent, normalizedEvents[i]);\n      event.type += outside;\n      this.rootBoundary.mapEvent(event);\n    }\n    this.setCursor(this.rootBoundary.cursor);\n  }\n  onPointerOverOut(nativeEvent) {\n    this.rootBoundary.rootTarget = this.renderer.lastObjectRendered;\n    if (this.supportsTouchEvents && nativeEvent.pointerType === \"touch\")\n      return;\n    const normalizedEvents = this.normalizeToPointerData(nativeEvent);\n    for (let i = 0, j = normalizedEvents.length; i < j; i++) {\n      const event = this.bootstrapEvent(this.rootPointerEvent, normalizedEvents[i]);\n      this.rootBoundary.mapEvent(event);\n    }\n    this.setCursor(this.rootBoundary.cursor);\n  }\n  onWheel(nativeEvent) {\n    const wheelEvent = this.normalizeWheelEvent(nativeEvent);\n    this.rootBoundary.rootTarget = this.renderer.lastObjectRendered;\n    this.rootBoundary.mapEvent(wheelEvent);\n  }\n  setTargetElement(element) {\n    this.removeEvents();\n    this.domElement = element;\n    EventsTicker.domElement = element;\n    this.addEvents();\n  }\n  addEvents() {\n    if (this.eventsAdded || !this.domElement) {\n      return;\n    }\n    EventsTicker.addTickerListener();\n    const style = this.domElement.style;\n    if (style) {\n      if (globalThis.navigator.msPointerEnabled) {\n        style.msContentZooming = \"none\";\n        style.msTouchAction = \"none\";\n      } else if (this.supportsPointerEvents) {\n        style.touchAction = \"none\";\n      }\n    }\n    if (this.supportsPointerEvents) {\n      globalThis.document.addEventListener(\"pointermove\", this.onPointerMove, true);\n      this.domElement.addEventListener(\"pointerdown\", this.onPointerDown, true);\n      this.domElement.addEventListener(\"pointerleave\", this.onPointerOverOut, true);\n      this.domElement.addEventListener(\"pointerover\", this.onPointerOverOut, true);\n      globalThis.addEventListener(\"pointerup\", this.onPointerUp, true);\n    } else {\n      globalThis.document.addEventListener(\"mousemove\", this.onPointerMove, true);\n      this.domElement.addEventListener(\"mousedown\", this.onPointerDown, true);\n      this.domElement.addEventListener(\"mouseout\", this.onPointerOverOut, true);\n      this.domElement.addEventListener(\"mouseover\", this.onPointerOverOut, true);\n      globalThis.addEventListener(\"mouseup\", this.onPointerUp, true);\n    }\n    if (this.supportsTouchEvents) {\n      this.domElement.addEventListener(\"touchstart\", this.onPointerDown, true);\n      this.domElement.addEventListener(\"touchend\", this.onPointerUp, true);\n      this.domElement.addEventListener(\"touchmove\", this.onPointerMove, true);\n    }\n    this.domElement.addEventListener(\"wheel\", this.onWheel, {\n      passive: true,\n      capture: true\n    });\n    this.eventsAdded = true;\n  }\n  removeEvents() {\n    if (!this.eventsAdded || !this.domElement) {\n      return;\n    }\n    EventsTicker.removeTickerListener();\n    const style = this.domElement.style;\n    if (globalThis.navigator.msPointerEnabled) {\n      style.msContentZooming = \"\";\n      style.msTouchAction = \"\";\n    } else if (this.supportsPointerEvents) {\n      style.touchAction = \"\";\n    }\n    if (this.supportsPointerEvents) {\n      globalThis.document.removeEventListener(\"pointermove\", this.onPointerMove, true);\n      this.domElement.removeEventListener(\"pointerdown\", this.onPointerDown, true);\n      this.domElement.removeEventListener(\"pointerleave\", this.onPointerOverOut, true);\n      this.domElement.removeEventListener(\"pointerover\", this.onPointerOverOut, true);\n      globalThis.removeEventListener(\"pointerup\", this.onPointerUp, true);\n    } else {\n      globalThis.document.removeEventListener(\"mousemove\", this.onPointerMove, true);\n      this.domElement.removeEventListener(\"mousedown\", this.onPointerDown, true);\n      this.domElement.removeEventListener(\"mouseout\", this.onPointerOverOut, true);\n      this.domElement.removeEventListener(\"mouseover\", this.onPointerOverOut, true);\n      globalThis.removeEventListener(\"mouseup\", this.onPointerUp, true);\n    }\n    if (this.supportsTouchEvents) {\n      this.domElement.removeEventListener(\"touchstart\", this.onPointerDown, true);\n      this.domElement.removeEventListener(\"touchend\", this.onPointerUp, true);\n      this.domElement.removeEventListener(\"touchmove\", this.onPointerMove, true);\n    }\n    this.domElement.removeEventListener(\"wheel\", this.onWheel, true);\n    this.domElement = null;\n    this.eventsAdded = false;\n  }\n  mapPositionToPoint(point, x, y) {\n    let rect;\n    if (!this.domElement.parentElement) {\n      rect = {\n        x: 0,\n        y: 0,\n        width: this.domElement.width,\n        height: this.domElement.height,\n        left: 0,\n        top: 0\n      };\n    } else {\n      rect = this.domElement.getBoundingClientRect();\n    }\n    const resolutionMultiplier = 1 / this.resolution;\n    point.x = (x - rect.left) * (this.domElement.width / rect.width) * resolutionMultiplier;\n    point.y = (y - rect.top) * (this.domElement.height / rect.height) * resolutionMultiplier;\n  }\n  normalizeToPointerData(event) {\n    const normalizedEvents = [];\n    if (this.supportsTouchEvents && event instanceof TouchEvent) {\n      for (let i = 0, li = event.changedTouches.length; i < li; i++) {\n        const touch = event.changedTouches[i];\n        if (typeof touch.button === \"undefined\")\n          touch.button = 0;\n        if (typeof touch.buttons === \"undefined\")\n          touch.buttons = 1;\n        if (typeof touch.isPrimary === \"undefined\") {\n          touch.isPrimary = event.touches.length === 1 && event.type === \"touchstart\";\n        }\n        if (typeof touch.width === \"undefined\")\n          touch.width = touch.radiusX || 1;\n        if (typeof touch.height === \"undefined\")\n          touch.height = touch.radiusY || 1;\n        if (typeof touch.tiltX === \"undefined\")\n          touch.tiltX = 0;\n        if (typeof touch.tiltY === \"undefined\")\n          touch.tiltY = 0;\n        if (typeof touch.pointerType === \"undefined\")\n          touch.pointerType = \"touch\";\n        if (typeof touch.pointerId === \"undefined\")\n          touch.pointerId = touch.identifier || 0;\n        if (typeof touch.pressure === \"undefined\")\n          touch.pressure = touch.force || 0.5;\n        if (typeof touch.twist === \"undefined\")\n          touch.twist = 0;\n        if (typeof touch.tangentialPressure === \"undefined\")\n          touch.tangentialPressure = 0;\n        if (typeof touch.layerX === \"undefined\")\n          touch.layerX = touch.offsetX = touch.clientX;\n        if (typeof touch.layerY === \"undefined\")\n          touch.layerY = touch.offsetY = touch.clientY;\n        touch.isNormalized = true;\n        touch.type = event.type;\n        normalizedEvents.push(touch);\n      }\n    } else if (!globalThis.MouseEvent || event instanceof MouseEvent && (!this.supportsPointerEvents || !(event instanceof globalThis.PointerEvent))) {\n      const tempEvent = event;\n      if (typeof tempEvent.isPrimary === \"undefined\")\n        tempEvent.isPrimary = true;\n      if (typeof tempEvent.width === \"undefined\")\n        tempEvent.width = 1;\n      if (typeof tempEvent.height === \"undefined\")\n        tempEvent.height = 1;\n      if (typeof tempEvent.tiltX === \"undefined\")\n        tempEvent.tiltX = 0;\n      if (typeof tempEvent.tiltY === \"undefined\")\n        tempEvent.tiltY = 0;\n      if (typeof tempEvent.pointerType === \"undefined\")\n        tempEvent.pointerType = \"mouse\";\n      if (typeof tempEvent.pointerId === \"undefined\")\n        tempEvent.pointerId = MOUSE_POINTER_ID;\n      if (typeof tempEvent.pressure === \"undefined\")\n        tempEvent.pressure = 0.5;\n      if (typeof tempEvent.twist === \"undefined\")\n        tempEvent.twist = 0;\n      if (typeof tempEvent.tangentialPressure === \"undefined\")\n        tempEvent.tangentialPressure = 0;\n      tempEvent.isNormalized = true;\n      normalizedEvents.push(tempEvent);\n    } else {\n      normalizedEvents.push(event);\n    }\n    return normalizedEvents;\n  }\n  normalizeWheelEvent(nativeEvent) {\n    const event = this.rootWheelEvent;\n    this.transferMouseData(event, nativeEvent);\n    event.deltaX = nativeEvent.deltaX;\n    event.deltaY = nativeEvent.deltaY;\n    event.deltaZ = nativeEvent.deltaZ;\n    event.deltaMode = nativeEvent.deltaMode;\n    this.mapPositionToPoint(event.screen, nativeEvent.clientX, nativeEvent.clientY);\n    event.global.copyFrom(event.screen);\n    event.offset.copyFrom(event.screen);\n    event.nativeEvent = nativeEvent;\n    event.type = nativeEvent.type;\n    return event;\n  }\n  bootstrapEvent(event, nativeEvent) {\n    event.originalEvent = null;\n    event.nativeEvent = nativeEvent;\n    event.pointerId = nativeEvent.pointerId;\n    event.width = nativeEvent.width;\n    event.height = nativeEvent.height;\n    event.isPrimary = nativeEvent.isPrimary;\n    event.pointerType = nativeEvent.pointerType;\n    event.pressure = nativeEvent.pressure;\n    event.tangentialPressure = nativeEvent.tangentialPressure;\n    event.tiltX = nativeEvent.tiltX;\n    event.tiltY = nativeEvent.tiltY;\n    event.twist = nativeEvent.twist;\n    this.transferMouseData(event, nativeEvent);\n    this.mapPositionToPoint(event.screen, nativeEvent.clientX, nativeEvent.clientY);\n    event.global.copyFrom(event.screen);\n    event.offset.copyFrom(event.screen);\n    event.isTrusted = nativeEvent.isTrusted;\n    if (event.type === \"pointerleave\") {\n      event.type = \"pointerout\";\n    }\n    if (event.type.startsWith(\"mouse\")) {\n      event.type = event.type.replace(\"mouse\", \"pointer\");\n    }\n    if (event.type.startsWith(\"touch\")) {\n      event.type = TOUCH_TO_POINTER[event.type] || event.type;\n    }\n    return event;\n  }\n  transferMouseData(event, nativeEvent) {\n    event.isTrusted = nativeEvent.isTrusted;\n    event.srcElement = nativeEvent.srcElement;\n    event.timeStamp = performance.now();\n    event.type = nativeEvent.type;\n    event.altKey = nativeEvent.altKey;\n    event.button = nativeEvent.button;\n    event.buttons = nativeEvent.buttons;\n    event.client.x = nativeEvent.clientX;\n    event.client.y = nativeEvent.clientY;\n    event.ctrlKey = nativeEvent.ctrlKey;\n    event.metaKey = nativeEvent.metaKey;\n    event.movement.x = nativeEvent.movementX;\n    event.movement.y = nativeEvent.movementY;\n    event.page.x = nativeEvent.pageX;\n    event.page.y = nativeEvent.pageY;\n    event.relatedTarget = null;\n    event.shiftKey = nativeEvent.shiftKey;\n  }\n};\nlet EventSystem = _EventSystem;\nEventSystem.extension = {\n  name: \"events\",\n  type: [\n    ExtensionType.RendererSystem,\n    ExtensionType.CanvasRendererSystem\n  ]\n};\nextensions.add(EventSystem);\n\nexport { EventSystem };\n//# sourceMappingURL=EventSystem.mjs.map\n","import { DisplayObject } from '@pixi/display';\nimport { deprecation } from '@pixi/utils';\nimport { EventSystem } from './EventSystem.mjs';\nimport { FederatedEvent } from './FederatedEvent.mjs';\n\nfunction convertEventModeToInteractiveMode(mode) {\n  return mode === \"dynamic\" || mode === \"static\";\n}\nconst FederatedDisplayObject = {\n  onclick: null,\n  onmousedown: null,\n  onmouseenter: null,\n  onmouseleave: null,\n  onmousemove: null,\n  onglobalmousemove: null,\n  onmouseout: null,\n  onmouseover: null,\n  onmouseup: null,\n  onmouseupoutside: null,\n  onpointercancel: null,\n  onpointerdown: null,\n  onpointerenter: null,\n  onpointerleave: null,\n  onpointermove: null,\n  onglobalpointermove: null,\n  onpointerout: null,\n  onpointerover: null,\n  onpointertap: null,\n  onpointerup: null,\n  onpointerupoutside: null,\n  onrightclick: null,\n  onrightdown: null,\n  onrightup: null,\n  onrightupoutside: null,\n  ontap: null,\n  ontouchcancel: null,\n  ontouchend: null,\n  ontouchendoutside: null,\n  ontouchmove: null,\n  onglobaltouchmove: null,\n  ontouchstart: null,\n  onwheel: null,\n  _internalInteractive: void 0,\n  get interactive() {\n    return this._internalInteractive ?? convertEventModeToInteractiveMode(EventSystem.defaultEventMode);\n  },\n  set interactive(value) {\n    deprecation(\"7.2.0\", `Setting interactive is deprecated, use eventMode = 'none'/'passive'/'auto'/'static'/'dynamic' instead.`);\n    this._internalInteractive = value;\n    this.eventMode = value ? \"static\" : \"auto\";\n  },\n  _internalEventMode: void 0,\n  get eventMode() {\n    return this._internalEventMode ?? EventSystem.defaultEventMode;\n  },\n  set eventMode(value) {\n    this._internalInteractive = convertEventModeToInteractiveMode(value);\n    this._internalEventMode = value;\n  },\n  isInteractive() {\n    return this.eventMode === \"static\" || this.eventMode === \"dynamic\";\n  },\n  interactiveChildren: true,\n  hitArea: null,\n  addEventListener(type, listener, options) {\n    const capture = typeof options === \"boolean\" && options || typeof options === \"object\" && options.capture;\n    const context = typeof listener === \"function\" ? void 0 : listener;\n    type = capture ? `${type}capture` : type;\n    listener = typeof listener === \"function\" ? listener : listener.handleEvent;\n    this.on(type, listener, context);\n  },\n  removeEventListener(type, listener, options) {\n    const capture = typeof options === \"boolean\" && options || typeof options === \"object\" && options.capture;\n    const context = typeof listener === \"function\" ? void 0 : listener;\n    type = capture ? `${type}capture` : type;\n    listener = typeof listener === \"function\" ? listener : listener.handleEvent;\n    this.off(type, listener, context);\n  },\n  dispatchEvent(e) {\n    if (!(e instanceof FederatedEvent)) {\n      throw new Error(\"DisplayObject cannot propagate events outside of the Federated Events API\");\n    }\n    e.defaultPrevented = false;\n    e.path = null;\n    e.target = this;\n    e.manager.dispatchEvent(e);\n    return !e.defaultPrevented;\n  }\n};\nDisplayObject.mixin(FederatedDisplayObject);\n\nexport { FederatedDisplayObject };\n//# sourceMappingURL=FederatedEventTarget.mjs.map\n","import { utils, ExtensionType, extensions } from '@pixi/core';\nimport { DisplayObject } from '@pixi/display';\nimport { FederatedEvent } from '@pixi/events';\nimport { accessibleTarget } from './accessibleTarget.mjs';\n\nDisplayObject.mixin(accessibleTarget);\nconst KEY_CODE_TAB = 9;\nconst DIV_TOUCH_SIZE = 100;\nconst DIV_TOUCH_POS_X = 0;\nconst DIV_TOUCH_POS_Y = 0;\nconst DIV_TOUCH_ZINDEX = 2;\nconst DIV_HOOK_SIZE = 1;\nconst DIV_HOOK_POS_X = -1e3;\nconst DIV_HOOK_POS_Y = -1e3;\nconst DIV_HOOK_ZINDEX = 2;\nclass AccessibilityManager {\n  constructor(renderer) {\n    this.debug = false;\n    this._isActive = false;\n    this._isMobileAccessibility = false;\n    this.pool = [];\n    this.renderId = 0;\n    this.children = [];\n    this.androidUpdateCount = 0;\n    this.androidUpdateFrequency = 500;\n    this._hookDiv = null;\n    if (utils.isMobile.tablet || utils.isMobile.phone) {\n      this.createTouchHook();\n    }\n    const div = document.createElement(\"div\");\n    div.style.width = `${DIV_TOUCH_SIZE}px`;\n    div.style.height = `${DIV_TOUCH_SIZE}px`;\n    div.style.position = \"absolute\";\n    div.style.top = `${DIV_TOUCH_POS_X}px`;\n    div.style.left = `${DIV_TOUCH_POS_Y}px`;\n    div.style.zIndex = DIV_TOUCH_ZINDEX.toString();\n    this.div = div;\n    this.renderer = renderer;\n    this._onKeyDown = this._onKeyDown.bind(this);\n    this._onMouseMove = this._onMouseMove.bind(this);\n    globalThis.addEventListener(\"keydown\", this._onKeyDown, false);\n  }\n  get isActive() {\n    return this._isActive;\n  }\n  get isMobileAccessibility() {\n    return this._isMobileAccessibility;\n  }\n  createTouchHook() {\n    const hookDiv = document.createElement(\"button\");\n    hookDiv.style.width = `${DIV_HOOK_SIZE}px`;\n    hookDiv.style.height = `${DIV_HOOK_SIZE}px`;\n    hookDiv.style.position = \"absolute\";\n    hookDiv.style.top = `${DIV_HOOK_POS_X}px`;\n    hookDiv.style.left = `${DIV_HOOK_POS_Y}px`;\n    hookDiv.style.zIndex = DIV_HOOK_ZINDEX.toString();\n    hookDiv.style.backgroundColor = \"#FF0000\";\n    hookDiv.title = \"select to enable accessibility for this content\";\n    hookDiv.addEventListener(\"focus\", () => {\n      this._isMobileAccessibility = true;\n      this.activate();\n      this.destroyTouchHook();\n    });\n    document.body.appendChild(hookDiv);\n    this._hookDiv = hookDiv;\n  }\n  destroyTouchHook() {\n    if (!this._hookDiv) {\n      return;\n    }\n    document.body.removeChild(this._hookDiv);\n    this._hookDiv = null;\n  }\n  activate() {\n    if (this._isActive) {\n      return;\n    }\n    this._isActive = true;\n    globalThis.document.addEventListener(\"mousemove\", this._onMouseMove, true);\n    globalThis.removeEventListener(\"keydown\", this._onKeyDown, false);\n    this.renderer.on(\"postrender\", this.update, this);\n    this.renderer.view.parentNode?.appendChild(this.div);\n  }\n  deactivate() {\n    if (!this._isActive || this._isMobileAccessibility) {\n      return;\n    }\n    this._isActive = false;\n    globalThis.document.removeEventListener(\"mousemove\", this._onMouseMove, true);\n    globalThis.addEventListener(\"keydown\", this._onKeyDown, false);\n    this.renderer.off(\"postrender\", this.update);\n    this.div.parentNode?.removeChild(this.div);\n  }\n  updateAccessibleObjects(displayObject) {\n    if (!displayObject.visible || !displayObject.accessibleChildren) {\n      return;\n    }\n    if (displayObject.accessible && displayObject.isInteractive()) {\n      if (!displayObject._accessibleActive) {\n        this.addChild(displayObject);\n      }\n      displayObject.renderId = this.renderId;\n    }\n    const children = displayObject.children;\n    if (children) {\n      for (let i = 0; i < children.length; i++) {\n        this.updateAccessibleObjects(children[i]);\n      }\n    }\n  }\n  update() {\n    const now = performance.now();\n    if (utils.isMobile.android.device && now < this.androidUpdateCount) {\n      return;\n    }\n    this.androidUpdateCount = now + this.androidUpdateFrequency;\n    if (!this.renderer.renderingToScreen) {\n      return;\n    }\n    if (this.renderer.lastObjectRendered) {\n      this.updateAccessibleObjects(this.renderer.lastObjectRendered);\n    }\n    const { x, y, width, height } = this.renderer.view.getBoundingClientRect();\n    const { width: viewWidth, height: viewHeight, resolution } = this.renderer;\n    const sx = width / viewWidth * resolution;\n    const sy = height / viewHeight * resolution;\n    let div = this.div;\n    div.style.left = `${x}px`;\n    div.style.top = `${y}px`;\n    div.style.width = `${viewWidth}px`;\n    div.style.height = `${viewHeight}px`;\n    for (let i = 0; i < this.children.length; i++) {\n      const child = this.children[i];\n      if (child.renderId !== this.renderId) {\n        child._accessibleActive = false;\n        utils.removeItems(this.children, i, 1);\n        this.div.removeChild(child._accessibleDiv);\n        this.pool.push(child._accessibleDiv);\n        child._accessibleDiv = null;\n        i--;\n      } else {\n        div = child._accessibleDiv;\n        let hitArea = child.hitArea;\n        const wt = child.worldTransform;\n        if (child.hitArea) {\n          div.style.left = `${(wt.tx + hitArea.x * wt.a) * sx}px`;\n          div.style.top = `${(wt.ty + hitArea.y * wt.d) * sy}px`;\n          div.style.width = `${hitArea.width * wt.a * sx}px`;\n          div.style.height = `${hitArea.height * wt.d * sy}px`;\n        } else {\n          hitArea = child.getBounds();\n          this.capHitArea(hitArea);\n          div.style.left = `${hitArea.x * sx}px`;\n          div.style.top = `${hitArea.y * sy}px`;\n          div.style.width = `${hitArea.width * sx}px`;\n          div.style.height = `${hitArea.height * sy}px`;\n          if (div.title !== child.accessibleTitle && child.accessibleTitle !== null) {\n            div.title = child.accessibleTitle;\n          }\n          if (div.getAttribute(\"aria-label\") !== child.accessibleHint && child.accessibleHint !== null) {\n            div.setAttribute(\"aria-label\", child.accessibleHint);\n          }\n        }\n        if (child.accessibleTitle !== div.title || child.tabIndex !== div.tabIndex) {\n          div.title = child.accessibleTitle;\n          div.tabIndex = child.tabIndex;\n          if (this.debug)\n            this.updateDebugHTML(div);\n        }\n      }\n    }\n    this.renderId++;\n  }\n  updateDebugHTML(div) {\n    div.innerHTML = `type: ${div.type}</br> title : ${div.title}</br> tabIndex: ${div.tabIndex}`;\n  }\n  capHitArea(hitArea) {\n    if (hitArea.x < 0) {\n      hitArea.width += hitArea.x;\n      hitArea.x = 0;\n    }\n    if (hitArea.y < 0) {\n      hitArea.height += hitArea.y;\n      hitArea.y = 0;\n    }\n    const { width: viewWidth, height: viewHeight } = this.renderer;\n    if (hitArea.x + hitArea.width > viewWidth) {\n      hitArea.width = viewWidth - hitArea.x;\n    }\n    if (hitArea.y + hitArea.height > viewHeight) {\n      hitArea.height = viewHeight - hitArea.y;\n    }\n  }\n  addChild(displayObject) {\n    let div = this.pool.pop();\n    if (!div) {\n      div = document.createElement(\"button\");\n      div.style.width = `${DIV_TOUCH_SIZE}px`;\n      div.style.height = `${DIV_TOUCH_SIZE}px`;\n      div.style.backgroundColor = this.debug ? \"rgba(255,255,255,0.5)\" : \"transparent\";\n      div.style.position = \"absolute\";\n      div.style.zIndex = DIV_TOUCH_ZINDEX.toString();\n      div.style.borderStyle = \"none\";\n      if (navigator.userAgent.toLowerCase().includes(\"chrome\")) {\n        div.setAttribute(\"aria-live\", \"off\");\n      } else {\n        div.setAttribute(\"aria-live\", \"polite\");\n      }\n      if (navigator.userAgent.match(/rv:.*Gecko\\//)) {\n        div.setAttribute(\"aria-relevant\", \"additions\");\n      } else {\n        div.setAttribute(\"aria-relevant\", \"text\");\n      }\n      div.addEventListener(\"click\", this._onClick.bind(this));\n      div.addEventListener(\"focus\", this._onFocus.bind(this));\n      div.addEventListener(\"focusout\", this._onFocusOut.bind(this));\n    }\n    div.style.pointerEvents = displayObject.accessiblePointerEvents;\n    div.type = displayObject.accessibleType;\n    if (displayObject.accessibleTitle && displayObject.accessibleTitle !== null) {\n      div.title = displayObject.accessibleTitle;\n    } else if (!displayObject.accessibleHint || displayObject.accessibleHint === null) {\n      div.title = `displayObject ${displayObject.tabIndex}`;\n    }\n    if (displayObject.accessibleHint && displayObject.accessibleHint !== null) {\n      div.setAttribute(\"aria-label\", displayObject.accessibleHint);\n    }\n    if (this.debug)\n      this.updateDebugHTML(div);\n    displayObject._accessibleActive = true;\n    displayObject._accessibleDiv = div;\n    div.displayObject = displayObject;\n    this.children.push(displayObject);\n    this.div.appendChild(displayObject._accessibleDiv);\n    displayObject._accessibleDiv.tabIndex = displayObject.tabIndex;\n  }\n  _dispatchEvent(e, type) {\n    const { displayObject: target } = e.target;\n    const boundry = this.renderer.events.rootBoundary;\n    const event = Object.assign(new FederatedEvent(boundry), { target });\n    boundry.rootTarget = this.renderer.lastObjectRendered;\n    type.forEach((type2) => boundry.dispatchEvent(event, type2));\n  }\n  _onClick(e) {\n    this._dispatchEvent(e, [\"click\", \"pointertap\", \"tap\"]);\n  }\n  _onFocus(e) {\n    if (!e.target.getAttribute(\"aria-live\")) {\n      e.target.setAttribute(\"aria-live\", \"assertive\");\n    }\n    this._dispatchEvent(e, [\"mouseover\"]);\n  }\n  _onFocusOut(e) {\n    if (!e.target.getAttribute(\"aria-live\")) {\n      e.target.setAttribute(\"aria-live\", \"polite\");\n    }\n    this._dispatchEvent(e, [\"mouseout\"]);\n  }\n  _onKeyDown(e) {\n    if (e.keyCode !== KEY_CODE_TAB) {\n      return;\n    }\n    this.activate();\n  }\n  _onMouseMove(e) {\n    if (e.movementX === 0 && e.movementY === 0) {\n      return;\n    }\n    this.deactivate();\n  }\n  destroy() {\n    this.destroyTouchHook();\n    this.div = null;\n    globalThis.document.removeEventListener(\"mousemove\", this._onMouseMove, true);\n    globalThis.removeEventListener(\"keydown\", this._onKeyDown);\n    this.pool = null;\n    this.children = null;\n    this.renderer = null;\n  }\n}\nAccessibilityManager.extension = {\n  name: \"accessibility\",\n  type: [\n    ExtensionType.RendererPlugin,\n    ExtensionType.CanvasRendererPlugin\n  ]\n};\nextensions.add(AccessibilityManager);\n\nexport { AccessibilityManager };\n//# sourceMappingURL=AccessibilityManager.mjs.map\n","const accessibleTarget = {\n  accessible: false,\n  accessibleTitle: null,\n  accessibleHint: null,\n  tabIndex: 0,\n  _accessibleActive: false,\n  _accessibleDiv: null,\n  accessibleType: \"button\",\n  accessiblePointerEvents: \"auto\",\n  accessibleChildren: true,\n  renderId: -1\n};\n\nexport { accessibleTarget };\n//# sourceMappingURL=accessibleTarget.mjs.map\n","import { autoDetectRenderer, extensions, ExtensionType } from '@pixi/core';\nimport { Container } from '@pixi/display';\n\nconst _Application = class {\n  constructor(options) {\n    this.stage = new Container();\n    options = Object.assign({\n      forceCanvas: false\n    }, options);\n    this.renderer = autoDetectRenderer(options);\n    _Application._plugins.forEach((plugin) => {\n      plugin.init.call(this, options);\n    });\n  }\n  render() {\n    this.renderer.render(this.stage);\n  }\n  get view() {\n    return this.renderer.view;\n  }\n  get screen() {\n    return this.renderer.screen;\n  }\n  destroy(removeView, stageOptions) {\n    const plugins = _Application._plugins.slice(0);\n    plugins.reverse();\n    plugins.forEach((plugin) => {\n      plugin.destroy.call(this);\n    });\n    this.stage.destroy(stageOptions);\n    this.stage = null;\n    this.renderer.destroy(removeView);\n    this.renderer = null;\n  }\n};\nlet Application = _Application;\nApplication._plugins = [];\nextensions.handleByList(ExtensionType.Application, Application._plugins);\n\nexport { Application };\n//# sourceMappingURL=Application.mjs.map\n","import { ExtensionType, extensions } from '@pixi/core';\n\nclass ResizePlugin {\n  static init(options) {\n    Object.defineProperty(this, \"resizeTo\", {\n      set(dom) {\n        globalThis.removeEventListener(\"resize\", this.queueResize);\n        this._resizeTo = dom;\n        if (dom) {\n          globalThis.addEventListener(\"resize\", this.queueResize);\n          this.resize();\n        }\n      },\n      get() {\n        return this._resizeTo;\n      }\n    });\n    this.queueResize = () => {\n      if (!this._resizeTo) {\n        return;\n      }\n      this.cancelResize();\n      this._resizeId = requestAnimationFrame(() => this.resize());\n    };\n    this.cancelResize = () => {\n      if (this._resizeId) {\n        cancelAnimationFrame(this._resizeId);\n        this._resizeId = null;\n      }\n    };\n    this.resize = () => {\n      if (!this._resizeTo) {\n        return;\n      }\n      this.cancelResize();\n      let width;\n      let height;\n      if (this._resizeTo === globalThis.window) {\n        width = globalThis.innerWidth;\n        height = globalThis.innerHeight;\n      } else {\n        const { clientWidth, clientHeight } = this._resizeTo;\n        width = clientWidth;\n        height = clientHeight;\n      }\n      this.renderer.resize(width, height);\n      this.render();\n    };\n    this._resizeId = null;\n    this._resizeTo = null;\n    this.resizeTo = options.resizeTo || null;\n  }\n  static destroy() {\n    globalThis.removeEventListener(\"resize\", this.queueResize);\n    this.cancelResize();\n    this.cancelResize = null;\n    this.queueResize = null;\n    this.resizeTo = null;\n    this.resize = null;\n  }\n}\nResizePlugin.extension = ExtensionType.Application;\nextensions.add(ResizePlugin);\n\nexport { ResizePlugin };\n//# sourceMappingURL=ResizePlugin.mjs.map\n","import { ExtensionType, extensions } from '@pixi/core';\n\nconst assetKeyMap = {\n  loader: ExtensionType.LoadParser,\n  resolver: ExtensionType.ResolveParser,\n  cache: ExtensionType.CacheParser,\n  detection: ExtensionType.DetectionParser\n};\nextensions.handle(ExtensionType.Asset, (extension) => {\n  const ref = extension.ref;\n  Object.entries(assetKeyMap).filter(([key]) => !!ref[key]).forEach(([key, type]) => extensions.add(Object.assign(ref[key], { extension: ref[key].extension ?? type })));\n}, (extension) => {\n  const ref = extension.ref;\n  Object.keys(assetKeyMap).filter((key) => !!ref[key]).forEach((key) => extensions.remove(ref[key]));\n});\n//# sourceMappingURL=AssetExtension.mjs.map\n","class BackgroundLoader {\n  constructor(loader, verbose = false) {\n    this._loader = loader;\n    this._assetList = [];\n    this._isLoading = false;\n    this._maxConcurrent = 1;\n    this.verbose = verbose;\n  }\n  add(assetUrls) {\n    assetUrls.forEach((a) => {\n      this._assetList.push(a);\n    });\n    if (this.verbose)\n      console.log(\"[BackgroundLoader] assets: \", this._assetList);\n    if (this._isActive && !this._isLoading) {\n      this._next();\n    }\n  }\n  async _next() {\n    if (this._assetList.length && this._isActive) {\n      this._isLoading = true;\n      const toLoad = [];\n      const toLoadAmount = Math.min(this._assetList.length, this._maxConcurrent);\n      for (let i = 0; i < toLoadAmount; i++) {\n        toLoad.push(this._assetList.pop());\n      }\n      await this._loader.load(toLoad);\n      this._isLoading = false;\n      this._next();\n    }\n  }\n  get active() {\n    return this._isActive;\n  }\n  set active(value) {\n    if (this._isActive === value)\n      return;\n    this._isActive = value;\n    if (value && !this._isLoading) {\n      this._next();\n    }\n  }\n}\n\nexport { BackgroundLoader };\n//# sourceMappingURL=BackgroundLoader.mjs.map\n","import { utils } from '@pixi/core';\n\nfunction checkExtension(url, extension) {\n  const tempURL = url.split(\"?\")[0];\n  const ext = utils.path.extname(tempURL).toLowerCase();\n  if (Array.isArray(extension)) {\n    return extension.includes(ext);\n  }\n  return ext === extension;\n}\n\nexport { checkExtension };\n//# sourceMappingURL=checkExtension.mjs.map\n","const convertToList = (input, transform) => {\n  if (!Array.isArray(input)) {\n    input = [input];\n  }\n  if (!transform) {\n    return input;\n  }\n  return input.map((item) => {\n    if (typeof item === \"string\") {\n      return transform(item);\n    }\n    return item;\n  });\n};\n\nexport { convertToList };\n//# sourceMappingURL=convertToList.mjs.map\n","import { Texture, BaseTexture } from '@pixi/core';\nimport '../utils/index.mjs';\nimport { convertToList } from '../utils/convertToList.mjs';\n\nclass CacheClass {\n  constructor() {\n    this._parsers = [];\n    this._cache = /* @__PURE__ */ new Map();\n    this._cacheMap = /* @__PURE__ */ new Map();\n  }\n  reset() {\n    this._cacheMap.clear();\n    this._cache.clear();\n  }\n  has(key) {\n    return this._cache.has(key);\n  }\n  get(key) {\n    const result = this._cache.get(key);\n    if (!result) {\n      console.warn(`[Assets] Asset id ${key} was not found in the Cache`);\n    }\n    return result;\n  }\n  set(key, value) {\n    const keys = convertToList(key);\n    let cacheableAssets;\n    for (let i = 0; i < this.parsers.length; i++) {\n      const parser = this.parsers[i];\n      if (parser.test(value)) {\n        cacheableAssets = parser.getCacheableAssets(keys, value);\n        break;\n      }\n    }\n    if (!cacheableAssets) {\n      cacheableAssets = {};\n      keys.forEach((key2) => {\n        cacheableAssets[key2] = value;\n      });\n    }\n    const cacheKeys = Object.keys(cacheableAssets);\n    const cachedAssets = {\n      cacheKeys,\n      keys\n    };\n    keys.forEach((key2) => {\n      this._cacheMap.set(key2, cachedAssets);\n    });\n    cacheKeys.forEach((key2) => {\n      if (this._cache.has(key2) && this._cache.get(key2) !== value) {\n        console.warn(\"[Cache] already has key:\", key2);\n      }\n      this._cache.set(key2, cacheableAssets[key2]);\n    });\n    if (value instanceof Texture) {\n      const texture = value;\n      keys.forEach((key2) => {\n        if (texture.baseTexture !== Texture.EMPTY.baseTexture) {\n          BaseTexture.addToCache(texture.baseTexture, key2);\n        }\n        Texture.addToCache(texture, key2);\n      });\n    }\n  }\n  remove(key) {\n    this._cacheMap.get(key);\n    if (!this._cacheMap.has(key)) {\n      console.warn(`[Assets] Asset id ${key} was not found in the Cache`);\n      return;\n    }\n    const cacheMap = this._cacheMap.get(key);\n    const cacheKeys = cacheMap.cacheKeys;\n    cacheKeys.forEach((key2) => {\n      this._cache.delete(key2);\n    });\n    cacheMap.keys.forEach((key2) => {\n      this._cacheMap.delete(key2);\n    });\n  }\n  get parsers() {\n    return this._parsers;\n  }\n}\nconst Cache = new CacheClass();\n\nexport { Cache };\n//# sourceMappingURL=Cache.mjs.map\n","const isSingleItem = (item) => !Array.isArray(item);\n\nexport { isSingleItem };\n//# sourceMappingURL=isSingleItem.mjs.map\n","import { utils } from '@pixi/core';\nimport '../utils/index.mjs';\nimport { isSingleItem } from '../utils/isSingleItem.mjs';\nimport { convertToList } from '../utils/convertToList.mjs';\n\nclass Loader {\n  constructor() {\n    this._parsers = [];\n    this.promiseCache = {};\n  }\n  reset() {\n    this.promiseCache = {};\n  }\n  _getLoadPromiseAndParser(url, data) {\n    const result = {\n      promise: null,\n      parser: null\n    };\n    result.promise = (async () => {\n      let asset = null;\n      for (let i = 0; i < this.parsers.length; i++) {\n        const parser = this.parsers[i];\n        if (parser.load && parser.test?.(url, data, this)) {\n          asset = await parser.load(url, data, this);\n          result.parser = parser;\n          break;\n        }\n      }\n      if (!result.parser) {\n        console.warn(`[Assets] ${url} could not be loaded as we don't know how to parse it, ensure the correct parser has being added`);\n        return null;\n      }\n      for (let i = 0; i < this.parsers.length; i++) {\n        const parser = this.parsers[i];\n        if (parser.parse) {\n          if (parser.parse && await parser.testParse?.(asset, data, this)) {\n            asset = await parser.parse(asset, data, this) || asset;\n            result.parser = parser;\n          }\n        }\n      }\n      return asset;\n    })();\n    return result;\n  }\n  async load(assetsToLoadIn, onProgress) {\n    let count = 0;\n    const assets = {};\n    const singleAsset = isSingleItem(assetsToLoadIn);\n    const assetsToLoad = convertToList(assetsToLoadIn, (item) => ({\n      src: item\n    }));\n    const total = assetsToLoad.length;\n    const promises = assetsToLoad.map(async (asset) => {\n      const url = utils.path.toAbsolute(asset.src);\n      if (!assets[asset.src]) {\n        try {\n          if (!this.promiseCache[url]) {\n            this.promiseCache[url] = this._getLoadPromiseAndParser(url, asset);\n          }\n          assets[asset.src] = await this.promiseCache[url].promise;\n          if (onProgress)\n            onProgress(++count / total);\n        } catch (e) {\n          delete this.promiseCache[url];\n          delete assets[asset.src];\n          throw new Error(`[Loader.load] Failed to load ${url}.\n${e}`);\n        }\n      }\n    });\n    await Promise.all(promises);\n    return singleAsset ? assets[assetsToLoad[0].src] : assets;\n  }\n  async unload(assetsToUnloadIn) {\n    const assetsToUnload = convertToList(assetsToUnloadIn, (item) => ({\n      src: item\n    }));\n    const promises = assetsToUnload.map(async (asset) => {\n      const url = utils.path.toAbsolute(asset.src);\n      const loadPromise = this.promiseCache[url];\n      if (loadPromise) {\n        const loadedAsset = await loadPromise.promise;\n        loadPromise.parser?.unload?.(loadedAsset, asset, this);\n        delete this.promiseCache[url];\n      }\n    });\n    await Promise.all(promises);\n  }\n  get parsers() {\n    return this._parsers;\n  }\n}\n\nexport { Loader };\n//# sourceMappingURL=Loader.mjs.map\n","var LoaderParserPriority = /* @__PURE__ */ ((LoaderParserPriority2) => {\n  LoaderParserPriority2[LoaderParserPriority2[\"Low\"] = 0] = \"Low\";\n  LoaderParserPriority2[LoaderParserPriority2[\"Normal\"] = 1] = \"Normal\";\n  LoaderParserPriority2[LoaderParserPriority2[\"High\"] = 2] = \"High\";\n  return LoaderParserPriority2;\n})(LoaderParserPriority || {});\n\nexport { LoaderParserPriority };\n//# sourceMappingURL=LoaderParser.mjs.map\n","import { ExtensionType, utils, settings, extensions } from '@pixi/core';\nimport { LoaderParserPriority } from './LoaderParser.mjs';\n\nconst loadJson = {\n  extension: {\n    type: ExtensionType.LoadParser,\n    priority: LoaderParserPriority.Low\n  },\n  test(url) {\n    return utils.path.extname(url).toLowerCase() === \".json\";\n  },\n  async load(url) {\n    const response = await settings.ADAPTER.fetch(url);\n    const json = await response.json();\n    return json;\n  }\n};\nextensions.add(loadJson);\n\nexport { loadJson };\n//# sourceMappingURL=loadJson.mjs.map\n","import { ExtensionType, utils, settings, extensions } from '@pixi/core';\nimport { LoaderParserPriority } from './LoaderParser.mjs';\n\nconst loadTxt = {\n  extension: {\n    type: ExtensionType.LoadParser,\n    priority: LoaderParserPriority.Low\n  },\n  test(url) {\n    return utils.path.extname(url).toLowerCase() === \".txt\";\n  },\n  async load(url) {\n    const response = await settings.ADAPTER.fetch(url);\n    const txt = await response.text();\n    return txt;\n  }\n};\nextensions.add(loadTxt);\n\nexport { loadTxt };\n//# sourceMappingURL=loadTxt.mjs.map\n","function checkDataUrl(url, mimes) {\n  if (Array.isArray(mimes)) {\n    for (const mime of mimes) {\n      if (url.startsWith(`data:${mime}`))\n        return true;\n    }\n    return false;\n  }\n  return url.startsWith(`data:${mimes}`);\n}\n\nexport { checkDataUrl };\n//# sourceMappingURL=checkDataUrl.mjs.map\n","import { utils, ExtensionType, settings, extensions } from '@pixi/core';\nimport { checkDataUrl } from '../../utils/checkDataUrl.mjs';\nimport { checkExtension } from '../../utils/checkExtension.mjs';\nimport { LoaderParserPriority } from './LoaderParser.mjs';\n\nconst validWeights = [\n  \"normal\",\n  \"bold\",\n  \"100\",\n  \"200\",\n  \"300\",\n  \"400\",\n  \"500\",\n  \"600\",\n  \"700\",\n  \"800\",\n  \"900\"\n];\nconst validFontExtensions = [\".ttf\", \".otf\", \".woff\", \".woff2\"];\nconst validFontMIMEs = [\n  \"font/ttf\",\n  \"font/otf\",\n  \"font/woff\",\n  \"font/woff2\"\n];\nfunction getFontFamilyName(url) {\n  const ext = utils.path.extname(url);\n  const name = utils.path.basename(url, ext);\n  const nameWithSpaces = name.replace(/(-|_)/g, \" \");\n  const nameTitleCase = nameWithSpaces.toLowerCase().split(\" \").map((word) => word.charAt(0).toUpperCase() + word.slice(1)).join(\" \");\n  return nameTitleCase;\n}\nconst loadWebFont = {\n  extension: {\n    type: ExtensionType.LoadParser,\n    priority: LoaderParserPriority.Low\n  },\n  test(url) {\n    return checkDataUrl(url, validFontMIMEs) || checkExtension(url, validFontExtensions);\n  },\n  async load(url, options) {\n    const fonts = settings.ADAPTER.getFontFaceSet();\n    if (fonts) {\n      const fontFaces = [];\n      const name = options.data?.family ?? getFontFamilyName(url);\n      const weights = options.data?.weights?.filter((weight) => validWeights.includes(weight)) ?? [\"normal\"];\n      const data = options.data ?? {};\n      for (let i = 0; i < weights.length; i++) {\n        const weight = weights[i];\n        const font = new FontFace(name, `url(${encodeURI(url)})`, {\n          ...data,\n          weight\n        });\n        await font.load();\n        fonts.add(font);\n        fontFaces.push(font);\n      }\n      return fontFaces.length === 1 ? fontFaces[0] : fontFaces;\n    }\n    console.warn(\"[loadWebFont] FontFace API is not supported. Skipping loading font\");\n    return null;\n  },\n  unload(font) {\n    (Array.isArray(font) ? font : [font]).forEach((t) => settings.ADAPTER.getFontFaceSet().delete(t));\n  }\n};\nextensions.add(loadWebFont);\n\nexport { getFontFamilyName, loadWebFont };\n//# sourceMappingURL=loadWebFont.mjs.map\n","let UUID = 0;\nlet MAX_WORKERS;\nconst WHITE_PNG = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mP8/x8AAwMCAO+ip1sAAAAASUVORK5CYII=\";\nconst checkImageBitmapCode = {\n  id: \"checkImageBitmap\",\n  code: `\n    async function checkImageBitmap()\n    {\n        try\n        {\n            if (typeof createImageBitmap !== 'function') return false;\n\n            const response = await fetch('${WHITE_PNG}');\n            const imageBlob =  await response.blob();\n            const imageBitmap = await createImageBitmap(imageBlob);\n\n            return imageBitmap.width === 1 && imageBitmap.height === 1;\n        }\n        catch (e)\n        {\n            return false;\n        }\n    }\n    checkImageBitmap().then((result) => { self.postMessage(result); });\n    `\n};\nconst workerCode = {\n  id: \"loadImageBitmap\",\n  code: `\n    async function loadImageBitmap(url)\n    {\n        const response = await fetch(url);\n\n        if (!response.ok)\n        {\n            throw new Error(\\`[WorkerManager.loadImageBitmap] Failed to fetch \\${url}: \\`\n                + \\`\\${response.status} \\${response.statusText}\\`);\n        }\n\n        const imageBlob =  await response.blob();\n        const imageBitmap = await createImageBitmap(imageBlob);\n\n        return imageBitmap;\n    }\n    self.onmessage = async (event) =>\n    {\n        try\n        {\n            const imageBitmap = await loadImageBitmap(event.data.data[0]);\n\n            self.postMessage({\n                data: imageBitmap,\n                uuid: event.data.uuid,\n                id: event.data.id,\n            }, [imageBitmap]);\n        }\n        catch(e)\n        {\n            self.postMessage({\n                error: e,\n                uuid: event.data.uuid,\n                id: event.data.id,\n            });\n        }\n    };`\n};\nlet workerURL;\nclass WorkerManagerClass {\n  constructor() {\n    this._initialized = false;\n    this._createdWorkers = 0;\n    this.workerPool = [];\n    this.queue = [];\n    this.resolveHash = {};\n  }\n  isImageBitmapSupported() {\n    if (this._isImageBitmapSupported !== void 0)\n      return this._isImageBitmapSupported;\n    this._isImageBitmapSupported = new Promise((resolve) => {\n      const workerURL2 = URL.createObjectURL(new Blob([checkImageBitmapCode.code], { type: \"application/javascript\" }));\n      const worker = new Worker(workerURL2);\n      worker.addEventListener(\"message\", (event) => {\n        worker.terminate();\n        URL.revokeObjectURL(workerURL2);\n        resolve(event.data);\n      });\n    });\n    return this._isImageBitmapSupported;\n  }\n  loadImageBitmap(src) {\n    return this._run(\"loadImageBitmap\", [src]);\n  }\n  async _initWorkers() {\n    if (this._initialized)\n      return;\n    this._initialized = true;\n  }\n  getWorker() {\n    if (MAX_WORKERS === void 0) {\n      MAX_WORKERS = navigator.hardwareConcurrency || 4;\n    }\n    let worker = this.workerPool.pop();\n    if (!worker && this._createdWorkers < MAX_WORKERS) {\n      if (!workerURL) {\n        workerURL = URL.createObjectURL(new Blob([workerCode.code], { type: \"application/javascript\" }));\n      }\n      this._createdWorkers++;\n      worker = new Worker(workerURL);\n      worker.addEventListener(\"message\", (event) => {\n        this.complete(event.data);\n        this.returnWorker(event.target);\n        this.next();\n      });\n    }\n    return worker;\n  }\n  returnWorker(worker) {\n    this.workerPool.push(worker);\n  }\n  complete(data) {\n    if (data.error !== void 0) {\n      this.resolveHash[data.uuid].reject(data.error);\n    } else {\n      this.resolveHash[data.uuid].resolve(data.data);\n    }\n    this.resolveHash[data.uuid] = null;\n  }\n  async _run(id, args) {\n    await this._initWorkers();\n    const promise = new Promise((resolve, reject) => {\n      this.queue.push({ id, arguments: args, resolve, reject });\n    });\n    this.next();\n    return promise;\n  }\n  next() {\n    if (!this.queue.length)\n      return;\n    const worker = this.getWorker();\n    if (!worker) {\n      return;\n    }\n    const toDo = this.queue.pop();\n    const id = toDo.id;\n    this.resolveHash[UUID] = { resolve: toDo.resolve, reject: toDo.reject };\n    worker.postMessage({\n      data: toDo.arguments,\n      uuid: UUID++,\n      id\n    });\n  }\n}\nconst WorkerManager = new WorkerManagerClass();\n\nexport { WorkerManager };\n//# sourceMappingURL=WorkerManager.mjs.map\n","import { Texture } from '@pixi/core';\n\nfunction createTexture(base, loader, url) {\n  const texture = new Texture(base);\n  texture.baseTexture.on(\"dispose\", () => {\n    delete loader.promiseCache[url];\n  });\n  return texture;\n}\n\nexport { createTexture };\n//# sourceMappingURL=createTexture.mjs.map\n","import { settings, ExtensionType, BaseTexture, utils, extensions } from '@pixi/core';\nimport { checkDataUrl } from '../../../utils/checkDataUrl.mjs';\nimport { checkExtension } from '../../../utils/checkExtension.mjs';\nimport { LoaderParserPriority } from '../LoaderParser.mjs';\nimport { WorkerManager } from '../WorkerManager.mjs';\nimport { createTexture } from './utils/createTexture.mjs';\n\nconst validImageExtensions = [\".jpeg\", \".jpg\", \".png\", \".webp\", \".avif\"];\nconst validImageMIMEs = [\n  \"image/jpeg\",\n  \"image/png\",\n  \"image/webp\",\n  \"image/avif\"\n];\nasync function loadImageBitmap(url) {\n  const response = await settings.ADAPTER.fetch(url);\n  if (!response.ok) {\n    throw new Error(`[loadImageBitmap] Failed to fetch ${url}: ${response.status} ${response.statusText}`);\n  }\n  const imageBlob = await response.blob();\n  const imageBitmap = await createImageBitmap(imageBlob);\n  return imageBitmap;\n}\nconst loadTextures = {\n  extension: {\n    type: ExtensionType.LoadParser,\n    priority: LoaderParserPriority.High\n  },\n  config: {\n    preferWorkers: true,\n    preferCreateImageBitmap: true,\n    crossOrigin: \"anonymous\"\n  },\n  test(url) {\n    return checkDataUrl(url, validImageMIMEs) || checkExtension(url, validImageExtensions);\n  },\n  async load(url, asset, loader) {\n    let src = null;\n    if (globalThis.createImageBitmap && this.config.preferCreateImageBitmap) {\n      if (this.config.preferWorkers && await WorkerManager.isImageBitmapSupported()) {\n        src = await WorkerManager.loadImageBitmap(url);\n      } else {\n        src = await loadImageBitmap(url);\n      }\n    } else {\n      src = await new Promise((resolve) => {\n        src = new Image();\n        src.crossOrigin = this.config.crossOrigin;\n        src.src = url;\n        if (src.complete) {\n          resolve(src);\n        } else {\n          src.onload = () => {\n            resolve(src);\n          };\n        }\n      });\n    }\n    const base = new BaseTexture(src, {\n      resolution: utils.getResolutionOfUrl(url),\n      ...asset.data\n    });\n    base.resource.src = url;\n    return createTexture(base, loader, url);\n  },\n  unload(texture) {\n    texture.destroy(true);\n  }\n};\nextensions.add(loadTextures);\n\nexport { loadImageBitmap, loadTextures };\n//# sourceMappingURL=loadTextures.mjs.map\n","import { ExtensionType, utils, SVGResource, BaseTexture, settings, extensions } from '@pixi/core';\nimport { LoaderParserPriority } from '../LoaderParser.mjs';\nimport { loadTextures } from './loadTextures.mjs';\nimport { createTexture } from './utils/createTexture.mjs';\n\nconst loadSVG = {\n  extension: {\n    type: ExtensionType.LoadParser,\n    priority: LoaderParserPriority.High\n  },\n  test(url) {\n    return utils.path.extname(url).toLowerCase() === \".svg\";\n  },\n  async testParse(data) {\n    return SVGResource.test(data);\n  },\n  async parse(asset, data, loader) {\n    const src = new SVGResource(asset, data?.data?.resourceOptions);\n    const base = new BaseTexture(src, {\n      resolution: utils.getResolutionOfUrl(asset),\n      ...data?.data\n    });\n    base.resource.src = asset;\n    const texture = createTexture(base, loader, asset);\n    if (!data?.data?.resourceOptions?.autoLoad) {\n      await src.load();\n    }\n    return texture;\n  },\n  async load(url, _options) {\n    const response = await settings.ADAPTER.fetch(url);\n    return response.text();\n  },\n  unload: loadTextures.unload\n};\nextensions.add(loadSVG);\n\nexport { loadSVG };\n//# sourceMappingURL=loadSVG.mjs.map\n","function processX(base, ids, depth, result, tags) {\n  const id = ids[depth];\n  for (let i = 0; i < id.length; i++) {\n    const value = id[i];\n    if (depth < ids.length - 1) {\n      processX(base.replace(result[depth], value), ids, depth + 1, result, tags);\n    } else {\n      tags.push(base.replace(result[depth], value));\n    }\n  }\n}\nfunction createStringVariations(string) {\n  const regex = /\\{(.*?)\\}/g;\n  const result = string.match(regex);\n  const tags = [];\n  if (result) {\n    const ids = [];\n    result.forEach((vars) => {\n      const split = vars.substring(1, vars.length - 1).split(\",\");\n      ids.push(split);\n    });\n    processX(string, ids, 0, result, tags);\n  } else {\n    tags.push(string);\n  }\n  return tags;\n}\n\nexport { createStringVariations };\n//# sourceMappingURL=createStringVariations.mjs.map\n","import { utils } from '@pixi/core';\nimport { convertToList } from '../utils/convertToList.mjs';\nimport { createStringVariations } from '../utils/createStringVariations.mjs';\nimport { isSingleItem } from '../utils/isSingleItem.mjs';\n\nclass Resolver {\n  constructor() {\n    this._defaultBundleIdentifierOptions = {\n      connector: \"-\",\n      createBundleAssetId: (bundleId, assetId) => `${bundleId}${this._bundleIdConnector}${assetId}`,\n      extractAssetIdFromBundle: (bundleId, assetBundleId) => assetBundleId.replace(`${bundleId}${this._bundleIdConnector}`, \"\")\n    };\n    this._bundleIdConnector = this._defaultBundleIdentifierOptions.connector;\n    this._createBundleAssetId = this._defaultBundleIdentifierOptions.createBundleAssetId;\n    this._extractAssetIdFromBundle = this._defaultBundleIdentifierOptions.extractAssetIdFromBundle;\n    this._assetMap = {};\n    this._preferredOrder = [];\n    this._parsers = [];\n    this._resolverHash = {};\n    this._bundles = {};\n  }\n  setBundleIdentifier(bundleIdentifier) {\n    this._bundleIdConnector = bundleIdentifier.connector ?? this._bundleIdConnector;\n    this._createBundleAssetId = bundleIdentifier.createBundleAssetId ?? this._createBundleAssetId;\n    this._extractAssetIdFromBundle = bundleIdentifier.extractAssetIdFromBundle ?? this._extractAssetIdFromBundle;\n    if (this._extractAssetIdFromBundle(\"foo\", this._createBundleAssetId(\"foo\", \"bar\")) !== \"bar\") {\n      throw new Error(\"[Resolver] GenerateBundleAssetId are not working correctly\");\n    }\n  }\n  prefer(...preferOrders) {\n    preferOrders.forEach((prefer) => {\n      this._preferredOrder.push(prefer);\n      if (!prefer.priority) {\n        prefer.priority = Object.keys(prefer.params);\n      }\n    });\n    this._resolverHash = {};\n  }\n  set basePath(basePath) {\n    this._basePath = basePath;\n  }\n  get basePath() {\n    return this._basePath;\n  }\n  set rootPath(rootPath) {\n    this._rootPath = rootPath;\n  }\n  get rootPath() {\n    return this._rootPath;\n  }\n  get parsers() {\n    return this._parsers;\n  }\n  reset() {\n    this.setBundleIdentifier(this._defaultBundleIdentifierOptions);\n    this._assetMap = {};\n    this._preferredOrder = [];\n    this._resolverHash = {};\n    this._rootPath = null;\n    this._basePath = null;\n    this._manifest = null;\n    this._bundles = {};\n    this._defaultSearchParams = null;\n  }\n  setDefaultSearchParams(searchParams) {\n    if (typeof searchParams === \"string\") {\n      this._defaultSearchParams = searchParams;\n    } else {\n      const queryValues = searchParams;\n      this._defaultSearchParams = Object.keys(queryValues).map((key) => `${encodeURIComponent(key)}=${encodeURIComponent(queryValues[key])}`).join(\"&\");\n    }\n  }\n  addManifest(manifest) {\n    if (this._manifest) {\n      console.warn(\"[Resolver] Manifest already exists, this will be overwritten\");\n    }\n    this._manifest = manifest;\n    manifest.bundles.forEach((bundle) => {\n      this.addBundle(bundle.name, bundle.assets);\n    });\n  }\n  addBundle(bundleId, assets) {\n    const assetNames = [];\n    if (Array.isArray(assets)) {\n      assets.forEach((asset) => {\n        if (typeof asset.name === \"string\") {\n          const bundleAssetId = this._createBundleAssetId(bundleId, asset.name);\n          assetNames.push(bundleAssetId);\n          this.add([asset.name, bundleAssetId], asset.srcs, asset.data);\n        } else {\n          const bundleIds = asset.name.map((name) => this._createBundleAssetId(bundleId, name));\n          bundleIds.forEach((bundleId2) => {\n            assetNames.push(bundleId2);\n          });\n          this.add([...asset.name, ...bundleIds], asset.srcs);\n        }\n      });\n    } else {\n      Object.keys(assets).forEach((key) => {\n        assetNames.push(this._createBundleAssetId(bundleId, key));\n        this.add([key, this._createBundleAssetId(bundleId, key)], assets[key]);\n      });\n    }\n    this._bundles[bundleId] = assetNames;\n  }\n  add(keysIn, assetsIn, data) {\n    const keys = convertToList(keysIn);\n    keys.forEach((key) => {\n      if (this.hasKey(key)) {\n        console.warn(`[Resolver] already has key: ${key} overwriting`);\n      }\n    });\n    if (!Array.isArray(assetsIn)) {\n      if (typeof assetsIn === \"string\") {\n        assetsIn = createStringVariations(assetsIn);\n      } else {\n        assetsIn = [assetsIn];\n      }\n    }\n    const assetMap = assetsIn.map((asset) => {\n      let formattedAsset = asset;\n      if (typeof asset === \"string\") {\n        let parsed = false;\n        for (let i = 0; i < this._parsers.length; i++) {\n          const parser = this._parsers[i];\n          if (parser.test(asset)) {\n            formattedAsset = parser.parse(asset);\n            parsed = true;\n            break;\n          }\n        }\n        if (!parsed) {\n          formattedAsset = {\n            src: asset\n          };\n        }\n      }\n      if (!formattedAsset.format) {\n        formattedAsset.format = formattedAsset.src.split(\".\").pop();\n      }\n      if (!formattedAsset.alias) {\n        formattedAsset.alias = keys;\n      }\n      if (this._basePath || this._rootPath) {\n        formattedAsset.src = utils.path.toAbsolute(formattedAsset.src, this._basePath, this._rootPath);\n      }\n      formattedAsset.src = this._appendDefaultSearchParams(formattedAsset.src);\n      formattedAsset.data = formattedAsset.data ?? data;\n      return formattedAsset;\n    });\n    keys.forEach((key) => {\n      this._assetMap[key] = assetMap;\n    });\n  }\n  resolveBundle(bundleIds) {\n    const singleAsset = isSingleItem(bundleIds);\n    bundleIds = convertToList(bundleIds);\n    const out = {};\n    bundleIds.forEach((bundleId) => {\n      const assetNames = this._bundles[bundleId];\n      if (assetNames) {\n        const results = this.resolve(assetNames);\n        const assets = {};\n        for (const key in results) {\n          const asset = results[key];\n          assets[this._extractAssetIdFromBundle(bundleId, key)] = asset;\n        }\n        out[bundleId] = assets;\n      }\n    });\n    return singleAsset ? out[bundleIds[0]] : out;\n  }\n  resolveUrl(key) {\n    const result = this.resolve(key);\n    if (typeof key !== \"string\") {\n      const out = {};\n      for (const i in result) {\n        out[i] = result[i].src;\n      }\n      return out;\n    }\n    return result.src;\n  }\n  resolve(keys) {\n    const singleAsset = isSingleItem(keys);\n    keys = convertToList(keys);\n    const result = {};\n    keys.forEach((key) => {\n      if (!this._resolverHash[key]) {\n        if (this._assetMap[key]) {\n          let assets = this._assetMap[key];\n          const preferredOrder = this._getPreferredOrder(assets);\n          const bestAsset = assets[0];\n          preferredOrder?.priority.forEach((priorityKey) => {\n            preferredOrder.params[priorityKey].forEach((value) => {\n              const filteredAssets = assets.filter((asset) => {\n                if (asset[priorityKey]) {\n                  return asset[priorityKey] === value;\n                }\n                return false;\n              });\n              if (filteredAssets.length) {\n                assets = filteredAssets;\n              }\n            });\n          });\n          this._resolverHash[key] = assets[0] ?? bestAsset;\n        } else {\n          let src = key;\n          if (this._basePath || this._rootPath) {\n            src = utils.path.toAbsolute(src, this._basePath, this._rootPath);\n          }\n          src = this._appendDefaultSearchParams(src);\n          this._resolverHash[key] = {\n            src\n          };\n        }\n      }\n      result[key] = this._resolverHash[key];\n    });\n    return singleAsset ? result[keys[0]] : result;\n  }\n  hasKey(key) {\n    return !!this._assetMap[key];\n  }\n  hasBundle(key) {\n    return !!this._bundles[key];\n  }\n  _getPreferredOrder(assets) {\n    for (let i = 0; i < assets.length; i++) {\n      const asset = assets[0];\n      const preferred = this._preferredOrder.find((preference) => preference.params.format.includes(asset.format));\n      if (preferred) {\n        return preferred;\n      }\n    }\n    return this._preferredOrder[0];\n  }\n  _appendDefaultSearchParams(url) {\n    if (!this._defaultSearchParams)\n      return url;\n    const paramConnector = /\\?/.test(url) ? \"&\" : \"?\";\n    return `${url}${paramConnector}${this._defaultSearchParams}`;\n  }\n}\n\nexport { Resolver };\n//# sourceMappingURL=Resolver.mjs.map\n","import { extensions, ExtensionType } from '@pixi/core';\nimport { BackgroundLoader } from './BackgroundLoader.mjs';\nimport { Cache } from './cache/Cache.mjs';\nimport { Loader } from './loader/Loader.mjs';\nimport './loader/parsers/index.mjs';\nimport { Resolver } from './resolver/Resolver.mjs';\nimport { convertToList } from './utils/convertToList.mjs';\nimport { isSingleItem } from './utils/isSingleItem.mjs';\nimport { loadTextures } from './loader/parsers/textures/loadTextures.mjs';\n\nclass AssetsClass {\n  constructor() {\n    this._detections = [];\n    this._initialized = false;\n    this.resolver = new Resolver();\n    this.loader = new Loader();\n    this.cache = Cache;\n    this._backgroundLoader = new BackgroundLoader(this.loader);\n    this._backgroundLoader.active = true;\n    this.reset();\n  }\n  async init(options = {}) {\n    if (this._initialized) {\n      console.warn(\"[Assets]AssetManager already initialized, did you load before calling this Asset.init()?\");\n      return;\n    }\n    this._initialized = true;\n    if (options.defaultSearchParams) {\n      this.resolver.setDefaultSearchParams(options.defaultSearchParams);\n    }\n    if (options.basePath) {\n      this.resolver.basePath = options.basePath;\n    }\n    if (options.bundleIdentifier) {\n      this.resolver.setBundleIdentifier(options.bundleIdentifier);\n    }\n    if (options.manifest) {\n      let manifest = options.manifest;\n      if (typeof manifest === \"string\") {\n        manifest = await this.load(manifest);\n      }\n      this.resolver.addManifest(manifest);\n    }\n    const resolutionPref = options.texturePreference?.resolution ?? 1;\n    const resolution = typeof resolutionPref === \"number\" ? [resolutionPref] : resolutionPref;\n    let formats = [];\n    if (options.texturePreference?.format) {\n      const formatPref = options.texturePreference?.format;\n      formats = typeof formatPref === \"string\" ? [formatPref] : formatPref;\n      for (const detection of this._detections) {\n        if (!await detection.test()) {\n          formats = await detection.remove(formats);\n        }\n      }\n    } else {\n      for (const detection of this._detections) {\n        if (await detection.test()) {\n          formats = await detection.add(formats);\n        }\n      }\n    }\n    this.resolver.prefer({\n      params: {\n        format: formats,\n        resolution\n      }\n    });\n  }\n  add(keysIn, assetsIn, data) {\n    this.resolver.add(keysIn, assetsIn, data);\n  }\n  async load(urls, onProgress) {\n    if (!this._initialized) {\n      await this.init();\n    }\n    const singleAsset = isSingleItem(urls);\n    const urlArray = convertToList(urls).map((url) => {\n      if (typeof url !== \"string\") {\n        this.resolver.add(url.src, url);\n        return url.src;\n      }\n      if (!this.resolver.hasKey(url)) {\n        this.resolver.add(url, url);\n      }\n      return url;\n    });\n    const resolveResults = this.resolver.resolve(urlArray);\n    const out = await this._mapLoadToResolve(resolveResults, onProgress);\n    return singleAsset ? out[urlArray[0]] : out;\n  }\n  addBundle(bundleId, assets) {\n    this.resolver.addBundle(bundleId, assets);\n  }\n  async loadBundle(bundleIds, onProgress) {\n    if (!this._initialized) {\n      await this.init();\n    }\n    let singleAsset = false;\n    if (typeof bundleIds === \"string\") {\n      singleAsset = true;\n      bundleIds = [bundleIds];\n    }\n    const resolveResults = this.resolver.resolveBundle(bundleIds);\n    const out = {};\n    const keys = Object.keys(resolveResults);\n    let count = 0;\n    let total = 0;\n    const _onProgress = () => {\n      onProgress?.(++count / total);\n    };\n    const promises = keys.map((bundleId) => {\n      const resolveResult = resolveResults[bundleId];\n      total += Object.keys(resolveResult).length;\n      return this._mapLoadToResolve(resolveResult, _onProgress).then((resolveResult2) => {\n        out[bundleId] = resolveResult2;\n      });\n    });\n    await Promise.all(promises);\n    return singleAsset ? out[bundleIds[0]] : out;\n  }\n  async backgroundLoad(urls) {\n    if (!this._initialized) {\n      await this.init();\n    }\n    if (typeof urls === \"string\") {\n      urls = [urls];\n    }\n    const resolveResults = this.resolver.resolve(urls);\n    this._backgroundLoader.add(Object.values(resolveResults));\n  }\n  async backgroundLoadBundle(bundleIds) {\n    if (!this._initialized) {\n      await this.init();\n    }\n    if (typeof bundleIds === \"string\") {\n      bundleIds = [bundleIds];\n    }\n    const resolveResults = this.resolver.resolveBundle(bundleIds);\n    Object.values(resolveResults).forEach((resolveResult) => {\n      this._backgroundLoader.add(Object.values(resolveResult));\n    });\n  }\n  reset() {\n    this.resolver.reset();\n    this.loader.reset();\n    this.cache.reset();\n    this._initialized = false;\n  }\n  get(keys) {\n    if (typeof keys === \"string\") {\n      return Cache.get(keys);\n    }\n    const assets = {};\n    for (let i = 0; i < keys.length; i++) {\n      assets[i] = Cache.get(keys[i]);\n    }\n    return assets;\n  }\n  async _mapLoadToResolve(resolveResults, onProgress) {\n    const resolveArray = Object.values(resolveResults);\n    const resolveKeys = Object.keys(resolveResults);\n    this._backgroundLoader.active = false;\n    const loadedAssets = await this.loader.load(resolveArray, onProgress);\n    this._backgroundLoader.active = true;\n    const out = {};\n    resolveArray.forEach((resolveResult, i) => {\n      const asset = loadedAssets[resolveResult.src];\n      const keys = [resolveResult.src];\n      if (resolveResult.alias) {\n        keys.push(...resolveResult.alias);\n      }\n      out[resolveKeys[i]] = asset;\n      Cache.set(keys, asset);\n    });\n    return out;\n  }\n  async unload(urls) {\n    if (!this._initialized) {\n      await this.init();\n    }\n    const urlArray = convertToList(urls).map((url) => typeof url !== \"string\" ? url.src : url);\n    const resolveResults = this.resolver.resolve(urlArray);\n    await this._unloadFromResolved(resolveResults);\n  }\n  async unloadBundle(bundleIds) {\n    if (!this._initialized) {\n      await this.init();\n    }\n    bundleIds = convertToList(bundleIds);\n    const resolveResults = this.resolver.resolveBundle(bundleIds);\n    const promises = Object.keys(resolveResults).map((bundleId) => this._unloadFromResolved(resolveResults[bundleId]));\n    await Promise.all(promises);\n  }\n  async _unloadFromResolved(resolveResult) {\n    const resolveArray = Object.values(resolveResult);\n    resolveArray.forEach((resolveResult2) => {\n      Cache.remove(resolveResult2.src);\n    });\n    await this.loader.unload(resolveArray);\n  }\n  get detections() {\n    return this._detections;\n  }\n  get preferWorkers() {\n    return loadTextures.config.preferWorkers;\n  }\n  set preferWorkers(value) {\n    loadTextures.config.preferWorkers = value;\n  }\n}\nconst Assets = new AssetsClass();\nextensions.handleByList(ExtensionType.LoadParser, Assets.loader.parsers).handleByList(ExtensionType.ResolveParser, Assets.resolver.parsers).handleByList(ExtensionType.CacheParser, Assets.cache.parsers).handleByList(ExtensionType.DetectionParser, Assets.detections);\n\nexport { Assets, AssetsClass };\n//# sourceMappingURL=Assets.mjs.map\n","import { ExtensionType, Texture, extensions } from '@pixi/core';\n\nconst cacheTextureArray = {\n  extension: ExtensionType.CacheParser,\n  test: (asset) => Array.isArray(asset) && asset.every((t) => t instanceof Texture),\n  getCacheableAssets: (keys, asset) => {\n    const out = {};\n    keys.forEach((key) => {\n      asset.forEach((item, i) => {\n        out[key + (i === 0 ? \"\" : i + 1)] = item;\n      });\n    });\n    return out;\n  }\n};\nextensions.add(cacheTextureArray);\n\nexport { cacheTextureArray };\n//# sourceMappingURL=cacheTextureArray.mjs.map\n","import { ExtensionType, settings, extensions } from '@pixi/core';\n\nconst detectAvif = {\n  extension: {\n    type: ExtensionType.DetectionParser,\n    priority: 1\n  },\n  test: async () => {\n    if (!globalThis.createImageBitmap)\n      return false;\n    const avifData = \"data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAAB0AAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAIAAAACAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQ0MAAAAABNjb2xybmNseAACAAIAAYAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAACVtZGF0EgAKCBgANogQEAwgMg8f8D///8WfhwB8+ErK42A=\";\n    const blob = await settings.ADAPTER.fetch(avifData).then((r) => r.blob());\n    return createImageBitmap(blob).then(() => true, () => false);\n  },\n  add: async (formats) => [...formats, \"avif\"],\n  remove: async (formats) => formats.filter((f) => f !== \"avif\")\n};\nextensions.add(detectAvif);\n\nexport { detectAvif };\n//# sourceMappingURL=detectAvif.mjs.map\n","import { ExtensionType, settings, extensions } from '@pixi/core';\n\nconst detectWebp = {\n  extension: {\n    type: ExtensionType.DetectionParser,\n    priority: 0\n  },\n  test: async () => {\n    if (!globalThis.createImageBitmap)\n      return false;\n    const webpData = \"data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAAAAAAfQ//73v/+BiOh/AAA=\";\n    const blob = await settings.ADAPTER.fetch(webpData).then((r) => r.blob());\n    return createImageBitmap(blob).then(() => true, () => false);\n  },\n  add: async (formats) => [...formats, \"webp\"],\n  remove: async (formats) => formats.filter((f) => f !== \"webp\")\n};\nextensions.add(detectWebp);\n\nexport { detectWebp };\n//# sourceMappingURL=detectWebp.mjs.map\n","import { ExtensionType, extensions } from '@pixi/core';\n\nconst imageFormats = [\"png\", \"jpg\", \"jpeg\"];\nconst detectDefaults = {\n  extension: {\n    type: ExtensionType.DetectionParser,\n    priority: -1\n  },\n  test: () => Promise.resolve(true),\n  add: async (formats) => [...formats, ...imageFormats],\n  remove: async (formats) => formats.filter((f) => !imageFormats.includes(f))\n};\nextensions.add(detectDefaults);\n\nexport { detectDefaults };\n//# sourceMappingURL=detectDefaults.mjs.map\n","import { ExtensionType, settings, extensions } from '@pixi/core';\nimport '../../loader/index.mjs';\nimport { loadTextures } from '../../loader/parsers/textures/loadTextures.mjs';\n\nconst resolveTextureUrl = {\n  extension: ExtensionType.ResolveParser,\n  test: loadTextures.test,\n  parse: (value) => ({\n    resolution: parseFloat(settings.RETINA_PREFIX.exec(value)?.[1] ?? \"1\"),\n    format: value.split(\".\").pop(),\n    src: value\n  })\n};\nextensions.add(resolveTextureUrl);\n\nexport { resolveTextureUrl };\n//# sourceMappingURL=resolveTextureUrl.mjs.map\n","const copySearchParams = (targetUrl, sourceUrl) => {\n  const searchParams = sourceUrl.split(\"?\")[1];\n  if (searchParams) {\n    targetUrl += `?${searchParams}`;\n  }\n  return targetUrl;\n};\n\nexport { copySearchParams };\n//# sourceMappingURL=copySearchParams.mjs.map\n","var INTERNAL_FORMATS = /* @__PURE__ */ ((INTERNAL_FORMATS2) => {\n  INTERNAL_FORMATS2[INTERNAL_FORMATS2[\"COMPRESSED_RGB_S3TC_DXT1_EXT\"] = 33776] = \"COMPRESSED_RGB_S3TC_DXT1_EXT\";\n  INTERNAL_FORMATS2[INTERNAL_FORMATS2[\"COMPRESSED_RGBA_S3TC_DXT1_EXT\"] = 33777] = \"COMPRESSED_RGBA_S3TC_DXT1_EXT\";\n  INTERNAL_FORMATS2[INTERNAL_FORMATS2[\"COMPRESSED_RGBA_S3TC_DXT3_EXT\"] = 33778] = \"COMPRESSED_RGBA_S3TC_DXT3_EXT\";\n  INTERNAL_FORMATS2[INTERNAL_FORMATS2[\"COMPRESSED_RGBA_S3TC_DXT5_EXT\"] = 33779] = \"COMPRESSED_RGBA_S3TC_DXT5_EXT\";\n  INTERNAL_FORMATS2[INTERNAL_FORMATS2[\"COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT\"] = 35917] = \"COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT\";\n  INTERNAL_FORMATS2[INTERNAL_FORMATS2[\"COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT\"] = 35918] = \"COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT\";\n  INTERNAL_FORMATS2[INTERNAL_FORMATS2[\"COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT\"] = 35919] = \"COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT\";\n  INTERNAL_FORMATS2[INTERNAL_FORMATS2[\"COMPRESSED_SRGB_S3TC_DXT1_EXT\"] = 35916] = \"COMPRESSED_SRGB_S3TC_DXT1_EXT\";\n  INTERNAL_FORMATS2[INTERNAL_FORMATS2[\"COMPRESSED_R11_EAC\"] = 37488] = \"COMPRESSED_R11_EAC\";\n  INTERNAL_FORMATS2[INTERNAL_FORMATS2[\"COMPRESSED_SIGNED_R11_EAC\"] = 37489] = \"COMPRESSED_SIGNED_R11_EAC\";\n  INTERNAL_FORMATS2[INTERNAL_FORMATS2[\"COMPRESSED_RG11_EAC\"] = 37490] = \"COMPRESSED_RG11_EAC\";\n  INTERNAL_FORMATS2[INTERNAL_FORMATS2[\"COMPRESSED_SIGNED_RG11_EAC\"] = 37491] = \"COMPRESSED_SIGNED_RG11_EAC\";\n  INTERNAL_FORMATS2[INTERNAL_FORMATS2[\"COMPRESSED_RGB8_ETC2\"] = 37492] = \"COMPRESSED_RGB8_ETC2\";\n  INTERNAL_FORMATS2[INTERNAL_FORMATS2[\"COMPRESSED_RGBA8_ETC2_EAC\"] = 37496] = \"COMPRESSED_RGBA8_ETC2_EAC\";\n  INTERNAL_FORMATS2[INTERNAL_FORMATS2[\"COMPRESSED_SRGB8_ETC2\"] = 37493] = \"COMPRESSED_SRGB8_ETC2\";\n  INTERNAL_FORMATS2[INTERNAL_FORMATS2[\"COMPRESSED_SRGB8_ALPHA8_ETC2_EAC\"] = 37497] = \"COMPRESSED_SRGB8_ALPHA8_ETC2_EAC\";\n  INTERNAL_FORMATS2[INTERNAL_FORMATS2[\"COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2\"] = 37494] = \"COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2\";\n  INTERNAL_FORMATS2[INTERNAL_FORMATS2[\"COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2\"] = 37495] = \"COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2\";\n  INTERNAL_FORMATS2[INTERNAL_FORMATS2[\"COMPRESSED_RGB_PVRTC_4BPPV1_IMG\"] = 35840] = \"COMPRESSED_RGB_PVRTC_4BPPV1_IMG\";\n  INTERNAL_FORMATS2[INTERNAL_FORMATS2[\"COMPRESSED_RGBA_PVRTC_4BPPV1_IMG\"] = 35842] = \"COMPRESSED_RGBA_PVRTC_4BPPV1_IMG\";\n  INTERNAL_FORMATS2[INTERNAL_FORMATS2[\"COMPRESSED_RGB_PVRTC_2BPPV1_IMG\"] = 35841] = \"COMPRESSED_RGB_PVRTC_2BPPV1_IMG\";\n  INTERNAL_FORMATS2[INTERNAL_FORMATS2[\"COMPRESSED_RGBA_PVRTC_2BPPV1_IMG\"] = 35843] = \"COMPRESSED_RGBA_PVRTC_2BPPV1_IMG\";\n  INTERNAL_FORMATS2[INTERNAL_FORMATS2[\"COMPRESSED_RGB_ETC1_WEBGL\"] = 36196] = \"COMPRESSED_RGB_ETC1_WEBGL\";\n  INTERNAL_FORMATS2[INTERNAL_FORMATS2[\"COMPRESSED_RGB_ATC_WEBGL\"] = 35986] = \"COMPRESSED_RGB_ATC_WEBGL\";\n  INTERNAL_FORMATS2[INTERNAL_FORMATS2[\"COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL\"] = 35986] = \"COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL\";\n  INTERNAL_FORMATS2[INTERNAL_FORMATS2[\"COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL\"] = 34798] = \"COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL\";\n  INTERNAL_FORMATS2[INTERNAL_FORMATS2[\"COMPRESSED_RGBA_ASTC_4x4_KHR\"] = 37808] = \"COMPRESSED_RGBA_ASTC_4x4_KHR\";\n  return INTERNAL_FORMATS2;\n})(INTERNAL_FORMATS || {});\nconst INTERNAL_FORMAT_TO_BYTES_PER_PIXEL = {\n  [33776 /* COMPRESSED_RGB_S3TC_DXT1_EXT */]: 0.5,\n  [33777 /* COMPRESSED_RGBA_S3TC_DXT1_EXT */]: 0.5,\n  [33778 /* COMPRESSED_RGBA_S3TC_DXT3_EXT */]: 1,\n  [33779 /* COMPRESSED_RGBA_S3TC_DXT5_EXT */]: 1,\n  [35916 /* COMPRESSED_SRGB_S3TC_DXT1_EXT */]: 0.5,\n  [35917 /* COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT */]: 0.5,\n  [35918 /* COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT */]: 1,\n  [35919 /* COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT */]: 1,\n  [37488 /* COMPRESSED_R11_EAC */]: 0.5,\n  [37489 /* COMPRESSED_SIGNED_R11_EAC */]: 0.5,\n  [37490 /* COMPRESSED_RG11_EAC */]: 1,\n  [37491 /* COMPRESSED_SIGNED_RG11_EAC */]: 1,\n  [37492 /* COMPRESSED_RGB8_ETC2 */]: 0.5,\n  [37496 /* COMPRESSED_RGBA8_ETC2_EAC */]: 1,\n  [37493 /* COMPRESSED_SRGB8_ETC2 */]: 0.5,\n  [37497 /* COMPRESSED_SRGB8_ALPHA8_ETC2_EAC */]: 1,\n  [37494 /* COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2 */]: 0.5,\n  [37495 /* COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2 */]: 0.5,\n  [35840 /* COMPRESSED_RGB_PVRTC_4BPPV1_IMG */]: 0.5,\n  [35842 /* COMPRESSED_RGBA_PVRTC_4BPPV1_IMG */]: 0.5,\n  [35841 /* COMPRESSED_RGB_PVRTC_2BPPV1_IMG */]: 0.25,\n  [35843 /* COMPRESSED_RGBA_PVRTC_2BPPV1_IMG */]: 0.25,\n  [36196 /* COMPRESSED_RGB_ETC1_WEBGL */]: 0.5,\n  [35986 /* COMPRESSED_RGB_ATC_WEBGL */]: 0.5,\n  [35986 /* COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL */]: 1,\n  [34798 /* COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL */]: 1,\n  [37808 /* COMPRESSED_RGBA_ASTC_4x4_KHR */]: 1\n};\n\nexport { INTERNAL_FORMATS, INTERNAL_FORMAT_TO_BYTES_PER_PIXEL };\n//# sourceMappingURL=const.mjs.map\n","import { ExtensionType, settings, extensions as extensions$1 } from '@pixi/core';\n\nlet storedGl;\nlet extensions;\nfunction getCompressedTextureExtensions() {\n  extensions = {\n    s3tc: storedGl.getExtension(\"WEBGL_compressed_texture_s3tc\"),\n    s3tc_sRGB: storedGl.getExtension(\"WEBGL_compressed_texture_s3tc_srgb\"),\n    etc: storedGl.getExtension(\"WEBGL_compressed_texture_etc\"),\n    etc1: storedGl.getExtension(\"WEBGL_compressed_texture_etc1\"),\n    pvrtc: storedGl.getExtension(\"WEBGL_compressed_texture_pvrtc\") || storedGl.getExtension(\"WEBKIT_WEBGL_compressed_texture_pvrtc\"),\n    atc: storedGl.getExtension(\"WEBGL_compressed_texture_atc\"),\n    astc: storedGl.getExtension(\"WEBGL_compressed_texture_astc\")\n  };\n}\nconst detectCompressedTextures = {\n  extension: {\n    type: ExtensionType.DetectionParser,\n    priority: 2\n  },\n  test: async () => {\n    const canvas = settings.ADAPTER.createCanvas();\n    const gl = canvas.getContext(\"webgl\");\n    if (!gl) {\n      console.warn(\"WebGL not available for compressed textures.\");\n      return false;\n    }\n    storedGl = gl;\n    return true;\n  },\n  add: async (formats) => {\n    if (!extensions)\n      getCompressedTextureExtensions();\n    const textureFormats = [];\n    for (const extensionName in extensions) {\n      const extension = extensions[extensionName];\n      if (!extension) {\n        continue;\n      }\n      textureFormats.push(extensionName);\n    }\n    return [...textureFormats, ...formats];\n  },\n  remove: async (formats) => {\n    if (!extensions)\n      getCompressedTextureExtensions();\n    return formats.filter((f) => !(f in extensions));\n  }\n};\nextensions$1.add(detectCompressedTextures);\n\nexport { detectCompressedTextures };\n//# sourceMappingURL=detectCompressedTextures.mjs.map\n","import { BufferResource, ViewableBuffer } from '@pixi/core';\n\nclass BlobResource extends BufferResource {\n  constructor(source, options = { width: 1, height: 1, autoLoad: true }) {\n    let origin;\n    let data;\n    if (typeof source === \"string\") {\n      origin = source;\n      data = new Uint8Array();\n    } else {\n      origin = null;\n      data = source;\n    }\n    super(data, options);\n    this.origin = origin;\n    this.buffer = data ? new ViewableBuffer(data) : null;\n    if (this.origin && options.autoLoad !== false) {\n      this.load();\n    }\n    if (data?.length) {\n      this.loaded = true;\n      this.onBlobLoaded(this.buffer.rawBinaryData);\n    }\n  }\n  onBlobLoaded(_data) {\n  }\n  async load() {\n    const response = await fetch(this.origin);\n    const blob = await response.blob();\n    const arrayBuffer = await blob.arrayBuffer();\n    this.data = new Uint32Array(arrayBuffer);\n    this.buffer = new ViewableBuffer(arrayBuffer);\n    this.loaded = true;\n    this.onBlobLoaded(arrayBuffer);\n    this.update();\n    return this;\n  }\n}\n\nexport { BlobResource };\n//# sourceMappingURL=BlobResource.mjs.map\n","import { INTERNAL_FORMAT_TO_BYTES_PER_PIXEL } from '../const.mjs';\nimport { BlobResource } from './BlobResource.mjs';\n\nclass CompressedTextureResource extends BlobResource {\n  constructor(source, options) {\n    super(source, options);\n    this.format = options.format;\n    this.levels = options.levels || 1;\n    this._width = options.width;\n    this._height = options.height;\n    this._extension = CompressedTextureResource._formatToExtension(this.format);\n    if (options.levelBuffers || this.buffer) {\n      this._levelBuffers = options.levelBuffers || CompressedTextureResource._createLevelBuffers(source instanceof Uint8Array ? source : this.buffer.uint8View, this.format, this.levels, 4, 4, this.width, this.height);\n    }\n  }\n  upload(renderer, _texture, _glTexture) {\n    const gl = renderer.gl;\n    const extension = renderer.context.extensions[this._extension];\n    if (!extension) {\n      throw new Error(`${this._extension} textures are not supported on the current machine`);\n    }\n    if (!this._levelBuffers) {\n      return false;\n    }\n    for (let i = 0, j = this.levels; i < j; i++) {\n      const { levelID, levelWidth, levelHeight, levelBuffer } = this._levelBuffers[i];\n      gl.compressedTexImage2D(gl.TEXTURE_2D, levelID, this.format, levelWidth, levelHeight, 0, levelBuffer);\n    }\n    return true;\n  }\n  onBlobLoaded() {\n    this._levelBuffers = CompressedTextureResource._createLevelBuffers(this.buffer.uint8View, this.format, this.levels, 4, 4, this.width, this.height);\n  }\n  static _formatToExtension(format) {\n    if (format >= 33776 && format <= 33779) {\n      return \"s3tc\";\n    } else if (format >= 37488 && format <= 37497) {\n      return \"etc\";\n    } else if (format >= 35840 && format <= 35843) {\n      return \"pvrtc\";\n    } else if (format >= 36196) {\n      return \"etc1\";\n    } else if (format >= 35986 && format <= 34798) {\n      return \"atc\";\n    }\n    throw new Error(\"Invalid (compressed) texture format given!\");\n  }\n  static _createLevelBuffers(buffer, format, levels, blockWidth, blockHeight, imageWidth, imageHeight) {\n    const buffers = new Array(levels);\n    let offset = buffer.byteOffset;\n    let levelWidth = imageWidth;\n    let levelHeight = imageHeight;\n    let alignedLevelWidth = levelWidth + blockWidth - 1 & ~(blockWidth - 1);\n    let alignedLevelHeight = levelHeight + blockHeight - 1 & ~(blockHeight - 1);\n    let levelSize = alignedLevelWidth * alignedLevelHeight * INTERNAL_FORMAT_TO_BYTES_PER_PIXEL[format];\n    for (let i = 0; i < levels; i++) {\n      buffers[i] = {\n        levelID: i,\n        levelWidth: levels > 1 ? levelWidth : alignedLevelWidth,\n        levelHeight: levels > 1 ? levelHeight : alignedLevelHeight,\n        levelBuffer: new Uint8Array(buffer.buffer, offset, levelSize)\n      };\n      offset += levelSize;\n      levelWidth = levelWidth >> 1 || 1;\n      levelHeight = levelHeight >> 1 || 1;\n      alignedLevelWidth = levelWidth + blockWidth - 1 & ~(blockWidth - 1);\n      alignedLevelHeight = levelHeight + blockHeight - 1 & ~(blockHeight - 1);\n      levelSize = alignedLevelWidth * alignedLevelHeight * INTERNAL_FORMAT_TO_BYTES_PER_PIXEL[format];\n    }\n    return buffers;\n  }\n}\n\nexport { CompressedTextureResource };\n//# sourceMappingURL=CompressedTextureResource.mjs.map\n","import { INTERNAL_FORMATS, INTERNAL_FORMAT_TO_BYTES_PER_PIXEL } from '../const.mjs';\nimport '../resources/index.mjs';\nimport { CompressedTextureResource } from '../resources/CompressedTextureResource.mjs';\n\nconst DDS_MAGIC_SIZE = 4;\nconst DDS_HEADER_SIZE = 124;\nconst DDS_HEADER_PF_SIZE = 32;\nconst DDS_HEADER_DX10_SIZE = 20;\nconst DDS_MAGIC = 542327876;\nconst DDS_FIELDS = {\n  SIZE: 1,\n  FLAGS: 2,\n  HEIGHT: 3,\n  WIDTH: 4,\n  MIPMAP_COUNT: 7,\n  PIXEL_FORMAT: 19\n};\nconst DDS_PF_FIELDS = {\n  SIZE: 0,\n  FLAGS: 1,\n  FOURCC: 2,\n  RGB_BITCOUNT: 3,\n  R_BIT_MASK: 4,\n  G_BIT_MASK: 5,\n  B_BIT_MASK: 6,\n  A_BIT_MASK: 7\n};\nconst DDS_DX10_FIELDS = {\n  DXGI_FORMAT: 0,\n  RESOURCE_DIMENSION: 1,\n  MISC_FLAG: 2,\n  ARRAY_SIZE: 3,\n  MISC_FLAGS2: 4\n};\nvar DXGI_FORMAT = /* @__PURE__ */ ((DXGI_FORMAT2) => {\n  DXGI_FORMAT2[DXGI_FORMAT2[\"DXGI_FORMAT_UNKNOWN\"] = 0] = \"DXGI_FORMAT_UNKNOWN\";\n  DXGI_FORMAT2[DXGI_FORMAT2[\"DXGI_FORMAT_R32G32B32A32_TYPELESS\"] = 1] = \"DXGI_FORMAT_R32G32B32A32_TYPELESS\";\n  DXGI_FORMAT2[DXGI_FORMAT2[\"DXGI_FORMAT_R32G32B32A32_FLOAT\"] = 2] = \"DXGI_FORMAT_R32G32B32A32_FLOAT\";\n  DXGI_FORMAT2[DXGI_FORMAT2[\"DXGI_FORMAT_R32G32B32A32_UINT\"] = 3] = \"DXGI_FORMAT_R32G32B32A32_UINT\";\n  DXGI_FORMAT2[DXGI_FORMAT2[\"DXGI_FORMAT_R32G32B32A32_SINT\"] = 4] = \"DXGI_FORMAT_R32G32B32A32_SINT\";\n  DXGI_FORMAT2[DXGI_FORMAT2[\"DXGI_FORMAT_R32G32B32_TYPELESS\"] = 5] = \"DXGI_FORMAT_R32G32B32_TYPELESS\";\n  DXGI_FORMAT2[DXGI_FORMAT2[\"DXGI_FORMAT_R32G32B32_FLOAT\"] = 6] = \"DXGI_FORMAT_R32G32B32_FLOAT\";\n  DXGI_FORMAT2[DXGI_FORMAT2[\"DXGI_FORMAT_R32G32B32_UINT\"] = 7] = \"DXGI_FORMAT_R32G32B32_UINT\";\n  DXGI_FORMAT2[DXGI_FORMAT2[\"DXGI_FORMAT_R32G32B32_SINT\"] = 8] = \"DXGI_FORMAT_R32G32B32_SINT\";\n  DXGI_FORMAT2[DXGI_FORMAT2[\"DXGI_FORMAT_R16G16B16A16_TYPELESS\"] = 9] = \"DXGI_FORMAT_R16G16B16A16_TYPELESS\";\n  DXGI_FORMAT2[DXGI_FORMAT2[\"DXGI_FORMAT_R16G16B16A16_FLOAT\"] = 10] = \"DXGI_FORMAT_R16G16B16A16_FLOAT\";\n  DXGI_FORMAT2[DXGI_FORMAT2[\"DXGI_FORMAT_R16G16B16A16_UNORM\"] = 11] = \"DXGI_FORMAT_R16G16B16A16_UNORM\";\n  DXGI_FORMAT2[DXGI_FORMAT2[\"DXGI_FORMAT_R16G16B16A16_UINT\"] = 12] = \"DXGI_FORMAT_R16G16B16A16_UINT\";\n  DXGI_FORMAT2[DXGI_FORMAT2[\"DXGI_FORMAT_R16G16B16A16_SNORM\"] = 13] = \"DXGI_FORMAT_R16G16B16A16_SNORM\";\n  DXGI_FORMAT2[DXGI_FORMAT2[\"DXGI_FORMAT_R16G16B16A16_SINT\"] = 14] = \"DXGI_FORMAT_R16G16B16A16_SINT\";\n  DXGI_FORMAT2[DXGI_FORMAT2[\"DXGI_FORMAT_R32G32_TYPELESS\"] = 15] = \"DXGI_FORMAT_R32G32_TYPELESS\";\n  DXGI_FORMAT2[DXGI_FORMAT2[\"DXGI_FORMAT_R32G32_FLOAT\"] = 16] = \"DXGI_FORMAT_R32G32_FLOAT\";\n  DXGI_FORMAT2[DXGI_FORMAT2[\"DXGI_FORMAT_R32G32_UINT\"] = 17] = \"DXGI_FORMAT_R32G32_UINT\";\n  DXGI_FORMAT2[DXGI_FORMAT2[\"DXGI_FORMAT_R32G32_SINT\"] = 18] = \"DXGI_FORMAT_R32G32_SINT\";\n  DXGI_FORMAT2[DXGI_FORMAT2[\"DXGI_FORMAT_R32G8X24_TYPELESS\"] = 19] = \"DXGI_FORMAT_R32G8X24_TYPELESS\";\n  DXGI_FORMAT2[DXGI_FORMAT2[\"DXGI_FORMAT_D32_FLOAT_S8X24_UINT\"] = 20] = \"DXGI_FORMAT_D32_FLOAT_S8X24_UINT\";\n  DXGI_FORMAT2[DXGI_FORMAT2[\"DXGI_FORMAT_R32_FLOAT_X8X24_TYPELESS\"] = 21] = \"DXGI_FORMAT_R32_FLOAT_X8X24_TYPELESS\";\n  DXGI_FORMAT2[DXGI_FORMAT2[\"DXGI_FORMAT_X32_TYPELESS_G8X24_UINT\"] = 22] = \"DXGI_FORMAT_X32_TYPELESS_G8X24_UINT\";\n  DXGI_FORMAT2[DXGI_FORMAT2[\"DXGI_FORMAT_R10G10B10A2_TYPELESS\"] = 23] = \"DXGI_FORMAT_R10G10B10A2_TYPELESS\";\n  DXGI_FORMAT2[DXGI_FORMAT2[\"DXGI_FORMAT_R10G10B10A2_UNORM\"] = 24] = \"DXGI_FORMAT_R10G10B10A2_UNORM\";\n  DXGI_FORMAT2[DXGI_FORMAT2[\"DXGI_FORMAT_R10G10B10A2_UINT\"] = 25] = \"DXGI_FORMAT_R10G10B10A2_UINT\";\n  DXGI_FORMAT2[DXGI_FORMAT2[\"DXGI_FORMAT_R11G11B10_FLOAT\"] = 26] = \"DXGI_FORMAT_R11G11B10_FLOAT\";\n  DXGI_FORMAT2[DXGI_FORMAT2[\"DXGI_FORMAT_R8G8B8A8_TYPELESS\"] = 27] = \"DXGI_FORMAT_R8G8B8A8_TYPELESS\";\n  DXGI_FORMAT2[DXGI_FORMAT2[\"DXGI_FORMAT_R8G8B8A8_UNORM\"] = 28] = \"DXGI_FORMAT_R8G8B8A8_UNORM\";\n  DXGI_FORMAT2[DXGI_FORMAT2[\"DXGI_FORMAT_R8G8B8A8_UNORM_SRGB\"] = 29] = \"DXGI_FORMAT_R8G8B8A8_UNORM_SRGB\";\n  DXGI_FORMAT2[DXGI_FORMAT2[\"DXGI_FORMAT_R8G8B8A8_UINT\"] = 30] = \"DXGI_FORMAT_R8G8B8A8_UINT\";\n  DXGI_FORMAT2[DXGI_FORMAT2[\"DXGI_FORMAT_R8G8B8A8_SNORM\"] = 31] = \"DXGI_FORMAT_R8G8B8A8_SNORM\";\n  DXGI_FORMAT2[DXGI_FORMAT2[\"DXGI_FORMAT_R8G8B8A8_SINT\"] = 32] = \"DXGI_FORMAT_R8G8B8A8_SINT\";\n  DXGI_FORMAT2[DXGI_FORMAT2[\"DXGI_FORMAT_R16G16_TYPELESS\"] = 33] = \"DXGI_FORMAT_R16G16_TYPELESS\";\n  DXGI_FORMAT2[DXGI_FORMAT2[\"DXGI_FORMAT_R16G16_FLOAT\"] = 34] = \"DXGI_FORMAT_R16G16_FLOAT\";\n  DXGI_FORMAT2[DXGI_FORMAT2[\"DXGI_FORMAT_R16G16_UNORM\"] = 35] = \"DXGI_FORMAT_R16G16_UNORM\";\n  DXGI_FORMAT2[DXGI_FORMAT2[\"DXGI_FORMAT_R16G16_UINT\"] = 36] = \"DXGI_FORMAT_R16G16_UINT\";\n  DXGI_FORMAT2[DXGI_FORMAT2[\"DXGI_FORMAT_R16G16_SNORM\"] = 37] = \"DXGI_FORMAT_R16G16_SNORM\";\n  DXGI_FORMAT2[DXGI_FORMAT2[\"DXGI_FORMAT_R16G16_SINT\"] = 38] = \"DXGI_FORMAT_R16G16_SINT\";\n  DXGI_FORMAT2[DXGI_FORMAT2[\"DXGI_FORMAT_R32_TYPELESS\"] = 39] = \"DXGI_FORMAT_R32_TYPELESS\";\n  DXGI_FORMAT2[DXGI_FORMAT2[\"DXGI_FORMAT_D32_FLOAT\"] = 40] = \"DXGI_FORMAT_D32_FLOAT\";\n  DXGI_FORMAT2[DXGI_FORMAT2[\"DXGI_FORMAT_R32_FLOAT\"] = 41] = \"DXGI_FORMAT_R32_FLOAT\";\n  DXGI_FORMAT2[DXGI_FORMAT2[\"DXGI_FORMAT_R32_UINT\"] = 42] = \"DXGI_FORMAT_R32_UINT\";\n  DXGI_FORMAT2[DXGI_FORMAT2[\"DXGI_FORMAT_R32_SINT\"] = 43] = \"DXGI_FORMAT_R32_SINT\";\n  DXGI_FORMAT2[DXGI_FORMAT2[\"DXGI_FORMAT_R24G8_TYPELESS\"] = 44] = \"DXGI_FORMAT_R24G8_TYPELESS\";\n  DXGI_FORMAT2[DXGI_FORMAT2[\"DXGI_FORMAT_D24_UNORM_S8_UINT\"] = 45] = \"DXGI_FORMAT_D24_UNORM_S8_UINT\";\n  DXGI_FORMAT2[DXGI_FORMAT2[\"DXGI_FORMAT_R24_UNORM_X8_TYPELESS\"] = 46] = \"DXGI_FORMAT_R24_UNORM_X8_TYPELESS\";\n  DXGI_FORMAT2[DXGI_FORMAT2[\"DXGI_FORMAT_X24_TYPELESS_G8_UINT\"] = 47] = \"DXGI_FORMAT_X24_TYPELESS_G8_UINT\";\n  DXGI_FORMAT2[DXGI_FORMAT2[\"DXGI_FORMAT_R8G8_TYPELESS\"] = 48] = \"DXGI_FORMAT_R8G8_TYPELESS\";\n  DXGI_FORMAT2[DXGI_FORMAT2[\"DXGI_FORMAT_R8G8_UNORM\"] = 49] = \"DXGI_FORMAT_R8G8_UNORM\";\n  DXGI_FORMAT2[DXGI_FORMAT2[\"DXGI_FORMAT_R8G8_UINT\"] = 50] = \"DXGI_FORMAT_R8G8_UINT\";\n  DXGI_FORMAT2[DXGI_FORMAT2[\"DXGI_FORMAT_R8G8_SNORM\"] = 51] = \"DXGI_FORMAT_R8G8_SNORM\";\n  DXGI_FORMAT2[DXGI_FORMAT2[\"DXGI_FORMAT_R8G8_SINT\"] = 52] = \"DXGI_FORMAT_R8G8_SINT\";\n  DXGI_FORMAT2[DXGI_FORMAT2[\"DXGI_FORMAT_R16_TYPELESS\"] = 53] = \"DXGI_FORMAT_R16_TYPELESS\";\n  DXGI_FORMAT2[DXGI_FORMAT2[\"DXGI_FORMAT_R16_FLOAT\"] = 54] = \"DXGI_FORMAT_R16_FLOAT\";\n  DXGI_FORMAT2[DXGI_FORMAT2[\"DXGI_FORMAT_D16_UNORM\"] = 55] = \"DXGI_FORMAT_D16_UNORM\";\n  DXGI_FORMAT2[DXGI_FORMAT2[\"DXGI_FORMAT_R16_UNORM\"] = 56] = \"DXGI_FORMAT_R16_UNORM\";\n  DXGI_FORMAT2[DXGI_FORMAT2[\"DXGI_FORMAT_R16_UINT\"] = 57] = \"DXGI_FORMAT_R16_UINT\";\n  DXGI_FORMAT2[DXGI_FORMAT2[\"DXGI_FORMAT_R16_SNORM\"] = 58] = \"DXGI_FORMAT_R16_SNORM\";\n  DXGI_FORMAT2[DXGI_FORMAT2[\"DXGI_FORMAT_R16_SINT\"] = 59] = \"DXGI_FORMAT_R16_SINT\";\n  DXGI_FORMAT2[DXGI_FORMAT2[\"DXGI_FORMAT_R8_TYPELESS\"] = 60] = \"DXGI_FORMAT_R8_TYPELESS\";\n  DXGI_FORMAT2[DXGI_FORMAT2[\"DXGI_FORMAT_R8_UNORM\"] = 61] = \"DXGI_FORMAT_R8_UNORM\";\n  DXGI_FORMAT2[DXGI_FORMAT2[\"DXGI_FORMAT_R8_UINT\"] = 62] = \"DXGI_FORMAT_R8_UINT\";\n  DXGI_FORMAT2[DXGI_FORMAT2[\"DXGI_FORMAT_R8_SNORM\"] = 63] = \"DXGI_FORMAT_R8_SNORM\";\n  DXGI_FORMAT2[DXGI_FORMAT2[\"DXGI_FORMAT_R8_SINT\"] = 64] = \"DXGI_FORMAT_R8_SINT\";\n  DXGI_FORMAT2[DXGI_FORMAT2[\"DXGI_FORMAT_A8_UNORM\"] = 65] = \"DXGI_FORMAT_A8_UNORM\";\n  DXGI_FORMAT2[DXGI_FORMAT2[\"DXGI_FORMAT_R1_UNORM\"] = 66] = \"DXGI_FORMAT_R1_UNORM\";\n  DXGI_FORMAT2[DXGI_FORMAT2[\"DXGI_FORMAT_R9G9B9E5_SHAREDEXP\"] = 67] = \"DXGI_FORMAT_R9G9B9E5_SHAREDEXP\";\n  DXGI_FORMAT2[DXGI_FORMAT2[\"DXGI_FORMAT_R8G8_B8G8_UNORM\"] = 68] = \"DXGI_FORMAT_R8G8_B8G8_UNORM\";\n  DXGI_FORMAT2[DXGI_FORMAT2[\"DXGI_FORMAT_G8R8_G8B8_UNORM\"] = 69] = \"DXGI_FORMAT_G8R8_G8B8_UNORM\";\n  DXGI_FORMAT2[DXGI_FORMAT2[\"DXGI_FORMAT_BC1_TYPELESS\"] = 70] = \"DXGI_FORMAT_BC1_TYPELESS\";\n  DXGI_FORMAT2[DXGI_FORMAT2[\"DXGI_FORMAT_BC1_UNORM\"] = 71] = \"DXGI_FORMAT_BC1_UNORM\";\n  DXGI_FORMAT2[DXGI_FORMAT2[\"DXGI_FORMAT_BC1_UNORM_SRGB\"] = 72] = \"DXGI_FORMAT_BC1_UNORM_SRGB\";\n  DXGI_FORMAT2[DXGI_FORMAT2[\"DXGI_FORMAT_BC2_TYPELESS\"] = 73] = \"DXGI_FORMAT_BC2_TYPELESS\";\n  DXGI_FORMAT2[DXGI_FORMAT2[\"DXGI_FORMAT_BC2_UNORM\"] = 74] = \"DXGI_FORMAT_BC2_UNORM\";\n  DXGI_FORMAT2[DXGI_FORMAT2[\"DXGI_FORMAT_BC2_UNORM_SRGB\"] = 75] = \"DXGI_FORMAT_BC2_UNORM_SRGB\";\n  DXGI_FORMAT2[DXGI_FORMAT2[\"DXGI_FORMAT_BC3_TYPELESS\"] = 76] = \"DXGI_FORMAT_BC3_TYPELESS\";\n  DXGI_FORMAT2[DXGI_FORMAT2[\"DXGI_FORMAT_BC3_UNORM\"] = 77] = \"DXGI_FORMAT_BC3_UNORM\";\n  DXGI_FORMAT2[DXGI_FORMAT2[\"DXGI_FORMAT_BC3_UNORM_SRGB\"] = 78] = \"DXGI_FORMAT_BC3_UNORM_SRGB\";\n  DXGI_FORMAT2[DXGI_FORMAT2[\"DXGI_FORMAT_BC4_TYPELESS\"] = 79] = \"DXGI_FORMAT_BC4_TYPELESS\";\n  DXGI_FORMAT2[DXGI_FORMAT2[\"DXGI_FORMAT_BC4_UNORM\"] = 80] = \"DXGI_FORMAT_BC4_UNORM\";\n  DXGI_FORMAT2[DXGI_FORMAT2[\"DXGI_FORMAT_BC4_SNORM\"] = 81] = \"DXGI_FORMAT_BC4_SNORM\";\n  DXGI_FORMAT2[DXGI_FORMAT2[\"DXGI_FORMAT_BC5_TYPELESS\"] = 82] = \"DXGI_FORMAT_BC5_TYPELESS\";\n  DXGI_FORMAT2[DXGI_FORMAT2[\"DXGI_FORMAT_BC5_UNORM\"] = 83] = \"DXGI_FORMAT_BC5_UNORM\";\n  DXGI_FORMAT2[DXGI_FORMAT2[\"DXGI_FORMAT_BC5_SNORM\"] = 84] = \"DXGI_FORMAT_BC5_SNORM\";\n  DXGI_FORMAT2[DXGI_FORMAT2[\"DXGI_FORMAT_B5G6R5_UNORM\"] = 85] = \"DXGI_FORMAT_B5G6R5_UNORM\";\n  DXGI_FORMAT2[DXGI_FORMAT2[\"DXGI_FORMAT_B5G5R5A1_UNORM\"] = 86] = \"DXGI_FORMAT_B5G5R5A1_UNORM\";\n  DXGI_FORMAT2[DXGI_FORMAT2[\"DXGI_FORMAT_B8G8R8A8_UNORM\"] = 87] = \"DXGI_FORMAT_B8G8R8A8_UNORM\";\n  DXGI_FORMAT2[DXGI_FORMAT2[\"DXGI_FORMAT_B8G8R8X8_UNORM\"] = 88] = \"DXGI_FORMAT_B8G8R8X8_UNORM\";\n  DXGI_FORMAT2[DXGI_FORMAT2[\"DXGI_FORMAT_R10G10B10_XR_BIAS_A2_UNORM\"] = 89] = \"DXGI_FORMAT_R10G10B10_XR_BIAS_A2_UNORM\";\n  DXGI_FORMAT2[DXGI_FORMAT2[\"DXGI_FORMAT_B8G8R8A8_TYPELESS\"] = 90] = \"DXGI_FORMAT_B8G8R8A8_TYPELESS\";\n  DXGI_FORMAT2[DXGI_FORMAT2[\"DXGI_FORMAT_B8G8R8A8_UNORM_SRGB\"] = 91] = \"DXGI_FORMAT_B8G8R8A8_UNORM_SRGB\";\n  DXGI_FORMAT2[DXGI_FORMAT2[\"DXGI_FORMAT_B8G8R8X8_TYPELESS\"] = 92] = \"DXGI_FORMAT_B8G8R8X8_TYPELESS\";\n  DXGI_FORMAT2[DXGI_FORMAT2[\"DXGI_FORMAT_B8G8R8X8_UNORM_SRGB\"] = 93] = \"DXGI_FORMAT_B8G8R8X8_UNORM_SRGB\";\n  DXGI_FORMAT2[DXGI_FORMAT2[\"DXGI_FORMAT_BC6H_TYPELESS\"] = 94] = \"DXGI_FORMAT_BC6H_TYPELESS\";\n  DXGI_FORMAT2[DXGI_FORMAT2[\"DXGI_FORMAT_BC6H_UF16\"] = 95] = \"DXGI_FORMAT_BC6H_UF16\";\n  DXGI_FORMAT2[DXGI_FORMAT2[\"DXGI_FORMAT_BC6H_SF16\"] = 96] = \"DXGI_FORMAT_BC6H_SF16\";\n  DXGI_FORMAT2[DXGI_FORMAT2[\"DXGI_FORMAT_BC7_TYPELESS\"] = 97] = \"DXGI_FORMAT_BC7_TYPELESS\";\n  DXGI_FORMAT2[DXGI_FORMAT2[\"DXGI_FORMAT_BC7_UNORM\"] = 98] = \"DXGI_FORMAT_BC7_UNORM\";\n  DXGI_FORMAT2[DXGI_FORMAT2[\"DXGI_FORMAT_BC7_UNORM_SRGB\"] = 99] = \"DXGI_FORMAT_BC7_UNORM_SRGB\";\n  DXGI_FORMAT2[DXGI_FORMAT2[\"DXGI_FORMAT_AYUV\"] = 100] = \"DXGI_FORMAT_AYUV\";\n  DXGI_FORMAT2[DXGI_FORMAT2[\"DXGI_FORMAT_Y410\"] = 101] = \"DXGI_FORMAT_Y410\";\n  DXGI_FORMAT2[DXGI_FORMAT2[\"DXGI_FORMAT_Y416\"] = 102] = \"DXGI_FORMAT_Y416\";\n  DXGI_FORMAT2[DXGI_FORMAT2[\"DXGI_FORMAT_NV12\"] = 103] = \"DXGI_FORMAT_NV12\";\n  DXGI_FORMAT2[DXGI_FORMAT2[\"DXGI_FORMAT_P010\"] = 104] = \"DXGI_FORMAT_P010\";\n  DXGI_FORMAT2[DXGI_FORMAT2[\"DXGI_FORMAT_P016\"] = 105] = \"DXGI_FORMAT_P016\";\n  DXGI_FORMAT2[DXGI_FORMAT2[\"DXGI_FORMAT_420_OPAQUE\"] = 106] = \"DXGI_FORMAT_420_OPAQUE\";\n  DXGI_FORMAT2[DXGI_FORMAT2[\"DXGI_FORMAT_YUY2\"] = 107] = \"DXGI_FORMAT_YUY2\";\n  DXGI_FORMAT2[DXGI_FORMAT2[\"DXGI_FORMAT_Y210\"] = 108] = \"DXGI_FORMAT_Y210\";\n  DXGI_FORMAT2[DXGI_FORMAT2[\"DXGI_FORMAT_Y216\"] = 109] = \"DXGI_FORMAT_Y216\";\n  DXGI_FORMAT2[DXGI_FORMAT2[\"DXGI_FORMAT_NV11\"] = 110] = \"DXGI_FORMAT_NV11\";\n  DXGI_FORMAT2[DXGI_FORMAT2[\"DXGI_FORMAT_AI44\"] = 111] = \"DXGI_FORMAT_AI44\";\n  DXGI_FORMAT2[DXGI_FORMAT2[\"DXGI_FORMAT_IA44\"] = 112] = \"DXGI_FORMAT_IA44\";\n  DXGI_FORMAT2[DXGI_FORMAT2[\"DXGI_FORMAT_P8\"] = 113] = \"DXGI_FORMAT_P8\";\n  DXGI_FORMAT2[DXGI_FORMAT2[\"DXGI_FORMAT_A8P8\"] = 114] = \"DXGI_FORMAT_A8P8\";\n  DXGI_FORMAT2[DXGI_FORMAT2[\"DXGI_FORMAT_B4G4R4A4_UNORM\"] = 115] = \"DXGI_FORMAT_B4G4R4A4_UNORM\";\n  DXGI_FORMAT2[DXGI_FORMAT2[\"DXGI_FORMAT_P208\"] = 116] = \"DXGI_FORMAT_P208\";\n  DXGI_FORMAT2[DXGI_FORMAT2[\"DXGI_FORMAT_V208\"] = 117] = \"DXGI_FORMAT_V208\";\n  DXGI_FORMAT2[DXGI_FORMAT2[\"DXGI_FORMAT_V408\"] = 118] = \"DXGI_FORMAT_V408\";\n  DXGI_FORMAT2[DXGI_FORMAT2[\"DXGI_FORMAT_SAMPLER_FEEDBACK_MIN_MIP_OPAQUE\"] = 119] = \"DXGI_FORMAT_SAMPLER_FEEDBACK_MIN_MIP_OPAQUE\";\n  DXGI_FORMAT2[DXGI_FORMAT2[\"DXGI_FORMAT_SAMPLER_FEEDBACK_MIP_REGION_USED_OPAQUE\"] = 120] = \"DXGI_FORMAT_SAMPLER_FEEDBACK_MIP_REGION_USED_OPAQUE\";\n  DXGI_FORMAT2[DXGI_FORMAT2[\"DXGI_FORMAT_FORCE_UINT\"] = 121] = \"DXGI_FORMAT_FORCE_UINT\";\n  return DXGI_FORMAT2;\n})(DXGI_FORMAT || {});\nvar D3D10_RESOURCE_DIMENSION = /* @__PURE__ */ ((D3D10_RESOURCE_DIMENSION2) => {\n  D3D10_RESOURCE_DIMENSION2[D3D10_RESOURCE_DIMENSION2[\"DDS_DIMENSION_TEXTURE1D\"] = 2] = \"DDS_DIMENSION_TEXTURE1D\";\n  D3D10_RESOURCE_DIMENSION2[D3D10_RESOURCE_DIMENSION2[\"DDS_DIMENSION_TEXTURE2D\"] = 3] = \"DDS_DIMENSION_TEXTURE2D\";\n  D3D10_RESOURCE_DIMENSION2[D3D10_RESOURCE_DIMENSION2[\"DDS_DIMENSION_TEXTURE3D\"] = 6] = \"DDS_DIMENSION_TEXTURE3D\";\n  return D3D10_RESOURCE_DIMENSION2;\n})(D3D10_RESOURCE_DIMENSION || {});\nconst PF_FLAGS = 1;\nconst DDPF_ALPHA = 2;\nconst DDPF_FOURCC = 4;\nconst DDPF_RGB = 64;\nconst DDPF_YUV = 512;\nconst DDPF_LUMINANCE = 131072;\nconst FOURCC_DXT1 = 827611204;\nconst FOURCC_DXT3 = 861165636;\nconst FOURCC_DXT5 = 894720068;\nconst FOURCC_DX10 = 808540228;\nconst DDS_RESOURCE_MISC_TEXTURECUBE = 4;\nconst FOURCC_TO_FORMAT = {\n  [FOURCC_DXT1]: INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT1_EXT,\n  [FOURCC_DXT3]: INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT3_EXT,\n  [FOURCC_DXT5]: INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT5_EXT\n};\nconst DXGI_TO_FORMAT = {\n  [70 /* DXGI_FORMAT_BC1_TYPELESS */]: INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT1_EXT,\n  [71 /* DXGI_FORMAT_BC1_UNORM */]: INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT1_EXT,\n  [73 /* DXGI_FORMAT_BC2_TYPELESS */]: INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT3_EXT,\n  [74 /* DXGI_FORMAT_BC2_UNORM */]: INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT3_EXT,\n  [76 /* DXGI_FORMAT_BC3_TYPELESS */]: INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT5_EXT,\n  [77 /* DXGI_FORMAT_BC3_UNORM */]: INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT5_EXT,\n  [72 /* DXGI_FORMAT_BC1_UNORM_SRGB */]: INTERNAL_FORMATS.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT,\n  [75 /* DXGI_FORMAT_BC2_UNORM_SRGB */]: INTERNAL_FORMATS.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT,\n  [78 /* DXGI_FORMAT_BC3_UNORM_SRGB */]: INTERNAL_FORMATS.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT\n};\nfunction parseDDS(arrayBuffer) {\n  const data = new Uint32Array(arrayBuffer);\n  const magicWord = data[0];\n  if (magicWord !== DDS_MAGIC) {\n    throw new Error(\"Invalid DDS file magic word\");\n  }\n  const header = new Uint32Array(arrayBuffer, 0, DDS_HEADER_SIZE / Uint32Array.BYTES_PER_ELEMENT);\n  const height = header[DDS_FIELDS.HEIGHT];\n  const width = header[DDS_FIELDS.WIDTH];\n  const mipmapCount = header[DDS_FIELDS.MIPMAP_COUNT];\n  const pixelFormat = new Uint32Array(arrayBuffer, DDS_FIELDS.PIXEL_FORMAT * Uint32Array.BYTES_PER_ELEMENT, DDS_HEADER_PF_SIZE / Uint32Array.BYTES_PER_ELEMENT);\n  const formatFlags = pixelFormat[PF_FLAGS];\n  if (formatFlags & DDPF_FOURCC) {\n    const fourCC = pixelFormat[DDS_PF_FIELDS.FOURCC];\n    if (fourCC !== FOURCC_DX10) {\n      const internalFormat2 = FOURCC_TO_FORMAT[fourCC];\n      const dataOffset2 = DDS_MAGIC_SIZE + DDS_HEADER_SIZE;\n      const texData = new Uint8Array(arrayBuffer, dataOffset2);\n      const resource = new CompressedTextureResource(texData, {\n        format: internalFormat2,\n        width,\n        height,\n        levels: mipmapCount\n      });\n      return [resource];\n    }\n    const dx10Offset = DDS_MAGIC_SIZE + DDS_HEADER_SIZE;\n    const dx10Header = new Uint32Array(data.buffer, dx10Offset, DDS_HEADER_DX10_SIZE / Uint32Array.BYTES_PER_ELEMENT);\n    const dxgiFormat = dx10Header[DDS_DX10_FIELDS.DXGI_FORMAT];\n    const resourceDimension = dx10Header[DDS_DX10_FIELDS.RESOURCE_DIMENSION];\n    const miscFlag = dx10Header[DDS_DX10_FIELDS.MISC_FLAG];\n    const arraySize = dx10Header[DDS_DX10_FIELDS.ARRAY_SIZE];\n    const internalFormat = DXGI_TO_FORMAT[dxgiFormat];\n    if (internalFormat === void 0) {\n      throw new Error(`DDSParser cannot parse texture data with DXGI format ${dxgiFormat}`);\n    }\n    if (miscFlag === DDS_RESOURCE_MISC_TEXTURECUBE) {\n      throw new Error(\"DDSParser does not support cubemap textures\");\n    }\n    if (resourceDimension === 6 /* DDS_DIMENSION_TEXTURE3D */) {\n      throw new Error(\"DDSParser does not supported 3D texture data\");\n    }\n    const imageBuffers = new Array();\n    const dataOffset = DDS_MAGIC_SIZE + DDS_HEADER_SIZE + DDS_HEADER_DX10_SIZE;\n    if (arraySize === 1) {\n      imageBuffers.push(new Uint8Array(arrayBuffer, dataOffset));\n    } else {\n      const pixelSize = INTERNAL_FORMAT_TO_BYTES_PER_PIXEL[internalFormat];\n      let imageSize = 0;\n      let levelWidth = width;\n      let levelHeight = height;\n      for (let i = 0; i < mipmapCount; i++) {\n        const alignedLevelWidth = Math.max(1, levelWidth + 3 & ~3);\n        const alignedLevelHeight = Math.max(1, levelHeight + 3 & ~3);\n        const levelSize = alignedLevelWidth * alignedLevelHeight * pixelSize;\n        imageSize += levelSize;\n        levelWidth = levelWidth >>> 1;\n        levelHeight = levelHeight >>> 1;\n      }\n      let imageOffset = dataOffset;\n      for (let i = 0; i < arraySize; i++) {\n        imageBuffers.push(new Uint8Array(arrayBuffer, imageOffset, imageSize));\n        imageOffset += imageSize;\n      }\n    }\n    return imageBuffers.map((buffer) => new CompressedTextureResource(buffer, {\n      format: internalFormat,\n      width,\n      height,\n      levels: mipmapCount\n    }));\n  }\n  if (formatFlags & DDPF_RGB) {\n    throw new Error(\"DDSParser does not support uncompressed texture data.\");\n  }\n  if (formatFlags & DDPF_YUV) {\n    throw new Error(\"DDSParser does not supported YUV uncompressed texture data.\");\n  }\n  if (formatFlags & DDPF_LUMINANCE) {\n    throw new Error(\"DDSParser does not support single-channel (lumninance) texture data!\");\n  }\n  if (formatFlags & DDPF_ALPHA) {\n    throw new Error(\"DDSParser does not support single-channel (alpha) texture data!\");\n  }\n  throw new Error(\"DDSParser failed to load a texture file due to an unknown reason!\");\n}\n\nexport { parseDDS };\n//# sourceMappingURL=parseDDS.mjs.map\n","import { TYPES, FORMATS, BufferResource } from '@pixi/core';\nimport { INTERNAL_FORMAT_TO_BYTES_PER_PIXEL } from '../const.mjs';\nimport '../resources/index.mjs';\nimport { CompressedTextureResource } from '../resources/CompressedTextureResource.mjs';\n\nconst FILE_IDENTIFIER = [171, 75, 84, 88, 32, 49, 49, 187, 13, 10, 26, 10];\nconst ENDIANNESS = 67305985;\nconst KTX_FIELDS = {\n  FILE_IDENTIFIER: 0,\n  ENDIANNESS: 12,\n  GL_TYPE: 16,\n  GL_TYPE_SIZE: 20,\n  GL_FORMAT: 24,\n  GL_INTERNAL_FORMAT: 28,\n  GL_BASE_INTERNAL_FORMAT: 32,\n  PIXEL_WIDTH: 36,\n  PIXEL_HEIGHT: 40,\n  PIXEL_DEPTH: 44,\n  NUMBER_OF_ARRAY_ELEMENTS: 48,\n  NUMBER_OF_FACES: 52,\n  NUMBER_OF_MIPMAP_LEVELS: 56,\n  BYTES_OF_KEY_VALUE_DATA: 60\n};\nconst FILE_HEADER_SIZE = 64;\nconst TYPES_TO_BYTES_PER_COMPONENT = {\n  [TYPES.UNSIGNED_BYTE]: 1,\n  [TYPES.UNSIGNED_SHORT]: 2,\n  [TYPES.INT]: 4,\n  [TYPES.UNSIGNED_INT]: 4,\n  [TYPES.FLOAT]: 4,\n  [TYPES.HALF_FLOAT]: 8\n};\nconst FORMATS_TO_COMPONENTS = {\n  [FORMATS.RGBA]: 4,\n  [FORMATS.RGB]: 3,\n  [FORMATS.RG]: 2,\n  [FORMATS.RED]: 1,\n  [FORMATS.LUMINANCE]: 1,\n  [FORMATS.LUMINANCE_ALPHA]: 2,\n  [FORMATS.ALPHA]: 1\n};\nconst TYPES_TO_BYTES_PER_PIXEL = {\n  [TYPES.UNSIGNED_SHORT_4_4_4_4]: 2,\n  [TYPES.UNSIGNED_SHORT_5_5_5_1]: 2,\n  [TYPES.UNSIGNED_SHORT_5_6_5]: 2\n};\nfunction parseKTX(url, arrayBuffer, loadKeyValueData = false) {\n  const dataView = new DataView(arrayBuffer);\n  if (!validate(url, dataView)) {\n    return null;\n  }\n  const littleEndian = dataView.getUint32(KTX_FIELDS.ENDIANNESS, true) === ENDIANNESS;\n  const glType = dataView.getUint32(KTX_FIELDS.GL_TYPE, littleEndian);\n  const glFormat = dataView.getUint32(KTX_FIELDS.GL_FORMAT, littleEndian);\n  const glInternalFormat = dataView.getUint32(KTX_FIELDS.GL_INTERNAL_FORMAT, littleEndian);\n  const pixelWidth = dataView.getUint32(KTX_FIELDS.PIXEL_WIDTH, littleEndian);\n  const pixelHeight = dataView.getUint32(KTX_FIELDS.PIXEL_HEIGHT, littleEndian) || 1;\n  const pixelDepth = dataView.getUint32(KTX_FIELDS.PIXEL_DEPTH, littleEndian) || 1;\n  const numberOfArrayElements = dataView.getUint32(KTX_FIELDS.NUMBER_OF_ARRAY_ELEMENTS, littleEndian) || 1;\n  const numberOfFaces = dataView.getUint32(KTX_FIELDS.NUMBER_OF_FACES, littleEndian);\n  const numberOfMipmapLevels = dataView.getUint32(KTX_FIELDS.NUMBER_OF_MIPMAP_LEVELS, littleEndian);\n  const bytesOfKeyValueData = dataView.getUint32(KTX_FIELDS.BYTES_OF_KEY_VALUE_DATA, littleEndian);\n  if (pixelHeight === 0 || pixelDepth !== 1) {\n    throw new Error(\"Only 2D textures are supported\");\n  }\n  if (numberOfFaces !== 1) {\n    throw new Error(\"CubeTextures are not supported by KTXLoader yet!\");\n  }\n  if (numberOfArrayElements !== 1) {\n    throw new Error(\"WebGL does not support array textures\");\n  }\n  const blockWidth = 4;\n  const blockHeight = 4;\n  const alignedWidth = pixelWidth + 3 & ~3;\n  const alignedHeight = pixelHeight + 3 & ~3;\n  const imageBuffers = new Array(numberOfArrayElements);\n  let imagePixels = pixelWidth * pixelHeight;\n  if (glType === 0) {\n    imagePixels = alignedWidth * alignedHeight;\n  }\n  let imagePixelByteSize;\n  if (glType !== 0) {\n    if (TYPES_TO_BYTES_PER_COMPONENT[glType]) {\n      imagePixelByteSize = TYPES_TO_BYTES_PER_COMPONENT[glType] * FORMATS_TO_COMPONENTS[glFormat];\n    } else {\n      imagePixelByteSize = TYPES_TO_BYTES_PER_PIXEL[glType];\n    }\n  } else {\n    imagePixelByteSize = INTERNAL_FORMAT_TO_BYTES_PER_PIXEL[glInternalFormat];\n  }\n  if (imagePixelByteSize === void 0) {\n    throw new Error(\"Unable to resolve the pixel format stored in the *.ktx file!\");\n  }\n  const kvData = loadKeyValueData ? parseKvData(dataView, bytesOfKeyValueData, littleEndian) : null;\n  const imageByteSize = imagePixels * imagePixelByteSize;\n  let mipByteSize = imageByteSize;\n  let mipWidth = pixelWidth;\n  let mipHeight = pixelHeight;\n  let alignedMipWidth = alignedWidth;\n  let alignedMipHeight = alignedHeight;\n  let imageOffset = FILE_HEADER_SIZE + bytesOfKeyValueData;\n  for (let mipmapLevel = 0; mipmapLevel < numberOfMipmapLevels; mipmapLevel++) {\n    const imageSize = dataView.getUint32(imageOffset, littleEndian);\n    let elementOffset = imageOffset + 4;\n    for (let arrayElement = 0; arrayElement < numberOfArrayElements; arrayElement++) {\n      let mips = imageBuffers[arrayElement];\n      if (!mips) {\n        mips = imageBuffers[arrayElement] = new Array(numberOfMipmapLevels);\n      }\n      mips[mipmapLevel] = {\n        levelID: mipmapLevel,\n        levelWidth: numberOfMipmapLevels > 1 || glType !== 0 ? mipWidth : alignedMipWidth,\n        levelHeight: numberOfMipmapLevels > 1 || glType !== 0 ? mipHeight : alignedMipHeight,\n        levelBuffer: new Uint8Array(arrayBuffer, elementOffset, mipByteSize)\n      };\n      elementOffset += mipByteSize;\n    }\n    imageOffset += imageSize + 4;\n    imageOffset = imageOffset % 4 !== 0 ? imageOffset + 4 - imageOffset % 4 : imageOffset;\n    mipWidth = mipWidth >> 1 || 1;\n    mipHeight = mipHeight >> 1 || 1;\n    alignedMipWidth = mipWidth + blockWidth - 1 & ~(blockWidth - 1);\n    alignedMipHeight = mipHeight + blockHeight - 1 & ~(blockHeight - 1);\n    mipByteSize = alignedMipWidth * alignedMipHeight * imagePixelByteSize;\n  }\n  if (glType !== 0) {\n    return {\n      uncompressed: imageBuffers.map((levelBuffers) => {\n        let buffer = levelBuffers[0].levelBuffer;\n        let convertToInt = false;\n        if (glType === TYPES.FLOAT) {\n          buffer = new Float32Array(levelBuffers[0].levelBuffer.buffer, levelBuffers[0].levelBuffer.byteOffset, levelBuffers[0].levelBuffer.byteLength / 4);\n        } else if (glType === TYPES.UNSIGNED_INT) {\n          convertToInt = true;\n          buffer = new Uint32Array(levelBuffers[0].levelBuffer.buffer, levelBuffers[0].levelBuffer.byteOffset, levelBuffers[0].levelBuffer.byteLength / 4);\n        } else if (glType === TYPES.INT) {\n          convertToInt = true;\n          buffer = new Int32Array(levelBuffers[0].levelBuffer.buffer, levelBuffers[0].levelBuffer.byteOffset, levelBuffers[0].levelBuffer.byteLength / 4);\n        }\n        return {\n          resource: new BufferResource(buffer, {\n            width: levelBuffers[0].levelWidth,\n            height: levelBuffers[0].levelHeight\n          }),\n          type: glType,\n          format: convertToInt ? convertFormatToInteger(glFormat) : glFormat\n        };\n      }),\n      kvData\n    };\n  }\n  return {\n    compressed: imageBuffers.map((levelBuffers) => new CompressedTextureResource(null, {\n      format: glInternalFormat,\n      width: pixelWidth,\n      height: pixelHeight,\n      levels: numberOfMipmapLevels,\n      levelBuffers\n    })),\n    kvData\n  };\n}\nfunction validate(url, dataView) {\n  for (let i = 0; i < FILE_IDENTIFIER.length; i++) {\n    if (dataView.getUint8(i) !== FILE_IDENTIFIER[i]) {\n      console.error(`${url} is not a valid *.ktx file!`);\n      return false;\n    }\n  }\n  return true;\n}\nfunction convertFormatToInteger(format) {\n  switch (format) {\n    case FORMATS.RGBA:\n      return FORMATS.RGBA_INTEGER;\n    case FORMATS.RGB:\n      return FORMATS.RGB_INTEGER;\n    case FORMATS.RG:\n      return FORMATS.RG_INTEGER;\n    case FORMATS.RED:\n      return FORMATS.RED_INTEGER;\n    default:\n      return format;\n  }\n}\nfunction parseKvData(dataView, bytesOfKeyValueData, littleEndian) {\n  const kvData = /* @__PURE__ */ new Map();\n  let bytesIntoKeyValueData = 0;\n  while (bytesIntoKeyValueData < bytesOfKeyValueData) {\n    const keyAndValueByteSize = dataView.getUint32(FILE_HEADER_SIZE + bytesIntoKeyValueData, littleEndian);\n    const keyAndValueByteOffset = FILE_HEADER_SIZE + bytesIntoKeyValueData + 4;\n    const valuePadding = 3 - (keyAndValueByteSize + 3) % 4;\n    if (keyAndValueByteSize === 0 || keyAndValueByteSize > bytesOfKeyValueData - bytesIntoKeyValueData) {\n      console.error(\"KTXLoader: keyAndValueByteSize out of bounds\");\n      break;\n    }\n    let keyNulByte = 0;\n    for (; keyNulByte < keyAndValueByteSize; keyNulByte++) {\n      if (dataView.getUint8(keyAndValueByteOffset + keyNulByte) === 0) {\n        break;\n      }\n    }\n    if (keyNulByte === -1) {\n      console.error(\"KTXLoader: Failed to find null byte terminating kvData key\");\n      break;\n    }\n    const key = new TextDecoder().decode(new Uint8Array(dataView.buffer, keyAndValueByteOffset, keyNulByte));\n    const value = new DataView(dataView.buffer, keyAndValueByteOffset + keyNulByte + 1, keyAndValueByteSize - keyNulByte - 1);\n    kvData.set(key, value);\n    bytesIntoKeyValueData += 4 + keyAndValueByteSize + valuePadding;\n  }\n  return kvData;\n}\n\nexport { FORMATS_TO_COMPONENTS, TYPES_TO_BYTES_PER_COMPONENT, TYPES_TO_BYTES_PER_PIXEL, parseKTX };\n//# sourceMappingURL=parseKTX.mjs.map\n","import { LoaderParserPriority, checkExtension, createTexture } from '@pixi/assets';\nimport { ExtensionType, settings, BaseTexture, MIPMAP_MODES, ALPHA_MODES, utils, extensions } from '@pixi/core';\nimport '../parsers/index.mjs';\nimport { parseDDS } from '../parsers/parseDDS.mjs';\n\nconst loadDDS = {\n  extension: {\n    type: ExtensionType.LoadParser,\n    priority: LoaderParserPriority.High\n  },\n  test(url) {\n    return checkExtension(url, \".dds\");\n  },\n  async load(url, asset, loader) {\n    const response = await settings.ADAPTER.fetch(url);\n    const arrayBuffer = await response.arrayBuffer();\n    const resources = parseDDS(arrayBuffer);\n    const textures = resources.map((resource) => {\n      const base = new BaseTexture(resource, {\n        mipmap: MIPMAP_MODES.OFF,\n        alphaMode: ALPHA_MODES.NO_PREMULTIPLIED_ALPHA,\n        resolution: utils.getResolutionOfUrl(url),\n        ...asset.data\n      });\n      return createTexture(base, loader, url);\n    });\n    return textures.length === 1 ? textures[0] : textures;\n  },\n  unload(texture) {\n    if (Array.isArray(texture)) {\n      texture.forEach((t) => t.destroy(true));\n    } else {\n      texture.destroy(true);\n    }\n  }\n};\nextensions.add(loadDDS);\n\nexport { loadDDS };\n//# sourceMappingURL=loadDDS.mjs.map\n","import { LoaderParserPriority, checkExtension, createTexture } from '@pixi/assets';\nimport { ExtensionType, settings, MIPMAP_MODES, ALPHA_MODES, utils, BaseTexture, extensions } from '@pixi/core';\nimport '../parsers/index.mjs';\nimport { parseKTX } from '../parsers/parseKTX.mjs';\n\nconst loadKTX = {\n  extension: {\n    type: ExtensionType.LoadParser,\n    priority: LoaderParserPriority.High\n  },\n  test(url) {\n    return checkExtension(url, \".ktx\");\n  },\n  async load(url, asset, loader) {\n    const response = await settings.ADAPTER.fetch(url);\n    const arrayBuffer = await response.arrayBuffer();\n    const { compressed, uncompressed, kvData } = parseKTX(url, arrayBuffer);\n    const resources = compressed ?? uncompressed;\n    const options = {\n      mipmap: MIPMAP_MODES.OFF,\n      alphaMode: ALPHA_MODES.NO_PREMULTIPLIED_ALPHA,\n      resolution: utils.getResolutionOfUrl(url),\n      ...asset.data\n    };\n    const textures = resources.map((resource) => {\n      if (resources === uncompressed) {\n        Object.assign(options, {\n          type: resource.type,\n          format: resource.format\n        });\n      }\n      const base = new BaseTexture(resource, options);\n      base.ktxKeyValueData = kvData;\n      return createTexture(base, loader, url);\n    });\n    return textures.length === 1 ? textures[0] : textures;\n  },\n  unload(texture) {\n    if (Array.isArray(texture)) {\n      texture.forEach((t) => t.destroy(true));\n    } else {\n      texture.destroy(true);\n    }\n  }\n};\nextensions.add(loadKTX);\n\nexport { loadKTX };\n//# sourceMappingURL=loadKTX.mjs.map\n","import { ExtensionType, settings, extensions } from '@pixi/core';\n\nconst resolveCompressedTextureUrl = {\n  extension: ExtensionType.ResolveParser,\n  test: (value) => {\n    const temp = value.split(\"?\")[0];\n    const extension = temp.split(\".\").pop();\n    return [\"basis\", \"ktx\", \"dds\"].includes(extension);\n  },\n  parse: (value) => {\n    const temp = value.split(\"?\")[0];\n    const extension = temp.split(\".\").pop();\n    if (extension === \"ktx\") {\n      const extensions2 = [\n        \".s3tc.ktx\",\n        \".s3tc_sRGB.ktx\",\n        \".etc.ktx\",\n        \".etc1.ktx\",\n        \".pvrt.ktx\",\n        \".atc.ktx\",\n        \".astc.ktx\"\n      ];\n      if (extensions2.some((ext) => value.endsWith(ext))) {\n        return {\n          resolution: parseFloat(settings.RETINA_PREFIX.exec(value)?.[1] ?? \"1\"),\n          format: extensions2.find((ext) => value.endsWith(ext)),\n          src: value\n        };\n      }\n    }\n    return {\n      resolution: parseFloat(settings.RETINA_PREFIX.exec(value)?.[1] ?? \"1\"),\n      format: value.split(\".\").pop(),\n      src: value\n    };\n  }\n};\nextensions.add(resolveCompressedTextureUrl);\n\nexport { resolveCompressedTextureUrl };\n//# sourceMappingURL=resolveCompressedTextureUrl.mjs.map\n","import { Rectangle, utils, RenderTexture, MSAA_QUALITY, ExtensionType, extensions } from '@pixi/core';\n\nconst TEMP_RECT = new Rectangle();\nconst BYTES_PER_PIXEL = 4;\nconst _Extract = class {\n  constructor(renderer) {\n    this.renderer = renderer;\n  }\n  async image(target, format, quality) {\n    const image = new Image();\n    image.src = await this.base64(target, format, quality);\n    return image;\n  }\n  async base64(target, format, quality) {\n    const canvas = this.canvas(target);\n    if (canvas.toDataURL !== void 0) {\n      return canvas.toDataURL(format, quality);\n    }\n    if (canvas.convertToBlob !== void 0) {\n      const blob = await canvas.convertToBlob({ type: format, quality });\n      return await new Promise((resolve) => {\n        const reader = new FileReader();\n        reader.onload = () => resolve(reader.result);\n        reader.readAsDataURL(blob);\n      });\n    }\n    throw new Error(\"Extract.base64() requires ICanvas.toDataURL or ICanvas.convertToBlob to be implemented\");\n  }\n  canvas(target, frame) {\n    const { pixels, width, height, flipY } = this._rawPixels(target, frame);\n    let canvasBuffer = new utils.CanvasRenderTarget(width, height, 1);\n    const canvasData = canvasBuffer.context.getImageData(0, 0, width, height);\n    _Extract.arrayPostDivide(pixels, canvasData.data);\n    canvasBuffer.context.putImageData(canvasData, 0, 0);\n    if (flipY) {\n      const target2 = new utils.CanvasRenderTarget(canvasBuffer.width, canvasBuffer.height, 1);\n      target2.context.scale(1, -1);\n      target2.context.drawImage(canvasBuffer.canvas, 0, -height);\n      canvasBuffer.destroy();\n      canvasBuffer = target2;\n    }\n    return canvasBuffer.canvas;\n  }\n  pixels(target, frame) {\n    const { pixels } = this._rawPixels(target, frame);\n    _Extract.arrayPostDivide(pixels, pixels);\n    return pixels;\n  }\n  _rawPixels(target, frame) {\n    const renderer = this.renderer;\n    let resolution;\n    let flipY = false;\n    let renderTexture;\n    let generated = false;\n    if (target) {\n      if (target instanceof RenderTexture) {\n        renderTexture = target;\n      } else {\n        const multisample = renderer.context.webGLVersion >= 2 ? renderer.multisample : MSAA_QUALITY.NONE;\n        renderTexture = this.renderer.generateTexture(target, { multisample });\n        if (multisample !== MSAA_QUALITY.NONE) {\n          const resolvedTexture = RenderTexture.create({\n            width: renderTexture.width,\n            height: renderTexture.height\n          });\n          renderer.framebuffer.bind(renderTexture.framebuffer);\n          renderer.framebuffer.blit(resolvedTexture.framebuffer);\n          renderer.framebuffer.bind(null);\n          renderTexture.destroy(true);\n          renderTexture = resolvedTexture;\n        }\n        generated = true;\n      }\n    }\n    if (renderTexture) {\n      resolution = renderTexture.baseTexture.resolution;\n      frame = frame ?? renderTexture.frame;\n      flipY = false;\n      renderer.renderTexture.bind(renderTexture);\n    } else {\n      resolution = renderer.resolution;\n      if (!frame) {\n        frame = TEMP_RECT;\n        frame.width = renderer.width;\n        frame.height = renderer.height;\n      }\n      flipY = true;\n      renderer.renderTexture.bind(null);\n    }\n    const width = Math.round(frame.width * resolution);\n    const height = Math.round(frame.height * resolution);\n    const pixels = new Uint8Array(BYTES_PER_PIXEL * width * height);\n    const gl = renderer.gl;\n    gl.readPixels(Math.round(frame.x * resolution), Math.round(frame.y * resolution), width, height, gl.RGBA, gl.UNSIGNED_BYTE, pixels);\n    if (generated) {\n      renderTexture.destroy(true);\n    }\n    return { pixels, width, height, flipY };\n  }\n  destroy() {\n    this.renderer = null;\n  }\n  static arrayPostDivide(pixels, out) {\n    for (let i = 0; i < pixels.length; i += 4) {\n      const alpha = out[i + 3] = pixels[i + 3];\n      if (alpha !== 0) {\n        out[i] = Math.round(Math.min(pixels[i] * 255 / alpha, 255));\n        out[i + 1] = Math.round(Math.min(pixels[i + 1] * 255 / alpha, 255));\n        out[i + 2] = Math.round(Math.min(pixels[i + 2] * 255 / alpha, 255));\n      } else {\n        out[i] = pixels[i];\n        out[i + 1] = pixels[i + 1];\n        out[i + 2] = pixels[i + 2];\n      }\n    }\n  }\n};\nlet Extract = _Extract;\nExtract.extension = {\n  name: \"extract\",\n  type: ExtensionType.RendererSystem\n};\nextensions.add(Extract);\n\nexport { Extract };\n//# sourceMappingURL=Extract.mjs.map\n","import { SHAPES } from '@pixi/core';\n\nconst buildCircle = {\n  build(graphicsData) {\n    const points = graphicsData.points;\n    let x;\n    let y;\n    let dx;\n    let dy;\n    let rx;\n    let ry;\n    if (graphicsData.type === SHAPES.CIRC) {\n      const circle = graphicsData.shape;\n      x = circle.x;\n      y = circle.y;\n      rx = ry = circle.radius;\n      dx = dy = 0;\n    } else if (graphicsData.type === SHAPES.ELIP) {\n      const ellipse = graphicsData.shape;\n      x = ellipse.x;\n      y = ellipse.y;\n      rx = ellipse.width;\n      ry = ellipse.height;\n      dx = dy = 0;\n    } else {\n      const roundedRect = graphicsData.shape;\n      const halfWidth = roundedRect.width / 2;\n      const halfHeight = roundedRect.height / 2;\n      x = roundedRect.x + halfWidth;\n      y = roundedRect.y + halfHeight;\n      rx = ry = Math.max(0, Math.min(roundedRect.radius, Math.min(halfWidth, halfHeight)));\n      dx = halfWidth - rx;\n      dy = halfHeight - ry;\n    }\n    if (!(rx >= 0 && ry >= 0 && dx >= 0 && dy >= 0)) {\n      points.length = 0;\n      return;\n    }\n    const n = Math.ceil(2.3 * Math.sqrt(rx + ry));\n    const m = n * 8 + (dx ? 4 : 0) + (dy ? 4 : 0);\n    points.length = m;\n    if (m === 0) {\n      return;\n    }\n    if (n === 0) {\n      points.length = 8;\n      points[0] = points[6] = x + dx;\n      points[1] = points[3] = y + dy;\n      points[2] = points[4] = x - dx;\n      points[5] = points[7] = y - dy;\n      return;\n    }\n    let j1 = 0;\n    let j2 = n * 4 + (dx ? 2 : 0) + 2;\n    let j3 = j2;\n    let j4 = m;\n    {\n      const x0 = dx + rx;\n      const y0 = dy;\n      const x1 = x + x0;\n      const x2 = x - x0;\n      const y1 = y + y0;\n      points[j1++] = x1;\n      points[j1++] = y1;\n      points[--j2] = y1;\n      points[--j2] = x2;\n      if (dy) {\n        const y2 = y - y0;\n        points[j3++] = x2;\n        points[j3++] = y2;\n        points[--j4] = y2;\n        points[--j4] = x1;\n      }\n    }\n    for (let i = 1; i < n; i++) {\n      const a = Math.PI / 2 * (i / n);\n      const x0 = dx + Math.cos(a) * rx;\n      const y0 = dy + Math.sin(a) * ry;\n      const x1 = x + x0;\n      const x2 = x - x0;\n      const y1 = y + y0;\n      const y2 = y - y0;\n      points[j1++] = x1;\n      points[j1++] = y1;\n      points[--j2] = y1;\n      points[--j2] = x2;\n      points[j3++] = x2;\n      points[j3++] = y2;\n      points[--j4] = y2;\n      points[--j4] = x1;\n    }\n    {\n      const x0 = dx;\n      const y0 = dy + ry;\n      const x1 = x + x0;\n      const x2 = x - x0;\n      const y1 = y + y0;\n      const y2 = y - y0;\n      points[j1++] = x1;\n      points[j1++] = y1;\n      points[--j4] = y2;\n      points[--j4] = x1;\n      if (dx) {\n        points[j1++] = x2;\n        points[j1++] = y1;\n        points[--j4] = y2;\n        points[--j4] = x2;\n      }\n    }\n  },\n  triangulate(graphicsData, graphicsGeometry) {\n    const points = graphicsData.points;\n    const verts = graphicsGeometry.points;\n    const indices = graphicsGeometry.indices;\n    if (points.length === 0) {\n      return;\n    }\n    let vertPos = verts.length / 2;\n    const center = vertPos;\n    let x;\n    let y;\n    if (graphicsData.type !== SHAPES.RREC) {\n      const circle = graphicsData.shape;\n      x = circle.x;\n      y = circle.y;\n    } else {\n      const roundedRect = graphicsData.shape;\n      x = roundedRect.x + roundedRect.width / 2;\n      y = roundedRect.y + roundedRect.height / 2;\n    }\n    const matrix = graphicsData.matrix;\n    verts.push(graphicsData.matrix ? matrix.a * x + matrix.c * y + matrix.tx : x, graphicsData.matrix ? matrix.b * x + matrix.d * y + matrix.ty : y);\n    vertPos++;\n    verts.push(points[0], points[1]);\n    for (let i = 2; i < points.length; i += 2) {\n      verts.push(points[i], points[i + 1]);\n      indices.push(vertPos++, center, vertPos);\n    }\n    indices.push(center + 1, center, vertPos);\n  }\n};\n\nexport { buildCircle };\n//# sourceMappingURL=buildCircle.mjs.map\n","import { utils } from '@pixi/core';\n\nfunction fixOrientation(points, hole = false) {\n  const m = points.length;\n  if (m < 6) {\n    return;\n  }\n  let area = 0;\n  for (let i = 0, x1 = points[m - 2], y1 = points[m - 1]; i < m; i += 2) {\n    const x2 = points[i];\n    const y2 = points[i + 1];\n    area += (x2 - x1) * (y2 + y1);\n    x1 = x2;\n    y1 = y2;\n  }\n  if (!hole && area > 0 || hole && area <= 0) {\n    const n = m / 2;\n    for (let i = n + n % 2; i < m; i += 2) {\n      const i1 = m - i - 2;\n      const i2 = m - i - 1;\n      const i3 = i;\n      const i4 = i + 1;\n      [points[i1], points[i3]] = [points[i3], points[i1]];\n      [points[i2], points[i4]] = [points[i4], points[i2]];\n    }\n  }\n}\nconst buildPoly = {\n  build(graphicsData) {\n    graphicsData.points = graphicsData.shape.points.slice();\n  },\n  triangulate(graphicsData, graphicsGeometry) {\n    let points = graphicsData.points;\n    const holes = graphicsData.holes;\n    const verts = graphicsGeometry.points;\n    const indices = graphicsGeometry.indices;\n    if (points.length >= 6) {\n      fixOrientation(points, false);\n      const holeArray = [];\n      for (let i = 0; i < holes.length; i++) {\n        const hole = holes[i];\n        fixOrientation(hole.points, true);\n        holeArray.push(points.length / 2);\n        points = points.concat(hole.points);\n      }\n      const triangles = utils.earcut(points, holeArray, 2);\n      if (!triangles) {\n        return;\n      }\n      const vertPos = verts.length / 2;\n      for (let i = 0; i < triangles.length; i += 3) {\n        indices.push(triangles[i] + vertPos);\n        indices.push(triangles[i + 1] + vertPos);\n        indices.push(triangles[i + 2] + vertPos);\n      }\n      for (let i = 0; i < points.length; i++) {\n        verts.push(points[i]);\n      }\n    }\n  }\n};\n\nexport { buildPoly };\n//# sourceMappingURL=buildPoly.mjs.map\n","const buildRectangle = {\n  build(graphicsData) {\n    const rectData = graphicsData.shape;\n    const x = rectData.x;\n    const y = rectData.y;\n    const width = rectData.width;\n    const height = rectData.height;\n    const points = graphicsData.points;\n    points.length = 0;\n    if (!(width >= 0 && height >= 0)) {\n      return;\n    }\n    points.push(x, y, x + width, y, x + width, y + height, x, y + height);\n  },\n  triangulate(graphicsData, graphicsGeometry) {\n    const points = graphicsData.points;\n    const verts = graphicsGeometry.points;\n    if (points.length === 0) {\n      return;\n    }\n    const vertPos = verts.length / 2;\n    verts.push(points[0], points[1], points[2], points[3], points[6], points[7], points[4], points[5]);\n    graphicsGeometry.indices.push(vertPos, vertPos + 1, vertPos + 2, vertPos + 1, vertPos + 2, vertPos + 3);\n  }\n};\n\nexport { buildRectangle };\n//# sourceMappingURL=buildRectangle.mjs.map\n","import { buildCircle } from './buildCircle.mjs';\n\nconst buildRoundedRectangle = {\n  build(graphicsData) {\n    buildCircle.build(graphicsData);\n  },\n  triangulate(graphicsData, graphicsGeometry) {\n    buildCircle.triangulate(graphicsData, graphicsGeometry);\n  }\n};\n\nexport { buildRoundedRectangle };\n//# sourceMappingURL=buildRoundedRectangle.mjs.map\n","var LINE_JOIN = /* @__PURE__ */ ((LINE_JOIN2) => {\n  LINE_JOIN2[\"MITER\"] = \"miter\";\n  LINE_JOIN2[\"BEVEL\"] = \"bevel\";\n  LINE_JOIN2[\"ROUND\"] = \"round\";\n  return LINE_JOIN2;\n})(LINE_JOIN || {});\nvar LINE_CAP = /* @__PURE__ */ ((LINE_CAP2) => {\n  LINE_CAP2[\"BUTT\"] = \"butt\";\n  LINE_CAP2[\"ROUND\"] = \"round\";\n  LINE_CAP2[\"SQUARE\"] = \"square\";\n  return LINE_CAP2;\n})(LINE_CAP || {});\nconst curves = {\n  adaptive: true,\n  maxLength: 10,\n  minSegments: 8,\n  maxSegments: 2048,\n  epsilon: 1e-4,\n  _segmentsCount(length, defaultSegments = 20) {\n    if (!this.adaptive || !length || isNaN(length)) {\n      return defaultSegments;\n    }\n    let result = Math.ceil(length / this.maxLength);\n    if (result < this.minSegments) {\n      result = this.minSegments;\n    } else if (result > this.maxSegments) {\n      result = this.maxSegments;\n    }\n    return result;\n  }\n};\nconst GRAPHICS_CURVES = curves;\n\nexport { GRAPHICS_CURVES, LINE_CAP, LINE_JOIN, curves };\n//# sourceMappingURL=const.mjs.map\n","import { PI_2 } from '@pixi/core';\nimport { curves } from '../const.mjs';\n\nclass ArcUtils {\n  static curveTo(x1, y1, x2, y2, radius, points) {\n    const fromX = points[points.length - 2];\n    const fromY = points[points.length - 1];\n    const a1 = fromY - y1;\n    const b1 = fromX - x1;\n    const a2 = y2 - y1;\n    const b2 = x2 - x1;\n    const mm = Math.abs(a1 * b2 - b1 * a2);\n    if (mm < 1e-8 || radius === 0) {\n      if (points[points.length - 2] !== x1 || points[points.length - 1] !== y1) {\n        points.push(x1, y1);\n      }\n      return null;\n    }\n    const dd = a1 * a1 + b1 * b1;\n    const cc = a2 * a2 + b2 * b2;\n    const tt = a1 * a2 + b1 * b2;\n    const k1 = radius * Math.sqrt(dd) / mm;\n    const k2 = radius * Math.sqrt(cc) / mm;\n    const j1 = k1 * tt / dd;\n    const j2 = k2 * tt / cc;\n    const cx = k1 * b2 + k2 * b1;\n    const cy = k1 * a2 + k2 * a1;\n    const px = b1 * (k2 + j1);\n    const py = a1 * (k2 + j1);\n    const qx = b2 * (k1 + j2);\n    const qy = a2 * (k1 + j2);\n    const startAngle = Math.atan2(py - cy, px - cx);\n    const endAngle = Math.atan2(qy - cy, qx - cx);\n    return {\n      cx: cx + x1,\n      cy: cy + y1,\n      radius,\n      startAngle,\n      endAngle,\n      anticlockwise: b1 * a2 > b2 * a1\n    };\n  }\n  static arc(_startX, _startY, cx, cy, radius, startAngle, endAngle, _anticlockwise, points) {\n    const sweep = endAngle - startAngle;\n    const n = curves._segmentsCount(Math.abs(sweep) * radius, Math.ceil(Math.abs(sweep) / PI_2) * 40);\n    const theta = sweep / (n * 2);\n    const theta2 = theta * 2;\n    const cTheta = Math.cos(theta);\n    const sTheta = Math.sin(theta);\n    const segMinus = n - 1;\n    const remainder = segMinus % 1 / segMinus;\n    for (let i = 0; i <= segMinus; ++i) {\n      const real = i + remainder * i;\n      const angle = theta + startAngle + theta2 * real;\n      const c = Math.cos(angle);\n      const s = -Math.sin(angle);\n      points.push((cTheta * c + sTheta * s) * radius + cx, (cTheta * -s + sTheta * c) * radius + cy);\n    }\n  }\n}\n\nexport { ArcUtils };\n//# sourceMappingURL=ArcUtils.mjs.map\n","import { curves } from '../const.mjs';\n\nclass BezierUtils {\n  static curveLength(fromX, fromY, cpX, cpY, cpX2, cpY2, toX, toY) {\n    const n = 10;\n    let result = 0;\n    let t = 0;\n    let t2 = 0;\n    let t3 = 0;\n    let nt = 0;\n    let nt2 = 0;\n    let nt3 = 0;\n    let x = 0;\n    let y = 0;\n    let dx = 0;\n    let dy = 0;\n    let prevX = fromX;\n    let prevY = fromY;\n    for (let i = 1; i <= n; ++i) {\n      t = i / n;\n      t2 = t * t;\n      t3 = t2 * t;\n      nt = 1 - t;\n      nt2 = nt * nt;\n      nt3 = nt2 * nt;\n      x = nt3 * fromX + 3 * nt2 * t * cpX + 3 * nt * t2 * cpX2 + t3 * toX;\n      y = nt3 * fromY + 3 * nt2 * t * cpY + 3 * nt * t2 * cpY2 + t3 * toY;\n      dx = prevX - x;\n      dy = prevY - y;\n      prevX = x;\n      prevY = y;\n      result += Math.sqrt(dx * dx + dy * dy);\n    }\n    return result;\n  }\n  static curveTo(cpX, cpY, cpX2, cpY2, toX, toY, points) {\n    const fromX = points[points.length - 2];\n    const fromY = points[points.length - 1];\n    points.length -= 2;\n    const n = curves._segmentsCount(BezierUtils.curveLength(fromX, fromY, cpX, cpY, cpX2, cpY2, toX, toY));\n    let dt = 0;\n    let dt2 = 0;\n    let dt3 = 0;\n    let t2 = 0;\n    let t3 = 0;\n    points.push(fromX, fromY);\n    for (let i = 1, j = 0; i <= n; ++i) {\n      j = i / n;\n      dt = 1 - j;\n      dt2 = dt * dt;\n      dt3 = dt2 * dt;\n      t2 = j * j;\n      t3 = t2 * j;\n      points.push(dt3 * fromX + 3 * dt2 * j * cpX + 3 * dt * t2 * cpX2 + t3 * toX, dt3 * fromY + 3 * dt2 * j * cpY + 3 * dt * t2 * cpY2 + t3 * toY);\n    }\n  }\n}\n\nexport { BezierUtils };\n//# sourceMappingURL=BezierUtils.mjs.map\n","import { Point, SHAPES } from '@pixi/core';\nimport { LINE_CAP, LINE_JOIN, curves } from '../const.mjs';\n\nfunction square(x, y, nx, ny, innerWeight, outerWeight, clockwise, verts) {\n  const ix = x - nx * innerWeight;\n  const iy = y - ny * innerWeight;\n  const ox = x + nx * outerWeight;\n  const oy = y + ny * outerWeight;\n  let exx;\n  let eyy;\n  if (clockwise) {\n    exx = ny;\n    eyy = -nx;\n  } else {\n    exx = -ny;\n    eyy = nx;\n  }\n  const eix = ix + exx;\n  const eiy = iy + eyy;\n  const eox = ox + exx;\n  const eoy = oy + eyy;\n  verts.push(eix, eiy);\n  verts.push(eox, eoy);\n  return 2;\n}\nfunction round(cx, cy, sx, sy, ex, ey, verts, clockwise) {\n  const cx2p0x = sx - cx;\n  const cy2p0y = sy - cy;\n  let angle0 = Math.atan2(cx2p0x, cy2p0y);\n  let angle1 = Math.atan2(ex - cx, ey - cy);\n  if (clockwise && angle0 < angle1) {\n    angle0 += Math.PI * 2;\n  } else if (!clockwise && angle0 > angle1) {\n    angle1 += Math.PI * 2;\n  }\n  let startAngle = angle0;\n  const angleDiff = angle1 - angle0;\n  const absAngleDiff = Math.abs(angleDiff);\n  const radius = Math.sqrt(cx2p0x * cx2p0x + cy2p0y * cy2p0y);\n  const segCount = (15 * absAngleDiff * Math.sqrt(radius) / Math.PI >> 0) + 1;\n  const angleInc = angleDiff / segCount;\n  startAngle += angleInc;\n  if (clockwise) {\n    verts.push(cx, cy);\n    verts.push(sx, sy);\n    for (let i = 1, angle = startAngle; i < segCount; i++, angle += angleInc) {\n      verts.push(cx, cy);\n      verts.push(cx + Math.sin(angle) * radius, cy + Math.cos(angle) * radius);\n    }\n    verts.push(cx, cy);\n    verts.push(ex, ey);\n  } else {\n    verts.push(sx, sy);\n    verts.push(cx, cy);\n    for (let i = 1, angle = startAngle; i < segCount; i++, angle += angleInc) {\n      verts.push(cx + Math.sin(angle) * radius, cy + Math.cos(angle) * radius);\n      verts.push(cx, cy);\n    }\n    verts.push(ex, ey);\n    verts.push(cx, cy);\n  }\n  return segCount * 2;\n}\nfunction buildNonNativeLine(graphicsData, graphicsGeometry) {\n  const shape = graphicsData.shape;\n  let points = graphicsData.points || shape.points.slice();\n  const eps = graphicsGeometry.closePointEps;\n  if (points.length === 0) {\n    return;\n  }\n  const style = graphicsData.lineStyle;\n  const firstPoint = new Point(points[0], points[1]);\n  const lastPoint = new Point(points[points.length - 2], points[points.length - 1]);\n  const closedShape = shape.type !== SHAPES.POLY || shape.closeStroke;\n  const closedPath = Math.abs(firstPoint.x - lastPoint.x) < eps && Math.abs(firstPoint.y - lastPoint.y) < eps;\n  if (closedShape) {\n    points = points.slice();\n    if (closedPath) {\n      points.pop();\n      points.pop();\n      lastPoint.set(points[points.length - 2], points[points.length - 1]);\n    }\n    const midPointX = (firstPoint.x + lastPoint.x) * 0.5;\n    const midPointY = (lastPoint.y + firstPoint.y) * 0.5;\n    points.unshift(midPointX, midPointY);\n    points.push(midPointX, midPointY);\n  }\n  const verts = graphicsGeometry.points;\n  const length = points.length / 2;\n  let indexCount = points.length;\n  const indexStart = verts.length / 2;\n  const width = style.width / 2;\n  const widthSquared = width * width;\n  const miterLimitSquared = style.miterLimit * style.miterLimit;\n  let x0 = points[0];\n  let y0 = points[1];\n  let x1 = points[2];\n  let y1 = points[3];\n  let x2 = 0;\n  let y2 = 0;\n  let perpx = -(y0 - y1);\n  let perpy = x0 - x1;\n  let perp1x = 0;\n  let perp1y = 0;\n  let dist = Math.sqrt(perpx * perpx + perpy * perpy);\n  perpx /= dist;\n  perpy /= dist;\n  perpx *= width;\n  perpy *= width;\n  const ratio = style.alignment;\n  const innerWeight = (1 - ratio) * 2;\n  const outerWeight = ratio * 2;\n  if (!closedShape) {\n    if (style.cap === LINE_CAP.ROUND) {\n      indexCount += round(x0 - perpx * (innerWeight - outerWeight) * 0.5, y0 - perpy * (innerWeight - outerWeight) * 0.5, x0 - perpx * innerWeight, y0 - perpy * innerWeight, x0 + perpx * outerWeight, y0 + perpy * outerWeight, verts, true) + 2;\n    } else if (style.cap === LINE_CAP.SQUARE) {\n      indexCount += square(x0, y0, perpx, perpy, innerWeight, outerWeight, true, verts);\n    }\n  }\n  verts.push(x0 - perpx * innerWeight, y0 - perpy * innerWeight);\n  verts.push(x0 + perpx * outerWeight, y0 + perpy * outerWeight);\n  for (let i = 1; i < length - 1; ++i) {\n    x0 = points[(i - 1) * 2];\n    y0 = points[(i - 1) * 2 + 1];\n    x1 = points[i * 2];\n    y1 = points[i * 2 + 1];\n    x2 = points[(i + 1) * 2];\n    y2 = points[(i + 1) * 2 + 1];\n    perpx = -(y0 - y1);\n    perpy = x0 - x1;\n    dist = Math.sqrt(perpx * perpx + perpy * perpy);\n    perpx /= dist;\n    perpy /= dist;\n    perpx *= width;\n    perpy *= width;\n    perp1x = -(y1 - y2);\n    perp1y = x1 - x2;\n    dist = Math.sqrt(perp1x * perp1x + perp1y * perp1y);\n    perp1x /= dist;\n    perp1y /= dist;\n    perp1x *= width;\n    perp1y *= width;\n    const dx0 = x1 - x0;\n    const dy0 = y0 - y1;\n    const dx1 = x1 - x2;\n    const dy1 = y2 - y1;\n    const dot = dx0 * dx1 + dy0 * dy1;\n    const cross = dy0 * dx1 - dy1 * dx0;\n    const clockwise = cross < 0;\n    if (Math.abs(cross) < 1e-3 * Math.abs(dot)) {\n      verts.push(x1 - perpx * innerWeight, y1 - perpy * innerWeight);\n      verts.push(x1 + perpx * outerWeight, y1 + perpy * outerWeight);\n      if (dot >= 0) {\n        if (style.join === LINE_JOIN.ROUND) {\n          indexCount += round(x1, y1, x1 - perpx * innerWeight, y1 - perpy * innerWeight, x1 - perp1x * innerWeight, y1 - perp1y * innerWeight, verts, false) + 4;\n        } else {\n          indexCount += 2;\n        }\n        verts.push(x1 - perp1x * outerWeight, y1 - perp1y * outerWeight);\n        verts.push(x1 + perp1x * innerWeight, y1 + perp1y * innerWeight);\n      }\n      continue;\n    }\n    const c1 = (-perpx + x0) * (-perpy + y1) - (-perpx + x1) * (-perpy + y0);\n    const c2 = (-perp1x + x2) * (-perp1y + y1) - (-perp1x + x1) * (-perp1y + y2);\n    const px = (dx0 * c2 - dx1 * c1) / cross;\n    const py = (dy1 * c1 - dy0 * c2) / cross;\n    const pdist = (px - x1) * (px - x1) + (py - y1) * (py - y1);\n    const imx = x1 + (px - x1) * innerWeight;\n    const imy = y1 + (py - y1) * innerWeight;\n    const omx = x1 - (px - x1) * outerWeight;\n    const omy = y1 - (py - y1) * outerWeight;\n    const smallerInsideSegmentSq = Math.min(dx0 * dx0 + dy0 * dy0, dx1 * dx1 + dy1 * dy1);\n    const insideWeight = clockwise ? innerWeight : outerWeight;\n    const smallerInsideDiagonalSq = smallerInsideSegmentSq + insideWeight * insideWeight * widthSquared;\n    const insideMiterOk = pdist <= smallerInsideDiagonalSq;\n    if (insideMiterOk) {\n      if (style.join === LINE_JOIN.BEVEL || pdist / widthSquared > miterLimitSquared) {\n        if (clockwise) {\n          verts.push(imx, imy);\n          verts.push(x1 + perpx * outerWeight, y1 + perpy * outerWeight);\n          verts.push(imx, imy);\n          verts.push(x1 + perp1x * outerWeight, y1 + perp1y * outerWeight);\n        } else {\n          verts.push(x1 - perpx * innerWeight, y1 - perpy * innerWeight);\n          verts.push(omx, omy);\n          verts.push(x1 - perp1x * innerWeight, y1 - perp1y * innerWeight);\n          verts.push(omx, omy);\n        }\n        indexCount += 2;\n      } else if (style.join === LINE_JOIN.ROUND) {\n        if (clockwise) {\n          verts.push(imx, imy);\n          verts.push(x1 + perpx * outerWeight, y1 + perpy * outerWeight);\n          indexCount += round(x1, y1, x1 + perpx * outerWeight, y1 + perpy * outerWeight, x1 + perp1x * outerWeight, y1 + perp1y * outerWeight, verts, true) + 4;\n          verts.push(imx, imy);\n          verts.push(x1 + perp1x * outerWeight, y1 + perp1y * outerWeight);\n        } else {\n          verts.push(x1 - perpx * innerWeight, y1 - perpy * innerWeight);\n          verts.push(omx, omy);\n          indexCount += round(x1, y1, x1 - perpx * innerWeight, y1 - perpy * innerWeight, x1 - perp1x * innerWeight, y1 - perp1y * innerWeight, verts, false) + 4;\n          verts.push(x1 - perp1x * innerWeight, y1 - perp1y * innerWeight);\n          verts.push(omx, omy);\n        }\n      } else {\n        verts.push(imx, imy);\n        verts.push(omx, omy);\n      }\n    } else {\n      verts.push(x1 - perpx * innerWeight, y1 - perpy * innerWeight);\n      verts.push(x1 + perpx * outerWeight, y1 + perpy * outerWeight);\n      if (style.join === LINE_JOIN.ROUND) {\n        if (clockwise) {\n          indexCount += round(x1, y1, x1 + perpx * outerWeight, y1 + perpy * outerWeight, x1 + perp1x * outerWeight, y1 + perp1y * outerWeight, verts, true) + 2;\n        } else {\n          indexCount += round(x1, y1, x1 - perpx * innerWeight, y1 - perpy * innerWeight, x1 - perp1x * innerWeight, y1 - perp1y * innerWeight, verts, false) + 2;\n        }\n      } else if (style.join === LINE_JOIN.MITER && pdist / widthSquared <= miterLimitSquared) {\n        if (clockwise) {\n          verts.push(omx, omy);\n          verts.push(omx, omy);\n        } else {\n          verts.push(imx, imy);\n          verts.push(imx, imy);\n        }\n        indexCount += 2;\n      }\n      verts.push(x1 - perp1x * innerWeight, y1 - perp1y * innerWeight);\n      verts.push(x1 + perp1x * outerWeight, y1 + perp1y * outerWeight);\n      indexCount += 2;\n    }\n  }\n  x0 = points[(length - 2) * 2];\n  y0 = points[(length - 2) * 2 + 1];\n  x1 = points[(length - 1) * 2];\n  y1 = points[(length - 1) * 2 + 1];\n  perpx = -(y0 - y1);\n  perpy = x0 - x1;\n  dist = Math.sqrt(perpx * perpx + perpy * perpy);\n  perpx /= dist;\n  perpy /= dist;\n  perpx *= width;\n  perpy *= width;\n  verts.push(x1 - perpx * innerWeight, y1 - perpy * innerWeight);\n  verts.push(x1 + perpx * outerWeight, y1 + perpy * outerWeight);\n  if (!closedShape) {\n    if (style.cap === LINE_CAP.ROUND) {\n      indexCount += round(x1 - perpx * (innerWeight - outerWeight) * 0.5, y1 - perpy * (innerWeight - outerWeight) * 0.5, x1 - perpx * innerWeight, y1 - perpy * innerWeight, x1 + perpx * outerWeight, y1 + perpy * outerWeight, verts, false) + 2;\n    } else if (style.cap === LINE_CAP.SQUARE) {\n      indexCount += square(x1, y1, perpx, perpy, innerWeight, outerWeight, false, verts);\n    }\n  }\n  const indices = graphicsGeometry.indices;\n  const eps2 = curves.epsilon * curves.epsilon;\n  for (let i = indexStart; i < indexCount + indexStart - 2; ++i) {\n    x0 = verts[i * 2];\n    y0 = verts[i * 2 + 1];\n    x1 = verts[(i + 1) * 2];\n    y1 = verts[(i + 1) * 2 + 1];\n    x2 = verts[(i + 2) * 2];\n    y2 = verts[(i + 2) * 2 + 1];\n    if (Math.abs(x0 * (y1 - y2) + x1 * (y2 - y0) + x2 * (y0 - y1)) < eps2) {\n      continue;\n    }\n    indices.push(i, i + 1, i + 2);\n  }\n}\nfunction buildNativeLine(graphicsData, graphicsGeometry) {\n  let i = 0;\n  const shape = graphicsData.shape;\n  const points = graphicsData.points || shape.points;\n  const closedShape = shape.type !== SHAPES.POLY || shape.closeStroke;\n  if (points.length === 0)\n    return;\n  const verts = graphicsGeometry.points;\n  const indices = graphicsGeometry.indices;\n  const length = points.length / 2;\n  const startIndex = verts.length / 2;\n  let currentIndex = startIndex;\n  verts.push(points[0], points[1]);\n  for (i = 1; i < length; i++) {\n    verts.push(points[i * 2], points[i * 2 + 1]);\n    indices.push(currentIndex, currentIndex + 1);\n    currentIndex++;\n  }\n  if (closedShape) {\n    indices.push(currentIndex, startIndex);\n  }\n}\nfunction buildLine(graphicsData, graphicsGeometry) {\n  if (graphicsData.lineStyle.native) {\n    buildNativeLine(graphicsData, graphicsGeometry);\n  } else {\n    buildNonNativeLine(graphicsData, graphicsGeometry);\n  }\n}\n\nexport { buildLine };\n//# sourceMappingURL=buildLine.mjs.map\n","import { curves } from '../const.mjs';\n\nclass QuadraticUtils {\n  static curveLength(fromX, fromY, cpX, cpY, toX, toY) {\n    const ax = fromX - 2 * cpX + toX;\n    const ay = fromY - 2 * cpY + toY;\n    const bx = 2 * cpX - 2 * fromX;\n    const by = 2 * cpY - 2 * fromY;\n    const a = 4 * (ax * ax + ay * ay);\n    const b = 4 * (ax * bx + ay * by);\n    const c = bx * bx + by * by;\n    const s = 2 * Math.sqrt(a + b + c);\n    const a2 = Math.sqrt(a);\n    const a32 = 2 * a * a2;\n    const c2 = 2 * Math.sqrt(c);\n    const ba = b / a2;\n    return (a32 * s + a2 * b * (s - c2) + (4 * c * a - b * b) * Math.log((2 * a2 + ba + s) / (ba + c2))) / (4 * a32);\n  }\n  static curveTo(cpX, cpY, toX, toY, points) {\n    const fromX = points[points.length - 2];\n    const fromY = points[points.length - 1];\n    const n = curves._segmentsCount(QuadraticUtils.curveLength(fromX, fromY, cpX, cpY, toX, toY));\n    let xa = 0;\n    let ya = 0;\n    for (let i = 1; i <= n; ++i) {\n      const j = i / n;\n      xa = fromX + (cpX - fromX) * j;\n      ya = fromY + (cpY - fromY) * j;\n      points.push(xa + (cpX + (toX - cpX) * j - xa) * j, ya + (cpY + (toY - cpY) * j - ya) * j);\n    }\n  }\n}\n\nexport { QuadraticUtils };\n//# sourceMappingURL=QuadraticUtils.mjs.map\n","import { SHAPES } from '@pixi/core';\nimport { buildCircle } from './buildCircle.mjs';\nexport { buildCircle } from './buildCircle.mjs';\nimport { buildPoly } from './buildPoly.mjs';\nexport { buildPoly } from './buildPoly.mjs';\nimport { buildRectangle } from './buildRectangle.mjs';\nexport { buildRectangle } from './buildRectangle.mjs';\nimport { buildRoundedRectangle } from './buildRoundedRectangle.mjs';\nexport { buildRoundedRectangle } from './buildRoundedRectangle.mjs';\nexport { ArcUtils } from './ArcUtils.mjs';\nexport { BatchPart } from './BatchPart.mjs';\nexport { BezierUtils } from './BezierUtils.mjs';\nexport { buildLine } from './buildLine.mjs';\nexport { QuadraticUtils } from './QuadraticUtils.mjs';\n\nconst FILL_COMMANDS = {\n  [SHAPES.POLY]: buildPoly,\n  [SHAPES.CIRC]: buildCircle,\n  [SHAPES.ELIP]: buildCircle,\n  [SHAPES.RECT]: buildRectangle,\n  [SHAPES.RREC]: buildRoundedRectangle\n};\nconst BATCH_POOL = [];\nconst DRAW_CALL_POOL = [];\n\nexport { BATCH_POOL, DRAW_CALL_POOL, FILL_COMMANDS };\n//# sourceMappingURL=index.mjs.map\n","class GraphicsData {\n  constructor(shape, fillStyle = null, lineStyle = null, matrix = null) {\n    this.points = [];\n    this.holes = [];\n    this.shape = shape;\n    this.lineStyle = lineStyle;\n    this.fillStyle = fillStyle;\n    this.matrix = matrix;\n    this.type = shape.type;\n  }\n  clone() {\n    return new GraphicsData(this.shape, this.fillStyle, this.lineStyle, this.matrix);\n  }\n  destroy() {\n    this.shape = null;\n    this.holes.length = 0;\n    this.holes = null;\n    this.points.length = 0;\n    this.points = null;\n    this.lineStyle = null;\n    this.fillStyle = null;\n  }\n}\n\nexport { GraphicsData };\n//# sourceMappingURL=GraphicsData.mjs.map\n","class BatchPart {\n  constructor() {\n    this.reset();\n  }\n  begin(style, startIndex, attribStart) {\n    this.reset();\n    this.style = style;\n    this.start = startIndex;\n    this.attribStart = attribStart;\n  }\n  end(endIndex, endAttrib) {\n    this.attribSize = endAttrib - this.attribStart;\n    this.size = endIndex - this.start;\n  }\n  reset() {\n    this.style = null;\n    this.size = 0;\n    this.start = 0;\n    this.attribStart = 0;\n    this.attribSize = 0;\n  }\n}\n\nexport { BatchPart };\n//# sourceMappingURL=BatchPart.mjs.map\n","import { Point, BatchGeometry, WRAP_MODES, BaseTexture, BatchDrawCall, BatchTextureArray, DRAW_MODES, Color } from '@pixi/core';\nimport { Bounds } from '@pixi/display';\nimport { GraphicsData } from './GraphicsData.mjs';\nimport { DRAW_CALL_POOL, BATCH_POOL, FILL_COMMANDS } from './utils/index.mjs';\nimport { BatchPart } from './utils/BatchPart.mjs';\nimport { buildPoly } from './utils/buildPoly.mjs';\nimport { buildLine } from './utils/buildLine.mjs';\n\nconst tmpPoint = new Point();\nconst _GraphicsGeometry = class extends BatchGeometry {\n  constructor() {\n    super();\n    this.closePointEps = 1e-4;\n    this.boundsPadding = 0;\n    this.uvsFloat32 = null;\n    this.indicesUint16 = null;\n    this.batchable = false;\n    this.points = [];\n    this.colors = [];\n    this.uvs = [];\n    this.indices = [];\n    this.textureIds = [];\n    this.graphicsData = [];\n    this.drawCalls = [];\n    this.batchDirty = -1;\n    this.batches = [];\n    this.dirty = 0;\n    this.cacheDirty = -1;\n    this.clearDirty = 0;\n    this.shapeIndex = 0;\n    this._bounds = new Bounds();\n    this.boundsDirty = -1;\n  }\n  get bounds() {\n    this.updateBatches();\n    if (this.boundsDirty !== this.dirty) {\n      this.boundsDirty = this.dirty;\n      this.calculateBounds();\n    }\n    return this._bounds;\n  }\n  invalidate() {\n    this.boundsDirty = -1;\n    this.dirty++;\n    this.batchDirty++;\n    this.shapeIndex = 0;\n    this.points.length = 0;\n    this.colors.length = 0;\n    this.uvs.length = 0;\n    this.indices.length = 0;\n    this.textureIds.length = 0;\n    for (let i = 0; i < this.drawCalls.length; i++) {\n      this.drawCalls[i].texArray.clear();\n      DRAW_CALL_POOL.push(this.drawCalls[i]);\n    }\n    this.drawCalls.length = 0;\n    for (let i = 0; i < this.batches.length; i++) {\n      const batchPart = this.batches[i];\n      batchPart.reset();\n      BATCH_POOL.push(batchPart);\n    }\n    this.batches.length = 0;\n  }\n  clear() {\n    if (this.graphicsData.length > 0) {\n      this.invalidate();\n      this.clearDirty++;\n      this.graphicsData.length = 0;\n    }\n    return this;\n  }\n  drawShape(shape, fillStyle = null, lineStyle = null, matrix = null) {\n    const data = new GraphicsData(shape, fillStyle, lineStyle, matrix);\n    this.graphicsData.push(data);\n    this.dirty++;\n    return this;\n  }\n  drawHole(shape, matrix = null) {\n    if (!this.graphicsData.length) {\n      return null;\n    }\n    const data = new GraphicsData(shape, null, null, matrix);\n    const lastShape = this.graphicsData[this.graphicsData.length - 1];\n    data.lineStyle = lastShape.lineStyle;\n    lastShape.holes.push(data);\n    this.dirty++;\n    return this;\n  }\n  destroy() {\n    super.destroy();\n    for (let i = 0; i < this.graphicsData.length; ++i) {\n      this.graphicsData[i].destroy();\n    }\n    this.points.length = 0;\n    this.points = null;\n    this.colors.length = 0;\n    this.colors = null;\n    this.uvs.length = 0;\n    this.uvs = null;\n    this.indices.length = 0;\n    this.indices = null;\n    this.indexBuffer.destroy();\n    this.indexBuffer = null;\n    this.graphicsData.length = 0;\n    this.graphicsData = null;\n    this.drawCalls.length = 0;\n    this.drawCalls = null;\n    this.batches.length = 0;\n    this.batches = null;\n    this._bounds = null;\n  }\n  containsPoint(point) {\n    const graphicsData = this.graphicsData;\n    for (let i = 0; i < graphicsData.length; ++i) {\n      const data = graphicsData[i];\n      if (!data.fillStyle.visible) {\n        continue;\n      }\n      if (data.shape) {\n        if (data.matrix) {\n          data.matrix.applyInverse(point, tmpPoint);\n        } else {\n          tmpPoint.copyFrom(point);\n        }\n        if (data.shape.contains(tmpPoint.x, tmpPoint.y)) {\n          let hitHole = false;\n          if (data.holes) {\n            for (let i2 = 0; i2 < data.holes.length; i2++) {\n              const hole = data.holes[i2];\n              if (hole.shape.contains(tmpPoint.x, tmpPoint.y)) {\n                hitHole = true;\n                break;\n              }\n            }\n          }\n          if (!hitHole) {\n            return true;\n          }\n        }\n      }\n    }\n    return false;\n  }\n  updateBatches() {\n    if (!this.graphicsData.length) {\n      this.batchable = true;\n      return;\n    }\n    if (!this.validateBatching()) {\n      return;\n    }\n    this.cacheDirty = this.dirty;\n    const uvs = this.uvs;\n    const graphicsData = this.graphicsData;\n    let batchPart = null;\n    let currentStyle = null;\n    if (this.batches.length > 0) {\n      batchPart = this.batches[this.batches.length - 1];\n      currentStyle = batchPart.style;\n    }\n    for (let i = this.shapeIndex; i < graphicsData.length; i++) {\n      this.shapeIndex++;\n      const data = graphicsData[i];\n      const fillStyle = data.fillStyle;\n      const lineStyle = data.lineStyle;\n      const command = FILL_COMMANDS[data.type];\n      command.build(data);\n      if (data.matrix) {\n        this.transformPoints(data.points, data.matrix);\n      }\n      if (fillStyle.visible || lineStyle.visible) {\n        this.processHoles(data.holes);\n      }\n      for (let j = 0; j < 2; j++) {\n        const style = j === 0 ? fillStyle : lineStyle;\n        if (!style.visible)\n          continue;\n        const nextTexture = style.texture.baseTexture;\n        const index2 = this.indices.length;\n        const attribIndex = this.points.length / 2;\n        nextTexture.wrapMode = WRAP_MODES.REPEAT;\n        if (j === 0) {\n          this.processFill(data);\n        } else {\n          this.processLine(data);\n        }\n        const size = this.points.length / 2 - attribIndex;\n        if (size === 0)\n          continue;\n        if (batchPart && !this._compareStyles(currentStyle, style)) {\n          batchPart.end(index2, attribIndex);\n          batchPart = null;\n        }\n        if (!batchPart) {\n          batchPart = BATCH_POOL.pop() || new BatchPart();\n          batchPart.begin(style, index2, attribIndex);\n          this.batches.push(batchPart);\n          currentStyle = style;\n        }\n        this.addUvs(this.points, uvs, style.texture, attribIndex, size, style.matrix);\n      }\n    }\n    const index = this.indices.length;\n    const attrib = this.points.length / 2;\n    if (batchPart) {\n      batchPart.end(index, attrib);\n    }\n    if (this.batches.length === 0) {\n      this.batchable = true;\n      return;\n    }\n    const need32 = attrib > 65535;\n    if (this.indicesUint16 && this.indices.length === this.indicesUint16.length && need32 === this.indicesUint16.BYTES_PER_ELEMENT > 2) {\n      this.indicesUint16.set(this.indices);\n    } else {\n      this.indicesUint16 = need32 ? new Uint32Array(this.indices) : new Uint16Array(this.indices);\n    }\n    this.batchable = this.isBatchable();\n    if (this.batchable) {\n      this.packBatches();\n    } else {\n      this.buildDrawCalls();\n    }\n  }\n  _compareStyles(styleA, styleB) {\n    if (!styleA || !styleB) {\n      return false;\n    }\n    if (styleA.texture.baseTexture !== styleB.texture.baseTexture) {\n      return false;\n    }\n    if (styleA.color + styleA.alpha !== styleB.color + styleB.alpha) {\n      return false;\n    }\n    if (!!styleA.native !== !!styleB.native) {\n      return false;\n    }\n    return true;\n  }\n  validateBatching() {\n    if (this.dirty === this.cacheDirty || !this.graphicsData.length) {\n      return false;\n    }\n    for (let i = 0, l = this.graphicsData.length; i < l; i++) {\n      const data = this.graphicsData[i];\n      const fill = data.fillStyle;\n      const line = data.lineStyle;\n      if (fill && !fill.texture.baseTexture.valid)\n        return false;\n      if (line && !line.texture.baseTexture.valid)\n        return false;\n    }\n    return true;\n  }\n  packBatches() {\n    this.batchDirty++;\n    this.uvsFloat32 = new Float32Array(this.uvs);\n    const batches = this.batches;\n    for (let i = 0, l = batches.length; i < l; i++) {\n      const batch = batches[i];\n      for (let j = 0; j < batch.size; j++) {\n        const index = batch.start + j;\n        this.indicesUint16[index] = this.indicesUint16[index] - batch.attribStart;\n      }\n    }\n  }\n  isBatchable() {\n    if (this.points.length > 65535 * 2) {\n      return false;\n    }\n    const batches = this.batches;\n    for (let i = 0; i < batches.length; i++) {\n      if (batches[i].style.native) {\n        return false;\n      }\n    }\n    return this.points.length < _GraphicsGeometry.BATCHABLE_SIZE * 2;\n  }\n  buildDrawCalls() {\n    let TICK = ++BaseTexture._globalBatch;\n    for (let i = 0; i < this.drawCalls.length; i++) {\n      this.drawCalls[i].texArray.clear();\n      DRAW_CALL_POOL.push(this.drawCalls[i]);\n    }\n    this.drawCalls.length = 0;\n    const colors = this.colors;\n    const textureIds = this.textureIds;\n    let currentGroup = DRAW_CALL_POOL.pop();\n    if (!currentGroup) {\n      currentGroup = new BatchDrawCall();\n      currentGroup.texArray = new BatchTextureArray();\n    }\n    currentGroup.texArray.count = 0;\n    currentGroup.start = 0;\n    currentGroup.size = 0;\n    currentGroup.type = DRAW_MODES.TRIANGLES;\n    let textureCount = 0;\n    let currentTexture = null;\n    let textureId = 0;\n    let native = false;\n    let drawMode = DRAW_MODES.TRIANGLES;\n    let index = 0;\n    this.drawCalls.push(currentGroup);\n    for (let i = 0; i < this.batches.length; i++) {\n      const data = this.batches[i];\n      const maxTextures = 8;\n      const style = data.style;\n      const nextTexture = style.texture.baseTexture;\n      if (native !== !!style.native) {\n        native = !!style.native;\n        drawMode = native ? DRAW_MODES.LINES : DRAW_MODES.TRIANGLES;\n        currentTexture = null;\n        textureCount = maxTextures;\n        TICK++;\n      }\n      if (currentTexture !== nextTexture) {\n        currentTexture = nextTexture;\n        if (nextTexture._batchEnabled !== TICK) {\n          if (textureCount === maxTextures) {\n            TICK++;\n            textureCount = 0;\n            if (currentGroup.size > 0) {\n              currentGroup = DRAW_CALL_POOL.pop();\n              if (!currentGroup) {\n                currentGroup = new BatchDrawCall();\n                currentGroup.texArray = new BatchTextureArray();\n              }\n              this.drawCalls.push(currentGroup);\n            }\n            currentGroup.start = index;\n            currentGroup.size = 0;\n            currentGroup.texArray.count = 0;\n            currentGroup.type = drawMode;\n          }\n          nextTexture.touched = 1;\n          nextTexture._batchEnabled = TICK;\n          nextTexture._batchLocation = textureCount;\n          nextTexture.wrapMode = WRAP_MODES.REPEAT;\n          currentGroup.texArray.elements[currentGroup.texArray.count++] = nextTexture;\n          textureCount++;\n        }\n      }\n      currentGroup.size += data.size;\n      index += data.size;\n      textureId = nextTexture._batchLocation;\n      this.addColors(colors, style.color, style.alpha, data.attribSize, data.attribStart);\n      this.addTextureIds(textureIds, textureId, data.attribSize, data.attribStart);\n    }\n    BaseTexture._globalBatch = TICK;\n    this.packAttributes();\n  }\n  packAttributes() {\n    const verts = this.points;\n    const uvs = this.uvs;\n    const colors = this.colors;\n    const textureIds = this.textureIds;\n    const glPoints = new ArrayBuffer(verts.length * 3 * 4);\n    const f32 = new Float32Array(glPoints);\n    const u32 = new Uint32Array(glPoints);\n    let p = 0;\n    for (let i = 0; i < verts.length / 2; i++) {\n      f32[p++] = verts[i * 2];\n      f32[p++] = verts[i * 2 + 1];\n      f32[p++] = uvs[i * 2];\n      f32[p++] = uvs[i * 2 + 1];\n      u32[p++] = colors[i];\n      f32[p++] = textureIds[i];\n    }\n    this._buffer.update(glPoints);\n    this._indexBuffer.update(this.indicesUint16);\n  }\n  processFill(data) {\n    if (data.holes.length) {\n      buildPoly.triangulate(data, this);\n    } else {\n      const command = FILL_COMMANDS[data.type];\n      command.triangulate(data, this);\n    }\n  }\n  processLine(data) {\n    buildLine(data, this);\n    for (let i = 0; i < data.holes.length; i++) {\n      buildLine(data.holes[i], this);\n    }\n  }\n  processHoles(holes) {\n    for (let i = 0; i < holes.length; i++) {\n      const hole = holes[i];\n      const command = FILL_COMMANDS[hole.type];\n      command.build(hole);\n      if (hole.matrix) {\n        this.transformPoints(hole.points, hole.matrix);\n      }\n    }\n  }\n  calculateBounds() {\n    const bounds = this._bounds;\n    bounds.clear();\n    bounds.addVertexData(this.points, 0, this.points.length);\n    bounds.pad(this.boundsPadding, this.boundsPadding);\n  }\n  transformPoints(points, matrix) {\n    for (let i = 0; i < points.length / 2; i++) {\n      const x = points[i * 2];\n      const y = points[i * 2 + 1];\n      points[i * 2] = matrix.a * x + matrix.c * y + matrix.tx;\n      points[i * 2 + 1] = matrix.b * x + matrix.d * y + matrix.ty;\n    }\n  }\n  addColors(colors, color, alpha, size, offset = 0) {\n    const bgr = Color.shared.setValue(color).toLittleEndianNumber();\n    const result = Color.shared.setValue(bgr).toPremultiplied(alpha);\n    colors.length = Math.max(colors.length, offset + size);\n    for (let i = 0; i < size; i++) {\n      colors[offset + i] = result;\n    }\n  }\n  addTextureIds(textureIds, id, size, offset = 0) {\n    textureIds.length = Math.max(textureIds.length, offset + size);\n    for (let i = 0; i < size; i++) {\n      textureIds[offset + i] = id;\n    }\n  }\n  addUvs(verts, uvs, texture, start, size, matrix = null) {\n    let index = 0;\n    const uvsStart = uvs.length;\n    const frame = texture.frame;\n    while (index < size) {\n      let x = verts[(start + index) * 2];\n      let y = verts[(start + index) * 2 + 1];\n      if (matrix) {\n        const nx = matrix.a * x + matrix.c * y + matrix.tx;\n        y = matrix.b * x + matrix.d * y + matrix.ty;\n        x = nx;\n      }\n      index++;\n      uvs.push(x / frame.width, y / frame.height);\n    }\n    const baseTexture = texture.baseTexture;\n    if (frame.width < baseTexture.width || frame.height < baseTexture.height) {\n      this.adjustUvs(uvs, texture, uvsStart, size);\n    }\n  }\n  adjustUvs(uvs, texture, start, size) {\n    const baseTexture = texture.baseTexture;\n    const eps = 1e-6;\n    const finish = start + size * 2;\n    const frame = texture.frame;\n    const scaleX = frame.width / baseTexture.width;\n    const scaleY = frame.height / baseTexture.height;\n    let offsetX = frame.x / frame.width;\n    let offsetY = frame.y / frame.height;\n    let minX = Math.floor(uvs[start] + eps);\n    let minY = Math.floor(uvs[start + 1] + eps);\n    for (let i = start + 2; i < finish; i += 2) {\n      minX = Math.min(minX, Math.floor(uvs[i] + eps));\n      minY = Math.min(minY, Math.floor(uvs[i + 1] + eps));\n    }\n    offsetX -= minX;\n    offsetY -= minY;\n    for (let i = start; i < finish; i += 2) {\n      uvs[i] = (uvs[i] + offsetX) * scaleX;\n      uvs[i + 1] = (uvs[i + 1] + offsetY) * scaleY;\n    }\n  }\n};\nlet GraphicsGeometry = _GraphicsGeometry;\nGraphicsGeometry.BATCHABLE_SIZE = 100;\n\nexport { GraphicsGeometry };\n//# sourceMappingURL=GraphicsGeometry.mjs.map\n","import { Texture } from '@pixi/core';\n\nclass FillStyle {\n  constructor() {\n    this.color = 16777215;\n    this.alpha = 1;\n    this.texture = Texture.WHITE;\n    this.matrix = null;\n    this.visible = false;\n    this.reset();\n  }\n  clone() {\n    const obj = new FillStyle();\n    obj.color = this.color;\n    obj.alpha = this.alpha;\n    obj.texture = this.texture;\n    obj.matrix = this.matrix;\n    obj.visible = this.visible;\n    return obj;\n  }\n  reset() {\n    this.color = 16777215;\n    this.alpha = 1;\n    this.texture = Texture.WHITE;\n    this.matrix = null;\n    this.visible = false;\n  }\n  destroy() {\n    this.texture = null;\n    this.matrix = null;\n  }\n}\n\nexport { FillStyle };\n//# sourceMappingURL=FillStyle.mjs.map\n","import { LINE_CAP, LINE_JOIN } from '../const.mjs';\nimport { FillStyle } from './FillStyle.mjs';\n\nclass LineStyle extends FillStyle {\n  constructor() {\n    super(...arguments);\n    this.width = 0;\n    this.alignment = 0.5;\n    this.native = false;\n    this.cap = LINE_CAP.BUTT;\n    this.join = LINE_JOIN.MITER;\n    this.miterLimit = 10;\n  }\n  clone() {\n    const obj = new LineStyle();\n    obj.color = this.color;\n    obj.alpha = this.alpha;\n    obj.texture = this.texture;\n    obj.matrix = this.matrix;\n    obj.visible = this.visible;\n    obj.width = this.width;\n    obj.alignment = this.alignment;\n    obj.native = this.native;\n    obj.cap = this.cap;\n    obj.join = this.join;\n    obj.miterLimit = this.miterLimit;\n    return obj;\n  }\n  reset() {\n    super.reset();\n    this.color = 0;\n    this.alignment = 0.5;\n    this.width = 0;\n    this.native = false;\n  }\n}\n\nexport { LineStyle };\n//# sourceMappingURL=LineStyle.mjs.map\n","import { State, BLEND_MODES, Texture, Polygon, PI_2, Color, Rectangle, RoundedRectangle, Circle, Ellipse, SHAPES, Matrix, UniformGroup, Shader, Point } from '@pixi/core';\nimport { Container } from '@pixi/display';\nimport { LINE_CAP, LINE_JOIN, curves } from './const.mjs';\nimport { GraphicsGeometry } from './GraphicsGeometry.mjs';\nimport { FillStyle } from './styles/FillStyle.mjs';\nimport { LineStyle } from './styles/LineStyle.mjs';\nimport './utils/index.mjs';\nimport { QuadraticUtils } from './utils/QuadraticUtils.mjs';\nimport { BezierUtils } from './utils/BezierUtils.mjs';\nimport { ArcUtils } from './utils/ArcUtils.mjs';\n\nconst temp = new Float32Array(3);\nconst DEFAULT_SHADERS = {};\nconst _Graphics = class extends Container {\n  constructor(geometry = null) {\n    super();\n    this.shader = null;\n    this.pluginName = \"batch\";\n    this.currentPath = null;\n    this.batches = [];\n    this.batchTint = -1;\n    this.batchDirty = -1;\n    this.vertexData = null;\n    this._fillStyle = new FillStyle();\n    this._lineStyle = new LineStyle();\n    this._matrix = null;\n    this._holeMode = false;\n    this.state = State.for2d();\n    this._geometry = geometry || new GraphicsGeometry();\n    this._geometry.refCount++;\n    this._transformID = -1;\n    this.tint = 16777215;\n    this.blendMode = BLEND_MODES.NORMAL;\n  }\n  get geometry() {\n    return this._geometry;\n  }\n  clone() {\n    this.finishPoly();\n    return new _Graphics(this._geometry);\n  }\n  set blendMode(value) {\n    this.state.blendMode = value;\n  }\n  get blendMode() {\n    return this.state.blendMode;\n  }\n  get tint() {\n    return this._tint;\n  }\n  set tint(value) {\n    this._tint = value;\n  }\n  get fill() {\n    return this._fillStyle;\n  }\n  get line() {\n    return this._lineStyle;\n  }\n  lineStyle(options = null, color = 0, alpha, alignment = 0.5, native = false) {\n    if (typeof options === \"number\") {\n      options = { width: options, color, alpha, alignment, native };\n    }\n    return this.lineTextureStyle(options);\n  }\n  lineTextureStyle(options) {\n    const defaultLineStyleOptions = {\n      width: 0,\n      texture: Texture.WHITE,\n      color: options?.texture ? 16777215 : 0,\n      matrix: null,\n      alignment: 0.5,\n      native: false,\n      cap: LINE_CAP.BUTT,\n      join: LINE_JOIN.MITER,\n      miterLimit: 10\n    };\n    options = Object.assign(defaultLineStyleOptions, options);\n    this.normalizeColor(options);\n    if (this.currentPath) {\n      this.startPoly();\n    }\n    const visible = options.width > 0 && options.alpha > 0;\n    if (!visible) {\n      this._lineStyle.reset();\n    } else {\n      if (options.matrix) {\n        options.matrix = options.matrix.clone();\n        options.matrix.invert();\n      }\n      Object.assign(this._lineStyle, { visible }, options);\n    }\n    return this;\n  }\n  startPoly() {\n    if (this.currentPath) {\n      const points = this.currentPath.points;\n      const len = this.currentPath.points.length;\n      if (len > 2) {\n        this.drawShape(this.currentPath);\n        this.currentPath = new Polygon();\n        this.currentPath.closeStroke = false;\n        this.currentPath.points.push(points[len - 2], points[len - 1]);\n      }\n    } else {\n      this.currentPath = new Polygon();\n      this.currentPath.closeStroke = false;\n    }\n  }\n  finishPoly() {\n    if (this.currentPath) {\n      if (this.currentPath.points.length > 2) {\n        this.drawShape(this.currentPath);\n        this.currentPath = null;\n      } else {\n        this.currentPath.points.length = 0;\n      }\n    }\n  }\n  moveTo(x, y) {\n    this.startPoly();\n    this.currentPath.points[0] = x;\n    this.currentPath.points[1] = y;\n    return this;\n  }\n  lineTo(x, y) {\n    if (!this.currentPath) {\n      this.moveTo(0, 0);\n    }\n    const points = this.currentPath.points;\n    const fromX = points[points.length - 2];\n    const fromY = points[points.length - 1];\n    if (fromX !== x || fromY !== y) {\n      points.push(x, y);\n    }\n    return this;\n  }\n  _initCurve(x = 0, y = 0) {\n    if (this.currentPath) {\n      if (this.currentPath.points.length === 0) {\n        this.currentPath.points = [x, y];\n      }\n    } else {\n      this.moveTo(x, y);\n    }\n  }\n  quadraticCurveTo(cpX, cpY, toX, toY) {\n    this._initCurve();\n    const points = this.currentPath.points;\n    if (points.length === 0) {\n      this.moveTo(0, 0);\n    }\n    QuadraticUtils.curveTo(cpX, cpY, toX, toY, points);\n    return this;\n  }\n  bezierCurveTo(cpX, cpY, cpX2, cpY2, toX, toY) {\n    this._initCurve();\n    BezierUtils.curveTo(cpX, cpY, cpX2, cpY2, toX, toY, this.currentPath.points);\n    return this;\n  }\n  arcTo(x1, y1, x2, y2, radius) {\n    this._initCurve(x1, y1);\n    const points = this.currentPath.points;\n    const result = ArcUtils.curveTo(x1, y1, x2, y2, radius, points);\n    if (result) {\n      const { cx, cy, radius: radius2, startAngle, endAngle, anticlockwise } = result;\n      this.arc(cx, cy, radius2, startAngle, endAngle, anticlockwise);\n    }\n    return this;\n  }\n  arc(cx, cy, radius, startAngle, endAngle, anticlockwise = false) {\n    if (startAngle === endAngle) {\n      return this;\n    }\n    if (!anticlockwise && endAngle <= startAngle) {\n      endAngle += PI_2;\n    } else if (anticlockwise && startAngle <= endAngle) {\n      startAngle += PI_2;\n    }\n    const sweep = endAngle - startAngle;\n    if (sweep === 0) {\n      return this;\n    }\n    const startX = cx + Math.cos(startAngle) * radius;\n    const startY = cy + Math.sin(startAngle) * radius;\n    const eps = this._geometry.closePointEps;\n    let points = this.currentPath ? this.currentPath.points : null;\n    if (points) {\n      const xDiff = Math.abs(points[points.length - 2] - startX);\n      const yDiff = Math.abs(points[points.length - 1] - startY);\n      if (xDiff < eps && yDiff < eps) {\n      } else {\n        points.push(startX, startY);\n      }\n    } else {\n      this.moveTo(startX, startY);\n      points = this.currentPath.points;\n    }\n    ArcUtils.arc(startX, startY, cx, cy, radius, startAngle, endAngle, anticlockwise, points);\n    return this;\n  }\n  beginFill(color = 0, alpha) {\n    return this.beginTextureFill({ texture: Texture.WHITE, color, alpha });\n  }\n  normalizeColor(options) {\n    const temp2 = Color.shared.setValue(options.color ?? 0);\n    options.color = temp2.toNumber();\n    options.alpha ?? (options.alpha = temp2.alpha);\n  }\n  beginTextureFill(options) {\n    const defaultOptions = {\n      texture: Texture.WHITE,\n      color: 16777215,\n      matrix: null\n    };\n    options = Object.assign(defaultOptions, options);\n    this.normalizeColor(options);\n    if (this.currentPath) {\n      this.startPoly();\n    }\n    const visible = options.alpha > 0;\n    if (!visible) {\n      this._fillStyle.reset();\n    } else {\n      if (options.matrix) {\n        options.matrix = options.matrix.clone();\n        options.matrix.invert();\n      }\n      Object.assign(this._fillStyle, { visible }, options);\n    }\n    return this;\n  }\n  endFill() {\n    this.finishPoly();\n    this._fillStyle.reset();\n    return this;\n  }\n  drawRect(x, y, width, height) {\n    return this.drawShape(new Rectangle(x, y, width, height));\n  }\n  drawRoundedRect(x, y, width, height, radius) {\n    return this.drawShape(new RoundedRectangle(x, y, width, height, radius));\n  }\n  drawCircle(x, y, radius) {\n    return this.drawShape(new Circle(x, y, radius));\n  }\n  drawEllipse(x, y, width, height) {\n    return this.drawShape(new Ellipse(x, y, width, height));\n  }\n  drawPolygon(...path) {\n    let points;\n    let closeStroke = true;\n    const poly = path[0];\n    if (poly.points) {\n      closeStroke = poly.closeStroke;\n      points = poly.points;\n    } else if (Array.isArray(path[0])) {\n      points = path[0];\n    } else {\n      points = path;\n    }\n    const shape = new Polygon(points);\n    shape.closeStroke = closeStroke;\n    this.drawShape(shape);\n    return this;\n  }\n  drawShape(shape) {\n    if (!this._holeMode) {\n      this._geometry.drawShape(shape, this._fillStyle.clone(), this._lineStyle.clone(), this._matrix);\n    } else {\n      this._geometry.drawHole(shape, this._matrix);\n    }\n    return this;\n  }\n  clear() {\n    this._geometry.clear();\n    this._lineStyle.reset();\n    this._fillStyle.reset();\n    this._boundsID++;\n    this._matrix = null;\n    this._holeMode = false;\n    this.currentPath = null;\n    return this;\n  }\n  isFastRect() {\n    const data = this._geometry.graphicsData;\n    return data.length === 1 && data[0].shape.type === SHAPES.RECT && !data[0].matrix && !data[0].holes.length && !(data[0].lineStyle.visible && data[0].lineStyle.width);\n  }\n  _render(renderer) {\n    this.finishPoly();\n    const geometry = this._geometry;\n    geometry.updateBatches();\n    if (geometry.batchable) {\n      if (this.batchDirty !== geometry.batchDirty) {\n        this._populateBatches();\n      }\n      this._renderBatched(renderer);\n    } else {\n      renderer.batch.flush();\n      this._renderDirect(renderer);\n    }\n  }\n  _populateBatches() {\n    const geometry = this._geometry;\n    const blendMode = this.blendMode;\n    const len = geometry.batches.length;\n    this.batchTint = -1;\n    this._transformID = -1;\n    this.batchDirty = geometry.batchDirty;\n    this.batches.length = len;\n    this.vertexData = new Float32Array(geometry.points);\n    for (let i = 0; i < len; i++) {\n      const gI = geometry.batches[i];\n      const color = gI.style.color;\n      const vertexData = new Float32Array(this.vertexData.buffer, gI.attribStart * 4 * 2, gI.attribSize * 2);\n      const uvs = new Float32Array(geometry.uvsFloat32.buffer, gI.attribStart * 4 * 2, gI.attribSize * 2);\n      const indices = new Uint16Array(geometry.indicesUint16.buffer, gI.start * 2, gI.size);\n      const batch = {\n        vertexData,\n        blendMode,\n        indices,\n        uvs,\n        _batchRGB: Color.shared.setValue(color).toRgbArray(),\n        _tintRGB: color,\n        _texture: gI.style.texture,\n        alpha: gI.style.alpha,\n        worldAlpha: 1\n      };\n      this.batches[i] = batch;\n    }\n  }\n  _renderBatched(renderer) {\n    if (!this.batches.length) {\n      return;\n    }\n    renderer.batch.setObjectRenderer(renderer.plugins[this.pluginName]);\n    this.calculateVertices();\n    this.calculateTints();\n    for (let i = 0, l = this.batches.length; i < l; i++) {\n      const batch = this.batches[i];\n      batch.worldAlpha = this.worldAlpha * batch.alpha;\n      renderer.plugins[this.pluginName].render(batch);\n    }\n  }\n  _renderDirect(renderer) {\n    const shader = this._resolveDirectShader(renderer);\n    const geometry = this._geometry;\n    const tint = this.tint;\n    const worldAlpha = this.worldAlpha;\n    const uniforms = shader.uniforms;\n    const drawCalls = geometry.drawCalls;\n    uniforms.translationMatrix = this.transform.worldTransform;\n    Color.shared.setValue(tint).multiply([worldAlpha, worldAlpha, worldAlpha]).setAlpha(worldAlpha).toArray(uniforms.tint);\n    renderer.shader.bind(shader);\n    renderer.geometry.bind(geometry, shader);\n    renderer.state.set(this.state);\n    for (let i = 0, l = drawCalls.length; i < l; i++) {\n      this._renderDrawCallDirect(renderer, geometry.drawCalls[i]);\n    }\n  }\n  _renderDrawCallDirect(renderer, drawCall) {\n    const { texArray, type, size, start } = drawCall;\n    const groupTextureCount = texArray.count;\n    for (let j = 0; j < groupTextureCount; j++) {\n      renderer.texture.bind(texArray.elements[j], j);\n    }\n    renderer.geometry.draw(type, size, start);\n  }\n  _resolveDirectShader(renderer) {\n    let shader = this.shader;\n    const pluginName = this.pluginName;\n    if (!shader) {\n      if (!DEFAULT_SHADERS[pluginName]) {\n        const { maxTextures } = renderer.plugins[pluginName];\n        const sampleValues = new Int32Array(maxTextures);\n        for (let i = 0; i < maxTextures; i++) {\n          sampleValues[i] = i;\n        }\n        const uniforms = {\n          tint: new Float32Array([1, 1, 1, 1]),\n          translationMatrix: new Matrix(),\n          default: UniformGroup.from({ uSamplers: sampleValues }, true)\n        };\n        const program = renderer.plugins[pluginName]._shader.program;\n        DEFAULT_SHADERS[pluginName] = new Shader(program, uniforms);\n      }\n      shader = DEFAULT_SHADERS[pluginName];\n    }\n    return shader;\n  }\n  _calculateBounds() {\n    this.finishPoly();\n    const geometry = this._geometry;\n    if (!geometry.graphicsData.length) {\n      return;\n    }\n    const { minX, minY, maxX, maxY } = geometry.bounds;\n    this._bounds.addFrame(this.transform, minX, minY, maxX, maxY);\n  }\n  containsPoint(point) {\n    this.worldTransform.applyInverse(point, _Graphics._TEMP_POINT);\n    return this._geometry.containsPoint(_Graphics._TEMP_POINT);\n  }\n  calculateTints() {\n    if (this.batchTint !== this.tint) {\n      this.batchTint = this.tint;\n      const tintRGB = Color.shared.setValue(this.tint).toRgbArray(temp);\n      for (let i = 0; i < this.batches.length; i++) {\n        const batch = this.batches[i];\n        batch._tintRGB = Color.shared.setValue(tintRGB).multiply(batch._batchRGB).toLittleEndianNumber();\n      }\n    }\n  }\n  calculateVertices() {\n    const wtID = this.transform._worldID;\n    if (this._transformID === wtID) {\n      return;\n    }\n    this._transformID = wtID;\n    const wt = this.transform.worldTransform;\n    const a = wt.a;\n    const b = wt.b;\n    const c = wt.c;\n    const d = wt.d;\n    const tx = wt.tx;\n    const ty = wt.ty;\n    const data = this._geometry.points;\n    const vertexData = this.vertexData;\n    let count = 0;\n    for (let i = 0; i < data.length; i += 2) {\n      const x = data[i];\n      const y = data[i + 1];\n      vertexData[count++] = a * x + c * y + tx;\n      vertexData[count++] = d * y + b * x + ty;\n    }\n  }\n  closePath() {\n    const currentPath = this.currentPath;\n    if (currentPath) {\n      currentPath.closeStroke = true;\n      this.finishPoly();\n    }\n    return this;\n  }\n  setMatrix(matrix) {\n    this._matrix = matrix;\n    return this;\n  }\n  beginHole() {\n    this.finishPoly();\n    this._holeMode = true;\n    return this;\n  }\n  endHole() {\n    this.finishPoly();\n    this._holeMode = false;\n    return this;\n  }\n  destroy(options) {\n    this._geometry.refCount--;\n    if (this._geometry.refCount === 0) {\n      this._geometry.dispose();\n    }\n    this._matrix = null;\n    this.currentPath = null;\n    this._lineStyle.destroy();\n    this._lineStyle = null;\n    this._fillStyle.destroy();\n    this._fillStyle = null;\n    this._geometry = null;\n    this.shader = null;\n    this.vertexData = null;\n    this.batches.length = 0;\n    this.batches = null;\n    super.destroy(options);\n  }\n};\nlet Graphics = _Graphics;\nGraphics.curves = curves;\nGraphics._TEMP_POINT = new Point();\n\nexport { Graphics };\n//# sourceMappingURL=Graphics.mjs.map\n","class MeshBatchUvs {\n  constructor(uvBuffer, uvMatrix) {\n    this.uvBuffer = uvBuffer;\n    this.uvMatrix = uvMatrix;\n    this.data = null;\n    this._bufferUpdateId = -1;\n    this._textureUpdateId = -1;\n    this._updateID = 0;\n  }\n  update(forceUpdate) {\n    if (!forceUpdate && this._bufferUpdateId === this.uvBuffer._updateID && this._textureUpdateId === this.uvMatrix._updateID) {\n      return;\n    }\n    this._bufferUpdateId = this.uvBuffer._updateID;\n    this._textureUpdateId = this.uvMatrix._updateID;\n    const data = this.uvBuffer.data;\n    if (!this.data || this.data.length !== data.length) {\n      this.data = new Float32Array(data.length);\n    }\n    this.uvMatrix.multiplyUvs(data, this.data);\n    this._updateID++;\n  }\n}\n\nexport { MeshBatchUvs };\n//# sourceMappingURL=MeshBatchUvs.mjs.map\n","import { Point, Polygon, State, settings, DRAW_MODES } from '@pixi/core';\nimport { Container } from '@pixi/display';\nimport { MeshBatchUvs } from './MeshBatchUvs.mjs';\n\nconst tempPoint = new Point();\nconst tempPolygon = new Polygon();\nconst _Mesh = class extends Container {\n  constructor(geometry, shader, state, drawMode = DRAW_MODES.TRIANGLES) {\n    super();\n    this.geometry = geometry;\n    this.shader = shader;\n    this.state = state || State.for2d();\n    this.drawMode = drawMode;\n    this.start = 0;\n    this.size = 0;\n    this.uvs = null;\n    this.indices = null;\n    this.vertexData = new Float32Array(1);\n    this.vertexDirty = -1;\n    this._transformID = -1;\n    this._roundPixels = settings.ROUND_PIXELS;\n    this.batchUvs = null;\n  }\n  get geometry() {\n    return this._geometry;\n  }\n  set geometry(value) {\n    if (this._geometry === value) {\n      return;\n    }\n    if (this._geometry) {\n      this._geometry.refCount--;\n      if (this._geometry.refCount === 0) {\n        this._geometry.dispose();\n      }\n    }\n    this._geometry = value;\n    if (this._geometry) {\n      this._geometry.refCount++;\n    }\n    this.vertexDirty = -1;\n  }\n  get uvBuffer() {\n    return this.geometry.buffers[1];\n  }\n  get verticesBuffer() {\n    return this.geometry.buffers[0];\n  }\n  set material(value) {\n    this.shader = value;\n  }\n  get material() {\n    return this.shader;\n  }\n  set blendMode(value) {\n    this.state.blendMode = value;\n  }\n  get blendMode() {\n    return this.state.blendMode;\n  }\n  set roundPixels(value) {\n    if (this._roundPixels !== value) {\n      this._transformID = -1;\n    }\n    this._roundPixels = value;\n  }\n  get roundPixels() {\n    return this._roundPixels;\n  }\n  get tint() {\n    return \"tint\" in this.shader ? this.shader.tint : null;\n  }\n  set tint(value) {\n    this.shader.tint = value;\n  }\n  get texture() {\n    return \"texture\" in this.shader ? this.shader.texture : null;\n  }\n  set texture(value) {\n    this.shader.texture = value;\n  }\n  _render(renderer) {\n    const vertices = this.geometry.buffers[0].data;\n    const shader = this.shader;\n    if (shader.batchable && this.drawMode === DRAW_MODES.TRIANGLES && vertices.length < _Mesh.BATCHABLE_SIZE * 2) {\n      this._renderToBatch(renderer);\n    } else {\n      this._renderDefault(renderer);\n    }\n  }\n  _renderDefault(renderer) {\n    const shader = this.shader;\n    shader.alpha = this.worldAlpha;\n    if (shader.update) {\n      shader.update();\n    }\n    renderer.batch.flush();\n    shader.uniforms.translationMatrix = this.transform.worldTransform.toArray(true);\n    renderer.shader.bind(shader);\n    renderer.state.set(this.state);\n    renderer.geometry.bind(this.geometry, shader);\n    renderer.geometry.draw(this.drawMode, this.size, this.start, this.geometry.instanceCount);\n  }\n  _renderToBatch(renderer) {\n    const geometry = this.geometry;\n    const shader = this.shader;\n    if (shader.uvMatrix) {\n      shader.uvMatrix.update();\n      this.calculateUvs();\n    }\n    this.calculateVertices();\n    this.indices = geometry.indexBuffer.data;\n    this._tintRGB = shader._tintRGB;\n    this._texture = shader.texture;\n    const pluginName = this.material.pluginName;\n    renderer.batch.setObjectRenderer(renderer.plugins[pluginName]);\n    renderer.plugins[pluginName].render(this);\n  }\n  calculateVertices() {\n    const geometry = this.geometry;\n    const verticesBuffer = geometry.buffers[0];\n    const vertices = verticesBuffer.data;\n    const vertexDirtyId = verticesBuffer._updateID;\n    if (vertexDirtyId === this.vertexDirty && this._transformID === this.transform._worldID) {\n      return;\n    }\n    this._transformID = this.transform._worldID;\n    if (this.vertexData.length !== vertices.length) {\n      this.vertexData = new Float32Array(vertices.length);\n    }\n    const wt = this.transform.worldTransform;\n    const a = wt.a;\n    const b = wt.b;\n    const c = wt.c;\n    const d = wt.d;\n    const tx = wt.tx;\n    const ty = wt.ty;\n    const vertexData = this.vertexData;\n    for (let i = 0; i < vertexData.length / 2; i++) {\n      const x = vertices[i * 2];\n      const y = vertices[i * 2 + 1];\n      vertexData[i * 2] = a * x + c * y + tx;\n      vertexData[i * 2 + 1] = b * x + d * y + ty;\n    }\n    if (this._roundPixels) {\n      const resolution = settings.RESOLUTION;\n      for (let i = 0; i < vertexData.length; ++i) {\n        vertexData[i] = Math.round(vertexData[i] * resolution) / resolution;\n      }\n    }\n    this.vertexDirty = vertexDirtyId;\n  }\n  calculateUvs() {\n    const geomUvs = this.geometry.buffers[1];\n    const shader = this.shader;\n    if (!shader.uvMatrix.isSimple) {\n      if (!this.batchUvs) {\n        this.batchUvs = new MeshBatchUvs(geomUvs, shader.uvMatrix);\n      }\n      this.batchUvs.update();\n      this.uvs = this.batchUvs.data;\n    } else {\n      this.uvs = geomUvs.data;\n    }\n  }\n  _calculateBounds() {\n    this.calculateVertices();\n    this._bounds.addVertexData(this.vertexData, 0, this.vertexData.length);\n  }\n  containsPoint(point) {\n    if (!this.getBounds().contains(point.x, point.y)) {\n      return false;\n    }\n    this.worldTransform.applyInverse(point, tempPoint);\n    const vertices = this.geometry.getBuffer(\"aVertexPosition\").data;\n    const points = tempPolygon.points;\n    const indices = this.geometry.getIndex().data;\n    const len = indices.length;\n    const step = this.drawMode === 4 ? 3 : 1;\n    for (let i = 0; i + 2 < len; i += step) {\n      const ind0 = indices[i] * 2;\n      const ind1 = indices[i + 1] * 2;\n      const ind2 = indices[i + 2] * 2;\n      points[0] = vertices[ind0];\n      points[1] = vertices[ind0 + 1];\n      points[2] = vertices[ind1];\n      points[3] = vertices[ind1 + 1];\n      points[4] = vertices[ind2];\n      points[5] = vertices[ind2 + 1];\n      if (tempPolygon.contains(tempPoint.x, tempPoint.y)) {\n        return true;\n      }\n    }\n    return false;\n  }\n  destroy(options) {\n    super.destroy(options);\n    if (this._cachedTexture) {\n      this._cachedTexture.destroy();\n      this._cachedTexture = null;\n    }\n    this.geometry = null;\n    this.shader = null;\n    this.state = null;\n    this.uvs = null;\n    this.indices = null;\n    this.vertexData = null;\n  }\n};\nlet Mesh = _Mesh;\nMesh.BATCHABLE_SIZE = 100;\n\nexport { Mesh };\n//# sourceMappingURL=Mesh.mjs.map\n","import { Geometry, Buffer, TYPES } from '@pixi/core';\n\nclass MeshGeometry extends Geometry {\n  constructor(vertices, uvs, index) {\n    super();\n    const verticesBuffer = new Buffer(vertices);\n    const uvsBuffer = new Buffer(uvs, true);\n    const indexBuffer = new Buffer(index, true, true);\n    this.addAttribute(\"aVertexPosition\", verticesBuffer, 2, false, TYPES.FLOAT).addAttribute(\"aTextureCoord\", uvsBuffer, 2, false, TYPES.FLOAT).addIndex(indexBuffer);\n    this._updateId = -1;\n  }\n  get vertexDirtyId() {\n    return this.buffers[0]._updateID;\n  }\n}\n\nexport { MeshGeometry };\n//# sourceMappingURL=MeshGeometry.mjs.map\n","import { Shader, Matrix, Program, TextureMatrix, Color } from '@pixi/core';\nimport fragment from './shader/mesh.mjs';\nimport vertex from './shader/mesh2.mjs';\n\nclass MeshMaterial extends Shader {\n  constructor(uSampler, options) {\n    const uniforms = {\n      uSampler,\n      alpha: 1,\n      uTextureMatrix: Matrix.IDENTITY,\n      uColor: new Float32Array([1, 1, 1, 1])\n    };\n    options = Object.assign({\n      tint: 16777215,\n      alpha: 1,\n      pluginName: \"batch\"\n    }, options);\n    if (options.uniforms) {\n      Object.assign(uniforms, options.uniforms);\n    }\n    super(options.program || Program.from(vertex, fragment), uniforms);\n    this._colorDirty = false;\n    this.uvMatrix = new TextureMatrix(uSampler);\n    this.batchable = options.program === void 0;\n    this.pluginName = options.pluginName;\n    this.tint = options.tint;\n    this.alpha = options.alpha;\n  }\n  get texture() {\n    return this.uniforms.uSampler;\n  }\n  set texture(value) {\n    if (this.uniforms.uSampler !== value) {\n      if (!this.uniforms.uSampler.baseTexture.alphaMode !== !value.baseTexture.alphaMode) {\n        this._colorDirty = true;\n      }\n      this.uniforms.uSampler = value;\n      this.uvMatrix.texture = value;\n    }\n  }\n  set alpha(value) {\n    if (value === this._alpha)\n      return;\n    this._alpha = value;\n    this._colorDirty = true;\n  }\n  get alpha() {\n    return this._alpha;\n  }\n  set tint(value) {\n    if (value === this._tint)\n      return;\n    this._tint = value;\n    this._tintRGB = Color.shared.setValue(value).toLittleEndianNumber();\n    this._colorDirty = true;\n  }\n  get tint() {\n    return this._tint;\n  }\n  update() {\n    if (this._colorDirty) {\n      this._colorDirty = false;\n      const baseTexture = this.texture.baseTexture;\n      const applyToChannels = baseTexture.alphaMode;\n      Color.shared.setValue(this._tint).premultiply(this._alpha, applyToChannels).toArray(this.uniforms.uColor);\n    }\n    if (this.uvMatrix.update()) {\n      this.uniforms.uTextureMatrix = this.uvMatrix.mapCoord;\n    }\n  }\n}\n\nexport { MeshMaterial };\n//# sourceMappingURL=MeshMaterial.mjs.map\n","var vertex = \"attribute vec2 aVertexPosition;\\nattribute vec2 aTextureCoord;\\n\\nuniform mat3 projectionMatrix;\\nuniform mat3 translationMatrix;\\nuniform mat3 uTextureMatrix;\\n\\nvarying vec2 vTextureCoord;\\n\\nvoid main(void)\\n{\\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\\n\\n    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;\\n}\\n\";\n\nexport { vertex as default };\n//# sourceMappingURL=mesh2.mjs.map\n","var fragment = \"varying vec2 vTextureCoord;\\nuniform vec4 uColor;\\n\\nuniform sampler2D uSampler;\\n\\nvoid main(void)\\n{\\n    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;\\n}\\n\";\n\nexport { fragment as default };\n//# sourceMappingURL=mesh.mjs.map\n","import { Geometry, TYPES, Buffer, utils } from '@pixi/core';\n\nclass ParticleBuffer {\n  constructor(properties, dynamicPropertyFlags, size) {\n    this.geometry = new Geometry();\n    this.indexBuffer = null;\n    this.size = size;\n    this.dynamicProperties = [];\n    this.staticProperties = [];\n    for (let i = 0; i < properties.length; ++i) {\n      let property = properties[i];\n      property = {\n        attributeName: property.attributeName,\n        size: property.size,\n        uploadFunction: property.uploadFunction,\n        type: property.type || TYPES.FLOAT,\n        offset: property.offset\n      };\n      if (dynamicPropertyFlags[i]) {\n        this.dynamicProperties.push(property);\n      } else {\n        this.staticProperties.push(property);\n      }\n    }\n    this.staticStride = 0;\n    this.staticBuffer = null;\n    this.staticData = null;\n    this.staticDataUint32 = null;\n    this.dynamicStride = 0;\n    this.dynamicBuffer = null;\n    this.dynamicData = null;\n    this.dynamicDataUint32 = null;\n    this._updateID = 0;\n    this.initBuffers();\n  }\n  initBuffers() {\n    const geometry = this.geometry;\n    let dynamicOffset = 0;\n    this.indexBuffer = new Buffer(utils.createIndicesForQuads(this.size), true, true);\n    geometry.addIndex(this.indexBuffer);\n    this.dynamicStride = 0;\n    for (let i = 0; i < this.dynamicProperties.length; ++i) {\n      const property = this.dynamicProperties[i];\n      property.offset = dynamicOffset;\n      dynamicOffset += property.size;\n      this.dynamicStride += property.size;\n    }\n    const dynBuffer = new ArrayBuffer(this.size * this.dynamicStride * 4 * 4);\n    this.dynamicData = new Float32Array(dynBuffer);\n    this.dynamicDataUint32 = new Uint32Array(dynBuffer);\n    this.dynamicBuffer = new Buffer(this.dynamicData, false, false);\n    let staticOffset = 0;\n    this.staticStride = 0;\n    for (let i = 0; i < this.staticProperties.length; ++i) {\n      const property = this.staticProperties[i];\n      property.offset = staticOffset;\n      staticOffset += property.size;\n      this.staticStride += property.size;\n    }\n    const statBuffer = new ArrayBuffer(this.size * this.staticStride * 4 * 4);\n    this.staticData = new Float32Array(statBuffer);\n    this.staticDataUint32 = new Uint32Array(statBuffer);\n    this.staticBuffer = new Buffer(this.staticData, true, false);\n    for (let i = 0; i < this.dynamicProperties.length; ++i) {\n      const property = this.dynamicProperties[i];\n      geometry.addAttribute(property.attributeName, this.dynamicBuffer, 0, property.type === TYPES.UNSIGNED_BYTE, property.type, this.dynamicStride * 4, property.offset * 4);\n    }\n    for (let i = 0; i < this.staticProperties.length; ++i) {\n      const property = this.staticProperties[i];\n      geometry.addAttribute(property.attributeName, this.staticBuffer, 0, property.type === TYPES.UNSIGNED_BYTE, property.type, this.staticStride * 4, property.offset * 4);\n    }\n  }\n  uploadDynamic(children, startIndex, amount) {\n    for (let i = 0; i < this.dynamicProperties.length; i++) {\n      const property = this.dynamicProperties[i];\n      property.uploadFunction(children, startIndex, amount, property.type === TYPES.UNSIGNED_BYTE ? this.dynamicDataUint32 : this.dynamicData, this.dynamicStride, property.offset);\n    }\n    this.dynamicBuffer._updateID++;\n  }\n  uploadStatic(children, startIndex, amount) {\n    for (let i = 0; i < this.staticProperties.length; i++) {\n      const property = this.staticProperties[i];\n      property.uploadFunction(children, startIndex, amount, property.type === TYPES.UNSIGNED_BYTE ? this.staticDataUint32 : this.staticData, this.staticStride, property.offset);\n    }\n    this.staticBuffer._updateID++;\n  }\n  destroy() {\n    this.indexBuffer = null;\n    this.dynamicProperties = null;\n    this.dynamicBuffer = null;\n    this.dynamicData = null;\n    this.dynamicDataUint32 = null;\n    this.staticProperties = null;\n    this.staticBuffer = null;\n    this.staticData = null;\n    this.staticDataUint32 = null;\n    this.geometry.destroy();\n  }\n}\n\nexport { ParticleBuffer };\n//# sourceMappingURL=ParticleBuffer.mjs.map\n","function createIndicesForQuads(size, outBuffer = null) {\n  const totalIndices = size * 6;\n  outBuffer = outBuffer || new Uint16Array(totalIndices);\n  if (outBuffer.length !== totalIndices) {\n    throw new Error(`Out buffer length is incorrect, got ${outBuffer.length} and expected ${totalIndices}`);\n  }\n  for (let i = 0, j = 0; i < totalIndices; i += 6, j += 4) {\n    outBuffer[i + 0] = j + 0;\n    outBuffer[i + 1] = j + 1;\n    outBuffer[i + 2] = j + 2;\n    outBuffer[i + 3] = j + 0;\n    outBuffer[i + 4] = j + 2;\n    outBuffer[i + 5] = j + 3;\n  }\n  return outBuffer;\n}\n\nexport { createIndicesForQuads };\n//# sourceMappingURL=createIndicesForQuads.mjs.map\n","import { ObjectRenderer, Matrix, TYPES, Shader, State, utils, Color, ExtensionType, extensions } from '@pixi/core';\nimport { ParticleBuffer } from './ParticleBuffer.mjs';\nimport fragment from './particles.mjs';\nimport vertex from './particles2.mjs';\n\nclass ParticleRenderer extends ObjectRenderer {\n  constructor(renderer) {\n    super(renderer);\n    this.shader = null;\n    this.properties = null;\n    this.tempMatrix = new Matrix();\n    this.properties = [\n      {\n        attributeName: \"aVertexPosition\",\n        size: 2,\n        uploadFunction: this.uploadVertices,\n        offset: 0\n      },\n      {\n        attributeName: \"aPositionCoord\",\n        size: 2,\n        uploadFunction: this.uploadPosition,\n        offset: 0\n      },\n      {\n        attributeName: \"aRotation\",\n        size: 1,\n        uploadFunction: this.uploadRotation,\n        offset: 0\n      },\n      {\n        attributeName: \"aTextureCoord\",\n        size: 2,\n        uploadFunction: this.uploadUvs,\n        offset: 0\n      },\n      {\n        attributeName: \"aColor\",\n        size: 1,\n        type: TYPES.UNSIGNED_BYTE,\n        uploadFunction: this.uploadTint,\n        offset: 0\n      }\n    ];\n    this.shader = Shader.from(vertex, fragment, {});\n    this.state = State.for2d();\n  }\n  render(container) {\n    const children = container.children;\n    const maxSize = container._maxSize;\n    const batchSize = container._batchSize;\n    const renderer = this.renderer;\n    let totalChildren = children.length;\n    if (totalChildren === 0) {\n      return;\n    } else if (totalChildren > maxSize && !container.autoResize) {\n      totalChildren = maxSize;\n    }\n    let buffers = container._buffers;\n    if (!buffers) {\n      buffers = container._buffers = this.generateBuffers(container);\n    }\n    const baseTexture = children[0]._texture.baseTexture;\n    const premultiplied = baseTexture.alphaMode > 0;\n    this.state.blendMode = utils.correctBlendMode(container.blendMode, premultiplied);\n    renderer.state.set(this.state);\n    const gl = renderer.gl;\n    const m = container.worldTransform.copyTo(this.tempMatrix);\n    m.prepend(renderer.globalUniforms.uniforms.projectionMatrix);\n    this.shader.uniforms.translationMatrix = m.toArray(true);\n    this.shader.uniforms.uColor = Color.shared.setValue(container.tintRgb).premultiply(container.worldAlpha, premultiplied).toArray(this.shader.uniforms.uColor);\n    this.shader.uniforms.uSampler = baseTexture;\n    this.renderer.shader.bind(this.shader);\n    let updateStatic = false;\n    for (let i = 0, j = 0; i < totalChildren; i += batchSize, j += 1) {\n      let amount = totalChildren - i;\n      if (amount > batchSize) {\n        amount = batchSize;\n      }\n      if (j >= buffers.length) {\n        buffers.push(this._generateOneMoreBuffer(container));\n      }\n      const buffer = buffers[j];\n      buffer.uploadDynamic(children, i, amount);\n      const bid = container._bufferUpdateIDs[j] || 0;\n      updateStatic = updateStatic || buffer._updateID < bid;\n      if (updateStatic) {\n        buffer._updateID = container._updateID;\n        buffer.uploadStatic(children, i, amount);\n      }\n      renderer.geometry.bind(buffer.geometry);\n      gl.drawElements(gl.TRIANGLES, amount * 6, gl.UNSIGNED_SHORT, 0);\n    }\n  }\n  generateBuffers(container) {\n    const buffers = [];\n    const size = container._maxSize;\n    const batchSize = container._batchSize;\n    const dynamicPropertyFlags = container._properties;\n    for (let i = 0; i < size; i += batchSize) {\n      buffers.push(new ParticleBuffer(this.properties, dynamicPropertyFlags, batchSize));\n    }\n    return buffers;\n  }\n  _generateOneMoreBuffer(container) {\n    const batchSize = container._batchSize;\n    const dynamicPropertyFlags = container._properties;\n    return new ParticleBuffer(this.properties, dynamicPropertyFlags, batchSize);\n  }\n  uploadVertices(children, startIndex, amount, array, stride, offset) {\n    let w0 = 0;\n    let w1 = 0;\n    let h0 = 0;\n    let h1 = 0;\n    for (let i = 0; i < amount; ++i) {\n      const sprite = children[startIndex + i];\n      const texture = sprite._texture;\n      const sx = sprite.scale.x;\n      const sy = sprite.scale.y;\n      const trim = texture.trim;\n      const orig = texture.orig;\n      if (trim) {\n        w1 = trim.x - sprite.anchor.x * orig.width;\n        w0 = w1 + trim.width;\n        h1 = trim.y - sprite.anchor.y * orig.height;\n        h0 = h1 + trim.height;\n      } else {\n        w0 = orig.width * (1 - sprite.anchor.x);\n        w1 = orig.width * -sprite.anchor.x;\n        h0 = orig.height * (1 - sprite.anchor.y);\n        h1 = orig.height * -sprite.anchor.y;\n      }\n      array[offset] = w1 * sx;\n      array[offset + 1] = h1 * sy;\n      array[offset + stride] = w0 * sx;\n      array[offset + stride + 1] = h1 * sy;\n      array[offset + stride * 2] = w0 * sx;\n      array[offset + stride * 2 + 1] = h0 * sy;\n      array[offset + stride * 3] = w1 * sx;\n      array[offset + stride * 3 + 1] = h0 * sy;\n      offset += stride * 4;\n    }\n  }\n  uploadPosition(children, startIndex, amount, array, stride, offset) {\n    for (let i = 0; i < amount; i++) {\n      const spritePosition = children[startIndex + i].position;\n      array[offset] = spritePosition.x;\n      array[offset + 1] = spritePosition.y;\n      array[offset + stride] = spritePosition.x;\n      array[offset + stride + 1] = spritePosition.y;\n      array[offset + stride * 2] = spritePosition.x;\n      array[offset + stride * 2 + 1] = spritePosition.y;\n      array[offset + stride * 3] = spritePosition.x;\n      array[offset + stride * 3 + 1] = spritePosition.y;\n      offset += stride * 4;\n    }\n  }\n  uploadRotation(children, startIndex, amount, array, stride, offset) {\n    for (let i = 0; i < amount; i++) {\n      const spriteRotation = children[startIndex + i].rotation;\n      array[offset] = spriteRotation;\n      array[offset + stride] = spriteRotation;\n      array[offset + stride * 2] = spriteRotation;\n      array[offset + stride * 3] = spriteRotation;\n      offset += stride * 4;\n    }\n  }\n  uploadUvs(children, startIndex, amount, array, stride, offset) {\n    for (let i = 0; i < amount; ++i) {\n      const textureUvs = children[startIndex + i]._texture._uvs;\n      if (textureUvs) {\n        array[offset] = textureUvs.x0;\n        array[offset + 1] = textureUvs.y0;\n        array[offset + stride] = textureUvs.x1;\n        array[offset + stride + 1] = textureUvs.y1;\n        array[offset + stride * 2] = textureUvs.x2;\n        array[offset + stride * 2 + 1] = textureUvs.y2;\n        array[offset + stride * 3] = textureUvs.x3;\n        array[offset + stride * 3 + 1] = textureUvs.y3;\n        offset += stride * 4;\n      } else {\n        array[offset] = 0;\n        array[offset + 1] = 0;\n        array[offset + stride] = 0;\n        array[offset + stride + 1] = 0;\n        array[offset + stride * 2] = 0;\n        array[offset + stride * 2 + 1] = 0;\n        array[offset + stride * 3] = 0;\n        array[offset + stride * 3 + 1] = 0;\n        offset += stride * 4;\n      }\n    }\n  }\n  uploadTint(children, startIndex, amount, array, stride, offset) {\n    for (let i = 0; i < amount; ++i) {\n      const sprite = children[startIndex + i];\n      const result = Color.shared.setValue(sprite._tintRGB).toPremultiplied(sprite.alpha);\n      array[offset] = result;\n      array[offset + stride] = result;\n      array[offset + stride * 2] = result;\n      array[offset + stride * 3] = result;\n      offset += stride * 4;\n    }\n  }\n  destroy() {\n    super.destroy();\n    if (this.shader) {\n      this.shader.destroy();\n      this.shader = null;\n    }\n    this.tempMatrix = null;\n  }\n}\nParticleRenderer.extension = {\n  name: \"particle\",\n  type: ExtensionType.RendererPlugin\n};\nextensions.add(ParticleRenderer);\n\nexport { ParticleRenderer };\n//# sourceMappingURL=ParticleRenderer.mjs.map\n","var vertex = \"attribute vec2 aVertexPosition;\\nattribute vec2 aTextureCoord;\\nattribute vec4 aColor;\\n\\nattribute vec2 aPositionCoord;\\nattribute float aRotation;\\n\\nuniform mat3 translationMatrix;\\nuniform vec4 uColor;\\n\\nvarying vec2 vTextureCoord;\\nvarying vec4 vColor;\\n\\nvoid main(void){\\n    float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);\\n    float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);\\n\\n    vec2 v = vec2(x, y);\\n    v = v + aPositionCoord;\\n\\n    gl_Position = vec4((translationMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);\\n\\n    vTextureCoord = aTextureCoord;\\n    vColor = aColor * uColor;\\n}\\n\";\n\nexport { vertex as default };\n//# sourceMappingURL=particles2.mjs.map\n","var fragment = \"varying vec2 vTextureCoord;\\nvarying vec4 vColor;\\n\\nuniform sampler2D uSampler;\\n\\nvoid main(void){\\n    vec4 color = texture2D(uSampler, vTextureCoord) * vColor;\\n    gl_FragColor = color;\\n}\";\n\nexport { fragment as default };\n//# sourceMappingURL=particles.mjs.map\n","var TEXT_GRADIENT = /* @__PURE__ */ ((TEXT_GRADIENT2) => {\n  TEXT_GRADIENT2[TEXT_GRADIENT2[\"LINEAR_VERTICAL\"] = 0] = \"LINEAR_VERTICAL\";\n  TEXT_GRADIENT2[TEXT_GRADIENT2[\"LINEAR_HORIZONTAL\"] = 1] = \"LINEAR_HORIZONTAL\";\n  return TEXT_GRADIENT2;\n})(TEXT_GRADIENT || {});\n\nexport { TEXT_GRADIENT };\n//# sourceMappingURL=const.mjs.map\n","import { settings } from '@pixi/core';\n\nconst contextSettings = {\n  willReadFrequently: true\n};\nconst _TextMetrics = class {\n  static get experimentalLetterSpacingSupported() {\n    let result = _TextMetrics._experimentalLetterSpacingSupported;\n    if (result !== void 0) {\n      const proto = settings.ADAPTER.getCanvasRenderingContext2D().prototype;\n      result = _TextMetrics._experimentalLetterSpacingSupported = \"letterSpacing\" in proto || \"textLetterSpacing\" in proto;\n    }\n    return result;\n  }\n  constructor(text, style, width, height, lines, lineWidths, lineHeight, maxLineWidth, fontProperties) {\n    this.text = text;\n    this.style = style;\n    this.width = width;\n    this.height = height;\n    this.lines = lines;\n    this.lineWidths = lineWidths;\n    this.lineHeight = lineHeight;\n    this.maxLineWidth = maxLineWidth;\n    this.fontProperties = fontProperties;\n  }\n  static measureText(text, style, wordWrap, canvas = _TextMetrics._canvas) {\n    wordWrap = wordWrap === void 0 || wordWrap === null ? style.wordWrap : wordWrap;\n    const font = style.toFontString();\n    const fontProperties = _TextMetrics.measureFont(font);\n    if (fontProperties.fontSize === 0) {\n      fontProperties.fontSize = style.fontSize;\n      fontProperties.ascent = style.fontSize;\n    }\n    const context = canvas.getContext(\"2d\", contextSettings);\n    context.font = font;\n    const outputText = wordWrap ? _TextMetrics.wordWrap(text, style, canvas) : text;\n    const lines = outputText.split(/(?:\\r\\n|\\r|\\n)/);\n    const lineWidths = new Array(lines.length);\n    let maxLineWidth = 0;\n    for (let i = 0; i < lines.length; i++) {\n      const lineWidth = _TextMetrics._measureText(lines[i], style.letterSpacing, context);\n      lineWidths[i] = lineWidth;\n      maxLineWidth = Math.max(maxLineWidth, lineWidth);\n    }\n    let width = maxLineWidth + style.strokeThickness;\n    if (style.dropShadow) {\n      width += style.dropShadowDistance;\n    }\n    const lineHeight = style.lineHeight || fontProperties.fontSize + style.strokeThickness;\n    let height = Math.max(lineHeight, fontProperties.fontSize + style.strokeThickness * 2) + (lines.length - 1) * (lineHeight + style.leading);\n    if (style.dropShadow) {\n      height += style.dropShadowDistance;\n    }\n    return new _TextMetrics(text, style, width, height, lines, lineWidths, lineHeight + style.leading, maxLineWidth, fontProperties);\n  }\n  static _measureText(text, letterSpacing, context) {\n    let useExperimentalLetterSpacing = false;\n    if (_TextMetrics.experimentalLetterSpacingSupported) {\n      if (_TextMetrics.experimentalLetterSpacing) {\n        context.letterSpacing = `${letterSpacing}px`;\n        context.textLetterSpacing = `${letterSpacing}px`;\n        useExperimentalLetterSpacing = true;\n      } else {\n        context.letterSpacing = \"0px\";\n        context.textLetterSpacing = \"0px\";\n      }\n    }\n    let width = context.measureText(text).width;\n    if (width > 0) {\n      if (useExperimentalLetterSpacing) {\n        width -= letterSpacing;\n      } else {\n        width += (_TextMetrics.graphemeSegmenter(text).length - 1) * letterSpacing;\n      }\n    }\n    return width;\n  }\n  static wordWrap(text, style, canvas = _TextMetrics._canvas) {\n    const context = canvas.getContext(\"2d\", contextSettings);\n    let width = 0;\n    let line = \"\";\n    let lines = \"\";\n    const cache = /* @__PURE__ */ Object.create(null);\n    const { letterSpacing, whiteSpace } = style;\n    const collapseSpaces = _TextMetrics.collapseSpaces(whiteSpace);\n    const collapseNewlines = _TextMetrics.collapseNewlines(whiteSpace);\n    let canPrependSpaces = !collapseSpaces;\n    const wordWrapWidth = style.wordWrapWidth + letterSpacing;\n    const tokens = _TextMetrics.tokenize(text);\n    for (let i = 0; i < tokens.length; i++) {\n      let token = tokens[i];\n      if (_TextMetrics.isNewline(token)) {\n        if (!collapseNewlines) {\n          lines += _TextMetrics.addLine(line);\n          canPrependSpaces = !collapseSpaces;\n          line = \"\";\n          width = 0;\n          continue;\n        }\n        token = \" \";\n      }\n      if (collapseSpaces) {\n        const currIsBreakingSpace = _TextMetrics.isBreakingSpace(token);\n        const lastIsBreakingSpace = _TextMetrics.isBreakingSpace(line[line.length - 1]);\n        if (currIsBreakingSpace && lastIsBreakingSpace) {\n          continue;\n        }\n      }\n      const tokenWidth = _TextMetrics.getFromCache(token, letterSpacing, cache, context);\n      if (tokenWidth > wordWrapWidth) {\n        if (line !== \"\") {\n          lines += _TextMetrics.addLine(line);\n          line = \"\";\n          width = 0;\n        }\n        if (_TextMetrics.canBreakWords(token, style.breakWords)) {\n          const characters = _TextMetrics.wordWrapSplit(token);\n          for (let j = 0; j < characters.length; j++) {\n            let char = characters[j];\n            let lastChar = char;\n            let k = 1;\n            while (characters[j + k]) {\n              const nextChar = characters[j + k];\n              if (!_TextMetrics.canBreakChars(lastChar, nextChar, token, j, style.breakWords)) {\n                char += nextChar;\n              } else {\n                break;\n              }\n              lastChar = nextChar;\n              k++;\n            }\n            j += k - 1;\n            const characterWidth = _TextMetrics.getFromCache(char, letterSpacing, cache, context);\n            if (characterWidth + width > wordWrapWidth) {\n              lines += _TextMetrics.addLine(line);\n              canPrependSpaces = false;\n              line = \"\";\n              width = 0;\n            }\n            line += char;\n            width += characterWidth;\n          }\n        } else {\n          if (line.length > 0) {\n            lines += _TextMetrics.addLine(line);\n            line = \"\";\n            width = 0;\n          }\n          const isLastToken = i === tokens.length - 1;\n          lines += _TextMetrics.addLine(token, !isLastToken);\n          canPrependSpaces = false;\n          line = \"\";\n          width = 0;\n        }\n      } else {\n        if (tokenWidth + width > wordWrapWidth) {\n          canPrependSpaces = false;\n          lines += _TextMetrics.addLine(line);\n          line = \"\";\n          width = 0;\n        }\n        if (line.length > 0 || !_TextMetrics.isBreakingSpace(token) || canPrependSpaces) {\n          line += token;\n          width += tokenWidth;\n        }\n      }\n    }\n    lines += _TextMetrics.addLine(line, false);\n    return lines;\n  }\n  static addLine(line, newLine = true) {\n    line = _TextMetrics.trimRight(line);\n    line = newLine ? `${line}\n` : line;\n    return line;\n  }\n  static getFromCache(key, letterSpacing, cache, context) {\n    let width = cache[key];\n    if (typeof width !== \"number\") {\n      width = _TextMetrics._measureText(key, letterSpacing, context) + letterSpacing;\n      cache[key] = width;\n    }\n    return width;\n  }\n  static collapseSpaces(whiteSpace) {\n    return whiteSpace === \"normal\" || whiteSpace === \"pre-line\";\n  }\n  static collapseNewlines(whiteSpace) {\n    return whiteSpace === \"normal\";\n  }\n  static trimRight(text) {\n    if (typeof text !== \"string\") {\n      return \"\";\n    }\n    for (let i = text.length - 1; i >= 0; i--) {\n      const char = text[i];\n      if (!_TextMetrics.isBreakingSpace(char)) {\n        break;\n      }\n      text = text.slice(0, -1);\n    }\n    return text;\n  }\n  static isNewline(char) {\n    if (typeof char !== \"string\") {\n      return false;\n    }\n    return _TextMetrics._newlines.includes(char.charCodeAt(0));\n  }\n  static isBreakingSpace(char, _nextChar) {\n    if (typeof char !== \"string\") {\n      return false;\n    }\n    return _TextMetrics._breakingSpaces.includes(char.charCodeAt(0));\n  }\n  static tokenize(text) {\n    const tokens = [];\n    let token = \"\";\n    if (typeof text !== \"string\") {\n      return tokens;\n    }\n    for (let i = 0; i < text.length; i++) {\n      const char = text[i];\n      const nextChar = text[i + 1];\n      if (_TextMetrics.isBreakingSpace(char, nextChar) || _TextMetrics.isNewline(char)) {\n        if (token !== \"\") {\n          tokens.push(token);\n          token = \"\";\n        }\n        tokens.push(char);\n        continue;\n      }\n      token += char;\n    }\n    if (token !== \"\") {\n      tokens.push(token);\n    }\n    return tokens;\n  }\n  static canBreakWords(_token, breakWords) {\n    return breakWords;\n  }\n  static canBreakChars(_char, _nextChar, _token, _index, _breakWords) {\n    return true;\n  }\n  static wordWrapSplit(token) {\n    return _TextMetrics.graphemeSegmenter(token);\n  }\n  static measureFont(font) {\n    if (_TextMetrics._fonts[font]) {\n      return _TextMetrics._fonts[font];\n    }\n    const properties = {\n      ascent: 0,\n      descent: 0,\n      fontSize: 0\n    };\n    const canvas = _TextMetrics._canvas;\n    const context = _TextMetrics._context;\n    context.font = font;\n    const metricsString = _TextMetrics.METRICS_STRING + _TextMetrics.BASELINE_SYMBOL;\n    const width = Math.ceil(context.measureText(metricsString).width);\n    let baseline = Math.ceil(context.measureText(_TextMetrics.BASELINE_SYMBOL).width);\n    const height = Math.ceil(_TextMetrics.HEIGHT_MULTIPLIER * baseline);\n    baseline = baseline * _TextMetrics.BASELINE_MULTIPLIER | 0;\n    if (width === 0 || height === 0) {\n      _TextMetrics._fonts[font] = properties;\n      return properties;\n    }\n    canvas.width = width;\n    canvas.height = height;\n    context.fillStyle = \"#f00\";\n    context.fillRect(0, 0, width, height);\n    context.font = font;\n    context.textBaseline = \"alphabetic\";\n    context.fillStyle = \"#000\";\n    context.fillText(metricsString, 0, baseline);\n    const imagedata = context.getImageData(0, 0, width, height).data;\n    const pixels = imagedata.length;\n    const line = width * 4;\n    let i = 0;\n    let idx = 0;\n    let stop = false;\n    for (i = 0; i < baseline; ++i) {\n      for (let j = 0; j < line; j += 4) {\n        if (imagedata[idx + j] !== 255) {\n          stop = true;\n          break;\n        }\n      }\n      if (!stop) {\n        idx += line;\n      } else {\n        break;\n      }\n    }\n    properties.ascent = baseline - i;\n    idx = pixels - line;\n    stop = false;\n    for (i = height; i > baseline; --i) {\n      for (let j = 0; j < line; j += 4) {\n        if (imagedata[idx + j] !== 255) {\n          stop = true;\n          break;\n        }\n      }\n      if (!stop) {\n        idx -= line;\n      } else {\n        break;\n      }\n    }\n    properties.descent = i - baseline;\n    properties.fontSize = properties.ascent + properties.descent;\n    _TextMetrics._fonts[font] = properties;\n    return properties;\n  }\n  static clearMetrics(font = \"\") {\n    if (font) {\n      delete _TextMetrics._fonts[font];\n    } else {\n      _TextMetrics._fonts = {};\n    }\n  }\n  static get _canvas() {\n    if (!_TextMetrics.__canvas) {\n      let canvas;\n      try {\n        const c = new OffscreenCanvas(0, 0);\n        const context = c.getContext(\"2d\", contextSettings);\n        if (context?.measureText) {\n          _TextMetrics.__canvas = c;\n          return c;\n        }\n        canvas = settings.ADAPTER.createCanvas();\n      } catch (ex) {\n        canvas = settings.ADAPTER.createCanvas();\n      }\n      canvas.width = canvas.height = 10;\n      _TextMetrics.__canvas = canvas;\n    }\n    return _TextMetrics.__canvas;\n  }\n  static get _context() {\n    if (!_TextMetrics.__context) {\n      _TextMetrics.__context = _TextMetrics._canvas.getContext(\"2d\", contextSettings);\n    }\n    return _TextMetrics.__context;\n  }\n};\nlet TextMetrics = _TextMetrics;\nTextMetrics.METRICS_STRING = \"|\\xC9q\\xC5\";\nTextMetrics.BASELINE_SYMBOL = \"M\";\nTextMetrics.BASELINE_MULTIPLIER = 1.4;\nTextMetrics.HEIGHT_MULTIPLIER = 2;\nTextMetrics.graphemeSegmenter = (() => {\n  if (typeof Intl?.Segmenter === \"function\") {\n    const segmenter = new Intl.Segmenter();\n    return (s) => [...segmenter.segment(s)].map((x) => x.segment);\n  }\n  return (s) => [...s];\n})();\nTextMetrics.experimentalLetterSpacing = false;\nTextMetrics._fonts = {};\nTextMetrics._newlines = [\n  10,\n  13\n];\nTextMetrics._breakingSpaces = [\n  9,\n  32,\n  8192,\n  8193,\n  8194,\n  8195,\n  8196,\n  8197,\n  8198,\n  8200,\n  8201,\n  8202,\n  8287,\n  12288\n];\n\nexport { TextMetrics };\n//# sourceMappingURL=TextMetrics.mjs.map\n","import { TEXT_GRADIENT } from './const.mjs';\nimport { Color } from '@pixi/core';\n\nconst genericFontFamilies = [\n  \"serif\",\n  \"sans-serif\",\n  \"monospace\",\n  \"cursive\",\n  \"fantasy\",\n  \"system-ui\"\n];\nconst _TextStyle = class {\n  constructor(style) {\n    this.styleID = 0;\n    this.reset();\n    deepCopyProperties(this, style, style);\n  }\n  clone() {\n    const clonedProperties = {};\n    deepCopyProperties(clonedProperties, this, _TextStyle.defaultStyle);\n    return new _TextStyle(clonedProperties);\n  }\n  reset() {\n    deepCopyProperties(this, _TextStyle.defaultStyle, _TextStyle.defaultStyle);\n  }\n  get align() {\n    return this._align;\n  }\n  set align(align) {\n    if (this._align !== align) {\n      this._align = align;\n      this.styleID++;\n    }\n  }\n  get breakWords() {\n    return this._breakWords;\n  }\n  set breakWords(breakWords) {\n    if (this._breakWords !== breakWords) {\n      this._breakWords = breakWords;\n      this.styleID++;\n    }\n  }\n  get dropShadow() {\n    return this._dropShadow;\n  }\n  set dropShadow(dropShadow) {\n    if (this._dropShadow !== dropShadow) {\n      this._dropShadow = dropShadow;\n      this.styleID++;\n    }\n  }\n  get dropShadowAlpha() {\n    return this._dropShadowAlpha;\n  }\n  set dropShadowAlpha(dropShadowAlpha) {\n    if (this._dropShadowAlpha !== dropShadowAlpha) {\n      this._dropShadowAlpha = dropShadowAlpha;\n      this.styleID++;\n    }\n  }\n  get dropShadowAngle() {\n    return this._dropShadowAngle;\n  }\n  set dropShadowAngle(dropShadowAngle) {\n    if (this._dropShadowAngle !== dropShadowAngle) {\n      this._dropShadowAngle = dropShadowAngle;\n      this.styleID++;\n    }\n  }\n  get dropShadowBlur() {\n    return this._dropShadowBlur;\n  }\n  set dropShadowBlur(dropShadowBlur) {\n    if (this._dropShadowBlur !== dropShadowBlur) {\n      this._dropShadowBlur = dropShadowBlur;\n      this.styleID++;\n    }\n  }\n  get dropShadowColor() {\n    return this._dropShadowColor;\n  }\n  set dropShadowColor(dropShadowColor) {\n    const outputColor = getColor(dropShadowColor);\n    if (this._dropShadowColor !== outputColor) {\n      this._dropShadowColor = outputColor;\n      this.styleID++;\n    }\n  }\n  get dropShadowDistance() {\n    return this._dropShadowDistance;\n  }\n  set dropShadowDistance(dropShadowDistance) {\n    if (this._dropShadowDistance !== dropShadowDistance) {\n      this._dropShadowDistance = dropShadowDistance;\n      this.styleID++;\n    }\n  }\n  get fill() {\n    return this._fill;\n  }\n  set fill(fill) {\n    const outputColor = getColor(fill);\n    if (this._fill !== outputColor) {\n      this._fill = outputColor;\n      this.styleID++;\n    }\n  }\n  get fillGradientType() {\n    return this._fillGradientType;\n  }\n  set fillGradientType(fillGradientType) {\n    if (this._fillGradientType !== fillGradientType) {\n      this._fillGradientType = fillGradientType;\n      this.styleID++;\n    }\n  }\n  get fillGradientStops() {\n    return this._fillGradientStops;\n  }\n  set fillGradientStops(fillGradientStops) {\n    if (!areArraysEqual(this._fillGradientStops, fillGradientStops)) {\n      this._fillGradientStops = fillGradientStops;\n      this.styleID++;\n    }\n  }\n  get fontFamily() {\n    return this._fontFamily;\n  }\n  set fontFamily(fontFamily) {\n    if (this.fontFamily !== fontFamily) {\n      this._fontFamily = fontFamily;\n      this.styleID++;\n    }\n  }\n  get fontSize() {\n    return this._fontSize;\n  }\n  set fontSize(fontSize) {\n    if (this._fontSize !== fontSize) {\n      this._fontSize = fontSize;\n      this.styleID++;\n    }\n  }\n  get fontStyle() {\n    return this._fontStyle;\n  }\n  set fontStyle(fontStyle) {\n    if (this._fontStyle !== fontStyle) {\n      this._fontStyle = fontStyle;\n      this.styleID++;\n    }\n  }\n  get fontVariant() {\n    return this._fontVariant;\n  }\n  set fontVariant(fontVariant) {\n    if (this._fontVariant !== fontVariant) {\n      this._fontVariant = fontVariant;\n      this.styleID++;\n    }\n  }\n  get fontWeight() {\n    return this._fontWeight;\n  }\n  set fontWeight(fontWeight) {\n    if (this._fontWeight !== fontWeight) {\n      this._fontWeight = fontWeight;\n      this.styleID++;\n    }\n  }\n  get letterSpacing() {\n    return this._letterSpacing;\n  }\n  set letterSpacing(letterSpacing) {\n    if (this._letterSpacing !== letterSpacing) {\n      this._letterSpacing = letterSpacing;\n      this.styleID++;\n    }\n  }\n  get lineHeight() {\n    return this._lineHeight;\n  }\n  set lineHeight(lineHeight) {\n    if (this._lineHeight !== lineHeight) {\n      this._lineHeight = lineHeight;\n      this.styleID++;\n    }\n  }\n  get leading() {\n    return this._leading;\n  }\n  set leading(leading) {\n    if (this._leading !== leading) {\n      this._leading = leading;\n      this.styleID++;\n    }\n  }\n  get lineJoin() {\n    return this._lineJoin;\n  }\n  set lineJoin(lineJoin) {\n    if (this._lineJoin !== lineJoin) {\n      this._lineJoin = lineJoin;\n      this.styleID++;\n    }\n  }\n  get miterLimit() {\n    return this._miterLimit;\n  }\n  set miterLimit(miterLimit) {\n    if (this._miterLimit !== miterLimit) {\n      this._miterLimit = miterLimit;\n      this.styleID++;\n    }\n  }\n  get padding() {\n    return this._padding;\n  }\n  set padding(padding) {\n    if (this._padding !== padding) {\n      this._padding = padding;\n      this.styleID++;\n    }\n  }\n  get stroke() {\n    return this._stroke;\n  }\n  set stroke(stroke) {\n    const outputColor = getColor(stroke);\n    if (this._stroke !== outputColor) {\n      this._stroke = outputColor;\n      this.styleID++;\n    }\n  }\n  get strokeThickness() {\n    return this._strokeThickness;\n  }\n  set strokeThickness(strokeThickness) {\n    if (this._strokeThickness !== strokeThickness) {\n      this._strokeThickness = strokeThickness;\n      this.styleID++;\n    }\n  }\n  get textBaseline() {\n    return this._textBaseline;\n  }\n  set textBaseline(textBaseline) {\n    if (this._textBaseline !== textBaseline) {\n      this._textBaseline = textBaseline;\n      this.styleID++;\n    }\n  }\n  get trim() {\n    return this._trim;\n  }\n  set trim(trim) {\n    if (this._trim !== trim) {\n      this._trim = trim;\n      this.styleID++;\n    }\n  }\n  get whiteSpace() {\n    return this._whiteSpace;\n  }\n  set whiteSpace(whiteSpace) {\n    if (this._whiteSpace !== whiteSpace) {\n      this._whiteSpace = whiteSpace;\n      this.styleID++;\n    }\n  }\n  get wordWrap() {\n    return this._wordWrap;\n  }\n  set wordWrap(wordWrap) {\n    if (this._wordWrap !== wordWrap) {\n      this._wordWrap = wordWrap;\n      this.styleID++;\n    }\n  }\n  get wordWrapWidth() {\n    return this._wordWrapWidth;\n  }\n  set wordWrapWidth(wordWrapWidth) {\n    if (this._wordWrapWidth !== wordWrapWidth) {\n      this._wordWrapWidth = wordWrapWidth;\n      this.styleID++;\n    }\n  }\n  toFontString() {\n    const fontSizeString = typeof this.fontSize === \"number\" ? `${this.fontSize}px` : this.fontSize;\n    let fontFamilies = this.fontFamily;\n    if (!Array.isArray(this.fontFamily)) {\n      fontFamilies = this.fontFamily.split(\",\");\n    }\n    for (let i = fontFamilies.length - 1; i >= 0; i--) {\n      let fontFamily = fontFamilies[i].trim();\n      if (!/([\\\"\\'])[^\\'\\\"]+\\1/.test(fontFamily) && !genericFontFamilies.includes(fontFamily)) {\n        fontFamily = `\"${fontFamily}\"`;\n      }\n      fontFamilies[i] = fontFamily;\n    }\n    return `${this.fontStyle} ${this.fontVariant} ${this.fontWeight} ${fontSizeString} ${fontFamilies.join(\",\")}`;\n  }\n};\nlet TextStyle = _TextStyle;\nTextStyle.defaultStyle = {\n  align: \"left\",\n  breakWords: false,\n  dropShadow: false,\n  dropShadowAlpha: 1,\n  dropShadowAngle: Math.PI / 6,\n  dropShadowBlur: 0,\n  dropShadowColor: \"black\",\n  dropShadowDistance: 5,\n  fill: \"black\",\n  fillGradientType: TEXT_GRADIENT.LINEAR_VERTICAL,\n  fillGradientStops: [],\n  fontFamily: \"Arial\",\n  fontSize: 26,\n  fontStyle: \"normal\",\n  fontVariant: \"normal\",\n  fontWeight: \"normal\",\n  leading: 0,\n  letterSpacing: 0,\n  lineHeight: 0,\n  lineJoin: \"miter\",\n  miterLimit: 10,\n  padding: 0,\n  stroke: \"black\",\n  strokeThickness: 0,\n  textBaseline: \"alphabetic\",\n  trim: false,\n  whiteSpace: \"pre\",\n  wordWrap: false,\n  wordWrapWidth: 100\n};\nfunction getColor(color) {\n  const temp = Color.shared;\n  if (!Array.isArray(color)) {\n    return temp.setValue(color).toHex();\n  } else {\n    return color.map((c) => temp.setValue(c).toHex());\n  }\n}\nfunction areArraysEqual(array1, array2) {\n  if (!Array.isArray(array1) || !Array.isArray(array2)) {\n    return false;\n  }\n  if (array1.length !== array2.length) {\n    return false;\n  }\n  for (let i = 0; i < array1.length; ++i) {\n    if (array1[i] !== array2[i]) {\n      return false;\n    }\n  }\n  return true;\n}\nfunction deepCopyProperties(target, source, propertyObj) {\n  for (const prop in propertyObj) {\n    if (Array.isArray(source[prop])) {\n      target[prop] = source[prop].slice();\n    } else {\n      target[prop] = source[prop];\n    }\n  }\n}\n\nexport { TextStyle };\n//# sourceMappingURL=TextStyle.mjs.map\n","import { settings, Texture, Rectangle, utils, Color } from '@pixi/core';\nimport { Sprite } from '@pixi/sprite';\nimport { TEXT_GRADIENT } from './const.mjs';\nimport { TextMetrics } from './TextMetrics.mjs';\nimport { TextStyle } from './TextStyle.mjs';\n\nconst defaultDestroyOptions = {\n  texture: true,\n  children: false,\n  baseTexture: true\n};\nconst _Text = class extends Sprite {\n  constructor(text, style, canvas) {\n    let ownCanvas = false;\n    if (!canvas) {\n      canvas = settings.ADAPTER.createCanvas();\n      ownCanvas = true;\n    }\n    canvas.width = 3;\n    canvas.height = 3;\n    const texture = Texture.from(canvas);\n    texture.orig = new Rectangle();\n    texture.trim = new Rectangle();\n    super(texture);\n    this._ownCanvas = ownCanvas;\n    this.canvas = canvas;\n    this.context = canvas.getContext(\"2d\", {\n      willReadFrequently: true\n    });\n    this._resolution = _Text.defaultResolution ?? settings.RESOLUTION;\n    this._autoResolution = _Text.defaultAutoResolution;\n    this._text = null;\n    this._style = null;\n    this._styleListener = null;\n    this._font = \"\";\n    this.text = text;\n    this.style = style;\n    this.localStyleID = -1;\n  }\n  static get experimentalLetterSpacing() {\n    return TextMetrics.experimentalLetterSpacing;\n  }\n  static set experimentalLetterSpacing(value) {\n    utils.deprecation(\"7.1.0\", \"Text.experimentalLetterSpacing is deprecated, use TextMetrics.experimentalLetterSpacing\");\n    TextMetrics.experimentalLetterSpacing = value;\n  }\n  updateText(respectDirty) {\n    const style = this._style;\n    if (this.localStyleID !== style.styleID) {\n      this.dirty = true;\n      this.localStyleID = style.styleID;\n    }\n    if (!this.dirty && respectDirty) {\n      return;\n    }\n    this._font = this._style.toFontString();\n    const context = this.context;\n    const measured = TextMetrics.measureText(this._text || \" \", this._style, this._style.wordWrap, this.canvas);\n    const width = measured.width;\n    const height = measured.height;\n    const lines = measured.lines;\n    const lineHeight = measured.lineHeight;\n    const lineWidths = measured.lineWidths;\n    const maxLineWidth = measured.maxLineWidth;\n    const fontProperties = measured.fontProperties;\n    this.canvas.width = Math.ceil(Math.ceil(Math.max(1, width) + style.padding * 2) * this._resolution);\n    this.canvas.height = Math.ceil(Math.ceil(Math.max(1, height) + style.padding * 2) * this._resolution);\n    context.scale(this._resolution, this._resolution);\n    context.clearRect(0, 0, this.canvas.width, this.canvas.height);\n    context.font = this._font;\n    context.lineWidth = style.strokeThickness;\n    context.textBaseline = style.textBaseline;\n    context.lineJoin = style.lineJoin;\n    context.miterLimit = style.miterLimit;\n    let linePositionX;\n    let linePositionY;\n    const passesCount = style.dropShadow ? 2 : 1;\n    for (let i = 0; i < passesCount; ++i) {\n      const isShadowPass = style.dropShadow && i === 0;\n      const dsOffsetText = isShadowPass ? Math.ceil(Math.max(1, height) + style.padding * 2) : 0;\n      const dsOffsetShadow = dsOffsetText * this._resolution;\n      if (isShadowPass) {\n        context.fillStyle = \"black\";\n        context.strokeStyle = \"black\";\n        const dropShadowColor = style.dropShadowColor;\n        const dropShadowBlur = style.dropShadowBlur * this._resolution;\n        const dropShadowDistance = style.dropShadowDistance * this._resolution;\n        context.shadowColor = Color.shared.setValue(dropShadowColor).setAlpha(style.dropShadowAlpha).toRgbaString();\n        context.shadowBlur = dropShadowBlur;\n        context.shadowOffsetX = Math.cos(style.dropShadowAngle) * dropShadowDistance;\n        context.shadowOffsetY = Math.sin(style.dropShadowAngle) * dropShadowDistance + dsOffsetShadow;\n      } else {\n        context.fillStyle = this._generateFillStyle(style, lines, measured);\n        context.strokeStyle = style.stroke;\n        context.shadowColor = \"black\";\n        context.shadowBlur = 0;\n        context.shadowOffsetX = 0;\n        context.shadowOffsetY = 0;\n      }\n      let linePositionYShift = (lineHeight - fontProperties.fontSize) / 2;\n      if (lineHeight - fontProperties.fontSize < 0) {\n        linePositionYShift = 0;\n      }\n      for (let i2 = 0; i2 < lines.length; i2++) {\n        linePositionX = style.strokeThickness / 2;\n        linePositionY = style.strokeThickness / 2 + i2 * lineHeight + fontProperties.ascent + linePositionYShift;\n        if (style.align === \"right\") {\n          linePositionX += maxLineWidth - lineWidths[i2];\n        } else if (style.align === \"center\") {\n          linePositionX += (maxLineWidth - lineWidths[i2]) / 2;\n        }\n        if (style.stroke && style.strokeThickness) {\n          this.drawLetterSpacing(lines[i2], linePositionX + style.padding, linePositionY + style.padding - dsOffsetText, true);\n        }\n        if (style.fill) {\n          this.drawLetterSpacing(lines[i2], linePositionX + style.padding, linePositionY + style.padding - dsOffsetText);\n        }\n      }\n    }\n    this.updateTexture();\n  }\n  drawLetterSpacing(text, x, y, isStroke = false) {\n    const style = this._style;\n    const letterSpacing = style.letterSpacing;\n    let useExperimentalLetterSpacing = false;\n    if (TextMetrics.experimentalLetterSpacingSupported) {\n      if (TextMetrics.experimentalLetterSpacing) {\n        this.context.letterSpacing = `${letterSpacing}px`;\n        this.context.textLetterSpacing = `${letterSpacing}px`;\n        useExperimentalLetterSpacing = true;\n      } else {\n        this.context.letterSpacing = \"0px\";\n        this.context.textLetterSpacing = \"0px\";\n      }\n    }\n    if (letterSpacing === 0 || useExperimentalLetterSpacing) {\n      if (isStroke) {\n        this.context.strokeText(text, x, y);\n      } else {\n        this.context.fillText(text, x, y);\n      }\n      return;\n    }\n    let currentPosition = x;\n    const stringArray = TextMetrics.graphemeSegmenter(text);\n    let previousWidth = this.context.measureText(text).width;\n    let currentWidth = 0;\n    for (let i = 0; i < stringArray.length; ++i) {\n      const currentChar = stringArray[i];\n      if (isStroke) {\n        this.context.strokeText(currentChar, currentPosition, y);\n      } else {\n        this.context.fillText(currentChar, currentPosition, y);\n      }\n      let textStr = \"\";\n      for (let j = i + 1; j < stringArray.length; ++j) {\n        textStr += stringArray[j];\n      }\n      currentWidth = this.context.measureText(textStr).width;\n      currentPosition += previousWidth - currentWidth + letterSpacing;\n      previousWidth = currentWidth;\n    }\n  }\n  updateTexture() {\n    const canvas = this.canvas;\n    if (this._style.trim) {\n      const trimmed = utils.trimCanvas(canvas);\n      if (trimmed.data) {\n        canvas.width = trimmed.width;\n        canvas.height = trimmed.height;\n        this.context.putImageData(trimmed.data, 0, 0);\n      }\n    }\n    const texture = this._texture;\n    const style = this._style;\n    const padding = style.trim ? 0 : style.padding;\n    const baseTexture = texture.baseTexture;\n    texture.trim.width = texture._frame.width = canvas.width / this._resolution;\n    texture.trim.height = texture._frame.height = canvas.height / this._resolution;\n    texture.trim.x = -padding;\n    texture.trim.y = -padding;\n    texture.orig.width = texture._frame.width - padding * 2;\n    texture.orig.height = texture._frame.height - padding * 2;\n    this._onTextureUpdate();\n    baseTexture.setRealSize(canvas.width, canvas.height, this._resolution);\n    texture.updateUvs();\n    this.dirty = false;\n  }\n  _render(renderer) {\n    if (this._autoResolution && this._resolution !== renderer.resolution) {\n      this._resolution = renderer.resolution;\n      this.dirty = true;\n    }\n    this.updateText(true);\n    super._render(renderer);\n  }\n  updateTransform() {\n    this.updateText(true);\n    super.updateTransform();\n  }\n  getBounds(skipUpdate, rect) {\n    this.updateText(true);\n    if (this._textureID === -1) {\n      skipUpdate = false;\n    }\n    return super.getBounds(skipUpdate, rect);\n  }\n  getLocalBounds(rect) {\n    this.updateText(true);\n    return super.getLocalBounds.call(this, rect);\n  }\n  _calculateBounds() {\n    this.calculateVertices();\n    this._bounds.addQuad(this.vertexData);\n  }\n  _generateFillStyle(style, lines, metrics) {\n    const fillStyle = style.fill;\n    if (!Array.isArray(fillStyle)) {\n      return fillStyle;\n    } else if (fillStyle.length === 1) {\n      return fillStyle[0];\n    }\n    let gradient;\n    const dropShadowCorrection = style.dropShadow ? style.dropShadowDistance : 0;\n    const padding = style.padding || 0;\n    const width = this.canvas.width / this._resolution - dropShadowCorrection - padding * 2;\n    const height = this.canvas.height / this._resolution - dropShadowCorrection - padding * 2;\n    const fill = fillStyle.slice();\n    const fillGradientStops = style.fillGradientStops.slice();\n    if (!fillGradientStops.length) {\n      const lengthPlus1 = fill.length + 1;\n      for (let i = 1; i < lengthPlus1; ++i) {\n        fillGradientStops.push(i / lengthPlus1);\n      }\n    }\n    fill.unshift(fillStyle[0]);\n    fillGradientStops.unshift(0);\n    fill.push(fillStyle[fillStyle.length - 1]);\n    fillGradientStops.push(1);\n    if (style.fillGradientType === TEXT_GRADIENT.LINEAR_VERTICAL) {\n      gradient = this.context.createLinearGradient(width / 2, padding, width / 2, height + padding);\n      const textHeight = metrics.fontProperties.fontSize + style.strokeThickness;\n      for (let i = 0; i < lines.length; i++) {\n        const lastLineBottom = metrics.lineHeight * (i - 1) + textHeight;\n        const thisLineTop = metrics.lineHeight * i;\n        let thisLineGradientStart = thisLineTop;\n        if (i > 0 && lastLineBottom > thisLineTop) {\n          thisLineGradientStart = (thisLineTop + lastLineBottom) / 2;\n        }\n        const thisLineBottom = thisLineTop + textHeight;\n        const nextLineTop = metrics.lineHeight * (i + 1);\n        let thisLineGradientEnd = thisLineBottom;\n        if (i + 1 < lines.length && nextLineTop < thisLineBottom) {\n          thisLineGradientEnd = (thisLineBottom + nextLineTop) / 2;\n        }\n        const gradStopLineHeight = (thisLineGradientEnd - thisLineGradientStart) / height;\n        for (let j = 0; j < fill.length; j++) {\n          let lineStop = 0;\n          if (typeof fillGradientStops[j] === \"number\") {\n            lineStop = fillGradientStops[j];\n          } else {\n            lineStop = j / fill.length;\n          }\n          let globalStop = Math.min(1, Math.max(0, thisLineGradientStart / height + lineStop * gradStopLineHeight));\n          globalStop = Number(globalStop.toFixed(5));\n          gradient.addColorStop(globalStop, fill[j]);\n        }\n      }\n    } else {\n      gradient = this.context.createLinearGradient(padding, height / 2, width + padding, height / 2);\n      const totalIterations = fill.length + 1;\n      let currentIteration = 1;\n      for (let i = 0; i < fill.length; i++) {\n        let stop;\n        if (typeof fillGradientStops[i] === \"number\") {\n          stop = fillGradientStops[i];\n        } else {\n          stop = currentIteration / totalIterations;\n        }\n        gradient.addColorStop(stop, fill[i]);\n        currentIteration++;\n      }\n    }\n    return gradient;\n  }\n  destroy(options) {\n    if (typeof options === \"boolean\") {\n      options = { children: options };\n    }\n    options = Object.assign({}, defaultDestroyOptions, options);\n    super.destroy(options);\n    if (this._ownCanvas) {\n      this.canvas.height = this.canvas.width = 0;\n    }\n    this.context = null;\n    this.canvas = null;\n    this._style = null;\n  }\n  get width() {\n    this.updateText(true);\n    return Math.abs(this.scale.x) * this._texture.orig.width;\n  }\n  set width(value) {\n    this.updateText(true);\n    const s = utils.sign(this.scale.x) || 1;\n    this.scale.x = s * value / this._texture.orig.width;\n    this._width = value;\n  }\n  get height() {\n    this.updateText(true);\n    return Math.abs(this.scale.y) * this._texture.orig.height;\n  }\n  set height(value) {\n    this.updateText(true);\n    const s = utils.sign(this.scale.y) || 1;\n    this.scale.y = s * value / this._texture.orig.height;\n    this._height = value;\n  }\n  get style() {\n    return this._style;\n  }\n  set style(style) {\n    style = style || {};\n    if (style instanceof TextStyle) {\n      this._style = style;\n    } else {\n      this._style = new TextStyle(style);\n    }\n    this.localStyleID = -1;\n    this.dirty = true;\n  }\n  get text() {\n    return this._text;\n  }\n  set text(text) {\n    text = String(text === null || text === void 0 ? \"\" : text);\n    if (this._text === text) {\n      return;\n    }\n    this._text = text;\n    this.dirty = true;\n  }\n  get resolution() {\n    return this._resolution;\n  }\n  set resolution(value) {\n    this._autoResolution = false;\n    if (this._resolution === value) {\n      return;\n    }\n    this._resolution = value;\n    this.dirty = true;\n  }\n};\nlet Text = _Text;\nText.defaultAutoResolution = true;\n\nexport { Text };\n//# sourceMappingURL=Text.mjs.map\n","import { getCanvasBoundingBox } from './getCanvasBoundingBox.mjs';\n\nfunction trimCanvas(canvas) {\n  const boundingBox = getCanvasBoundingBox(canvas);\n  const { width, height } = boundingBox;\n  let data = null;\n  if (!boundingBox.isEmpty()) {\n    const context = canvas.getContext(\"2d\");\n    if (context === null) {\n      throw new TypeError(\"Failed to get canvas 2D context\");\n    }\n    data = context.getImageData(boundingBox.left, boundingBox.top, width, height);\n  }\n  return { width, height, data };\n}\n\nexport { trimCanvas };\n//# sourceMappingURL=trimCanvas.mjs.map\n","class CountLimiter {\n  constructor(maxItemsPerFrame) {\n    this.maxItemsPerFrame = maxItemsPerFrame;\n    this.itemsLeft = 0;\n  }\n  beginFrame() {\n    this.itemsLeft = this.maxItemsPerFrame;\n  }\n  allowedToUpload() {\n    return this.itemsLeft-- > 0;\n  }\n}\n\nexport { CountLimiter };\n//# sourceMappingURL=CountLimiter.mjs.map\n","import { Texture, BaseTexture, Ticker, UPDATE_PRIORITY } from '@pixi/core';\nimport { Container } from '@pixi/display';\nimport { Text, TextStyle, TextMetrics } from '@pixi/text';\nimport { CountLimiter } from './CountLimiter.mjs';\n\nfunction findMultipleBaseTextures(item, queue) {\n  let result = false;\n  if (item?._textures?.length) {\n    for (let i = 0; i < item._textures.length; i++) {\n      if (item._textures[i] instanceof Texture) {\n        const baseTexture = item._textures[i].baseTexture;\n        if (!queue.includes(baseTexture)) {\n          queue.push(baseTexture);\n          result = true;\n        }\n      }\n    }\n  }\n  return result;\n}\nfunction findBaseTexture(item, queue) {\n  if (item.baseTexture instanceof BaseTexture) {\n    const texture = item.baseTexture;\n    if (!queue.includes(texture)) {\n      queue.push(texture);\n    }\n    return true;\n  }\n  return false;\n}\nfunction findTexture(item, queue) {\n  if (item._texture && item._texture instanceof Texture) {\n    const texture = item._texture.baseTexture;\n    if (!queue.includes(texture)) {\n      queue.push(texture);\n    }\n    return true;\n  }\n  return false;\n}\nfunction drawText(_helper, item) {\n  if (item instanceof Text) {\n    item.updateText(true);\n    return true;\n  }\n  return false;\n}\nfunction calculateTextStyle(_helper, item) {\n  if (item instanceof TextStyle) {\n    const font = item.toFontString();\n    TextMetrics.measureFont(font);\n    return true;\n  }\n  return false;\n}\nfunction findText(item, queue) {\n  if (item instanceof Text) {\n    if (!queue.includes(item.style)) {\n      queue.push(item.style);\n    }\n    if (!queue.includes(item)) {\n      queue.push(item);\n    }\n    const texture = item._texture.baseTexture;\n    if (!queue.includes(texture)) {\n      queue.push(texture);\n    }\n    return true;\n  }\n  return false;\n}\nfunction findTextStyle(item, queue) {\n  if (item instanceof TextStyle) {\n    if (!queue.includes(item)) {\n      queue.push(item);\n    }\n    return true;\n  }\n  return false;\n}\nconst _BasePrepare = class {\n  constructor(renderer) {\n    this.limiter = new CountLimiter(_BasePrepare.uploadsPerFrame);\n    this.renderer = renderer;\n    this.uploadHookHelper = null;\n    this.queue = [];\n    this.addHooks = [];\n    this.uploadHooks = [];\n    this.completes = [];\n    this.ticking = false;\n    this.delayedTick = () => {\n      if (!this.queue) {\n        return;\n      }\n      this.prepareItems();\n    };\n    this.registerFindHook(findText);\n    this.registerFindHook(findTextStyle);\n    this.registerFindHook(findMultipleBaseTextures);\n    this.registerFindHook(findBaseTexture);\n    this.registerFindHook(findTexture);\n    this.registerUploadHook(drawText);\n    this.registerUploadHook(calculateTextStyle);\n  }\n  upload(item) {\n    return new Promise((resolve) => {\n      if (item) {\n        this.add(item);\n      }\n      if (this.queue.length) {\n        this.completes.push(resolve);\n        if (!this.ticking) {\n          this.ticking = true;\n          Ticker.system.addOnce(this.tick, this, UPDATE_PRIORITY.UTILITY);\n        }\n      } else {\n        resolve();\n      }\n    });\n  }\n  tick() {\n    setTimeout(this.delayedTick, 0);\n  }\n  prepareItems() {\n    this.limiter.beginFrame();\n    while (this.queue.length && this.limiter.allowedToUpload()) {\n      const item = this.queue[0];\n      let uploaded = false;\n      if (item && !item._destroyed) {\n        for (let i = 0, len = this.uploadHooks.length; i < len; i++) {\n          if (this.uploadHooks[i](this.uploadHookHelper, item)) {\n            this.queue.shift();\n            uploaded = true;\n            break;\n          }\n        }\n      }\n      if (!uploaded) {\n        this.queue.shift();\n      }\n    }\n    if (!this.queue.length) {\n      this.ticking = false;\n      const completes = this.completes.slice(0);\n      this.completes.length = 0;\n      for (let i = 0, len = completes.length; i < len; i++) {\n        completes[i]();\n      }\n    } else {\n      Ticker.system.addOnce(this.tick, this, UPDATE_PRIORITY.UTILITY);\n    }\n  }\n  registerFindHook(addHook) {\n    if (addHook) {\n      this.addHooks.push(addHook);\n    }\n    return this;\n  }\n  registerUploadHook(uploadHook) {\n    if (uploadHook) {\n      this.uploadHooks.push(uploadHook);\n    }\n    return this;\n  }\n  add(item) {\n    for (let i = 0, len = this.addHooks.length; i < len; i++) {\n      if (this.addHooks[i](item, this.queue)) {\n        break;\n      }\n    }\n    if (item instanceof Container) {\n      for (let i = item.children.length - 1; i >= 0; i--) {\n        this.add(item.children[i]);\n      }\n    }\n    return this;\n  }\n  destroy() {\n    if (this.ticking) {\n      Ticker.system.remove(this.tick, this);\n    }\n    this.ticking = false;\n    this.addHooks = null;\n    this.uploadHooks = null;\n    this.renderer = null;\n    this.completes = null;\n    this.queue = null;\n    this.limiter = null;\n    this.uploadHookHelper = null;\n  }\n};\nlet BasePrepare = _BasePrepare;\nBasePrepare.uploadsPerFrame = 4;\n\nexport { BasePrepare };\n//# sourceMappingURL=BasePrepare.mjs.map\n","import { BaseTexture, ExtensionType, extensions } from '@pixi/core';\nimport { Graphics } from '@pixi/graphics';\nimport { BasePrepare } from './BasePrepare.mjs';\n\nfunction uploadBaseTextures(renderer, item) {\n  if (item instanceof BaseTexture) {\n    if (!item._glTextures[renderer.CONTEXT_UID]) {\n      renderer.texture.bind(item);\n    }\n    return true;\n  }\n  return false;\n}\nfunction uploadGraphics(renderer, item) {\n  if (!(item instanceof Graphics)) {\n    return false;\n  }\n  const { geometry } = item;\n  item.finishPoly();\n  geometry.updateBatches();\n  const { batches } = geometry;\n  for (let i = 0; i < batches.length; i++) {\n    const { texture } = batches[i].style;\n    if (texture) {\n      uploadBaseTextures(renderer, texture.baseTexture);\n    }\n  }\n  if (!geometry.batchable) {\n    renderer.geometry.bind(geometry, item._resolveDirectShader(renderer));\n  }\n  return true;\n}\nfunction findGraphics(item, queue) {\n  if (item instanceof Graphics) {\n    queue.push(item);\n    return true;\n  }\n  return false;\n}\nclass Prepare extends BasePrepare {\n  constructor(renderer) {\n    super(renderer);\n    this.uploadHookHelper = this.renderer;\n    this.registerFindHook(findGraphics);\n    this.registerUploadHook(uploadBaseTextures);\n    this.registerUploadHook(uploadGraphics);\n  }\n}\nPrepare.extension = {\n  name: \"prepare\",\n  type: ExtensionType.RendererSystem\n};\nextensions.add(Prepare);\n\nexport { Prepare };\n//# sourceMappingURL=Prepare.mjs.map\n","import { settings, utils } from '@pixi/core';\nexport { settings } from '@pixi/core';\nimport { BasePrepare } from './BasePrepare.mjs';\n\nObject.defineProperties(settings, {\n  UPLOADS_PER_FRAME: {\n    get() {\n      return BasePrepare.uploadsPerFrame;\n    },\n    set(value) {\n      utils.deprecation(\"7.1.0\", \"settings.UPLOADS_PER_FRAME is deprecated, use prepare.BasePrepare.uploadsPerFrame\");\n      BasePrepare.uploadsPerFrame = value;\n    }\n  }\n});\n//# sourceMappingURL=settings.mjs.map\n","import { Texture, Ticker, UPDATE_PRIORITY } from '@pixi/core';\nimport { Sprite } from '@pixi/sprite';\n\nclass AnimatedSprite extends Sprite {\n  constructor(textures, autoUpdate = true) {\n    super(textures[0] instanceof Texture ? textures[0] : textures[0].texture);\n    this._textures = null;\n    this._durations = null;\n    this._autoUpdate = autoUpdate;\n    this._isConnectedToTicker = false;\n    this.animationSpeed = 1;\n    this.loop = true;\n    this.updateAnchor = false;\n    this.onComplete = null;\n    this.onFrameChange = null;\n    this.onLoop = null;\n    this._currentTime = 0;\n    this._playing = false;\n    this._previousFrame = null;\n    this.textures = textures;\n  }\n  stop() {\n    if (!this._playing) {\n      return;\n    }\n    this._playing = false;\n    if (this._autoUpdate && this._isConnectedToTicker) {\n      Ticker.shared.remove(this.update, this);\n      this._isConnectedToTicker = false;\n    }\n  }\n  play() {\n    if (this._playing) {\n      return;\n    }\n    this._playing = true;\n    if (this._autoUpdate && !this._isConnectedToTicker) {\n      Ticker.shared.add(this.update, this, UPDATE_PRIORITY.HIGH);\n      this._isConnectedToTicker = true;\n    }\n  }\n  gotoAndStop(frameNumber) {\n    this.stop();\n    this.currentFrame = frameNumber;\n  }\n  gotoAndPlay(frameNumber) {\n    this.currentFrame = frameNumber;\n    this.play();\n  }\n  update(deltaTime) {\n    if (!this._playing) {\n      return;\n    }\n    const elapsed = this.animationSpeed * deltaTime;\n    const previousFrame = this.currentFrame;\n    if (this._durations !== null) {\n      let lag = this._currentTime % 1 * this._durations[this.currentFrame];\n      lag += elapsed / 60 * 1e3;\n      while (lag < 0) {\n        this._currentTime--;\n        lag += this._durations[this.currentFrame];\n      }\n      const sign = Math.sign(this.animationSpeed * deltaTime);\n      this._currentTime = Math.floor(this._currentTime);\n      while (lag >= this._durations[this.currentFrame]) {\n        lag -= this._durations[this.currentFrame] * sign;\n        this._currentTime += sign;\n      }\n      this._currentTime += lag / this._durations[this.currentFrame];\n    } else {\n      this._currentTime += elapsed;\n    }\n    if (this._currentTime < 0 && !this.loop) {\n      this.gotoAndStop(0);\n      if (this.onComplete) {\n        this.onComplete();\n      }\n    } else if (this._currentTime >= this._textures.length && !this.loop) {\n      this.gotoAndStop(this._textures.length - 1);\n      if (this.onComplete) {\n        this.onComplete();\n      }\n    } else if (previousFrame !== this.currentFrame) {\n      if (this.loop && this.onLoop) {\n        if (this.animationSpeed > 0 && this.currentFrame < previousFrame || this.animationSpeed < 0 && this.currentFrame > previousFrame) {\n          this.onLoop();\n        }\n      }\n      this.updateTexture();\n    }\n  }\n  updateTexture() {\n    const currentFrame = this.currentFrame;\n    if (this._previousFrame === currentFrame) {\n      return;\n    }\n    this._previousFrame = currentFrame;\n    this._texture = this._textures[currentFrame];\n    this._textureID = -1;\n    this._textureTrimmedID = -1;\n    this._cachedTint = 16777215;\n    this.uvs = this._texture._uvs.uvsFloat32;\n    if (this.updateAnchor) {\n      this._anchor.copyFrom(this._texture.defaultAnchor);\n    }\n    if (this.onFrameChange) {\n      this.onFrameChange(this.currentFrame);\n    }\n  }\n  destroy(options) {\n    this.stop();\n    super.destroy(options);\n    this.onComplete = null;\n    this.onFrameChange = null;\n    this.onLoop = null;\n  }\n  static fromFrames(frames) {\n    const textures = [];\n    for (let i = 0; i < frames.length; ++i) {\n      textures.push(Texture.from(frames[i]));\n    }\n    return new AnimatedSprite(textures);\n  }\n  static fromImages(images) {\n    const textures = [];\n    for (let i = 0; i < images.length; ++i) {\n      textures.push(Texture.from(images[i]));\n    }\n    return new AnimatedSprite(textures);\n  }\n  get totalFrames() {\n    return this._textures.length;\n  }\n  get textures() {\n    return this._textures;\n  }\n  set textures(value) {\n    if (value[0] instanceof Texture) {\n      this._textures = value;\n      this._durations = null;\n    } else {\n      this._textures = [];\n      this._durations = [];\n      for (let i = 0; i < value.length; i++) {\n        this._textures.push(value[i].texture);\n        this._durations.push(value[i].time);\n      }\n    }\n    this._previousFrame = null;\n    this.gotoAndStop(0);\n    this.updateTexture();\n  }\n  get currentFrame() {\n    let currentFrame = Math.floor(this._currentTime) % this._textures.length;\n    if (currentFrame < 0) {\n      currentFrame += this._textures.length;\n    }\n    return currentFrame;\n  }\n  set currentFrame(value) {\n    if (value < 0 || value > this.totalFrames - 1) {\n      throw new Error(`[AnimatedSprite]: Invalid frame index value ${value}, expected to be between 0 and totalFrames ${this.totalFrames}.`);\n    }\n    const previousFrame = this.currentFrame;\n    this._currentTime = value;\n    if (previousFrame !== this.currentFrame) {\n      this.updateTexture();\n    }\n  }\n  get playing() {\n    return this._playing;\n  }\n  get autoUpdate() {\n    return this._autoUpdate;\n  }\n  set autoUpdate(value) {\n    if (value !== this._autoUpdate) {\n      this._autoUpdate = value;\n      if (!this._autoUpdate && this._isConnectedToTicker) {\n        Ticker.shared.remove(this.update, this);\n        this._isConnectedToTicker = false;\n      } else if (this._autoUpdate && !this._isConnectedToTicker && this._playing) {\n        Ticker.shared.add(this.update, this);\n        this._isConnectedToTicker = true;\n      }\n    }\n  }\n}\n\nexport { AnimatedSprite };\n//# sourceMappingURL=AnimatedSprite.mjs.map\n","import { Point, Transform, TextureMatrix, Rectangle, Texture } from '@pixi/core';\nimport { Sprite } from '@pixi/sprite';\n\nconst tempPoint = new Point();\nclass TilingSprite extends Sprite {\n  constructor(texture, width = 100, height = 100) {\n    super(texture);\n    this.tileTransform = new Transform();\n    this._width = width;\n    this._height = height;\n    this.uvMatrix = this.texture.uvMatrix || new TextureMatrix(texture);\n    this.pluginName = \"tilingSprite\";\n    this.uvRespectAnchor = false;\n  }\n  get clampMargin() {\n    return this.uvMatrix.clampMargin;\n  }\n  set clampMargin(value) {\n    this.uvMatrix.clampMargin = value;\n    this.uvMatrix.update(true);\n  }\n  get tileScale() {\n    return this.tileTransform.scale;\n  }\n  set tileScale(value) {\n    this.tileTransform.scale.copyFrom(value);\n  }\n  get tilePosition() {\n    return this.tileTransform.position;\n  }\n  set tilePosition(value) {\n    this.tileTransform.position.copyFrom(value);\n  }\n  _onTextureUpdate() {\n    if (this.uvMatrix) {\n      this.uvMatrix.texture = this._texture;\n    }\n    this._cachedTint = 16777215;\n  }\n  _render(renderer) {\n    const texture = this._texture;\n    if (!texture || !texture.valid) {\n      return;\n    }\n    this.tileTransform.updateLocalTransform();\n    this.uvMatrix.update();\n    renderer.batch.setObjectRenderer(renderer.plugins[this.pluginName]);\n    renderer.plugins[this.pluginName].render(this);\n  }\n  _calculateBounds() {\n    const minX = this._width * -this._anchor._x;\n    const minY = this._height * -this._anchor._y;\n    const maxX = this._width * (1 - this._anchor._x);\n    const maxY = this._height * (1 - this._anchor._y);\n    this._bounds.addFrame(this.transform, minX, minY, maxX, maxY);\n  }\n  getLocalBounds(rect) {\n    if (this.children.length === 0) {\n      this._bounds.minX = this._width * -this._anchor._x;\n      this._bounds.minY = this._height * -this._anchor._y;\n      this._bounds.maxX = this._width * (1 - this._anchor._x);\n      this._bounds.maxY = this._height * (1 - this._anchor._y);\n      if (!rect) {\n        if (!this._localBoundsRect) {\n          this._localBoundsRect = new Rectangle();\n        }\n        rect = this._localBoundsRect;\n      }\n      return this._bounds.getRectangle(rect);\n    }\n    return super.getLocalBounds.call(this, rect);\n  }\n  containsPoint(point) {\n    this.worldTransform.applyInverse(point, tempPoint);\n    const width = this._width;\n    const height = this._height;\n    const x1 = -width * this.anchor._x;\n    if (tempPoint.x >= x1 && tempPoint.x < x1 + width) {\n      const y1 = -height * this.anchor._y;\n      if (tempPoint.y >= y1 && tempPoint.y < y1 + height) {\n        return true;\n      }\n    }\n    return false;\n  }\n  destroy(options) {\n    super.destroy(options);\n    this.tileTransform = null;\n    this.uvMatrix = null;\n  }\n  static from(source, options) {\n    const texture = source instanceof Texture ? source : Texture.from(source, options);\n    return new TilingSprite(texture, options.width, options.height);\n  }\n  get width() {\n    return this._width;\n  }\n  set width(value) {\n    this._width = value;\n  }\n  get height() {\n    return this._height;\n  }\n  set height(value) {\n    this._height = value;\n  }\n}\n\nexport { TilingSprite };\n//# sourceMappingURL=TilingSprite.mjs.map\n","var gl2FragmentSrc = \"#version 300 es\\n#define SHADER_NAME Tiling-Sprite-100\\n\\nprecision lowp float;\\n\\nin vec2 vTextureCoord;\\n\\nout vec4 fragmentColor;\\n\\nuniform sampler2D uSampler;\\nuniform vec4 uColor;\\nuniform mat3 uMapCoord;\\nuniform vec4 uClampFrame;\\nuniform vec2 uClampOffset;\\n\\nvoid main(void)\\n{\\n    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);\\n    coord = (uMapCoord * vec3(coord, 1.0)).xy;\\n    vec2 unclamped = coord;\\n    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);\\n\\n    vec4 texSample = texture(uSampler, coord, unclamped == coord ? 0.0f : -32.0f);// lod-bias very negative to force lod 0\\n\\n    fragmentColor = texSample * uColor;\\n}\\n\";\n\nexport { gl2FragmentSrc as default };\n//# sourceMappingURL=sprite-tiling.mjs.map\n","var gl1VertexSrc = \"#version 100\\n#define SHADER_NAME Tiling-Sprite-100\\n\\nprecision lowp float;\\n\\nattribute vec2 aVertexPosition;\\nattribute vec2 aTextureCoord;\\n\\nuniform mat3 projectionMatrix;\\nuniform mat3 translationMatrix;\\nuniform mat3 uTransform;\\n\\nvarying vec2 vTextureCoord;\\n\\nvoid main(void)\\n{\\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\\n\\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\\n}\\n\";\n\nexport { gl1VertexSrc as default };\n//# sourceMappingURL=sprite-tiling-fallback2.mjs.map\n","import { Matrix, ObjectRenderer, QuadUv, State, Shader, WRAP_MODES, Color, utils, ExtensionType, extensions } from '@pixi/core';\nimport gl2FragmentSrc from './sprite-tiling.mjs';\nimport gl2VertexSrc from './sprite-tiling2.mjs';\nimport gl1FragmentSrc from './sprite-tiling-fallback.mjs';\nimport gl1VertexSrc from './sprite-tiling-fallback2.mjs';\nimport fragmentSimpleSrc from './sprite-tiling-simple.mjs';\n\nconst tempMat = new Matrix();\nclass TilingSpriteRenderer extends ObjectRenderer {\n  constructor(renderer) {\n    super(renderer);\n    renderer.runners.contextChange.add(this);\n    this.quad = new QuadUv();\n    this.state = State.for2d();\n  }\n  contextChange() {\n    const renderer = this.renderer;\n    const uniforms = { globals: renderer.globalUniforms };\n    this.simpleShader = Shader.from(gl1VertexSrc, fragmentSimpleSrc, uniforms);\n    this.shader = renderer.context.webGLVersion > 1 ? Shader.from(gl2VertexSrc, gl2FragmentSrc, uniforms) : Shader.from(gl1VertexSrc, gl1FragmentSrc, uniforms);\n  }\n  render(ts) {\n    const renderer = this.renderer;\n    const quad = this.quad;\n    let vertices = quad.vertices;\n    vertices[0] = vertices[6] = ts._width * -ts.anchor.x;\n    vertices[1] = vertices[3] = ts._height * -ts.anchor.y;\n    vertices[2] = vertices[4] = ts._width * (1 - ts.anchor.x);\n    vertices[5] = vertices[7] = ts._height * (1 - ts.anchor.y);\n    const anchorX = ts.uvRespectAnchor ? ts.anchor.x : 0;\n    const anchorY = ts.uvRespectAnchor ? ts.anchor.y : 0;\n    vertices = quad.uvs;\n    vertices[0] = vertices[6] = -anchorX;\n    vertices[1] = vertices[3] = -anchorY;\n    vertices[2] = vertices[4] = 1 - anchorX;\n    vertices[5] = vertices[7] = 1 - anchorY;\n    quad.invalidate();\n    const tex = ts._texture;\n    const baseTex = tex.baseTexture;\n    const premultiplied = baseTex.alphaMode > 0;\n    const lt = ts.tileTransform.localTransform;\n    const uv = ts.uvMatrix;\n    let isSimple = baseTex.isPowerOfTwo && tex.frame.width === baseTex.width && tex.frame.height === baseTex.height;\n    if (isSimple) {\n      if (!baseTex._glTextures[renderer.CONTEXT_UID]) {\n        if (baseTex.wrapMode === WRAP_MODES.CLAMP) {\n          baseTex.wrapMode = WRAP_MODES.REPEAT;\n        }\n      } else {\n        isSimple = baseTex.wrapMode !== WRAP_MODES.CLAMP;\n      }\n    }\n    const shader = isSimple ? this.simpleShader : this.shader;\n    const w = tex.width;\n    const h = tex.height;\n    const W = ts._width;\n    const H = ts._height;\n    tempMat.set(lt.a * w / W, lt.b * w / H, lt.c * h / W, lt.d * h / H, lt.tx / W, lt.ty / H);\n    tempMat.invert();\n    if (isSimple) {\n      tempMat.prepend(uv.mapCoord);\n    } else {\n      shader.uniforms.uMapCoord = uv.mapCoord.toArray(true);\n      shader.uniforms.uClampFrame = uv.uClampFrame;\n      shader.uniforms.uClampOffset = uv.uClampOffset;\n    }\n    shader.uniforms.uTransform = tempMat.toArray(true);\n    shader.uniforms.uColor = Color.shared.setValue(ts.tint).premultiply(ts.worldAlpha, premultiplied).toArray(shader.uniforms.uColor);\n    shader.uniforms.translationMatrix = ts.transform.worldTransform.toArray(true);\n    shader.uniforms.uSampler = tex;\n    renderer.shader.bind(shader);\n    renderer.geometry.bind(quad);\n    this.state.blendMode = utils.correctBlendMode(ts.blendMode, premultiplied);\n    renderer.state.set(this.state);\n    renderer.geometry.draw(this.renderer.gl.TRIANGLES, 6, 0);\n  }\n}\nTilingSpriteRenderer.extension = {\n  name: \"tilingSprite\",\n  type: ExtensionType.RendererPlugin\n};\nextensions.add(TilingSpriteRenderer);\n\nexport { TilingSpriteRenderer };\n//# sourceMappingURL=TilingSpriteRenderer.mjs.map\n","var fragmentSimpleSrc = \"#version 100\\n#define SHADER_NAME Tiling-Sprite-Simple-100\\n\\nprecision lowp float;\\n\\nvarying vec2 vTextureCoord;\\n\\nuniform sampler2D uSampler;\\nuniform vec4 uColor;\\n\\nvoid main(void)\\n{\\n    vec4 texSample = texture2D(uSampler, vTextureCoord);\\n    gl_FragColor = texSample * uColor;\\n}\\n\";\n\nexport { fragmentSimpleSrc as default };\n//# sourceMappingURL=sprite-tiling-simple.mjs.map\n","var gl2VertexSrc = \"#version 300 es\\n#define SHADER_NAME Tiling-Sprite-300\\n\\nprecision lowp float;\\n\\nin vec2 aVertexPosition;\\nin vec2 aTextureCoord;\\n\\nuniform mat3 projectionMatrix;\\nuniform mat3 translationMatrix;\\nuniform mat3 uTransform;\\n\\nout vec2 vTextureCoord;\\n\\nvoid main(void)\\n{\\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\\n\\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\\n}\\n\";\n\nexport { gl2VertexSrc as default };\n//# sourceMappingURL=sprite-tiling2.mjs.map\n","var gl1FragmentSrc = \"#version 100\\n#ifdef GL_EXT_shader_texture_lod\\n    #extension GL_EXT_shader_texture_lod : enable\\n#endif\\n#define SHADER_NAME Tiling-Sprite-100\\n\\nprecision lowp float;\\n\\nvarying vec2 vTextureCoord;\\n\\nuniform sampler2D uSampler;\\nuniform vec4 uColor;\\nuniform mat3 uMapCoord;\\nuniform vec4 uClampFrame;\\nuniform vec2 uClampOffset;\\n\\nvoid main(void)\\n{\\n    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);\\n    coord = (uMapCoord * vec3(coord, 1.0)).xy;\\n    vec2 unclamped = coord;\\n    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);\\n\\n    #ifdef GL_EXT_shader_texture_lod\\n        vec4 texSample = unclamped == coord\\n            ? texture2D(uSampler, coord) \\n            : texture2DLodEXT(uSampler, coord, 0);\\n    #else\\n        vec4 texSample = texture2D(uSampler, coord);\\n    #endif\\n\\n    gl_FragColor = texSample * uColor;\\n}\\n\";\n\nexport { gl1FragmentSrc as default };\n//# sourceMappingURL=sprite-tiling-fallback.mjs.map\n","import { Texture, BaseTexture, utils, Rectangle } from '@pixi/core';\n\nconst _Spritesheet = class {\n  constructor(texture, data, resolutionFilename = null) {\n    this.linkedSheets = [];\n    this._texture = texture instanceof Texture ? texture : null;\n    this.baseTexture = texture instanceof BaseTexture ? texture : this._texture.baseTexture;\n    this.textures = {};\n    this.animations = {};\n    this.data = data;\n    const resource = this.baseTexture.resource;\n    this.resolution = this._updateResolution(resolutionFilename || (resource ? resource.url : null));\n    this._frames = this.data.frames;\n    this._frameKeys = Object.keys(this._frames);\n    this._batchIndex = 0;\n    this._callback = null;\n  }\n  _updateResolution(resolutionFilename = null) {\n    const { scale } = this.data.meta;\n    let resolution = utils.getResolutionOfUrl(resolutionFilename, null);\n    if (resolution === null) {\n      resolution = parseFloat(scale ?? \"1\");\n    }\n    if (resolution !== 1) {\n      this.baseTexture.setResolution(resolution);\n    }\n    return resolution;\n  }\n  parse() {\n    return new Promise((resolve) => {\n      this._callback = resolve;\n      this._batchIndex = 0;\n      if (this._frameKeys.length <= _Spritesheet.BATCH_SIZE) {\n        this._processFrames(0);\n        this._processAnimations();\n        this._parseComplete();\n      } else {\n        this._nextBatch();\n      }\n    });\n  }\n  _processFrames(initialFrameIndex) {\n    let frameIndex = initialFrameIndex;\n    const maxFrames = _Spritesheet.BATCH_SIZE;\n    while (frameIndex - initialFrameIndex < maxFrames && frameIndex < this._frameKeys.length) {\n      const i = this._frameKeys[frameIndex];\n      const data = this._frames[i];\n      const rect = data.frame;\n      if (rect) {\n        let frame = null;\n        let trim = null;\n        const sourceSize = data.trimmed !== false && data.sourceSize ? data.sourceSize : data.frame;\n        const orig = new Rectangle(0, 0, Math.floor(sourceSize.w) / this.resolution, Math.floor(sourceSize.h) / this.resolution);\n        if (data.rotated) {\n          frame = new Rectangle(Math.floor(rect.x) / this.resolution, Math.floor(rect.y) / this.resolution, Math.floor(rect.h) / this.resolution, Math.floor(rect.w) / this.resolution);\n        } else {\n          frame = new Rectangle(Math.floor(rect.x) / this.resolution, Math.floor(rect.y) / this.resolution, Math.floor(rect.w) / this.resolution, Math.floor(rect.h) / this.resolution);\n        }\n        if (data.trimmed !== false && data.spriteSourceSize) {\n          trim = new Rectangle(Math.floor(data.spriteSourceSize.x) / this.resolution, Math.floor(data.spriteSourceSize.y) / this.resolution, Math.floor(rect.w) / this.resolution, Math.floor(rect.h) / this.resolution);\n        }\n        this.textures[i] = new Texture(this.baseTexture, frame, orig, trim, data.rotated ? 2 : 0, data.anchor, data.borders);\n        Texture.addToCache(this.textures[i], i);\n      }\n      frameIndex++;\n    }\n  }\n  _processAnimations() {\n    const animations = this.data.animations || {};\n    for (const animName in animations) {\n      this.animations[animName] = [];\n      for (let i = 0; i < animations[animName].length; i++) {\n        const frameName = animations[animName][i];\n        this.animations[animName].push(this.textures[frameName]);\n      }\n    }\n  }\n  _parseComplete() {\n    const callback = this._callback;\n    this._callback = null;\n    this._batchIndex = 0;\n    callback.call(this, this.textures);\n  }\n  _nextBatch() {\n    this._processFrames(this._batchIndex * _Spritesheet.BATCH_SIZE);\n    this._batchIndex++;\n    setTimeout(() => {\n      if (this._batchIndex * _Spritesheet.BATCH_SIZE < this._frameKeys.length) {\n        this._nextBatch();\n      } else {\n        this._processAnimations();\n        this._parseComplete();\n      }\n    }, 0);\n  }\n  destroy(destroyBase = false) {\n    for (const i in this.textures) {\n      this.textures[i].destroy();\n    }\n    this._frames = null;\n    this._frameKeys = null;\n    this.data = null;\n    this.textures = null;\n    if (destroyBase) {\n      this._texture?.destroy();\n      this.baseTexture.destroy();\n    }\n    this._texture = null;\n    this.baseTexture = null;\n    this.linkedSheets = [];\n  }\n};\nlet Spritesheet = _Spritesheet;\nSpritesheet.BATCH_SIZE = 1e3;\n\nexport { Spritesheet };\n//# sourceMappingURL=Spritesheet.mjs.map\n","import { LoaderParserPriority, copySearchParams } from '@pixi/assets';\nimport { utils, ExtensionType, settings, extensions } from '@pixi/core';\nimport { Spritesheet } from './Spritesheet.mjs';\n\nconst validImages = [\"jpg\", \"png\", \"jpeg\", \"avif\", \"webp\"];\nfunction getCacheableAssets(keys, asset, ignoreMultiPack) {\n  const out = {};\n  keys.forEach((key) => {\n    out[key] = asset;\n  });\n  Object.keys(asset.textures).forEach((key) => {\n    out[key] = asset.textures[key];\n  });\n  if (!ignoreMultiPack) {\n    const basePath = utils.path.dirname(keys[0]);\n    asset.linkedSheets.forEach((item, i) => {\n      const out2 = getCacheableAssets([`${basePath}/${asset.data.meta.related_multi_packs[i]}`], item, true);\n      Object.assign(out, out2);\n    });\n  }\n  return out;\n}\nconst spritesheetAsset = {\n  extension: ExtensionType.Asset,\n  cache: {\n    test: (asset) => asset instanceof Spritesheet,\n    getCacheableAssets: (keys, asset) => getCacheableAssets(keys, asset, false)\n  },\n  resolver: {\n    test: (value) => {\n      const tempURL = value.split(\"?\")[0];\n      const split = tempURL.split(\".\");\n      const extension = split.pop();\n      const format = split.pop();\n      return extension === \"json\" && validImages.includes(format);\n    },\n    parse: (value) => {\n      const split = value.split(\".\");\n      return {\n        resolution: parseFloat(settings.RETINA_PREFIX.exec(value)?.[1] ?? \"1\"),\n        format: split[split.length - 2],\n        src: value\n      };\n    }\n  },\n  loader: {\n    extension: {\n      type: ExtensionType.LoadParser,\n      priority: LoaderParserPriority.Normal\n    },\n    async testParse(asset, options) {\n      return utils.path.extname(options.src).toLowerCase() === \".json\" && !!asset.frames;\n    },\n    async parse(asset, options, loader) {\n      let basePath = utils.path.dirname(options.src);\n      if (basePath && basePath.lastIndexOf(\"/\") !== basePath.length - 1) {\n        basePath += \"/\";\n      }\n      let imagePath = basePath + asset.meta.image;\n      imagePath = copySearchParams(imagePath, options.src);\n      const assets = await loader.load([imagePath]);\n      const texture = assets[imagePath];\n      const spritesheet = new Spritesheet(texture.baseTexture, asset, options.src);\n      await spritesheet.parse();\n      const multiPacks = asset?.meta?.related_multi_packs;\n      if (Array.isArray(multiPacks)) {\n        const promises = [];\n        for (const item of multiPacks) {\n          if (typeof item !== \"string\") {\n            continue;\n          }\n          let itemUrl = basePath + item;\n          if (options.data?.ignoreMultiPack) {\n            continue;\n          }\n          itemUrl = copySearchParams(itemUrl, options.src);\n          promises.push(loader.load({\n            src: itemUrl,\n            data: {\n              ignoreMultiPack: true\n            }\n          }));\n        }\n        const res = await Promise.all(promises);\n        spritesheet.linkedSheets = res;\n        res.forEach((item) => {\n          item.linkedSheets = [spritesheet].concat(spritesheet.linkedSheets.filter((sp) => sp !== item));\n        });\n      }\n      return spritesheet;\n    },\n    unload(spritesheet) {\n      spritesheet.destroy(true);\n    }\n  }\n};\nextensions.add(spritesheetAsset);\n\nexport { spritesheetAsset };\n//# sourceMappingURL=spritesheetAsset.mjs.map\n","class BitmapFontData {\n  constructor() {\n    this.info = [];\n    this.common = [];\n    this.page = [];\n    this.char = [];\n    this.kerning = [];\n    this.distanceField = [];\n  }\n}\n\nexport { BitmapFontData };\n//# sourceMappingURL=BitmapFontData.mjs.map\n","import { BitmapFontData } from '../BitmapFontData.mjs';\n\nclass TextFormat {\n  static test(data) {\n    return typeof data === \"string\" && data.startsWith(\"info face=\");\n  }\n  static parse(txt) {\n    const items = txt.match(/^[a-z]+\\s+.+$/gm);\n    const rawData = {\n      info: [],\n      common: [],\n      page: [],\n      char: [],\n      chars: [],\n      kerning: [],\n      kernings: [],\n      distanceField: []\n    };\n    for (const i in items) {\n      const name = items[i].match(/^[a-z]+/gm)[0];\n      const attributeList = items[i].match(/[a-zA-Z]+=([^\\s\"']+|\"([^\"]*)\")/gm);\n      const itemData = {};\n      for (const i2 in attributeList) {\n        const split = attributeList[i2].split(\"=\");\n        const key = split[0];\n        const strValue = split[1].replace(/\"/gm, \"\");\n        const floatValue = parseFloat(strValue);\n        const value = isNaN(floatValue) ? strValue : floatValue;\n        itemData[key] = value;\n      }\n      rawData[name].push(itemData);\n    }\n    const font = new BitmapFontData();\n    rawData.info.forEach((info) => font.info.push({\n      face: info.face,\n      size: parseInt(info.size, 10)\n    }));\n    rawData.common.forEach((common) => font.common.push({\n      lineHeight: parseInt(common.lineHeight, 10)\n    }));\n    rawData.page.forEach((page) => font.page.push({\n      id: parseInt(page.id, 10),\n      file: page.file\n    }));\n    rawData.char.forEach((char) => font.char.push({\n      id: parseInt(char.id, 10),\n      page: parseInt(char.page, 10),\n      x: parseInt(char.x, 10),\n      y: parseInt(char.y, 10),\n      width: parseInt(char.width, 10),\n      height: parseInt(char.height, 10),\n      xoffset: parseInt(char.xoffset, 10),\n      yoffset: parseInt(char.yoffset, 10),\n      xadvance: parseInt(char.xadvance, 10)\n    }));\n    rawData.kerning.forEach((kerning) => font.kerning.push({\n      first: parseInt(kerning.first, 10),\n      second: parseInt(kerning.second, 10),\n      amount: parseInt(kerning.amount, 10)\n    }));\n    rawData.distanceField.forEach((df) => font.distanceField.push({\n      distanceRange: parseInt(df.distanceRange, 10),\n      fieldType: df.fieldType\n    }));\n    return font;\n  }\n}\n\nexport { TextFormat };\n//# sourceMappingURL=TextFormat.mjs.map\n","import { BitmapFontData } from '../BitmapFontData.mjs';\n\nclass XMLFormat {\n  static test(data) {\n    const xml = data;\n    return \"getElementsByTagName\" in xml && xml.getElementsByTagName(\"page\").length && xml.getElementsByTagName(\"info\")[0].getAttribute(\"face\") !== null;\n  }\n  static parse(xml) {\n    const data = new BitmapFontData();\n    const info = xml.getElementsByTagName(\"info\");\n    const common = xml.getElementsByTagName(\"common\");\n    const page = xml.getElementsByTagName(\"page\");\n    const char = xml.getElementsByTagName(\"char\");\n    const kerning = xml.getElementsByTagName(\"kerning\");\n    const distanceField = xml.getElementsByTagName(\"distanceField\");\n    for (let i = 0; i < info.length; i++) {\n      data.info.push({\n        face: info[i].getAttribute(\"face\"),\n        size: parseInt(info[i].getAttribute(\"size\"), 10)\n      });\n    }\n    for (let i = 0; i < common.length; i++) {\n      data.common.push({\n        lineHeight: parseInt(common[i].getAttribute(\"lineHeight\"), 10)\n      });\n    }\n    for (let i = 0; i < page.length; i++) {\n      data.page.push({\n        id: parseInt(page[i].getAttribute(\"id\"), 10) || 0,\n        file: page[i].getAttribute(\"file\")\n      });\n    }\n    for (let i = 0; i < char.length; i++) {\n      const letter = char[i];\n      data.char.push({\n        id: parseInt(letter.getAttribute(\"id\"), 10),\n        page: parseInt(letter.getAttribute(\"page\"), 10) || 0,\n        x: parseInt(letter.getAttribute(\"x\"), 10),\n        y: parseInt(letter.getAttribute(\"y\"), 10),\n        width: parseInt(letter.getAttribute(\"width\"), 10),\n        height: parseInt(letter.getAttribute(\"height\"), 10),\n        xoffset: parseInt(letter.getAttribute(\"xoffset\"), 10),\n        yoffset: parseInt(letter.getAttribute(\"yoffset\"), 10),\n        xadvance: parseInt(letter.getAttribute(\"xadvance\"), 10)\n      });\n    }\n    for (let i = 0; i < kerning.length; i++) {\n      data.kerning.push({\n        first: parseInt(kerning[i].getAttribute(\"first\"), 10),\n        second: parseInt(kerning[i].getAttribute(\"second\"), 10),\n        amount: parseInt(kerning[i].getAttribute(\"amount\"), 10)\n      });\n    }\n    for (let i = 0; i < distanceField.length; i++) {\n      data.distanceField.push({\n        fieldType: distanceField[i].getAttribute(\"fieldType\"),\n        distanceRange: parseInt(distanceField[i].getAttribute(\"distanceRange\"), 10)\n      });\n    }\n    return data;\n  }\n}\n\nexport { XMLFormat };\n//# sourceMappingURL=XMLFormat.mjs.map\n","import { settings } from '@pixi/core';\nimport { XMLFormat } from './XMLFormat.mjs';\n\nclass XMLStringFormat {\n  static test(data) {\n    if (typeof data === \"string\" && data.includes(\"<font>\")) {\n      return XMLFormat.test(settings.ADAPTER.parseXML(data));\n    }\n    return false;\n  }\n  static parse(xmlTxt) {\n    return XMLFormat.parse(settings.ADAPTER.parseXML(xmlTxt));\n  }\n}\n\nexport { XMLStringFormat };\n//# sourceMappingURL=XMLStringFormat.mjs.map\n","import { TextFormat } from './TextFormat.mjs';\nexport { TextFormat } from './TextFormat.mjs';\nimport { XMLFormat } from './XMLFormat.mjs';\nexport { XMLFormat } from './XMLFormat.mjs';\nimport { XMLStringFormat } from './XMLStringFormat.mjs';\nexport { XMLStringFormat } from './XMLStringFormat.mjs';\n\nconst formats = [\n  TextFormat,\n  XMLFormat,\n  XMLStringFormat\n];\nfunction autoDetectFormat(data) {\n  for (let i = 0; i < formats.length; i++) {\n    if (formats[i].test(data)) {\n      return formats[i];\n    }\n  }\n  return null;\n}\n\nexport { autoDetectFormat };\n//# sourceMappingURL=index.mjs.map\n","import { Color } from '@pixi/core';\nimport { generateFillStyle } from './generateFillStyle.mjs';\n\nfunction drawGlyph(canvas, context, metrics, x, y, resolution, style) {\n  const char = metrics.text;\n  const fontProperties = metrics.fontProperties;\n  context.translate(x, y);\n  context.scale(resolution, resolution);\n  const tx = style.strokeThickness / 2;\n  const ty = -(style.strokeThickness / 2);\n  context.font = style.toFontString();\n  context.lineWidth = style.strokeThickness;\n  context.textBaseline = style.textBaseline;\n  context.lineJoin = style.lineJoin;\n  context.miterLimit = style.miterLimit;\n  context.fillStyle = generateFillStyle(canvas, context, style, resolution, [char], metrics);\n  context.strokeStyle = style.stroke;\n  if (style.dropShadow) {\n    const dropShadowColor = style.dropShadowColor;\n    const dropShadowBlur = style.dropShadowBlur * resolution;\n    const dropShadowDistance = style.dropShadowDistance * resolution;\n    context.shadowColor = Color.shared.setValue(dropShadowColor).setAlpha(style.dropShadowAlpha).toRgbaString();\n    context.shadowBlur = dropShadowBlur;\n    context.shadowOffsetX = Math.cos(style.dropShadowAngle) * dropShadowDistance;\n    context.shadowOffsetY = Math.sin(style.dropShadowAngle) * dropShadowDistance;\n  } else {\n    context.shadowColor = \"black\";\n    context.shadowBlur = 0;\n    context.shadowOffsetX = 0;\n    context.shadowOffsetY = 0;\n  }\n  if (style.stroke && style.strokeThickness) {\n    context.strokeText(char, tx, ty + metrics.lineHeight - fontProperties.descent);\n  }\n  if (style.fill) {\n    context.fillText(char, tx, ty + metrics.lineHeight - fontProperties.descent);\n  }\n  context.setTransform(1, 0, 0, 1, 0, 0);\n  context.fillStyle = \"rgba(0, 0, 0, 0)\";\n}\n\nexport { drawGlyph };\n//# sourceMappingURL=drawGlyph.mjs.map\n","import { TEXT_GRADIENT } from '@pixi/text';\n\nfunction generateFillStyle(canvas, context, style, resolution, lines, metrics) {\n  const fillStyle = style.fill;\n  if (!Array.isArray(fillStyle)) {\n    return fillStyle;\n  } else if (fillStyle.length === 1) {\n    return fillStyle[0];\n  }\n  let gradient;\n  const dropShadowCorrection = style.dropShadow ? style.dropShadowDistance : 0;\n  const padding = style.padding || 0;\n  const width = canvas.width / resolution - dropShadowCorrection - padding * 2;\n  const height = canvas.height / resolution - dropShadowCorrection - padding * 2;\n  const fill = fillStyle.slice();\n  const fillGradientStops = style.fillGradientStops.slice();\n  if (!fillGradientStops.length) {\n    const lengthPlus1 = fill.length + 1;\n    for (let i = 1; i < lengthPlus1; ++i) {\n      fillGradientStops.push(i / lengthPlus1);\n    }\n  }\n  fill.unshift(fillStyle[0]);\n  fillGradientStops.unshift(0);\n  fill.push(fillStyle[fillStyle.length - 1]);\n  fillGradientStops.push(1);\n  if (style.fillGradientType === TEXT_GRADIENT.LINEAR_VERTICAL) {\n    gradient = context.createLinearGradient(width / 2, padding, width / 2, height + padding);\n    let lastIterationStop = 0;\n    const textHeight = metrics.fontProperties.fontSize + style.strokeThickness;\n    const gradStopLineHeight = textHeight / height;\n    for (let i = 0; i < lines.length; i++) {\n      const thisLineTop = metrics.lineHeight * i;\n      for (let j = 0; j < fill.length; j++) {\n        let lineStop = 0;\n        if (typeof fillGradientStops[j] === \"number\") {\n          lineStop = fillGradientStops[j];\n        } else {\n          lineStop = j / fill.length;\n        }\n        const globalStop = thisLineTop / height + lineStop * gradStopLineHeight;\n        let clampedStop = Math.max(lastIterationStop, globalStop);\n        clampedStop = Math.min(clampedStop, 1);\n        gradient.addColorStop(clampedStop, fill[j]);\n        lastIterationStop = clampedStop;\n      }\n    }\n  } else {\n    gradient = context.createLinearGradient(padding, height / 2, width + padding, height / 2);\n    const totalIterations = fill.length + 1;\n    let currentIteration = 1;\n    for (let i = 0; i < fill.length; i++) {\n      let stop;\n      if (typeof fillGradientStops[i] === \"number\") {\n        stop = fillGradientStops[i];\n      } else {\n        stop = currentIteration / totalIterations;\n      }\n      gradient.addColorStop(stop, fill[i]);\n      currentIteration++;\n    }\n  }\n  return gradient;\n}\n\nexport { generateFillStyle };\n//# sourceMappingURL=generateFillStyle.mjs.map\n","function splitTextToCharacters(text) {\n  return Array.from ? Array.from(text) : text.split(\"\");\n}\n\nexport { splitTextToCharacters };\n//# sourceMappingURL=splitTextToCharacters.mjs.map\n","function extractCharCode(str) {\n  return str.codePointAt ? str.codePointAt(0) : str.charCodeAt(0);\n}\n\nexport { extractCharCode };\n//# sourceMappingURL=extractCharCode.mjs.map\n","import { utils, ALPHA_MODES, MIPMAP_MODES, Rectangle, Texture, settings, BaseTexture } from '@pixi/core';\nimport { TextStyle, TextMetrics } from '@pixi/text';\nimport { BitmapFontData } from './BitmapFontData.mjs';\nimport { autoDetectFormat } from './formats/index.mjs';\nimport './utils/index.mjs';\nimport { resolveCharacters } from './utils/resolveCharacters.mjs';\nimport { drawGlyph } from './utils/drawGlyph.mjs';\nimport { extractCharCode } from './utils/extractCharCode.mjs';\n\nconst _BitmapFont = class {\n  constructor(data, textures, ownsTextures) {\n    const [info] = data.info;\n    const [common] = data.common;\n    const [page] = data.page;\n    const [distanceField] = data.distanceField;\n    const res = utils.getResolutionOfUrl(page.file);\n    const pageTextures = {};\n    this._ownsTextures = ownsTextures;\n    this.font = info.face;\n    this.size = info.size;\n    this.lineHeight = common.lineHeight / res;\n    this.chars = {};\n    this.pageTextures = pageTextures;\n    for (let i = 0; i < data.page.length; i++) {\n      const { id, file } = data.page[i];\n      pageTextures[id] = textures instanceof Array ? textures[i] : textures[file];\n      if (distanceField?.fieldType && distanceField.fieldType !== \"none\") {\n        pageTextures[id].baseTexture.alphaMode = ALPHA_MODES.NO_PREMULTIPLIED_ALPHA;\n        pageTextures[id].baseTexture.mipmap = MIPMAP_MODES.OFF;\n      }\n    }\n    for (let i = 0; i < data.char.length; i++) {\n      const { id, page: page2 } = data.char[i];\n      let { x, y, width, height, xoffset, yoffset, xadvance } = data.char[i];\n      x /= res;\n      y /= res;\n      width /= res;\n      height /= res;\n      xoffset /= res;\n      yoffset /= res;\n      xadvance /= res;\n      const rect = new Rectangle(x + pageTextures[page2].frame.x / res, y + pageTextures[page2].frame.y / res, width, height);\n      this.chars[id] = {\n        xOffset: xoffset,\n        yOffset: yoffset,\n        xAdvance: xadvance,\n        kerning: {},\n        texture: new Texture(pageTextures[page2].baseTexture, rect),\n        page: page2\n      };\n    }\n    for (let i = 0; i < data.kerning.length; i++) {\n      let { first, second, amount } = data.kerning[i];\n      first /= res;\n      second /= res;\n      amount /= res;\n      if (this.chars[second]) {\n        this.chars[second].kerning[first] = amount;\n      }\n    }\n    this.distanceFieldRange = distanceField?.distanceRange;\n    this.distanceFieldType = distanceField?.fieldType?.toLowerCase() ?? \"none\";\n  }\n  destroy() {\n    for (const id in this.chars) {\n      this.chars[id].texture.destroy();\n      this.chars[id].texture = null;\n    }\n    for (const id in this.pageTextures) {\n      if (this._ownsTextures) {\n        this.pageTextures[id].destroy(true);\n      }\n      this.pageTextures[id] = null;\n    }\n    this.chars = null;\n    this.pageTextures = null;\n  }\n  static install(data, textures, ownsTextures) {\n    let fontData;\n    if (data instanceof BitmapFontData) {\n      fontData = data;\n    } else {\n      const format = autoDetectFormat(data);\n      if (!format) {\n        throw new Error(\"Unrecognized data format for font.\");\n      }\n      fontData = format.parse(data);\n    }\n    if (textures instanceof Texture) {\n      textures = [textures];\n    }\n    const font = new _BitmapFont(fontData, textures, ownsTextures);\n    _BitmapFont.available[font.font] = font;\n    return font;\n  }\n  static uninstall(name) {\n    const font = _BitmapFont.available[name];\n    if (!font) {\n      throw new Error(`No font found named '${name}'`);\n    }\n    font.destroy();\n    delete _BitmapFont.available[name];\n  }\n  static from(name, textStyle, options) {\n    if (!name) {\n      throw new Error(\"[BitmapFont] Property `name` is required.\");\n    }\n    const {\n      chars,\n      padding,\n      resolution,\n      textureWidth,\n      textureHeight,\n      ...baseOptions\n    } = Object.assign({}, _BitmapFont.defaultOptions, options);\n    const charsList = resolveCharacters(chars);\n    const style = textStyle instanceof TextStyle ? textStyle : new TextStyle(textStyle);\n    const lineWidth = textureWidth;\n    const fontData = new BitmapFontData();\n    fontData.info[0] = {\n      face: style.fontFamily,\n      size: style.fontSize\n    };\n    fontData.common[0] = {\n      lineHeight: style.fontSize\n    };\n    let positionX = 0;\n    let positionY = 0;\n    let canvas;\n    let context;\n    let baseTexture;\n    let maxCharHeight = 0;\n    const baseTextures = [];\n    const textures = [];\n    for (let i = 0; i < charsList.length; i++) {\n      if (!canvas) {\n        canvas = settings.ADAPTER.createCanvas();\n        canvas.width = textureWidth;\n        canvas.height = textureHeight;\n        context = canvas.getContext(\"2d\");\n        baseTexture = new BaseTexture(canvas, { resolution, ...baseOptions });\n        baseTextures.push(baseTexture);\n        textures.push(new Texture(baseTexture));\n        fontData.page.push({\n          id: textures.length - 1,\n          file: \"\"\n        });\n      }\n      const character = charsList[i];\n      const metrics = TextMetrics.measureText(character, style, false, canvas);\n      const width = metrics.width;\n      const height = Math.ceil(metrics.height);\n      const textureGlyphWidth = Math.ceil((style.fontStyle === \"italic\" ? 2 : 1) * width);\n      if (positionY >= textureHeight - height * resolution) {\n        if (positionY === 0) {\n          throw new Error(`[BitmapFont] textureHeight ${textureHeight}px is too small (fontFamily: '${style.fontFamily}', fontSize: ${style.fontSize}px, char: '${character}')`);\n        }\n        --i;\n        canvas = null;\n        context = null;\n        baseTexture = null;\n        positionY = 0;\n        positionX = 0;\n        maxCharHeight = 0;\n        continue;\n      }\n      maxCharHeight = Math.max(height + metrics.fontProperties.descent, maxCharHeight);\n      if (textureGlyphWidth * resolution + positionX >= lineWidth) {\n        if (positionX === 0) {\n          throw new Error(`[BitmapFont] textureWidth ${textureWidth}px is too small (fontFamily: '${style.fontFamily}', fontSize: ${style.fontSize}px, char: '${character}')`);\n        }\n        --i;\n        positionY += maxCharHeight * resolution;\n        positionY = Math.ceil(positionY);\n        positionX = 0;\n        maxCharHeight = 0;\n        continue;\n      }\n      drawGlyph(canvas, context, metrics, positionX, positionY, resolution, style);\n      const id = extractCharCode(metrics.text);\n      fontData.char.push({\n        id,\n        page: textures.length - 1,\n        x: positionX / resolution,\n        y: positionY / resolution,\n        width: textureGlyphWidth,\n        height,\n        xoffset: 0,\n        yoffset: 0,\n        xadvance: width - (style.dropShadow ? style.dropShadowDistance : 0) - (style.stroke ? style.strokeThickness : 0)\n      });\n      positionX += (textureGlyphWidth + 2 * padding) * resolution;\n      positionX = Math.ceil(positionX);\n    }\n    for (let i = 0, len = charsList.length; i < len; i++) {\n      const first = charsList[i];\n      for (let j = 0; j < len; j++) {\n        const second = charsList[j];\n        const c1 = context.measureText(first).width;\n        const c2 = context.measureText(second).width;\n        const total = context.measureText(first + second).width;\n        const amount = total - (c1 + c2);\n        if (amount) {\n          fontData.kerning.push({\n            first: extractCharCode(first),\n            second: extractCharCode(second),\n            amount\n          });\n        }\n      }\n    }\n    const font = new _BitmapFont(fontData, textures, true);\n    if (_BitmapFont.available[name] !== void 0) {\n      _BitmapFont.uninstall(name);\n    }\n    _BitmapFont.available[name] = font;\n    return font;\n  }\n};\nlet BitmapFont = _BitmapFont;\nBitmapFont.ALPHA = [[\"a\", \"z\"], [\"A\", \"Z\"], \" \"];\nBitmapFont.NUMERIC = [[\"0\", \"9\"]];\nBitmapFont.ALPHANUMERIC = [[\"a\", \"z\"], [\"A\", \"Z\"], [\"0\", \"9\"], \" \"];\nBitmapFont.ASCII = [[\" \", \"~\"]];\nBitmapFont.defaultOptions = {\n  resolution: 1,\n  textureWidth: 512,\n  textureHeight: 512,\n  padding: 4,\n  chars: _BitmapFont.ALPHANUMERIC\n};\nBitmapFont.available = {};\n\nexport { BitmapFont };\n//# sourceMappingURL=BitmapFont.mjs.map\n","import { splitTextToCharacters } from './splitTextToCharacters.mjs';\n\nfunction resolveCharacters(chars) {\n  if (typeof chars === \"string\") {\n    chars = [chars];\n  }\n  const result = [];\n  for (let i = 0, j = chars.length; i < j; i++) {\n    const item = chars[i];\n    if (Array.isArray(item)) {\n      if (item.length !== 2) {\n        throw new Error(`[BitmapFont]: Invalid character range length, expecting 2 got ${item.length}.`);\n      }\n      const startCode = item[0].charCodeAt(0);\n      const endCode = item[1].charCodeAt(0);\n      if (endCode < startCode) {\n        throw new Error(\"[BitmapFont]: Invalid character range.\");\n      }\n      for (let i2 = startCode, j2 = endCode; i2 <= j2; i2++) {\n        result.push(String.fromCharCode(i2));\n      }\n    } else {\n      result.push(...splitTextToCharacters(item));\n    }\n  }\n  if (result.length === 0) {\n    throw new Error(\"[BitmapFont]: Empty set when resolving characters.\");\n  }\n  return result;\n}\n\nexport { resolveCharacters };\n//# sourceMappingURL=resolveCharacters.mjs.map\n","import { ObservablePoint, settings, Point, Texture, utils, BLEND_MODES, Program } from '@pixi/core';\nimport { Container } from '@pixi/display';\nimport { MeshGeometry, MeshMaterial, Mesh } from '@pixi/mesh';\nimport { BitmapFont } from './BitmapFont.mjs';\nimport msdfFrag from './shader/msdf.mjs';\nimport msdfVert from './shader/msdf2.mjs';\nimport './utils/index.mjs';\nimport { splitTextToCharacters } from './utils/splitTextToCharacters.mjs';\nimport { extractCharCode } from './utils/extractCharCode.mjs';\n\nconst pageMeshDataDefaultPageMeshData = [];\nconst pageMeshDataMSDFPageMeshData = [];\nconst charRenderDataPool = [];\nconst _BitmapText = class extends Container {\n  constructor(text, style = {}) {\n    super();\n    this._tint = 16777215;\n    const { align, tint, maxWidth, letterSpacing, fontName, fontSize } = Object.assign({}, _BitmapText.styleDefaults, style);\n    if (!BitmapFont.available[fontName]) {\n      throw new Error(`Missing BitmapFont \"${fontName}\"`);\n    }\n    this._activePagesMeshData = [];\n    this._textWidth = 0;\n    this._textHeight = 0;\n    this._align = align;\n    this._tint = tint;\n    this._font = void 0;\n    this._fontName = fontName;\n    this._fontSize = fontSize;\n    this.text = text;\n    this._maxWidth = maxWidth;\n    this._maxLineHeight = 0;\n    this._letterSpacing = letterSpacing;\n    this._anchor = new ObservablePoint(() => {\n      this.dirty = true;\n    }, this, 0, 0);\n    this._roundPixels = settings.ROUND_PIXELS;\n    this.dirty = true;\n    this._resolution = settings.RESOLUTION;\n    this._autoResolution = true;\n    this._textureCache = {};\n  }\n  updateText() {\n    const data = BitmapFont.available[this._fontName];\n    const fontSize = this.fontSize;\n    const scale = fontSize / data.size;\n    const pos = new Point();\n    const chars = [];\n    const lineWidths = [];\n    const lineSpaces = [];\n    const text = this._text.replace(/(?:\\r\\n|\\r)/g, \"\\n\") || \" \";\n    const charsInput = splitTextToCharacters(text);\n    const maxWidth = this._maxWidth * data.size / fontSize;\n    const pageMeshDataPool = data.distanceFieldType === \"none\" ? pageMeshDataDefaultPageMeshData : pageMeshDataMSDFPageMeshData;\n    let prevCharCode = null;\n    let lastLineWidth = 0;\n    let maxLineWidth = 0;\n    let line = 0;\n    let lastBreakPos = -1;\n    let lastBreakWidth = 0;\n    let spacesRemoved = 0;\n    let maxLineHeight = 0;\n    let spaceCount = 0;\n    for (let i = 0; i < charsInput.length; i++) {\n      const char = charsInput[i];\n      const charCode = extractCharCode(char);\n      if (/(?:\\s)/.test(char)) {\n        lastBreakPos = i;\n        lastBreakWidth = lastLineWidth;\n        spaceCount++;\n      }\n      if (char === \"\\r\" || char === \"\\n\") {\n        lineWidths.push(lastLineWidth);\n        lineSpaces.push(-1);\n        maxLineWidth = Math.max(maxLineWidth, lastLineWidth);\n        ++line;\n        ++spacesRemoved;\n        pos.x = 0;\n        pos.y += data.lineHeight;\n        prevCharCode = null;\n        spaceCount = 0;\n        continue;\n      }\n      const charData = data.chars[charCode];\n      if (!charData) {\n        continue;\n      }\n      if (prevCharCode && charData.kerning[prevCharCode]) {\n        pos.x += charData.kerning[prevCharCode];\n      }\n      const charRenderData = charRenderDataPool.pop() || {\n        texture: Texture.EMPTY,\n        line: 0,\n        charCode: 0,\n        prevSpaces: 0,\n        position: new Point()\n      };\n      charRenderData.texture = charData.texture;\n      charRenderData.line = line;\n      charRenderData.charCode = charCode;\n      charRenderData.position.x = Math.round(pos.x + charData.xOffset + this._letterSpacing / 2);\n      charRenderData.position.y = Math.round(pos.y + charData.yOffset);\n      charRenderData.prevSpaces = spaceCount;\n      chars.push(charRenderData);\n      lastLineWidth = charRenderData.position.x + Math.max(charData.xAdvance - charData.xOffset, charData.texture.orig.width);\n      pos.x += charData.xAdvance + this._letterSpacing;\n      maxLineHeight = Math.max(maxLineHeight, charData.yOffset + charData.texture.height);\n      prevCharCode = charCode;\n      if (lastBreakPos !== -1 && maxWidth > 0 && pos.x > maxWidth) {\n        ++spacesRemoved;\n        utils.removeItems(chars, 1 + lastBreakPos - spacesRemoved, 1 + i - lastBreakPos);\n        i = lastBreakPos;\n        lastBreakPos = -1;\n        lineWidths.push(lastBreakWidth);\n        lineSpaces.push(chars.length > 0 ? chars[chars.length - 1].prevSpaces : 0);\n        maxLineWidth = Math.max(maxLineWidth, lastBreakWidth);\n        line++;\n        pos.x = 0;\n        pos.y += data.lineHeight;\n        prevCharCode = null;\n        spaceCount = 0;\n      }\n    }\n    const lastChar = charsInput[charsInput.length - 1];\n    if (lastChar !== \"\\r\" && lastChar !== \"\\n\") {\n      if (/(?:\\s)/.test(lastChar)) {\n        lastLineWidth = lastBreakWidth;\n      }\n      lineWidths.push(lastLineWidth);\n      maxLineWidth = Math.max(maxLineWidth, lastLineWidth);\n      lineSpaces.push(-1);\n    }\n    const lineAlignOffsets = [];\n    for (let i = 0; i <= line; i++) {\n      let alignOffset = 0;\n      if (this._align === \"right\") {\n        alignOffset = maxLineWidth - lineWidths[i];\n      } else if (this._align === \"center\") {\n        alignOffset = (maxLineWidth - lineWidths[i]) / 2;\n      } else if (this._align === \"justify\") {\n        alignOffset = lineSpaces[i] < 0 ? 0 : (maxLineWidth - lineWidths[i]) / lineSpaces[i];\n      }\n      lineAlignOffsets.push(alignOffset);\n    }\n    const lenChars = chars.length;\n    const pagesMeshData = {};\n    const newPagesMeshData = [];\n    const activePagesMeshData = this._activePagesMeshData;\n    pageMeshDataPool.push(...activePagesMeshData);\n    for (let i = 0; i < lenChars; i++) {\n      const texture = chars[i].texture;\n      const baseTextureUid = texture.baseTexture.uid;\n      if (!pagesMeshData[baseTextureUid]) {\n        let pageMeshData = pageMeshDataPool.pop();\n        if (!pageMeshData) {\n          const geometry = new MeshGeometry();\n          let material;\n          let meshBlendMode;\n          if (data.distanceFieldType === \"none\") {\n            material = new MeshMaterial(Texture.EMPTY);\n            meshBlendMode = BLEND_MODES.NORMAL;\n          } else {\n            material = new MeshMaterial(Texture.EMPTY, { program: Program.from(msdfVert, msdfFrag), uniforms: { uFWidth: 0 } });\n            meshBlendMode = BLEND_MODES.NORMAL_NPM;\n          }\n          const mesh = new Mesh(geometry, material);\n          mesh.blendMode = meshBlendMode;\n          pageMeshData = {\n            index: 0,\n            indexCount: 0,\n            vertexCount: 0,\n            uvsCount: 0,\n            total: 0,\n            mesh,\n            vertices: null,\n            uvs: null,\n            indices: null\n          };\n        }\n        pageMeshData.index = 0;\n        pageMeshData.indexCount = 0;\n        pageMeshData.vertexCount = 0;\n        pageMeshData.uvsCount = 0;\n        pageMeshData.total = 0;\n        const { _textureCache } = this;\n        _textureCache[baseTextureUid] = _textureCache[baseTextureUid] || new Texture(texture.baseTexture);\n        pageMeshData.mesh.texture = _textureCache[baseTextureUid];\n        pageMeshData.mesh.tint = this._tint;\n        newPagesMeshData.push(pageMeshData);\n        pagesMeshData[baseTextureUid] = pageMeshData;\n      }\n      pagesMeshData[baseTextureUid].total++;\n    }\n    for (let i = 0; i < activePagesMeshData.length; i++) {\n      if (!newPagesMeshData.includes(activePagesMeshData[i])) {\n        this.removeChild(activePagesMeshData[i].mesh);\n      }\n    }\n    for (let i = 0; i < newPagesMeshData.length; i++) {\n      if (newPagesMeshData[i].mesh.parent !== this) {\n        this.addChild(newPagesMeshData[i].mesh);\n      }\n    }\n    this._activePagesMeshData = newPagesMeshData;\n    for (const i in pagesMeshData) {\n      const pageMeshData = pagesMeshData[i];\n      const total = pageMeshData.total;\n      if (!(pageMeshData.indices?.length > 6 * total) || pageMeshData.vertices.length < Mesh.BATCHABLE_SIZE * 2) {\n        pageMeshData.vertices = new Float32Array(4 * 2 * total);\n        pageMeshData.uvs = new Float32Array(4 * 2 * total);\n        pageMeshData.indices = new Uint16Array(6 * total);\n      } else {\n        const total2 = pageMeshData.total;\n        const vertices = pageMeshData.vertices;\n        for (let i2 = total2 * 4 * 2; i2 < vertices.length; i2++) {\n          vertices[i2] = 0;\n        }\n      }\n      pageMeshData.mesh.size = 6 * total;\n    }\n    for (let i = 0; i < lenChars; i++) {\n      const char = chars[i];\n      let offset = char.position.x + lineAlignOffsets[char.line] * (this._align === \"justify\" ? char.prevSpaces : 1);\n      if (this._roundPixels) {\n        offset = Math.round(offset);\n      }\n      const xPos = offset * scale;\n      const yPos = char.position.y * scale;\n      const texture = char.texture;\n      const pageMesh = pagesMeshData[texture.baseTexture.uid];\n      const textureFrame = texture.frame;\n      const textureUvs = texture._uvs;\n      const index = pageMesh.index++;\n      pageMesh.indices[index * 6 + 0] = 0 + index * 4;\n      pageMesh.indices[index * 6 + 1] = 1 + index * 4;\n      pageMesh.indices[index * 6 + 2] = 2 + index * 4;\n      pageMesh.indices[index * 6 + 3] = 0 + index * 4;\n      pageMesh.indices[index * 6 + 4] = 2 + index * 4;\n      pageMesh.indices[index * 6 + 5] = 3 + index * 4;\n      pageMesh.vertices[index * 8 + 0] = xPos;\n      pageMesh.vertices[index * 8 + 1] = yPos;\n      pageMesh.vertices[index * 8 + 2] = xPos + textureFrame.width * scale;\n      pageMesh.vertices[index * 8 + 3] = yPos;\n      pageMesh.vertices[index * 8 + 4] = xPos + textureFrame.width * scale;\n      pageMesh.vertices[index * 8 + 5] = yPos + textureFrame.height * scale;\n      pageMesh.vertices[index * 8 + 6] = xPos;\n      pageMesh.vertices[index * 8 + 7] = yPos + textureFrame.height * scale;\n      pageMesh.uvs[index * 8 + 0] = textureUvs.x0;\n      pageMesh.uvs[index * 8 + 1] = textureUvs.y0;\n      pageMesh.uvs[index * 8 + 2] = textureUvs.x1;\n      pageMesh.uvs[index * 8 + 3] = textureUvs.y1;\n      pageMesh.uvs[index * 8 + 4] = textureUvs.x2;\n      pageMesh.uvs[index * 8 + 5] = textureUvs.y2;\n      pageMesh.uvs[index * 8 + 6] = textureUvs.x3;\n      pageMesh.uvs[index * 8 + 7] = textureUvs.y3;\n    }\n    this._textWidth = maxLineWidth * scale;\n    this._textHeight = (pos.y + data.lineHeight) * scale;\n    for (const i in pagesMeshData) {\n      const pageMeshData = pagesMeshData[i];\n      if (this.anchor.x !== 0 || this.anchor.y !== 0) {\n        let vertexCount = 0;\n        const anchorOffsetX = this._textWidth * this.anchor.x;\n        const anchorOffsetY = this._textHeight * this.anchor.y;\n        for (let i2 = 0; i2 < pageMeshData.total; i2++) {\n          pageMeshData.vertices[vertexCount++] -= anchorOffsetX;\n          pageMeshData.vertices[vertexCount++] -= anchorOffsetY;\n          pageMeshData.vertices[vertexCount++] -= anchorOffsetX;\n          pageMeshData.vertices[vertexCount++] -= anchorOffsetY;\n          pageMeshData.vertices[vertexCount++] -= anchorOffsetX;\n          pageMeshData.vertices[vertexCount++] -= anchorOffsetY;\n          pageMeshData.vertices[vertexCount++] -= anchorOffsetX;\n          pageMeshData.vertices[vertexCount++] -= anchorOffsetY;\n        }\n      }\n      this._maxLineHeight = maxLineHeight * scale;\n      const vertexBuffer = pageMeshData.mesh.geometry.getBuffer(\"aVertexPosition\");\n      const textureBuffer = pageMeshData.mesh.geometry.getBuffer(\"aTextureCoord\");\n      const indexBuffer = pageMeshData.mesh.geometry.getIndex();\n      vertexBuffer.data = pageMeshData.vertices;\n      textureBuffer.data = pageMeshData.uvs;\n      indexBuffer.data = pageMeshData.indices;\n      vertexBuffer.update();\n      textureBuffer.update();\n      indexBuffer.update();\n    }\n    for (let i = 0; i < chars.length; i++) {\n      charRenderDataPool.push(chars[i]);\n    }\n    this._font = data;\n    this.dirty = false;\n  }\n  updateTransform() {\n    this.validate();\n    this.containerUpdateTransform();\n  }\n  _render(renderer) {\n    if (this._autoResolution && this._resolution !== renderer.resolution) {\n      this._resolution = renderer.resolution;\n      this.dirty = true;\n    }\n    const { distanceFieldRange, distanceFieldType, size } = BitmapFont.available[this._fontName];\n    if (distanceFieldType !== \"none\") {\n      const { a, b, c, d } = this.worldTransform;\n      const dx = Math.sqrt(a * a + b * b);\n      const dy = Math.sqrt(c * c + d * d);\n      const worldScale = (Math.abs(dx) + Math.abs(dy)) / 2;\n      const fontScale = this.fontSize / size;\n      const resolution = renderer._view.resolution;\n      for (const mesh of this._activePagesMeshData) {\n        mesh.mesh.shader.uniforms.uFWidth = worldScale * distanceFieldRange * fontScale * resolution;\n      }\n    }\n    super._render(renderer);\n  }\n  getLocalBounds() {\n    this.validate();\n    return super.getLocalBounds();\n  }\n  validate() {\n    const font = BitmapFont.available[this._fontName];\n    if (!font) {\n      throw new Error(`Missing BitmapFont \"${this._fontName}\"`);\n    }\n    if (this._font !== font) {\n      this.dirty = true;\n    }\n    if (this.dirty) {\n      this.updateText();\n    }\n  }\n  get tint() {\n    return this._tint;\n  }\n  set tint(value) {\n    if (this._tint === value)\n      return;\n    this._tint = value;\n    for (let i = 0; i < this._activePagesMeshData.length; i++) {\n      this._activePagesMeshData[i].mesh.tint = value;\n    }\n  }\n  get align() {\n    return this._align;\n  }\n  set align(value) {\n    if (this._align !== value) {\n      this._align = value;\n      this.dirty = true;\n    }\n  }\n  get fontName() {\n    return this._fontName;\n  }\n  set fontName(value) {\n    if (!BitmapFont.available[value]) {\n      throw new Error(`Missing BitmapFont \"${value}\"`);\n    }\n    if (this._fontName !== value) {\n      this._fontName = value;\n      this.dirty = true;\n    }\n  }\n  get fontSize() {\n    return this._fontSize ?? BitmapFont.available[this._fontName].size;\n  }\n  set fontSize(value) {\n    if (this._fontSize !== value) {\n      this._fontSize = value;\n      this.dirty = true;\n    }\n  }\n  get anchor() {\n    return this._anchor;\n  }\n  set anchor(value) {\n    if (typeof value === \"number\") {\n      this._anchor.set(value);\n    } else {\n      this._anchor.copyFrom(value);\n    }\n  }\n  get text() {\n    return this._text;\n  }\n  set text(text) {\n    text = String(text === null || text === void 0 ? \"\" : text);\n    if (this._text === text) {\n      return;\n    }\n    this._text = text;\n    this.dirty = true;\n  }\n  get maxWidth() {\n    return this._maxWidth;\n  }\n  set maxWidth(value) {\n    if (this._maxWidth === value) {\n      return;\n    }\n    this._maxWidth = value;\n    this.dirty = true;\n  }\n  get maxLineHeight() {\n    this.validate();\n    return this._maxLineHeight;\n  }\n  get textWidth() {\n    this.validate();\n    return this._textWidth;\n  }\n  get letterSpacing() {\n    return this._letterSpacing;\n  }\n  set letterSpacing(value) {\n    if (this._letterSpacing !== value) {\n      this._letterSpacing = value;\n      this.dirty = true;\n    }\n  }\n  get roundPixels() {\n    return this._roundPixels;\n  }\n  set roundPixels(value) {\n    if (value !== this._roundPixels) {\n      this._roundPixels = value;\n      this.dirty = true;\n    }\n  }\n  get textHeight() {\n    this.validate();\n    return this._textHeight;\n  }\n  get resolution() {\n    return this._resolution;\n  }\n  set resolution(value) {\n    this._autoResolution = false;\n    if (this._resolution === value) {\n      return;\n    }\n    this._resolution = value;\n    this.dirty = true;\n  }\n  destroy(options) {\n    const { _textureCache } = this;\n    const data = BitmapFont.available[this._fontName];\n    const pageMeshDataPool = data.distanceFieldType === \"none\" ? pageMeshDataDefaultPageMeshData : pageMeshDataMSDFPageMeshData;\n    pageMeshDataPool.push(...this._activePagesMeshData);\n    for (const pageMeshData of this._activePagesMeshData) {\n      this.removeChild(pageMeshData.mesh);\n    }\n    this._activePagesMeshData = [];\n    pageMeshDataPool.filter((page) => _textureCache[page.mesh.texture.baseTexture.uid]).forEach((page) => {\n      page.mesh.texture = Texture.EMPTY;\n    });\n    for (const id in _textureCache) {\n      const texture = _textureCache[id];\n      texture.destroy();\n      delete _textureCache[id];\n    }\n    this._font = null;\n    this._textureCache = null;\n    super.destroy(options);\n  }\n};\nlet BitmapText = _BitmapText;\nBitmapText.styleDefaults = {\n  align: \"left\",\n  tint: 16777215,\n  maxWidth: 0,\n  letterSpacing: 0\n};\n\nexport { BitmapText };\n//# sourceMappingURL=BitmapText.mjs.map\n","var msdfVert = \"// Mesh material default fragment\\r\\nattribute vec2 aVertexPosition;\\r\\nattribute vec2 aTextureCoord;\\r\\n\\r\\nuniform mat3 projectionMatrix;\\r\\nuniform mat3 translationMatrix;\\r\\nuniform mat3 uTextureMatrix;\\r\\n\\r\\nvarying vec2 vTextureCoord;\\r\\n\\r\\nvoid main(void)\\r\\n{\\r\\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\\r\\n\\r\\n    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;\\r\\n}\\r\\n\";\n\nexport { msdfVert as default };\n//# sourceMappingURL=msdf2.mjs.map\n","var msdfFrag = \"// Pixi texture info\\r\\nvarying vec2 vTextureCoord;\\r\\nuniform sampler2D uSampler;\\r\\n\\r\\n// Tint\\r\\nuniform vec4 uColor;\\r\\n\\r\\n// on 2D applications fwidth is screenScale / glyphAtlasScale * distanceFieldRange\\r\\nuniform float uFWidth;\\r\\n\\r\\nvoid main(void) {\\r\\n\\r\\n  // To stack MSDF and SDF we need a non-pre-multiplied-alpha texture.\\r\\n  vec4 texColor = texture2D(uSampler, vTextureCoord);\\r\\n\\r\\n  // MSDF\\r\\n  float median = texColor.r + texColor.g + texColor.b -\\r\\n                  min(texColor.r, min(texColor.g, texColor.b)) -\\r\\n                  max(texColor.r, max(texColor.g, texColor.b));\\r\\n  // SDF\\r\\n  median = min(median, texColor.a);\\r\\n\\r\\n  float screenPxDistance = uFWidth * (median - 0.5);\\r\\n  float alpha = clamp(screenPxDistance + 0.5, 0.0, 1.0);\\r\\n  if (median < 0.01) {\\r\\n    alpha = 0.0;\\r\\n  } else if (median > 0.99) {\\r\\n    alpha = 1.0;\\r\\n  }\\r\\n\\r\\n  // NPM Textures, NPM outputs\\r\\n  gl_FragColor = vec4(uColor.rgb, uColor.a * alpha);\\r\\n\\r\\n}\\r\\n\";\n\nexport { msdfFrag as default };\n//# sourceMappingURL=msdf.mjs.map\n","import { LoaderParserPriority, copySearchParams } from '@pixi/assets';\nimport { ExtensionType, utils, settings, extensions } from '@pixi/core';\nimport { BitmapFont } from './BitmapFont.mjs';\nimport './formats/index.mjs';\nimport { TextFormat } from './formats/TextFormat.mjs';\nimport { XMLStringFormat } from './formats/XMLStringFormat.mjs';\n\nconst validExtensions = [\".xml\", \".fnt\"];\nconst loadBitmapFont = {\n  extension: {\n    type: ExtensionType.LoadParser,\n    priority: LoaderParserPriority.Normal\n  },\n  test(url) {\n    return validExtensions.includes(utils.path.extname(url).toLowerCase());\n  },\n  async testParse(data) {\n    return TextFormat.test(data) || XMLStringFormat.test(data);\n  },\n  async parse(asset, data, loader) {\n    const fontData = TextFormat.test(asset) ? TextFormat.parse(asset) : XMLStringFormat.parse(asset);\n    const { src } = data;\n    const { page: pages } = fontData;\n    const textureUrls = [];\n    for (let i = 0; i < pages.length; ++i) {\n      const pageFile = pages[i].file;\n      let imagePath = utils.path.join(utils.path.dirname(src), pageFile);\n      imagePath = copySearchParams(imagePath, src);\n      textureUrls.push(imagePath);\n    }\n    const loadedTextures = await loader.load(textureUrls);\n    const textures = textureUrls.map((url) => loadedTextures[url]);\n    return BitmapFont.install(fontData, textures, true);\n  },\n  async load(url, _options) {\n    const response = await settings.ADAPTER.fetch(url);\n    return response.text();\n  },\n  unload(bitmapFont) {\n    bitmapFont.destroy();\n  }\n};\nextensions.add(loadBitmapFont);\n\nexport { loadBitmapFont };\n//# sourceMappingURL=loadBitmapFont.mjs.map\n","import { settings, utils } from '@pixi/core';\nimport { TextStyle } from '@pixi/text';\n\nconst _HTMLTextStyle = class extends TextStyle {\n  constructor() {\n    super(...arguments);\n    this._fonts = [];\n    this._overrides = [];\n    this._stylesheet = \"\";\n    this.fontsDirty = false;\n  }\n  static from(originalStyle) {\n    return new _HTMLTextStyle(Object.keys(_HTMLTextStyle.defaultOptions).reduce((obj, prop) => ({ ...obj, [prop]: originalStyle[prop] }), {}));\n  }\n  cleanFonts() {\n    if (this._fonts.length > 0) {\n      this._fonts.forEach((font) => {\n        URL.revokeObjectURL(font.src);\n        font.refs--;\n        if (font.refs === 0) {\n          if (font.fontFace) {\n            document.fonts.delete(font.fontFace);\n          }\n          delete _HTMLTextStyle.availableFonts[font.originalUrl];\n        }\n      });\n      this.fontFamily = \"Arial\";\n      this._fonts.length = 0;\n      this.styleID++;\n      this.fontsDirty = true;\n    }\n  }\n  loadFont(url, options = {}) {\n    const { availableFonts } = _HTMLTextStyle;\n    if (availableFonts[url]) {\n      const font = availableFonts[url];\n      this._fonts.push(font);\n      font.refs++;\n      this.styleID++;\n      this.fontsDirty = true;\n      return Promise.resolve();\n    }\n    return settings.ADAPTER.fetch(url).then((response) => response.blob()).then(async (blob) => new Promise((resolve, reject) => {\n      const src = URL.createObjectURL(blob);\n      const reader = new FileReader();\n      reader.onload = () => resolve([src, reader.result]);\n      reader.onerror = reject;\n      reader.readAsDataURL(blob);\n    })).then(async ([src, dataSrc]) => {\n      const font = Object.assign({\n        family: utils.path.basename(url, utils.path.extname(url)),\n        weight: \"normal\",\n        style: \"normal\",\n        src,\n        dataSrc,\n        refs: 1,\n        originalUrl: url,\n        fontFace: null\n      }, options);\n      availableFonts[url] = font;\n      this._fonts.push(font);\n      this.styleID++;\n      const fontFace = new FontFace(font.family, `url(${font.src})`, {\n        weight: font.weight,\n        style: font.style\n      });\n      font.fontFace = fontFace;\n      await fontFace.load();\n      document.fonts.add(fontFace);\n      await document.fonts.ready;\n      this.styleID++;\n      this.fontsDirty = true;\n    });\n  }\n  addOverride(...value) {\n    const toAdd = value.filter((v) => !this._overrides.includes(v));\n    if (toAdd.length > 0) {\n      this._overrides.push(...toAdd);\n      this.styleID++;\n    }\n  }\n  removeOverride(...value) {\n    const toRemove = value.filter((v) => this._overrides.includes(v));\n    if (toRemove.length > 0) {\n      this._overrides = this._overrides.filter((v) => !toRemove.includes(v));\n      this.styleID++;\n    }\n  }\n  toCSS(scale) {\n    return [\n      \"display: inline-block\",\n      `color: ${this.normalizeColor(this.fill)}`,\n      `font-size: ${this.fontSize * scale}px`,\n      `font-family: ${this.fontFamily}`,\n      `font-weight: ${this.fontWeight}`,\n      `font-style: ${this.fontStyle}`,\n      `font-variant: ${this.fontVariant}`,\n      `letter-spacing: ${this.letterSpacing * scale}px`,\n      `text-align: ${this.align}`,\n      `padding: ${this.padding * scale}px`,\n      `white-space: ${this.whiteSpace}`,\n      ...this.lineHeight ? [`line-height: ${this.lineHeight * scale}px`] : [],\n      ...this.wordWrap ? [\n        `word-wrap: ${this.breakWords ? \"break-all\" : \"break-word\"}`,\n        `max-width: ${this.wordWrapWidth * scale}px`\n      ] : [],\n      ...this.strokeThickness ? [\n        `-webkit-text-stroke-width: ${this.strokeThickness * scale}px`,\n        `-webkit-text-stroke-color: ${this.normalizeColor(this.stroke)}`,\n        `text-stroke-width: ${this.strokeThickness * scale}px`,\n        `text-stroke-color: ${this.normalizeColor(this.stroke)}`,\n        \"paint-order: stroke\"\n      ] : [],\n      ...this.dropShadow ? [this.dropShadowToCSS(scale)] : [],\n      ...this._overrides\n    ].join(\";\");\n  }\n  toGlobalCSS() {\n    return this._fonts.reduce((result, font) => `${result}\n            @font-face {\n                font-family: \"${font.family}\";\n                src: url('${font.dataSrc}');\n                font-weight: ${font.weight};\n                font-style: ${font.style}; \n            }`, this._stylesheet);\n  }\n  get stylesheet() {\n    return this._stylesheet;\n  }\n  set stylesheet(value) {\n    if (this._stylesheet !== value) {\n      this._stylesheet = value;\n      this.styleID++;\n    }\n  }\n  normalizeColor(color) {\n    if (Array.isArray(color)) {\n      color = utils.rgb2hex(color);\n    }\n    if (typeof color === \"number\") {\n      return utils.hex2string(color);\n    }\n    return color;\n  }\n  dropShadowToCSS(scale) {\n    let color = this.normalizeColor(this.dropShadowColor);\n    const alpha = this.dropShadowAlpha;\n    const x = Math.round(Math.cos(this.dropShadowAngle) * this.dropShadowDistance);\n    const y = Math.round(Math.sin(this.dropShadowAngle) * this.dropShadowDistance);\n    if (color.startsWith(\"#\") && alpha < 1) {\n      color += (alpha * 255 | 0).toString(16).padStart(2, \"0\");\n    }\n    const position = `${x * scale}px ${y * scale}px`;\n    if (this.dropShadowBlur > 0) {\n      return `text-shadow: ${position} ${this.dropShadowBlur}px ${color}`;\n    }\n    return `text-shadow: ${position} ${color}`;\n  }\n  reset() {\n    Object.assign(this, _HTMLTextStyle.defaultOptions);\n  }\n  onBeforeDraw() {\n    const { fontsDirty: prevFontsDirty } = this;\n    this.fontsDirty = false;\n    if (this.isSafari && this._fonts.length > 0 && prevFontsDirty) {\n      return new Promise((resolve) => setTimeout(resolve, 100));\n    }\n    return Promise.resolve();\n  }\n  get isSafari() {\n    const { userAgent } = settings.ADAPTER.getNavigator();\n    return /^((?!chrome|android).)*safari/i.test(userAgent);\n  }\n  set fillGradientStops(_value) {\n    console.warn(\"[HTMLTextStyle] fillGradientStops is not supported by HTMLText\");\n  }\n  get fillGradientStops() {\n    return super.fillGradientStops;\n  }\n  set fillGradientType(_value) {\n    console.warn(\"[HTMLTextStyle] fillGradientType is not supported by HTMLText\");\n  }\n  get fillGradientType() {\n    return super.fillGradientType;\n  }\n  set miterLimit(_value) {\n    console.warn(\"[HTMLTextStyle] miterLimit is not supported by HTMLText\");\n  }\n  get miterLimit() {\n    return super.miterLimit;\n  }\n  set trim(_value) {\n    console.warn(\"[HTMLTextStyle] trim is not supported by HTMLText\");\n  }\n  get trim() {\n    return super.trim;\n  }\n  set textBaseline(_value) {\n    console.warn(\"[HTMLTextStyle] textBaseline is not supported by HTMLText\");\n  }\n  get textBaseline() {\n    return super.textBaseline;\n  }\n  set leading(_value) {\n    console.warn(\"[HTMLTextStyle] leading is not supported by HTMLText\");\n  }\n  get leading() {\n    return super.leading;\n  }\n  set lineJoin(_value) {\n    console.warn(\"[HTMLTextStyle] lineJoin is not supported by HTMLText\");\n  }\n  get lineJoin() {\n    return super.lineJoin;\n  }\n};\nlet HTMLTextStyle = _HTMLTextStyle;\nHTMLTextStyle.availableFonts = {};\nHTMLTextStyle.defaultOptions = {\n  align: \"left\",\n  breakWords: false,\n  dropShadow: false,\n  dropShadowAlpha: 1,\n  dropShadowAngle: Math.PI / 6,\n  dropShadowBlur: 0,\n  dropShadowColor: \"black\",\n  dropShadowDistance: 5,\n  fill: \"black\",\n  fontFamily: \"Arial\",\n  fontSize: 26,\n  fontStyle: \"normal\",\n  fontVariant: \"normal\",\n  fontWeight: \"normal\",\n  letterSpacing: 0,\n  lineHeight: 0,\n  padding: 0,\n  stroke: \"black\",\n  strokeThickness: 0,\n  whiteSpace: \"normal\",\n  wordWrap: false,\n  wordWrapWidth: 100\n};\n\nexport { HTMLTextStyle };\n//# sourceMappingURL=HTMLTextStyle.mjs.map\n","import { Texture, settings, Rectangle, utils } from '@pixi/core';\nimport { Sprite } from '@pixi/sprite';\nimport { TextStyle } from '@pixi/text';\nimport { HTMLTextStyle } from './HTMLTextStyle.mjs';\n\nconst _HTMLText = class extends Sprite {\n  constructor(text = \"\", style = {}) {\n    super(Texture.EMPTY);\n    this._text = null;\n    this._style = null;\n    this._autoResolution = true;\n    this._loading = false;\n    this.localStyleID = -1;\n    this.dirty = false;\n    this.ownsStyle = false;\n    const image = new Image();\n    const texture = Texture.from(image, {\n      scaleMode: settings.SCALE_MODE,\n      resourceOptions: {\n        autoLoad: false\n      }\n    });\n    texture.orig = new Rectangle();\n    texture.trim = new Rectangle();\n    this.texture = texture;\n    const nssvg = \"http://www.w3.org/2000/svg\";\n    const nsxhtml = \"http://www.w3.org/1999/xhtml\";\n    const svgRoot = document.createElementNS(nssvg, \"svg\");\n    const foreignObject = document.createElementNS(nssvg, \"foreignObject\");\n    const domElement = document.createElementNS(nsxhtml, \"div\");\n    const styleElement = document.createElementNS(nsxhtml, \"style\");\n    foreignObject.setAttribute(\"width\", \"10000\");\n    foreignObject.setAttribute(\"height\", \"10000\");\n    foreignObject.style.overflow = \"hidden\";\n    svgRoot.appendChild(foreignObject);\n    this.maxWidth = _HTMLText.defaultMaxWidth;\n    this.maxHeight = _HTMLText.defaultMaxHeight;\n    this._domElement = domElement;\n    this._styleElement = styleElement;\n    this._svgRoot = svgRoot;\n    this._foreignObject = foreignObject;\n    this._foreignObject.appendChild(styleElement);\n    this._foreignObject.appendChild(domElement);\n    this._image = image;\n    this._autoResolution = _HTMLText.defaultAutoResolution;\n    this._resolution = _HTMLText.defaultResolution ?? settings.RESOLUTION;\n    this.text = text;\n    this.style = style;\n  }\n  measureText(overrides) {\n    const { text, style, resolution } = Object.assign({\n      text: this._text,\n      style: this._style,\n      resolution: this._resolution\n    }, overrides);\n    Object.assign(this._domElement, {\n      innerHTML: text,\n      style: style.toCSS(resolution)\n    });\n    this._styleElement.textContent = style.toGlobalCSS();\n    document.body.appendChild(this._svgRoot);\n    const contentBounds = this._domElement.getBoundingClientRect();\n    this._svgRoot.remove();\n    const contentWidth = Math.min(this.maxWidth, Math.ceil(contentBounds.width));\n    const contentHeight = Math.min(this.maxHeight, Math.ceil(contentBounds.height));\n    this._svgRoot.setAttribute(\"width\", contentWidth.toString());\n    this._svgRoot.setAttribute(\"height\", contentHeight.toString());\n    if (text !== this._text) {\n      this._domElement.innerHTML = this._text;\n    }\n    if (style !== this._style) {\n      Object.assign(this._domElement, { style: this._style?.toCSS(resolution) });\n      this._styleElement.textContent = this._style?.toGlobalCSS();\n    }\n    return {\n      width: contentWidth + style.padding * 2,\n      height: contentHeight + style.padding * 2\n    };\n  }\n  async updateText(respectDirty = true) {\n    const { style, _image: image } = this;\n    if (this.localStyleID !== style.styleID) {\n      this.dirty = true;\n      this.localStyleID = style.styleID;\n    }\n    if (!this.dirty && respectDirty) {\n      return;\n    }\n    const { width, height } = this.measureText();\n    image.width = Math.ceil(Math.max(1, width));\n    image.height = Math.ceil(Math.max(1, height));\n    if (!this._loading) {\n      this._loading = true;\n      await new Promise((resolve) => {\n        image.onload = async () => {\n          await style.onBeforeDraw();\n          this._loading = false;\n          this.updateTexture();\n          resolve();\n        };\n        const svgURL = new XMLSerializer().serializeToString(this._svgRoot);\n        image.src = `data:image/svg+xml;charset=utf8,${encodeURIComponent(svgURL)}`;\n      });\n    }\n  }\n  get source() {\n    return this._image;\n  }\n  updateTexture() {\n    const { style, texture, _image: image, resolution } = this;\n    const { padding } = style;\n    const { baseTexture } = texture;\n    texture.trim.width = texture._frame.width = image.width / resolution;\n    texture.trim.height = texture._frame.height = image.height / resolution;\n    texture.trim.x = -padding;\n    texture.trim.y = -padding;\n    texture.orig.width = texture._frame.width - padding * 2;\n    texture.orig.height = texture._frame.height - padding * 2;\n    this._onTextureUpdate();\n    baseTexture.setRealSize(image.width, image.height, resolution);\n    this.dirty = false;\n  }\n  _render(renderer) {\n    if (this._autoResolution && this._resolution !== renderer.resolution) {\n      this._resolution = renderer.resolution;\n      this.dirty = true;\n    }\n    this.updateText(true);\n    super._render(renderer);\n  }\n  _renderCanvas(renderer) {\n    if (this._autoResolution && this._resolution !== renderer.resolution) {\n      this._resolution = renderer.resolution;\n      this.dirty = true;\n    }\n    this.updateText(true);\n    super._renderCanvas(renderer);\n  }\n  getLocalBounds(rect) {\n    this.updateText(true);\n    return super.getLocalBounds(rect);\n  }\n  _calculateBounds() {\n    this.updateText(true);\n    this.calculateVertices();\n    this._bounds.addQuad(this.vertexData);\n  }\n  _onStyleChange() {\n    this.dirty = true;\n  }\n  destroy(options) {\n    if (typeof options === \"boolean\") {\n      options = { children: options };\n    }\n    options = Object.assign({}, _HTMLText.defaultDestroyOptions, options);\n    super.destroy(options);\n    const forceClear = null;\n    if (this.ownsStyle) {\n      this._style?.cleanFonts();\n    }\n    this._style = forceClear;\n    this._svgRoot?.remove();\n    this._svgRoot = forceClear;\n    this._domElement?.remove();\n    this._domElement = forceClear;\n    this._foreignObject?.remove();\n    this._foreignObject = forceClear;\n    this._styleElement?.remove();\n    this._styleElement = forceClear;\n    this._image.onload = null;\n    this._image.src = \"\";\n    this._image = forceClear;\n  }\n  get width() {\n    this.updateText(true);\n    return Math.abs(this.scale.x) * this._image.width / this.resolution;\n  }\n  set width(value) {\n    this.updateText(true);\n    const s = utils.sign(this.scale.x) || 1;\n    this.scale.x = s * value / this._image.width / this.resolution;\n    this._width = value;\n  }\n  get height() {\n    this.updateText(true);\n    return Math.abs(this.scale.y) * this._image.height / this.resolution;\n  }\n  set height(value) {\n    this.updateText(true);\n    const s = utils.sign(this.scale.y) || 1;\n    this.scale.y = s * value / this._image.height / this.resolution;\n    this._height = value;\n  }\n  get style() {\n    return this._style;\n  }\n  set style(style) {\n    if (this._style === style) {\n      return;\n    }\n    style = style || {};\n    if (style instanceof HTMLTextStyle) {\n      this.ownsStyle = false;\n      this._style = style;\n    } else if (style instanceof TextStyle) {\n      console.warn(\"[HTMLText] Cloning TextStyle, if this is not what you want, use HTMLTextStyle\");\n      this.ownsStyle = true;\n      this._style = HTMLTextStyle.from(style);\n    } else {\n      this.ownsStyle = true;\n      this._style = new HTMLTextStyle(style);\n    }\n    this.localStyleID = -1;\n    this.dirty = true;\n  }\n  get text() {\n    return this._text;\n  }\n  set text(text) {\n    text = String(text === \"\" || text === null || text === void 0 ? \" \" : text);\n    text = this.sanitiseText(text);\n    if (this._text === text) {\n      return;\n    }\n    this._text = text;\n    this.dirty = true;\n  }\n  get resolution() {\n    return this._resolution;\n  }\n  set resolution(value) {\n    this._autoResolution = false;\n    if (this._resolution === value) {\n      return;\n    }\n    this._resolution = value;\n    this.dirty = true;\n  }\n  sanitiseText(text) {\n    return text.replace(/<br>/gi, \"<br/>\").replace(/<hr>/gi, \"<hr/>\").replace(/&nbsp;/gi, \"&#160;\");\n  }\n};\nlet HTMLText = _HTMLText;\nHTMLText.defaultDestroyOptions = {\n  texture: true,\n  children: false,\n  baseTexture: true\n};\nHTMLText.defaultMaxWidth = 2024;\nHTMLText.defaultMaxHeight = 2024;\nHTMLText.defaultAutoResolution = true;\n\nexport { HTMLText };\n//# sourceMappingURL=HTMLText.mjs.map\n","export default __webpack_public_path__ + \"index.html\";","\n      import API from \"!../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../node_modules/css-loader/dist/cjs.js!./styles.css\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../node_modules/css-loader/dist/cjs.js!./styles.css\";\n       export default content && content.locals ? content.locals : undefined;\n","/*!\n * @pixi/filter-multi-color-replace - v5.1.1\n * Compiled Wed, 11 Jan 2023 23:10:33 UTC\n *\n * @pixi/filter-multi-color-replace is licensed under the MIT License.\n * http://www.opensource.org/licenses/mit-license\n */import{Filter as m,utils as a}from\"@pixi/core\";var c=`attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}`,g=`varying vec2 vTextureCoord;\nuniform sampler2D uSampler;\n\nuniform float epsilon;\n\nconst int MAX_COLORS = %maxColors%;\n\nuniform vec3 originalColors[MAX_COLORS];\nuniform vec3 targetColors[MAX_COLORS];\n\nvoid main(void)\n{\n    gl_FragColor = texture2D(uSampler, vTextureCoord);\n\n    float alpha = gl_FragColor.a;\n    if (alpha < 0.0001)\n    {\n      return;\n    }\n\n    vec3 color = gl_FragColor.rgb / alpha;\n\n    for(int i = 0; i < MAX_COLORS; i++)\n    {\n      vec3 origColor = originalColors[i];\n      if (origColor.r < 0.0)\n      {\n        break;\n      }\n      vec3 colorDiff = origColor - color;\n      if (length(colorDiff) < epsilon)\n      {\n        vec3 targetColor = targetColors[i];\n        gl_FragColor = vec4((targetColor + colorDiff) * alpha, alpha);\n        return;\n      }\n    }\n}\n`;class h extends m{constructor(o,i=.05,e=o.length){super(c,g.replace(/%maxColors%/g,e.toFixed(0))),this._replacements=[],this._maxColors=0,this.epsilon=i,this._maxColors=e,this.uniforms.originalColors=new Float32Array(e*3),this.uniforms.targetColors=new Float32Array(e*3),this.replacements=o}set replacements(o){const i=this.uniforms.originalColors,e=this.uniforms.targetColors,l=o.length;if(l>this._maxColors)throw new Error(`Length of replacements (${l}) exceeds the maximum colors length (${this._maxColors})`);i[l*3]=-1;for(let r=0;r<l;r++){const s=o[r];let n=s[0];typeof n==\"number\"?n=a.hex2rgb(n):s[0]=a.rgb2hex(n),i[r*3]=n[0],i[r*3+1]=n[1],i[r*3+2]=n[2];let t=s[1];typeof t==\"number\"?t=a.hex2rgb(t):s[1]=a.rgb2hex(t),e[r*3]=t[0],e[r*3+1]=t[1],e[r*3+2]=t[2]}this._replacements=o}get replacements(){return this._replacements}refresh(){this.replacements=this._replacements}get maxColors(){return this._maxColors}set epsilon(o){this.uniforms.epsilon=o}get epsilon(){return this.uniforms.epsilon}}export{h as MultiColorReplaceFilter};\n//# sourceMappingURL=filter-multi-color-replace.mjs.map\n","import { Graphics } from 'pixi.js'\nimport { MultiColorReplaceFilter } from '@pixi/filter-multi-color-replace'\n\nexport function getIconPath(name) {\n  const id = name.split('_')[1]\n  const index = name.split('_')[0]\n  return `interface/${id}/${index}_${id}.png`\n}\n\nexport function getBuildingTextureNameWithSize(size) {\n  switch (size) {\n    case 1:\n      return '000_256'\n    case 2:\n      return '000_258'\n    case 3:\n      return '000_261'\n  }\n}\n\nexport function getBuildingRubbleTextureNameWithSize(size) {\n  switch (size) {\n    case 1:\n      return '000_153'\n    case 2:\n      return '000_154'\n    case 3:\n      return '000_155'\n  }\n}\n\nexport function getBuildingAsset(type, owner, assets) {\n  const path = assets.cache.get(owner.civ.toLowerCase()).buildings\n  if (path[owner.age][type]) {\n    return path[owner.age][type]\n  } else if (path[owner.age - 1][type]) {\n    return path[owner.age - 1][type]\n  } else if (path[owner.age - 2][type]) {\n    return path[owner.age - 2][type]\n  }\n}\n\nexport function getTexture(name, assets) {\n  const id = name.split('_')[1]\n  const index = name.split('_')[0]\n  const spritesheet = assets.cache.get(id)\n  const textureName = `${index}_${id}.png`\n  //spritesheet.textures[textureName].hitArea = spritesheet.data.frames[textureName].hitArea\n  return spritesheet.textures[textureName]\n}\n\nexport const colors = ['blue', 'red', 'yellow', 'brown', 'orange', 'green', 'grey', 'cyan']\n\nexport function getHexColor(name) {\n  const colors = {\n    blue: '#3f5f9f',\n    red: '#e30b00',\n    yellow: '#c3a31b',\n    brown: '#8b5b37',\n    orange: '#ef6307',\n    green: '#4b6b2b',\n    grey: '#8f8f8f',\n    cyan: '#00837b',\n  }\n  return colors[name] || '#ffffff'\n}\n\nexport function changeSpriteColor(sprite, color) {\n  if (color === 'blue') {\n    return\n  }\n  // 8 Hex\n  const source = [0x93bbd7, 0x739bc7, 0x577bb3, 0x3f5f9f, 0x273f8f, 0x17277b, 0x070f67, 0x000057]\n  const colors = {\n    red: [0xff8f8f, 0xff5f5f, 0xff2f2f, 0xe30b00, 0xc71700, 0x8f1f00, 0x6f0b07, 0x530b00],\n    yellow: [0xe3e300, 0xdfcf0f, 0xdfcf0f, 0xc3a31b, 0xa37317, 0x876727, 0x6b4b27, 0x4f3723],\n    brown: [0xcfa343, 0xb78b2b, 0xa3734f, 0x8b5b37, 0x734727, 0x5f331b, 0x3f3723, 0x23231f],\n    orange: [0xfb9f1f, 0xf78b17, 0xf3770f, 0xef6307, 0xcf4300, 0x9f3300, 0x872b00, 0x6f2300],\n    green: [0x8b9f4f, 0x7f8b37, 0x637b2f, 0x4b6b2b, 0x375f27, 0x1b431b, 0x133313, 0x0b1b0b],\n    grey: [0xdbdbdb, 0xc7c7c7, 0xb3b3b3, 0x8f8f8f, 0x6b6b6b, 0x474747, 0x373737, 0x232323],\n    cyan: [0x5fd39f, 0x2bbf93, 0x00ab93, 0x00837b, 0x006f6b, 0x004f4f, 0x003f43, 0x002327],\n  }\n  if (!colors[color]) {\n    return\n  }\n  let final = []\n  for (let i = 0; i < source.length; i++) {\n    final.push([source[i], colors[color][i]])\n  }\n  sprite.filters = [new MultiColorReplaceFilter(final, 0.1)]\n}\n\n/**\n * Drawing selection blinking on instance\n * @param {object} instance\n */\nexport function drawInstanceBlinkingSelection(instance) {\n  const selection = new Graphics()\n  selection.name = 'selection'\n  selection.zIndex = 3\n  selection.lineStyle(1, 0x00ff00)\n  const path = [-32 * instance.size, 0, 0, -16 * instance.size, 32 * instance.size, 0, 0, 16 * instance.size]\n  selection.drawPolygon(path)\n  instance.addChildAt(selection, 0)\n  setTimeout(() => {\n    selection.alpha = 0\n    setTimeout(() => {\n      selection.alpha = 1\n      setTimeout(() => {\n        selection.alpha = 0\n        setTimeout(() => {\n          selection.alpha = 1\n          setTimeout(() => {\n            instance.removeChild(selection)\n          }, 300)\n        }, 300)\n      }, 300)\n    }, 500)\n  }, 500)\n}\n\nexport function canvasDrawRectangle(context, x, y, width, height, color) {\n  context.fillStyle = color\n  context.fillRect(x, y, width, height)\n  context.fill()\n}\n\nexport function canvasDrawStrokeRectangle(context, x, y, width, height, color) {\n  context.strokeStyle = color\n  context.strokeRect(x, y, width, height)\n}\n\nexport function canvasDrawDiamond(context, x, y, width, height, color) {\n  context.save()\n  context.beginPath()\n  context.moveTo(x, y)\n\n  context.lineTo(x - width / 2, y + height / 2)\n  context.lineTo(x, y + height)\n  context.lineTo(x + width / 2, y + height / 2)\n  context.closePath()\n\n  context.fillStyle = color\n  context.fill()\n}\n\nexport function onSpriteLoopAtFrame(sprite, frame, cb) {\n  sprite.onFrameChange = currentFrame => currentFrame === frame && cb()\n}\n","export function refundCost(player, cost) {\n  Object.keys(cost).forEach(prop => {\n    player[prop] += cost[prop]\n  })\n}\n\nexport function payCost(player, cost) {\n  Object.keys(cost).forEach(prop => {\n    player[prop] -= cost[prop]\n  })\n}\n\nexport function canAfford(player, cost) {\n  return !Object.keys(cost).some(prop => player[prop] < cost[prop])\n}","export const cellWidth = 63\nexport const cellHeight = 30\nexport const cellDepth = 16\n\nexport const accelerator = 5\nexport const stepTime = 30\n\nexport const colorWhite = 0xffffff\nexport const colorBlack = 0x000000\nexport const colorGrey = 0x808080\nexport const colorRed = 0xff0000\nexport const colorOrange = 0xffa500\nexport const colorYellow = 0xffff00\nexport const colorGreen = 0x008000\nexport const colorBlue = 0x0000ff\nexport const colorIndigo = 0x4b0082\nexport const colorViolet = 0xee82ee\nexport const colorBone = 0xe2dac2\nexport const colorShipgrey = 0x3c3b3d\n\nexport const colorArrow = 0xb8b0ad\n\nexport const colorGrass = '#647B2F'\nexport const colorWater = '#17277B'\nexport const colorDesert = '#CFA443'\nexport const colorTree = '#274F1F'\nexport const colorGold = '#DECF10'\nexport const colorStone = '#B3B3B3'\nexport const colorBerry = '#7B9051'\n\nexport const corpseTime = 0.001\nexport const rubbleTime = 120\nexport const maxSelectUnits = 10\n","import { cellWidth, cellHeight, cellDepth } from '../constants'\n\nexport function uuidv4() {\n  return ([1e7] + -1e3 + -4e3 + -8e3 + -1e11).replace(/[018]/g, c =>\n    (c ^ (crypto.getRandomValues(new Uint8Array(1))[0] & (15 >> (c / 4)))).toString(16)\n  )\n}\n\n/**\n * Format a number with three character\n * @param {number} nbr\n */\nexport function formatNumber(nbr) {\n  return ('00' + nbr).slice(-3)\n}\n\n/**\n * Convert cartesian to isometric\n * @param {number} x\n * @param {number} y\n */\nexport function cartesianToIsometric(x, y) {\n  return [Math.floor(((x - y) * cellWidth) / 2), Math.floor(((x + y) * cellHeight) / 2)]\n}\n\n/**\n * Convert isometric position to cartesian\n * @param {number} x\n * @param {number} y\n */\nexport function isometricToCartesian(x, y) {\n  return [\n    Math.round((x / (cellWidth / 2) + y / (cellHeight / 2)) / 2),\n    Math.round((y / (cellHeight / 2) - x / (cellWidth / 2)) / 2),\n  ]\n}\n\n/**\n * Get percentage with two numbers\n * @param {number} a\n * @param {number} b\n */\nexport function getPercentage(a, b) {\n  return Math.floor((a / b) * 100)\n}\n\n/**\n * Get value of percentage\n * @param {number} a\n * @param {number} b\n */\nexport function getValuePercentage(val, perc) {\n  return Math.floor((perc * val) / 100)\n}\n\n/**\n * Check if point is between two points can be used with line thickness\n * @param {object} line1\n * @param {object} line2\n * @param {object} pnt\n * @param {number} lineThickness\n */\nexport function pointIsBetweenTwoPoint(line1, line2, pnt, lineThickness) {\n  let L2 = (line2.x - line1.x) * (line2.x - line1.x) + (line2.y - line1.y) * (line2.y - line1.y)\n  if (L2 == 0) return false\n  let r = ((pnt.x - line1.x) * (line2.x - line1.x) + (pnt.y - line1.y) * (line2.y - line1.y)) / L2\n  if (r < 0) {\n    return Math.sqrt((line1.x - pnt.x) * (line1.x - pnt.x) + (line1.y - pnt.y) * (line1.y - pnt.y)) <= lineThickness\n  } else if (0 <= r && r <= 1) {\n    let s = ((line1.y - pnt.y) * (line2.x - line1.x) - (line1.x - pnt.x) * (line2.y - line1.y)) / L2\n    return Math.abs(s) * Math.sqrt(L2) <= lineThickness\n  } else {\n    return Math.sqrt((line2.x - pnt.x) * (line2.x - pnt.x) + (line2.y - pnt.y) * (line2.y - pnt.y)) <= lineThickness\n  }\n}\n\n/**\n * Get a random number between two numbers\n * @param {number} min\n * @param {number} max\n */\nexport function randomRange(min, max) {\n  return Math.floor(Math.random() * (max - min + 1) + min)\n}\n\n/**\n * Get a random item from a array\n * @param {array} array\n */\nexport function randomItem(array) {\n  return array[Math.round(Math.random() * (array.length - 1))]\n}\n\n/**\n * Get distance between two instances, can use iso (x, y) or cartesian (i, j)\n * @param {object} a\n * @param {object} b\n * @param {boolean} useCartesian\n */\nexport function instancesDistance(a, b, useCartesian = true) {\n  return useCartesian ? pointsDistance(a.i, a.j, b.i, b.j) : pointsDistance(a.x, a.y, b.x, b.y)\n}\n\n/**\n * Get the instance zIndex according to his position\n * @param {object} instance\n */\nexport function getInstanceZIndex(instance) {\n  const pos = isometricToCartesian(instance.x, instance.y + instance.z * cellDepth)\n  return pos[0] + pos[1]\n}\n\n/**\n * Get the difference between two number\n * @param {number} a\n * @param {number} b\n */\nexport function diff(a, b) {\n  return Math.abs(a - b)\n}\n\n/**\n * Get degree of instance according to a point\n * @param {object} instance\n * @param {number} x\n * @param {number} y\n */\nexport function getInstanceDegree(instance, x, y) {\n  return getPointsDegree(instance.x, instance.y, x, y)\n}\n\n/**\n * Get degree of instance according to a point\n * @param {object} instance\n * @param {number} x\n * @param {number} y\n */\nexport function getPointsDegree(x1, y1, x2, y2) {\n  let tX = x2 - x1\n  let tY = y2 - y1\n  return Math.round((Math.atan2(tY, tX) * 180) / Math.PI + 180)\n}\n\nexport function degreesToRadians(degrees) {\n  var pi = Math.PI\n  return degrees * (pi / 180)\n}\n\n/**\n * Get distance between two points\n * @param {number} x1\n * @param {number} y1\n * @param {number} x2\n * @param {number} y2\n */\nexport function pointsDistance(x1, y1, x2, y2) {\n  let a = x1 - x2\n  let b = y1 - y2\n  return Math.floor(Math.sqrt(a * a + b * b))\n}\n\n/**\n * Check if point is in a rectangle or not\n * @param {number} x\n * @param {number} y\n * @param {number} left\n * @param {number} top\n * @param {number} width\n * @param {number} height\n */\nexport function pointInRectangle(x, y, left, top, width, height, allDirection = false) {\n  return allDirection\n    ? (x > left && x < left + width && y > top && y < top + height) ||\n        (x < left && x > left + width && y < top && y > top + height) ||\n        (x > left && x < left + width && y < top && y > top + height) ||\n        (x < left && x > left + width && y > top && y < top + height)\n    : x > left && x < left + width && y > top && y < top + height\n}\n\n/**\n * Check if two instance are on diagonal axes\n * @param {object} instance\n * @param {object} instance\n */\nexport function cellIsDiag(src, target) {\n  return Math.abs(target.i - src.i) === Math.abs(target.j - src.j)\n}\n\nexport function degreeToDirection(degree) {\n  if (degree > 67.5 && degree < 112.5) {\n    return 'north'\n  } else if (degree > 247.5 && degree < 292.5) {\n    return 'south'\n  } else if (degree > 337.5 || degree < 22.5) {\n    return 'west'\n  } else if (degree >= 22.5 && degree <= 67.5) {\n    return 'northwest'\n  } else if (degree >= 292.5 && degree <= 337.5) {\n    return 'southwest'\n  } else if (degree > 157.5 && degree < 202.5) {\n    return 'est'\n  } else if (degree > 112.5 && degree < 157.5) {\n    return 'northest'\n  } else if (degree > 202.5 && degree < 247.5) {\n    return 'southest'\n  }\n}\n","import { accelerator } from '../constants'\n\nexport function throttle(callback, wait, immediate = false) {\n  let timeout = null\n  let initialCall = true\n\n  return function () {\n    const callNow = immediate && initialCall\n    const next = () => {\n      callback.apply(this, arguments)\n      timeout = null\n    }\n\n    if (callNow) {\n      initialCall = false\n      next()\n    }\n\n    if (!timeout) {\n      timeout = setTimeout(next, wait)\n    }\n  }\n}\n\nexport const debounce = (callback, wait) => {\n  let timeoutId = null\n  return function () {\n    window.clearTimeout(timeoutId)\n    timeoutId = window.setTimeout(() => {\n      callback.apply(this, arguments)\n    }, wait)\n  }\n}\n\nexport function capitalizeFirstLetter(string) {\n  return string.charAt(0).toUpperCase() + string.slice(1)\n}\n\nexport const intervalForDuration = (duration, loading, ending) => {\n  let cpt = 0\n  let interval = setInterval(() => {\n    const percentage = Math.floor(Math.min(100, (100 * cpt) / duration))\n    loading(percentage, cpt)\n    cpt++\n    if (percentage >= 100) {\n      clearInterval(interval)\n      ending()\n    }\n  }, 1000)\n}\n\nexport const isValidCondition = (condition, values) => {\n  if (!condition) {\n    return true\n  }\n\n  const { op, key, value } = condition\n  const exceptedValue = values[key]\n\n  switch (op) {\n    case '=':\n    case '!=': {\n      const result = Array.isArray(value)\n        ? JSON.stringify(value.sort()) === JSON.stringify(exceptedValue).sort()\n        : value === exceptedValue\n\n      return op === '!=' ? !result : result\n    }\n    case '<':\n      return exceptedValue < value\n    case '<=':\n      return exceptedValue <= value\n    case '>=':\n      return exceptedValue >= value\n    case '>':\n      return exceptedValue > value\n    case 'includes':\n      return exceptedValue.includes(value)\n    case '!includes':\n      return !exceptedValue.includes(value)\n    default:\n      throw new Error(`Invalid condition operation provided (${op})`)\n  }\n}\n\nexport const timeoutRecurs = (second, condition, callback) => {\n  if (condition()) {\n    setTimeout(() => {\n      if (condition()) {\n        callback()\n        timeoutRecurs(second, condition, callback)\n      }\n    }, (second * 1000) / 100 / accelerator)\n  }\n}\n\nexport const getActionCondition = (source, target, action, props = {}) => {\n  if (!action) {\n    return false\n  }\n  const conditions = {\n    delivery: props =>\n      target.life > 0 &&\n      target.isBuilt &&\n      (target.type === 'TownCenter' || (props.buildingType ? target.type === props.buildingType : true)),\n    takemeat: () =>\n      source.type === 'Villager' &&\n      target.name === 'animal' &&\n      target.quantity > 0 &&\n      target.isDead &&\n      !target.isDestroyed,\n    hunt: () => source.type === 'Villager' && target.name === 'animal' && target.quantity > 0 && !target.isDead,\n    chopwood: () => source.type === 'Villager' && target.type === 'Tree' && target.quantity > 0 && !target.isDestroyed,\n    farm: () =>\n      source.type === 'Villager' &&\n      target.type === 'Farm' &&\n      target.life > 0 &&\n      target.owner === source.owner &&\n      target.quantity > 0 &&\n      (!target.isUsedBy || target.isUsedBy === source) &&\n      !target.isDead,\n    forageberry: () =>\n      source.type === 'Villager' && target.type === 'Berrybush' && target.quantity > 0 && !target.isDestroyed,\n    minestone: () =>\n      source.type === 'Villager' && target.type === 'Stone' && target.quantity > 0 && !target.isDestroyed,\n    minegold: () => source.type === 'Villager' && target.type === 'Gold' && target.quantity > 0 && !target.isDestroyed,\n    build: () =>\n      source.type === 'Villager' &&\n      target.owner === source.owner &&\n      target.name === 'building' &&\n      target.life > 0 &&\n      (!target.isBuilt || target.life < target.lifeMax) &&\n      !target.isDead,\n    attack: () =>\n      target &&\n      target.owner !== source.owner &&\n      (target.name === 'building' || target.name === 'unit' || target.name === 'animal') &&\n      target.life > 0 &&\n      !target.isDead,\n  }\n  return target && source.life > 0 && !source.isDead && conditions[action](props)\n}\n","import { accelerator } from '../constants'\nimport * as exports from './maths'\nObject.entries(exports).forEach(([name, exported]) => (window[name] = exported))\n\n/**\n * Check a instance is in contact with another one\n * @param {object} a\n * @param {object} b\n */\nexport function instanceContactInstance(a, b) {\n  return Math.floor(instancesDistance(a, b)) <= (b.size - 1 || 1) && !b.isDestroyed\n}\n\n/**\n * Move instance straight to a position\n * @param {object} instance\n * @param {number} x\n * @param {number} y\n * @param {number} speed\n */\nexport function moveTowardPoint(instance, x, y, speed) {\n  let dist = pointsDistance(x, y, instance.x, instance.y)\n  let tX = x - instance.x\n  let tY = y - instance.y\n  let velX = (tX / dist) * speed * 2\n  let velY = (tY / dist) * speed * 2\n  instance.degree = getInstanceDegree(instance, x, y)\n  instance.x += velX\n  instance.y += velY\n}\n\n/**\n * Get the first free cell coordinate around a point\n * @param {number} x\n * @param {number} y\n * @param {object} grid\n */\nexport function getFreeCellAroundPoint(x, y, grid) {\n  let founded\n\n  for (let i = 1; i < 100; i++) {\n    getCellsAroundPoint(x, y, grid, i, cell => {\n      if (!cell.solid) {\n        founded = cell\n      }\n    })\n    if (founded) {\n      return founded\n    }\n  }\n  return null\n}\n\nexport function instanceIsSurroundedBySolid(instance) {\n  let size = (instance.size || 1) === 3 ? 2 : 1\n  let solids = 0\n  let neighbours = getCellsAroundPoint(instance.i, instance.j, instance.parent.grid, size, cell => {\n    if (cell.solid) {\n      solids++\n    }\n    return true\n  })\n  return neighbours.length === solids\n}\n\nexport function getNewInstanceClosestFreeCellPath(instance, target, map) {\n  for (let i = 1; i < 100; i++) {\n    let size = (target.size || 1) === 3 ? 2 : 1\n    let paths = []\n    getCellsAroundPoint(target.i, target.j, map.grid, size * i, cell => {\n      if (cell.has && cell.has.type === target.type) {\n        getCellsAroundPoint(cell.i, cell.j, map.grid, size, neighbour => {\n          if (!neighbour.solid) {\n            let path = getInstancePath(instance, neighbour.i, neighbour.j, map)\n            if (path.length) {\n              paths.push({\n                target: cell.has,\n                path,\n              })\n            }\n          }\n        })\n      }\n    })\n    paths.sort((a, b) => a.path.length - b.path.length)\n    if (paths[0]) {\n      return paths[0]\n    }\n  }\n  return null\n}\n\n/**\n * Get the closest available path for a instance to a destination\n * @param {object} instance\n * @param {number} x\n * @param {number} y\n * @param {object} map\n */\nexport function getInstanceClosestFreeCellPath(instance, target, map) {\n  let size = target.size || (target.has && target.has.size) || 1\n  let paths = []\n  getPlainCellsAroundPoint(target.i, target.j, map.grid, size === 3 ? 2 : 1, cell => {\n    let path = getInstancePath(instance, cell.i, cell.j, map)\n    if (path.length) {\n      paths.push(path)\n    }\n  })\n  paths.sort((a, b) => a.length - b.length)\n\n  if (paths[0]) {\n    return paths[0]\n  }\n  return []\n}\n\n/**\n * Get the shortest path for a instance to a destination\n * @param {object} instance\n * @param {number} x\n * @param {number} y\n * @param {object} map\n */\nexport function getInstancePath(instance, x, y, map) {\n  const maxZone = 10\n  const end = map.grid[x][y]\n  const start = map.grid[instance.i][instance.j]\n  let minX = Math.max(Math.min(start.i, end.i) - maxZone, 0)\n  let maxX = Math.min(Math.max(start.i, end.i) + maxZone, map.size)\n  let minY = Math.max(Math.min(start.j, end.j) - maxZone, 0)\n  let maxY = Math.min(Math.max(start.j, end.j) + maxZone, map.size)\n\n  let cloneGrid = []\n  for (var i = minX; i <= maxX; i++) {\n    for (var j = minY; j <= maxY; j++) {\n      if (cloneGrid[i] == null) {\n        cloneGrid[i] = []\n      }\n      cloneGrid[i][j] = {\n        i,\n        j,\n        x: map.grid[i][j].x,\n        y: map.grid[i][j].y,\n        z: map.grid[i][j].z,\n        solid: map.grid[i][j].solid,\n      }\n    }\n  }\n  let isFinish = false\n  let path = []\n  let openCells = []\n  let closedCells = []\n  const cloneEnd = cloneGrid[end.i][end.j]\n  const cloneStart = cloneGrid[start.i][start.j]\n  openCells.push(cloneStart)\n  while (!isFinish) {\n    if (openCells.length > 0) {\n      // find the lowest f in open cells\n      let lowestF = 0\n      for (let i = 0; i < openCells.length; i++) {\n        if (openCells[i].f < openCells[lowestF].f) {\n          lowestF = i\n        }\n\n        if (openCells[i].f == openCells[lowestF].f) {\n          if (openCells[i].g > openCells[lowestF].g) {\n            lowestF = i\n          }\n        }\n      }\n      let current = openCells[lowestF]\n      if (current === cloneEnd) {\n        // reached the end cell\n        isFinish = true\n      }\n      // calculate path\n      path = [cloneEnd]\n      let temp = current\n\n      while (temp.previous) {\n        path.push(temp.previous)\n        temp = temp.previous\n      }\n      openCells.splice(openCells.indexOf(current), 1)\n      closedCells.push(current)\n      // check neighbours\n      getCellsAroundPoint(current.i, current.j, cloneGrid, 1, neighbour => {\n        const validDiag =\n          !cellIsDiag(current, neighbour) ||\n          (!cloneGrid[current.i][neighbour.j].solid && !cloneGrid[neighbour.i][current.j].solid)\n        if (!closedCells.includes(neighbour) && !neighbour.solid && validDiag) {\n          let tempG = current.g + instancesDistance(neighbour, current)\n          if (!openCells.includes(neighbour)) {\n            openCells.push(neighbour)\n            neighbour.g = tempG\n            neighbour.h = instancesDistance(neighbour, cloneEnd)\n            neighbour.f = neighbour.g + neighbour.h\n            neighbour.previous = current\n          }\n        }\n      })\n    } else {\n      // no solution\n      path = []\n      isFinish = true\n    }\n  }\n  path.pop()\n  return [...path]\n}\n\n/**\n * To get a sized zone in a grid\n * @param {object} zone\n * @param {object} grid\n * @param {number} size\n * @param {export function} condition\n */\nexport function getZoneInGridWithCondition(zone, grid, size, condition) {\n  for (let i = zone.minX; i <= zone.maxX; i++) {\n    for (let j = zone.minY; j <= zone.maxY; j++) {\n      if (!grid[i] || !grid[i][j]) {\n        continue\n      }\n      let isFree = true\n      getPlainCellsAroundPoint(i, j, grid, size, cell => {\n        if (!condition(cell)) {\n          isFree = false\n        }\n      })\n      if (isFree) {\n        return { i, j }\n      }\n    }\n  }\n}\n\n/**\n * Allow to find all the instances around and instance with his sight\n * @param {object} instance\n * @param {export function} condition\n */\nexport function findInstancesInSight(instance, condition) {\n  let instances = []\n  for (let i = instance.i - instance.sight; i < instance.i + instance.sight; i++) {\n    for (let j = instance.j - instance.sight; j < instance.j + instance.sight; j++) {\n      if (\n        pointsDistance(instance.i, instance.j, i, j) <= instance.sight &&\n        instance.parent.grid[i] &&\n        instance.parent.grid[i][j]\n      ) {\n        let cell = instance.parent.grid[i][j]\n        if (cell.has && typeof condition === 'function' && condition(cell.has)) {\n          instances.push(cell.has)\n        }\n      }\n    }\n  }\n  return instances\n}\n\n/**\n * Render cell if is on sight of instance\n * @param {object} instance\n */\nexport function renderCellOnInstanceSight(instance) {\n  if (\n    instance.parent.revealEverything ||\n    instance.owner.isPlayed ||\n    instanceIsInPlayerSight(instance, player) ||\n    (instance.name === 'building' &&\n      player.views[instance.i][instance.j].has &&\n      player.views[instance.i][instance.j].has.id === instance.id)\n  ) {\n    instance.visible = true\n  } else {\n    instance.visible = false\n  }\n  getPlainCellsAroundPoint(instance.i, instance.j, instance.owner.views, instance.sight, cell => {\n    if (pointsDistance(instance.i, instance.j, cell.i, cell.j) <= instance.sight) {\n      const globalCell = instance.parent.grid[cell.i][cell.j]\n      if (instance.owner.isPlayed && !instance.parent.revealEverything) {\n        globalCell.removeFog()\n      } else if (instance.owner.type === 'AI' && globalCell.has && (!cell.has || cell.has.id !== globalCell.has.id)) {\n        cell.has = globalCell.has\n        if (\n          globalCell.has.type === 'Tree' &&\n          globalCell.has.quantity > 0 &&\n          instance.owner.foundedTrees.indexOf(globalCell.has) === -1\n        ) {\n          instance.owner.foundedTrees.push(globalCell.has)\n        }\n        if (\n          globalCell.has.type === 'Berrybush' &&\n          globalCell.has.quantity > 0 &&\n          instance.owner.foundedBerrybushs.indexOf(globalCell.has) === -1\n        ) {\n          instance.owner.foundedBerrybushs.push(globalCell.has)\n        }\n        if (\n          globalCell.has.name === 'building' &&\n          globalCell.has.life > 0 &&\n          globalCell.has.owner !== instance.owner &&\n          instance.owner.foundedEnemyBuildings.indexOf(globalCell.has) === -1\n        ) {\n          instance.owner.foundedEnemyBuildings.push(globalCell.has)\n        }\n      }\n      if (cell.viewBy.indexOf(instance) === -1) {\n        cell.viewBy.push(instance)\n      }\n      cell.viewed = true\n    }\n  })\n}\n\nexport function clearCellOnInstanceSight(instance) {\n  getPlainCellsAroundPoint(instance.i, instance.j, instance.owner.views, instance.sight, cell => {\n    if (pointsDistance(instance.i, instance.j, cell.i, cell.j) <= instance.sight) {\n      cell.viewBy.splice(cell.viewBy.indexOf(instance), 1)\n      if (instance.parent) {\n        const globalCell = instance.parent.grid[cell.i][cell.j]\n        if (!cell.viewBy.length && instance.owner.isPlayed && !instance.parent.revealEverything) {\n          globalCell.setFog()\n        }\n      }\n    }\n  })\n}\n\nexport function getPositionInGridAroundInstance(instance, grid, space, size, allowInclined = false, extraCondition) {\n  const maxSpace = space[1]\n  const minSpace = space[0]\n  const zone = {\n    minX: instance.i - maxSpace,\n    minY: instance.j - maxSpace,\n    maxX: instance.i + maxSpace,\n    maxY: instance.j + maxSpace,\n  }\n  let pos = getZoneInGridWithCondition(zone, grid, size, cell => {\n    return (\n      cell.i > 0 &&\n      cell.j > 0 &&\n      cell.i < cell.parent.size &&\n      cell.j < cell.parent.size &&\n      instancesDistance(instance, cell, true) > minSpace &&\n      instancesDistance(instance, cell, true) < maxSpace &&\n      !cell.solid &&\n      !cell.border &&\n      (allowInclined || !cell.inclined) &&\n      (!extraCondition || extraCondition(cell))\n    )\n  })\n  return pos || null\n}\n\n/**\n * Instance is in a player sight\n * @param {object} instance\n * @param {object} player\n */\nexport function instanceIsInPlayerSight(instance, player) {\n  return player.views[instance.i][instance.j].viewBy.length > 0\n}\n\n/**\n * Get all the coordinate around a point with a maximum distance\n * @param {number} startX\n * @param {number} startY\n * @param {number} dist\n */\nexport function getPlainCellsAroundPoint(startX, startY, grid, dist, callback) {\n  let result = []\n  if (!dist) {\n    const cell = grid[startX][startY]\n    if (typeof callback === 'function') {\n      if (callback(cell)) {\n        result.push(cell)\n      }\n    } else {\n      result.push(cell)\n    }\n    return result\n  }\n  for (let i = startX - dist; i <= startX + dist; i++) {\n    for (let j = startY - dist; j <= startY + dist; j++) {\n      if (grid[i] && grid[i][j]) {\n        const cell = grid[i][j]\n        if (typeof callback === 'function') {\n          if (callback(cell)) {\n            result.push(cell)\n          }\n        } else {\n          result.push(cell)\n        }\n      }\n    }\n  }\n  return result\n}\n\n/**\n * Get the coordinate around point at a certain distance\n * @param {number} startX\n * @param {number} startY\n * @param {number} dist\n */\nexport function getCellsAroundPoint(startX, startY, grid, dist, callback) {\n  let result = []\n  if (!dist) {\n    const cell = grid[startX][startY]\n    if (typeof callback === 'function') {\n      if (callback(cell)) {\n        result.push(cell)\n      }\n    } else {\n      result.push(cell)\n    }\n    return result\n  }\n  let x = startX - dist\n  let y = startY - dist\n  let loop = 0\n  let velX = 1\n  let velY = 0\n  let line = 0\n  for (let i = 0; i < 8 + (dist - 1) * 8; i++) {\n    x += velX\n    y += velY\n    if (grid[x] && grid[x][y]) {\n      const cell = grid[x][y]\n      if (typeof callback === 'function') {\n        if (callback(cell)) {\n          result.push(cell)\n        }\n      } else {\n        result.push(cell)\n      }\n    }\n    line++\n    if (line === dist * 2) {\n      let speed = loop > 0 ? -1 : 1\n      if (loop % 2) {\n        velX = speed\n        velY = 0\n      } else {\n        velX = 0\n        velY = speed\n      }\n      line = 0\n      loop++\n    }\n  }\n  return result\n}\n\n/**\n * Get the closest instances to another instance\n * @param {object} instance\n * @param {object} instances\n */\nexport function getClosestInstance(instance, instances) {\n  let distances = []\n  for (let i = 0; i < instances.length; i++) {\n    distances.push({\n      instance: instances[i],\n      dist: instancesDistance(instance, instances[i]),\n    })\n  }\n  distances.sort((a, b) => a.dist - b.dist)\n  return (distances.length && distances[0].instance) || false\n}\n\nexport function getClosestInstanceWithPath(instance, instances) {\n  let distances = []\n  for (let i = 0; i < instances.length; i++) {\n    let path = getInstanceClosestFreeCellPath(instance, instances[i], instance.parent)\n    if (path.length) {\n      distances.push({\n        instance: instances[i],\n        path,\n      })\n    }\n  }\n  distances.sort((a, b) => a.path.length - b.path.length)\n  return distances[0] || null\n}\n","import { Container, Assets, Sprite } from 'pixi.js'\nimport {\n  randomRange,\n  formatNumber,\n  cartesianToIsometric,\n  getCellsAroundPoint,\n  instanceIsInPlayerSight,\n  instancesDistance,\n} from '../../lib'\nimport { cellDepth, colorWhite } from '../../constants'\n\nexport class Cell extends Container {\n  constructor(options, context) {\n    super()\n\n    this.context = context\n\n    const {\n      context: { map },\n    } = this\n    this.setParent(map)\n    this.name = 'cell'\n    Object.keys(options).forEach(prop => {\n      this[prop] = options[prop]\n    })\n    const { i, j, z, sprite } = this\n    const pos = cartesianToIsometric(i, j)\n\n    this.map = map\n    this.x = pos[0]\n    this.y = pos[1] - z * cellDepth\n    this.zIndex = 0\n    this.inclined = false\n    this.border = false\n    this.has = null\n    this.visible = false\n    this.viewed = false\n    this.viewBy = []\n\n    if (sprite) {\n      sprite.anchor.set(0.5, 0.5)\n      sprite.roundPixels = true\n      sprite.allowMove = false\n      sprite.interactive = false\n      sprite.allowClick = false\n      this.addChild(sprite)\n    }\n\n    this.interactive = false\n    this.allowMove = false\n    this.allowClick = false\n    this.cacheAsBitmap = true\n  }\n\n  updateVisible() {\n    const {\n      context: { map, player },\n    } = this\n    if (!map.revealEverything && !player.views[this.i][this.j].viewed) {\n      return\n    }\n    this.visible = true\n    if (this.has) {\n      if (\n        map.revealEverything ||\n        !this.has.owner ||\n        this.has.owner.isPlayed ||\n        instanceIsInPlayerSight(this.has, this) ||\n        (this.has.name === 'building' &&\n          player.views[this.i][this.j].has &&\n          player.views[this.i][this.j].has.id === this.has.id)\n      ) {\n        this.has.visible = true\n      }\n    }\n  }\n\n  setDesertBorder(direction) {\n    const resourceName = '20002'\n    const cellSprite = this.getChildByName('sprite')\n    const cellSpriteTextureName = cellSprite.texture.textureCacheIds[0]\n    const cellSpriteIndex = cellSpriteTextureName.split('_')[0]\n    let val = {}\n    let index\n    let cpt = 0\n    for (let i = 0; i < 25; i++) {\n      val[i] = []\n      if (i < 9) {\n        val[i].push(0, 1, 2, 3)\n      } else {\n        for (let j = cpt; j < cpt + 4; j++) {\n          val[i].push(j + 4)\n        }\n        cpt += 4\n      }\n    }\n    switch (direction) {\n      case 'west':\n        index = val[cellSpriteIndex * 1][0]\n        break\n      case 'north':\n        index = val[cellSpriteIndex * 1][1]\n        break\n      case 'south':\n        index = val[cellSpriteIndex * 1][2]\n        break\n      case 'est':\n        index = val[cellSpriteIndex * 1][3]\n        break\n    }\n    const spritesheet = Assets.cache.get(resourceName)\n    const texture = spritesheet.textures[formatNumber(index) + '_' + resourceName + '.png']\n    const sprite = Sprite.from(texture)\n    sprite.direction = direction\n    sprite.anchor.set(0.5, 0.5)\n    sprite.type = 'border'\n    this.addChild(sprite)\n  }\n\n  setWaterBorder(cell, resourceName, index) {\n    const sprite = this.getChildByName('sprite')\n    const spritesheet = Assets.cache.get(resourceName)\n    const texture = spritesheet.textures[index + '_' + resourceName + '.png']\n    cell.type = 'desert'\n    cell.border = true\n    if (cell.has && typeof cell.has.destroy === 'function') {\n      cell.has.destroy()\n    }\n    sprite.texture = texture\n  }\n\n  setReliefBorder(index, elevation = 0) {\n    const sprite = this.getChildByName('sprite')\n    const resourceName = sprite.texture.textureCacheIds[0].split('_')[1].split('.')[0]\n    const spritesheet = Assets.cache.get(resourceName)\n    const texture = spritesheet.textures[index + '_' + resourceName + '.png']\n    if (elevation) {\n      this.y -= elevation\n    }\n    this.inclined = true\n    sprite.name = 'sprite'\n    sprite.anchor.set(0.5, 0.5)\n    sprite.texture = texture\n  }\n\n  fillWaterCellsAroundCell() {\n    const grid = this.parent.grid\n    getCellsAroundPoint(this.i, this.j, grid, 2, cell => {\n      if (cell.type === 'water' && this.type === 'water') {\n        const dist = instancesDistance(this, cell)\n        const velX = Math.round((this.i - cell.i) / dist)\n        const velY = Math.round((this.j - cell.j) / dist)\n        if (grid[cell.i + velX] && grid[cell.i + velX][cell.j + velY]) {\n          const target = grid[cell.i + velX][cell.j + velY]\n          const aside = grid[this.i + cell.i - target.i][this.j + cell.j - target.j]\n          if (target.type !== this.type && aside.type !== this.type) {\n            if (Math.floor(instancesDistance(this, cell)) === 2) {\n              const sprite = target.getChildByName('sprite')\n              const index = formatNumber(randomRange(0, 3))\n              const resourceName = '15002'\n              const spritesheet = Assets.cache.get(resourceName)\n              sprite.texture = spritesheet.textures[index + '_' + resourceName + '.png']\n              target.type = 'water'\n              target.solid = true\n            }\n          }\n        }\n      }\n    })\n  }\n\n  fillReliefCellsAroundCell() {\n    const grid = this.parent.grid\n    getCellsAroundPoint(this.i, this.j, grid, 2, cell => {\n      if (cell.z === this.z) {\n        const dist = instancesDistance(this, cell)\n        const velX = Math.round((this.i - cell.i) / dist)\n        const velY = Math.round((this.j - cell.j) / dist)\n        if (grid[cell.i + velX] && grid[cell.i + velX][cell.j + velY]) {\n          const target = grid[cell.i + velX][cell.j + velY]\n          const aside = grid[this.i + cell.i - target.i][this.j + cell.j - target.j]\n          if (target.z <= this.z && target.z !== this.z && aside.z !== this.z) {\n            if (Math.floor(instancesDistance(this, cell)) === 2) {\n              target.setCellLevel(target.z + 1)\n            }\n          }\n        }\n      }\n    })\n  }\n\n  setCellLevel(level, cpt = 1) {\n    if (level === 0) {\n      this.y += cellDepth\n      this.z = level\n    }\n    const grid = this.parent.grid\n    getCellsAroundPoint(this.i, this.j, grid, level - cpt, cell => {\n      if (cell.z < cpt) {\n        cell.y -= (cpt - cell.z) * cellDepth\n        cell.z = cpt\n        cell.fillReliefCellsAroundCell(grid)\n      }\n    })\n    if (cpt <= level) {\n      this.setCellLevel(level, cpt + 1)\n    }\n  }\n\n  setFog() {\n    const color = 0x666666\n    for (let i = 0; i < this.children.length; i++) {\n      if (this.children[i].tint) {\n        this.children[i].tint = color\n      }\n      this.children[i].cacheAsBitmap = true\n    }\n    if (this.has) {\n      if (this.has.name === 'unit' && !this.has.owner.isPlayed) {\n        this.has.visible = false\n      } else {\n        for (let i = 0; i < this.has.children.length; i++) {\n          if (this.has.children[i].tint) {\n            this.has.children[i].tint = color\n          }\n          this.has.children[i].cacheAsBitmap = true\n        }\n      }\n    }\n  }\n\n  removeFog() {\n    const {\n      context: { controls },\n    } = this\n    if (!this.visible) {\n      this.visible = true\n    }\n    for (let i = 0; i < this.children.length; i++) {\n      if (this.children[i].tint) {\n        this.children[i].tint = colorWhite\n      }\n      this.children[i].cacheAsBitmap = false\n    }\n    if (this.has) {\n      if (controls.instanceInCamera(this.has)) {\n        this.has.visible = true\n      }\n      for (let i = 0; i < this.has.children.length; i++) {\n        if (this.has.children[i].tint) {\n          this.has.children[i].tint = colorWhite\n        }\n        this.has.children[i].cacheAsBitmap = false\n      }\n    }\n  }\n}\n","import { Cell } from './cell'\nimport { Assets, Sprite } from 'pixi.js'\nimport { randomRange, formatNumber } from '../../lib'\nimport { colorDesert } from '../../constants'\n\nexport class Desert extends Cell {\n  constructor({ i, j, z }, context) {\n    const randomSpritesheet = randomRange(0, 8)\n    const resourceName = '15000'\n    const spritesheet = Assets.cache.get(resourceName)\n    const texture = spritesheet.textures[formatNumber(randomSpritesheet) + '_' + resourceName + '.png']\n    const sprite = Sprite.from(texture)\n    sprite.name = 'sprite'\n    super(\n      {\n        i,\n        j,\n        z,\n        sprite,\n        solid: false,\n        color: colorDesert,\n        type: 'desert',\n      },\n      context\n    )\n  }\n}\n","import { Cell } from './cell'\nimport { Assets, Sprite } from 'pixi.js'\nimport { randomRange, formatNumber } from '../../lib'\nimport { colorGrass } from '../../constants'\n\nexport class Grass extends Cell {\n  constructor({ i, j, z }, context) {\n    const randomSpritesheet = randomRange(0, 8)\n    const resourceName = '15001'\n    const spritesheet = Assets.cache.get(resourceName)\n    const texture = spritesheet.textures[formatNumber(randomSpritesheet) + '_' + resourceName + '.png']\n    const sprite = Sprite.from(texture)\n    sprite.name = 'sprite'\n    super(\n      {\n        i,\n        j,\n        z,\n        sprite,\n        color: colorGrass,\n        solid: false,\n        type: 'grass',\n      },\n      context\n    )\n  }\n}\n","import { Cell } from './cell'\nimport { Assets, Sprite } from 'pixi.js'\nimport { randomRange, formatNumber } from '../../lib'\nimport { colorGrass } from '../../constants'\n\nexport class Jungle extends Cell {\n  constructor({ i, j, z }, context) {\n    const randomSpritesheet = randomRange(0, 8)\n    const resourceName = '15001'\n    const spritesheet = Assets.cache.get(resourceName)\n    const texture = spritesheet.textures[formatNumber(randomSpritesheet) + '_' + resourceName + '.png']\n    const sprite = Sprite.from(texture)\n    sprite.name = 'sprite'\n    super(\n      {\n        i,\n        j,\n        z,\n        sprite,\n        color: colorGrass,\n        solid: false,\n        type: 'jungle',\n      },\n      context\n    )\n  }\n}\n","import { Cell } from './cell'\nimport { Assets, Sprite } from 'pixi.js'\nimport { randomRange, formatNumber } from '../../lib'\nimport { colorWater } from '../../constants'\n\nexport class Water extends Cell {\n  constructor({ i, j, z }, context) {\n    const randomSpritesheet = randomRange(0, 3)\n    const resourceName = '15002'\n    const spritesheet = Assets.cache.get(resourceName)\n    const texture = spritesheet.textures[formatNumber(randomSpritesheet) + '_' + resourceName + '.png']\n    const sprite = Sprite.from(texture)\n    sprite.name = 'sprite'\n    super(\n      {\n        i,\n        j,\n        z,\n        sprite,\n        solid: true,\n        color: colorWater,\n        type: 'water',\n      },\n      context\n    )\n  }\n}\n","import { Container, Graphics } from 'pixi.js'\nimport { getInstanceZIndex, instanceIsInPlayerSight, getIconPath } from '../../lib'\n\nexport class resource extends Container {\n  constructor(options, context) {\n    super()\n\n    this.context = context\n\n    const {\n      context: { map },\n    } = this\n    this.setParent(map)\n\n    this.id = map.children.length\n    this.name = 'resource'\n    Object.keys(options).forEach(prop => {\n      this[prop] = options[prop]\n    })\n    this.x = map.grid[this.i][this.j].x\n    this.y = map.grid[this.i][this.j].y\n    this.z = map.grid[this.i][this.j].z\n    this.zIndex = getInstanceZIndex(this)\n    map.grid[this.i][this.j].has = this\n    this.selected = false\n    this.visible = false\n    this.isDestroyed = false\n\n    this.life = this.lifeMax\n\n    // Set solid zone\n    const cell = map.grid[this.i][this.j]\n    cell.solid = true\n    cell.has = this\n\n    this.interactive = false\n    this.allowClick = false\n    this.allowMove = false\n    if (this.sprite) {\n      this.sprite.allowMove = false\n      this.sprite.interactive = true\n      this.sprite.roundPixels = true\n\n      this.sprite.on('pointertap', () => {\n        const {\n          context: { player, menu },\n        } = this\n        if (!player.selectedUnits.length && (instanceIsInPlayerSight(this, player) || map.revealEverything)) {\n          player.unselectAll()\n          this.select()\n          menu.setBottombar(this)\n          player.selectedOther = this\n        }\n      })\n      this.addChild(this.sprite)\n    }\n  }\n  select() {\n    if (this.selected) {\n      return\n    }\n    this.selected = true\n    const selection = new Graphics()\n    selection.name = 'selection'\n    selection.zIndex = 3\n    selection.lineStyle(1, 0xffffff)\n    const path = [-32 * this.size, 0, 0, -16 * this.size, 32 * this.size, 0, 0, 16 * this.size]\n    selection.drawPolygon(path)\n    this.addChildAt(selection, 0)\n  }\n  unselect() {\n    if (!this.selected) {\n      return\n    }\n    this.selected = false\n    const selection = this.getChildByName('selection')\n    if (selection) {\n      this.removeChild(selection)\n    }\n  }\n  die() {\n    const {\n      context: { player, players, map, menu },\n    } = this\n    if (this.selected && player) {\n      player.unselectAll()\n    }\n    if (typeof this.onDie === 'function') {\n      this.onDie()\n    }\n    const listName = 'founded' + this.type + 's'\n    for (let i = 0; i < players.length; i++) {\n      if (players[i].type === 'AI') {\n        const list = players[i][listName]\n        const index = list.indexOf(this)\n        list.splice(index, 1)\n      }\n    }\n\n    // Remove from map resources\n    let index = map.resources.indexOf(this)\n    if (index >= 0) {\n      map.resources.splice(index, 1)\n    }\n    menu.updateResourcesMiniMap()\n    map.grid[this.i][this.j].has = null\n    map.grid[this.i][this.j].solid = false\n    map.removeChild(this)\n    this.isDestroyed = true\n    this.destroy({ child: true, texture: true })\n  }\n  setDefaultInterface(element, data) {\n    const {\n      context: { menu },\n    } = this\n    const typeDiv = document.createElement('div')\n    typeDiv.id = 'type'\n    typeDiv.textContent = this.type\n    element.appendChild(typeDiv)\n\n    const iconImg = document.createElement('img')\n    iconImg.id = 'icon'\n    iconImg.src = getIconPath(data.icon)\n    element.appendChild(iconImg)\n\n    if (this.life) {\n      const lifeDiv = document.createElement('div')\n      lifeDiv.id = 'life'\n      lifeDiv.textContent = this.life + '/' + this.lifeMax\n      element.appendChild(lifeDiv)\n    }\n    if (this.quantity) {\n      const quantityDiv = document.createElement('div')\n\n      quantityDiv.id = 'quantity'\n      quantityDiv.className = 'resource-quantity'\n\n      let iconToUse\n      switch (this.type) {\n        case 'Tree':\n          iconToUse = menu.icons['wood']\n          break\n        case 'Berrybush':\n          iconToUse = menu.icons['food']\n          break\n        case 'Stone':\n          iconToUse = menu.icons['stone']\n          break\n        case 'Gold':\n          iconToUse = menu.icons['gold']\n          break\n      }\n      const smallIconImg = document.createElement('img')\n      smallIconImg.src = iconToUse\n      smallIconImg.className = 'resource-quantity-icon'\n      const textDiv = document.createElement('div')\n      textDiv.id = 'quantity-text'\n      textDiv.textContent = this.quantity\n      quantityDiv.appendChild(smallIconImg)\n      quantityDiv.appendChild(textDiv)\n      element.appendChild(quantityDiv)\n    }\n  }\n}\n","import { resource } from './resource'\nimport { Assets, Sprite, Polygon } from 'pixi.js'\nimport { drawInstanceBlinkingSelection } from '../../lib'\nimport { colorBerry } from '../../constants'\n\nexport class Berrybush extends resource {\n  constructor({ i, j }, context) {\n    const type = 'Berrybush'\n    const data = Assets.cache.get('config').resources[type]\n    const resourceName = '240'\n\n    // Define sprite\n    const spritesheet = Assets.cache.get(resourceName)\n    const textureName = `000_${resourceName}.png`\n    const texture = spritesheet.textures[textureName]\n    const sprite = Sprite.from(texture)\n    sprite.updateAnchor = true\n    sprite.name = 'sprite'\n    sprite.hitArea = new Polygon(spritesheet.data.frames[textureName].hitArea)\n    sprite.on('pointerup', () => {\n      const {\n        context: { player, controls },\n      } = this\n      if (!player || controls.mouseBuilding || controls.mouseRectangle || !controls.isMouseInApp()) {\n        return\n      }\n      controls.mouse.prevent = true\n      // Send Villager to forage the berry\n      let hasVillager = false\n      for (let i = 0; i < player.selectedUnits.length; i++) {\n        const unit = player.selectedUnits[i]\n        if (unit.type === 'Villager') {\n          hasVillager = true\n          unit.sendToBerrybush(this)\n        } else {\n          unit.sendTo(this)\n        }\n      }\n      if (hasVillager) {\n        drawInstanceBlinkingSelection(this)\n      }\n    })\n\n    super(\n      {\n        i,\n        j,\n        type,\n        sprite: sprite,\n        size: 1,\n        color: colorBerry,\n        quantity: data.quantity,\n        interface: {\n          info: element => {\n            this.setDefaultInterface(element, data)\n          },\n        },\n      },\n      context\n    )\n  }\n}\n","import { resource } from './resource'\nimport { Assets, Sprite, Polygon } from 'pixi.js'\nimport { randomRange, drawInstanceBlinkingSelection } from '../../lib'\nimport { colorGold } from '../../constants'\n\nexport class Gold extends resource {\n  constructor({ i, j }, context) {\n    const type = 'Gold'\n    const data = Assets.cache.get('config').resources[type]\n    const resourceName = '481'\n\n    // Define sprite\n    const randomSprite = randomRange(0, 6)\n    const spritesheet = Assets.cache.get(resourceName)\n    const textureName = `00${randomSprite}_${resourceName}.png`\n    const texture = spritesheet.textures[textureName]\n    const sprite = Sprite.from(texture)\n    sprite.updateAnchor = true\n    sprite.name = 'sprite'\n    sprite.hitArea = new Polygon(spritesheet.data.frames[textureName].hitArea)\n    sprite.on('pointerup', () => {\n      const {\n        context: { player, controls },\n      } = this\n      if (!player || controls.mouseBuilding || controls.mouseRectangle || !controls.isMouseInApp()) {\n        return\n      }\n      controls.mouse.prevent = true\n      // Send Villager to forage the berry\n      let hasVillager = false\n      for (let i = 0; i < player.selectedUnits.length; i++) {\n        const unit = player.selectedUnits[i]\n        if (unit.type === 'Villager') {\n          hasVillager = true\n          unit.sendToGold(this)\n        } else {\n          unit.sendTo(this)\n        }\n      }\n      if (hasVillager) {\n        drawInstanceBlinkingSelection(this)\n      }\n    })\n\n    super(\n      {\n        i,\n        j,\n        type,\n        sprite: sprite,\n        color: colorGold,\n        size: 1,\n        quantity: data.quantity,\n        interface: {\n          info: element => {\n            this.setDefaultInterface(element, data)\n          },\n        },\n      },\n      context\n    )\n  }\n}\n","import { resource } from './resource'\nimport { Assets, Sprite, Polygon } from 'pixi.js'\nimport { randomRange, drawInstanceBlinkingSelection } from '../../lib'\nimport { colorStone } from '../../constants'\n\nexport class Stone extends resource {\n  constructor({ i, j }, context) {\n    const type = 'Stone'\n    const data = Assets.cache.get('config').resources[type]\n    const resourceName = '622'\n\n    // Define sprite\n    const randomSprite = randomRange(0, 6)\n    const spritesheet = Assets.cache.get(resourceName)\n    const textureName = `00${randomSprite}_${resourceName}.png`\n    const texture = spritesheet.textures[textureName]\n    const sprite = Sprite.from(texture)\n    sprite.updateAnchor = true\n    sprite.name = 'sprite'\n    sprite.hitArea = new Polygon(spritesheet.data.frames[textureName].hitArea)\n    sprite.on('pointerup', () => {\n      const {\n        context: { player, controls },\n      } = this\n      if (!player || controls.mouseBuilding || controls.mouseRectangle || !controls.isMouseInApp()) {\n        return\n      }\n      controls.mouse.prevent = true\n      // Send Villager to forage the berry\n      let hasVillager = false\n      for (let i = 0; i < player.selectedUnits.length; i++) {\n        const unit = player.selectedUnits[i]\n        if (unit.type === 'Villager') {\n          hasVillager = true\n          unit.sendToStone(this)\n        } else {\n          unit.sendTo(this)\n        }\n      }\n      if (hasVillager) {\n        drawInstanceBlinkingSelection(this)\n      }\n    })\n\n    super(\n      {\n        i,\n        j,\n        type,\n        sprite: sprite,\n        size: 1,\n        color: colorStone,\n        quantity: data.quantity,\n        interface: {\n          info: element => {\n            this.setDefaultInterface(element, data)\n          },\n        },\n      },\n      context\n    )\n  }\n}\n","import { resource } from './resource'\nimport { Assets, Sprite, Polygon } from 'pixi.js'\nimport {\n  randomItem,\n  randomRange,\n  instanceIsInPlayerSight,\n  instanceIsSurroundedBySolid,\n  drawInstanceBlinkingSelection,\n  getNewInstanceClosestFreeCellPath,\n} from '../../lib'\nimport { colorTree } from '../../constants'\n\nexport class Tree extends resource {\n  constructor({ i, j }, context) {\n    const type = 'Tree'\n    const data = Assets.cache.get('config').resources[type]\n\n    // Define sprite\n    const forestTrees = ['492', '493', '494', '503', '509']\n    const palmTrees = ['463', '464', '465', '466']\n\n    const { map } = context\n    const cell = map.grid[i][j]\n\n    let textureNames = forestTrees\n    switch (cell.type) {\n      case 'desert':\n      case 'jungle':\n        textureNames = palmTrees\n        break\n      default:\n        textureNames = forestTrees\n    }\n\n    const randomSpritesheet = randomItem(textureNames)\n    const spritesheet = Assets.cache.get(randomSpritesheet)\n    const textureName = `000_${randomSpritesheet}.png`\n    const texture = spritesheet.textures[textureName]\n    const sprite = Sprite.from(texture)\n    sprite.updateAnchor = true\n    sprite.name = 'sprite'\n    sprite.hitArea = new Polygon(spritesheet.data.frames[textureName].hitArea)\n    sprite.on('pointerup', () => {\n      const {\n        context: { player, controls },\n      } = this\n      if (!player || controls.mouseBuilding || controls.mouseRectangle || !controls.isMouseInApp()) {\n        return\n      }\n      controls.mouse.prevent = true\n      // Send Villager to cut the tree\n      let hasVillager = false\n      let dest = this\n      for (let i = 0; i < player.selectedUnits.length; i++) {\n        const unit = player.selectedUnits[i]\n        if (instanceIsSurroundedBySolid(this)) {\n          const newDest = getNewInstanceClosestFreeCellPath(unit, this, this.parent)\n          if (newDest) {\n            dest = newDest.target\n          }\n        }\n        if (unit.type === 'Villager') {\n          hasVillager = true\n          unit.sendToTree(dest)\n        } else {\n          unit.sendTo(dest)\n        }\n      }\n      if (hasVillager) {\n        drawInstanceBlinkingSelection(dest)\n      }\n    })\n\n    super(\n      {\n        i,\n        j,\n        type,\n        sprite: sprite,\n        size: 1,\n        color: colorTree,\n        quantity: data.quantity,\n        lifeMax: data.lifeMax,\n        interface: {\n          info: element => {\n            this.setDefaultInterface(element, data)\n          },\n        },\n      },\n      context\n    )\n  }\n  setCuttedTreeTexture() {\n    const sprite = this.getChildByName('sprite')\n    const spritesheet = Assets.cache.get('636')\n    const textureName = `00${randomRange(0, 3)}_636.png`\n    const texture = spritesheet.textures[textureName]\n    sprite.texture = texture\n    const points = [-32, 0, 0, -16, 32, 0, 0, 16]\n    sprite.hitArea = new Polygon(points)\n    sprite.anchor.set(texture.defaultAnchor.x, texture.defaultAnchor.y)\n  }\n  onDie() {\n    const {\n      context: { player, map },\n    } = this\n    const spritesheet = Assets.cache.get('623')\n    const textureName = `00${randomRange(0, 3)}_623.png`\n    const texture = spritesheet.textures[textureName]\n    const sprite = Sprite.from(texture)\n    if (!instanceIsInPlayerSight(this, player)) {\n      sprite.visible = false\n    }\n    sprite.name = 'stump'\n    map.grid[this.i][this.j].addChild(sprite)\n  }\n}\n","import { Container, Assets, Sprite, AnimatedSprite, Graphics } from 'pixi.js'\nimport { accelerator, rubbleTime } from '../../constants'\nimport {\n  getTexture,\n  getInstanceZIndex,\n  getPlainCellsAroundPoint,\n  getPercentage,\n  renderCellOnInstanceSight,\n  getFreeCellAroundPoint,\n  getIconPath,\n  canAfford,\n  drawInstanceBlinkingSelection,\n  payCost,\n  instanceIsInPlayerSight,\n  clearCellOnInstanceSight,\n  getActionCondition,\n  capitalizeFirstLetter,\n  refundCost,\n  getBuildingAsset,\n  changeSpriteColor,\n  getBuildingRubbleTextureNameWithSize,\n} from '../../lib'\n\nexport class Building extends Container {\n  constructor(options, context) {\n    super()\n\n    this.context = context\n\n    const { map } = context\n    this.setParent(map)\n    this.id = map.children.length\n    this.name = 'building'\n\n    Object.keys(options).forEach(prop => {\n      this[prop] = options[prop]\n    })\n\n    this.x = map.grid[this.i][this.j].x\n    this.y = map.grid[this.i][this.j].y\n    this.z = map.grid[this.i][this.j].z\n    this.zIndex = getInstanceZIndex(this)\n    this.selected = false\n    this.queue = []\n    this.technology = null\n    this.loading = null\n    this.isDead = false\n    this.isDestroyed = false\n    this.interval\n    this.timeout\n    if (!map.revealEverything) {\n      this.visible = false\n    }\n\n    this.life = this.isBuilt ? this.lifeMax : 1\n\n    // Set solid zone\n    const dist = this.size === 3 ? 1 : 0\n    getPlainCellsAroundPoint(this.i, this.j, map.grid, dist, cell => {\n      const set = cell.getChildByName('set')\n      if (set) {\n        cell.removeChild(set)\n      }\n      const rubble = cell.getChildByName('rubble')\n      cell.zIndex = 0\n      if (rubble) {\n        cell.removeChild(rubble)\n      }\n      cell.has = this\n      cell.solid = true\n      this.owner.views[cell.i][cell.j].viewBy.push(this)\n      if (this.owner.isPlayed && !map.revealEverything) {\n        cell.removeFog()\n      }\n    })\n\n    this.allowMove = false\n    if (this.sprite) {\n      this.sprite.allowMove = false\n      this.sprite.interactive = true\n      this.sprite.roundPixels = true\n\n      this.sprite.on('pointertap', () => {\n        const {\n          context: { controls, player, menu },\n        } = this\n        if (!player || controls.mouseBuilding || controls.mouseRectangle || !controls.isMouseInApp()) {\n          return\n        }\n        let hasSentVillager = false\n        controls.mouse.prevent = true\n        if (this.owner.isPlayed) {\n          // Send Villager to build the building\n          if (!this.isBuilt) {\n            for (let i = 0; i < player.selectedUnits.length; i++) {\n              const unit = player.selectedUnits[i]\n              if (getActionCondition(unit, this, 'build')) {\n                hasSentVillager = true\n                unit.sendToBuilding(this)\n                drawInstanceBlinkingSelection(this)\n              }\n            }\n            if (hasSentVillager) {\n              return\n            }\n          } else if (player.selectedUnits) {\n            // Send Villager to give loading of resources\n            for (let i = 0; i < player.selectedUnits.length; i++) {\n              const unit = player.selectedUnits[i]\n              if (unit.type === 'Villager') {\n                if (this.life < this.lifeMax) {\n                  hasSentVillager = true\n                  unit.previousDest = null\n                  unit.sendToBuilding(this)\n                } else {\n                  switch (this.type) {\n                    case 'Farm':\n                      hasSentVillager = true\n                      unit.sendToFarm(this)\n                      break\n                    case 'StoragePit':\n                    case 'Granary':\n                    case 'TownCenter':\n                      if (\n                        unit.loading > 0 &&\n                        (this.type === 'TownCenter' || (this.accept && this.accept.includes(unit.work)))\n                      ) {\n                        hasSentVillager = true\n                        unit.previousDest = null\n                        unit.sendToDelivery()\n                      }\n                      break\n                  }\n                }\n              }\n            }\n            if (hasSentVillager) {\n              drawInstanceBlinkingSelection(this)\n              return\n            }\n          }\n          player.unselectAll()\n          this.select()\n          menu.setBottombar(this)\n          player.selectedBuilding = this\n        } else if (player.selectedUnits.length) {\n          drawInstanceBlinkingSelection(this)\n          for (let i = 0; i < player.selectedUnits.length; i++) {\n            const playerUnit = player.selectedUnits[i]\n            if (playerUnit.type === 'Villager') {\n              playerUnit.sendToAttack(this)\n            } else {\n              playerUnit.sendTo(this, 'attack')\n            }\n          }\n        } else if (instanceIsInPlayerSight(this, player) || map.revealEverything) {\n          player.unselectAll()\n          this.select()\n          menu.setBottombar(this)\n          player.selectedOther = this\n        }\n      })\n\n      this.addChild(this.sprite)\n    }\n\n    if (this.isBuilt) {\n      this.updateTexture()\n      renderCellOnInstanceSight(this)\n\n      if (typeof this.onBuilt === 'function') {\n        this.onBuilt()\n      }\n    }\n  }\n\n  startInterval(cb, time) {\n    if (!this.interval) {\n      this.interval = setInterval(() => cb(), (time * 1000) / 100 / accelerator)\n    }\n  }\n\n  stopInterval() {\n    if (this.interval) {\n      clearInterval(this.interval)\n      this.interval = null\n    }\n  }\n\n  startTimeout(cb, time) {\n    if (!this.timeout) {\n      this.timeout = setTimeout(() => cb(), (time * 1000) / accelerator)\n    }\n  }\n\n  stopTimeout() {\n    if (this.timeout) {\n      clearInterval(this.timeout)\n      this.timeout = null\n    }\n  }\n\n  isAttacked(instance) {\n    this.updateLife('attack')\n  }\n\n  updateTexture() {\n    const {\n      context: { menu },\n    } = this\n    const sprite = this.getChildByName('sprite')\n    const percentage = getPercentage(this.life, this.lifeMax)\n    const buildSpritesheetId = sprite.texture.textureCacheIds[0].split('_')[1].split('.')[0]\n    const buildSpritesheet = Assets.cache.get(buildSpritesheetId)\n\n    if (percentage >= 25 && percentage < 50) {\n      const textureName = `001_${buildSpritesheetId}.png`\n      sprite.texture = buildSpritesheet.textures[textureName]\n    } else if (percentage >= 50 && percentage < 75) {\n      const textureName = `002_${buildSpritesheetId}.png`\n      sprite.texture = buildSpritesheet.textures[textureName]\n    } else if (percentage >= 75 && percentage < 99) {\n      const textureName = `003_${buildSpritesheetId}.png`\n      sprite.texture = buildSpritesheet.textures[textureName]\n    } else if (percentage >= 100) {\n      this.finalTexture()\n      this.isBuilt = true\n      if (!this.owner.hasBuilt.includes(this.type)) {\n        this.owner.hasBuilt.push(this.type)\n      }\n      if (this.owner && this.owner.isPlayed && this.selected) {\n        menu.setBottombar(this)\n      }\n      if (typeof this.onBuilt === 'function') {\n        this.onBuilt()\n      }\n      renderCellOnInstanceSight(this)\n    }\n  }\n\n  finalTexture() {\n    const assets = getBuildingAsset(this.type, this.owner, Assets)\n\n    const sprite = this.getChildByName('sprite')\n    sprite.texture = getTexture(assets.images.final, Assets)\n    sprite.anchor.set(sprite.texture.defaultAnchor.x, sprite.texture.defaultAnchor.y)\n\n    const color = this.getChildByName('color')\n    if (color) {\n      color.destroy()\n    }\n\n    if (assets.images.color) {\n      const spriteColor = Sprite.from(getTexture(assets.images.color, Assets))\n      spriteColor.name = 'color'\n      changeSpriteColor(spriteColor, this.owner.color)\n      this.addChild(spriteColor)\n    } else {\n      changeSpriteColor(sprite, this.owner.color)\n    }\n    typeof this.afterFinalTextures === 'function' && this.afterFinalTextures()\n  }\n\n  updateLife(action) {\n    if (this.life > this.lifeMax) {\n      this.life = this.lifeMax\n    }\n    const percentage = getPercentage(this.life, this.lifeMax)\n\n    if (this.life <= 0) {\n      this.die()\n    }\n    if (action === 'build' && !this.isBuilt) {\n      this.updateTexture()\n    } else if ((action === 'attack' && this.isBuilt) || (action === 'build' && this.isBuilt)) {\n      if (percentage > 0 && percentage < 25) {\n        generateFire(this, '450')\n      }\n      if (percentage >= 25 && percentage < 50) {\n        generateFire(this, '452')\n      }\n      if (percentage >= 50 && percentage < 75) {\n        generateFire(this, '347')\n      }\n      if (percentage >= 75) {\n        const fire = this.getChildByName('fire')\n        if (fire) {\n          this.removeChild(fire)\n        }\n      }\n    }\n    function generateFire(building, spriteId) {\n      const fire = building.getChildByName('fire')\n      const spritesheetFire = Assets.cache.get(spriteId)\n      if (fire) {\n        for (let i = 0; i < fire.children.length; i++) {\n          fire.children[i].textures = spritesheetFire.animations['fire']\n          fire.children[i].play()\n        }\n      } else {\n        const newFire = new Container()\n        newFire.name = 'fire'\n        newFire.allowMove = false\n        newFire.allowClick = false\n        newFire.interactive = false\n        let poses = [[0, 0]]\n        if (building.size === 3) {\n          poses = [\n            [0, -32],\n            [-64, 0],\n            [0, 32],\n            [64, 0],\n          ]\n        }\n        for (let i = 0; i < poses.length; i++) {\n          const spriteFire = new AnimatedSprite(spritesheetFire.animations['fire'])\n          spriteFire.allowMove = false\n          spriteFire.allowClick = false\n          spriteFire.interactive = false\n          spriteFire.roundPixels = true\n          spriteFire.x = poses[i][0]\n          spriteFire.y = poses[i][1]\n          spriteFire.play()\n          spriteFire.animationSpeed = 0.2 * accelerator\n          newFire.addChild(spriteFire)\n        }\n        building.addChild(newFire)\n      }\n    }\n  }\n\n  die() {\n    const {\n      context: { map, player },\n    } = this\n    if (this.parent) {\n      this.stopInterval()\n      this.isDead = true\n      if (this.selected && player) {\n        player.unselectAll()\n      }\n      // Remove solid zone\n      const dist = this.size === 3 ? 1 : 0\n      getPlainCellsAroundPoint(this.i, this.j, map.grid, dist, cell => {\n        if (cell.has === this) {\n          cell.has = null\n          cell.solid = false\n        }\n      })\n      // Remove from player buildings\n      const index = this.owner.buildings.indexOf(this)\n      if (index >= 0) {\n        this.owner.buildings.splice(index, 1)\n      }\n      // Remove from view of others players\n      for (let i = 0; i < map.players.length; i++) {\n        if (map.players[i].type === 'AI') {\n          const list = map.players[i].foundedEnemyBuildings\n          list.splice(list.indexOf(this), 1)\n        }\n      }\n      const color = this.getChildByName('color')\n      color && color.destroy()\n      const deco = this.getChildByName('deco')\n      deco && deco.destroy()\n      const fire = this.getChildByName('fire')\n      fire && fire.destroy()\n\n      const sprite = this.getChildByName('sprite')\n      let rubbleSheet = getBuildingRubbleTextureNameWithSize(this.size, Assets)\n      if (this.type === 'Farm') {\n        rubbleSheet = '000_239'\n      }\n      sprite.texture = getTexture(rubbleSheet, Assets)\n      if (this.type === 'Farm') {\n        changeSpriteColor(sprite, this.owner.color)\n      }\n      this.zIndex--\n      this.startTimeout(() => this.clear(), rubbleTime)\n      this.sprite.interactive = false\n      this.interactive = false\n    }\n    clearCellOnInstanceSight(this)\n  }\n\n  clear() {\n    this.isDestroyed = true\n    this.destroy({ child: true, texture: true })\n  }\n\n  select() {\n    const {\n      context: { menu },\n    } = this\n\n    if (this.selected) {\n      return\n    }\n    this.selected = true\n    const selection = new Graphics()\n    selection.name = 'selection'\n    selection.zIndex = 3\n    selection.lineStyle(1, 0xffffff)\n    const path = [-32 * this.size, 0, 0, -16 * this.size, 32 * this.size, 0, 0, 16 * this.size]\n    selection.drawPolygon(path)\n    if (this.loading && this.owner.isPlayed) {\n      menu.updateInfo('loading', element => (element.textContent = this.loading + '%'))\n    }\n    this.addChildAt(selection, 0)\n\n    menu.updatePlayerMiniMapEvt(this.owner)\n  }\n\n  unselect() {\n    if (!this.selected) {\n      return\n    }\n    const {\n      context: { menu },\n    } = this\n\n    this.selected = false\n    const selection = this.getChildByName('selection')\n    if (selection) {\n      this.removeChild(selection)\n    }\n    menu.updatePlayerMiniMapEvt(this.owner)\n  }\n\n  placeUnit(type) {\n    const {\n      context: { map, menu },\n    } = this\n    const spawnCell = getFreeCellAroundPoint(this.i, this.j, map.grid)\n    if (!spawnCell) {\n      return\n    }\n    this.owner.population++\n    this.owner.createUnit(spawnCell.i, spawnCell.j, type, map)\n\n    if (this.owner.isPlayed && this.owner.selectedBuilding && this.owner.selectedBuilding.type === 'House') {\n      menu.updateInfo(\n        'population',\n        element => (element.textContent = this.owner.population + '/' + this.owner.populationMax)\n      )\n    }\n  }\n\n  buyUnit(type, alreadyPaid = false) {\n    const {\n      context: { menu },\n    } = this\n    const unit = Assets.cache.get('config').units[type]\n    if (this.isBuilt && !this.isDead && (canAfford(this.owner, unit.cost) || alreadyPaid)) {\n      if (!alreadyPaid) {\n        if (this.owner.type === 'AI' && this.loading === null) {\n          payCost(this.owner, unit.cost)\n        } else {\n          payCost(this.owner, unit.cost)\n          this.queue.push(type)\n          if (this.selected && this.owner.isPlayed) {\n            menu.updateButtonContent(type, element => (element.textContent = this.queue.filter(q => q === type).length))\n          }\n        }\n        if (this.owner.isPlayed) {\n          menu.updateTopbar()\n        }\n      }\n      if (this.loading === null) {\n        let hasShowedMessage = false\n        this.loading = 0\n        if (this.selected && this.owner.isPlayed) {\n          menu.updateInfo('loading', element => (element.textContent = this.loading + '%'))\n        }\n        this.startInterval(() => {\n          if (this.queue[0] !== type) {\n            this.stopInterval()\n            this.loading = null\n            if (this.queue.length) {\n              this.buyUnit(this.queue[0], true)\n            }\n            hasShowedMessage = false\n            if (this.selected && this.owner.isPlayed) {\n              const still = this.queue.filter(q => q === type).length\n              menu.updateButtonContent(type, element => (element.textContent = still || ''))\n              if (still === 0) {\n                menu.toggleButtonCancel(type, false)\n              }\n              menu.updateInfo('loading', element => (element.textContent = ''))\n            }\n          } else if (this.loading < 100) {\n            if (this.owner.population < this.owner.populationMax) {\n              this.loading += 1\n            } else if (this.owner.isPlayed && !hasShowedMessage) {\n              menu.showMessage('You need to build more houses')\n              hasShowedMessage = true\n            }\n            if (this.selected && this.owner.isPlayed) {\n              menu.updateInfo('loading', element => (element.textContent = this.loading + '%'))\n            }\n          } else if (this.loading >= 100) {\n            this.stopInterval()\n            this.placeUnit(type)\n            this.loading = null\n            this.queue.shift()\n            if (this.queue.length) {\n              this.buyUnit(this.queue[0], true)\n            }\n            hasShowedMessage = false\n            if (this.selected && this.owner.isPlayed) {\n              const still = this.queue.filter(q => q === type).length\n              menu.updateButtonContent(type, element => (element.textContent = still || ''))\n              if (still === 0) {\n                menu.toggleButtonCancel(type, false)\n              }\n              menu.updateInfo('loading', element => (element.textContent = ''))\n            }\n          }\n        }, unit.trainingTime)\n      }\n    }\n  }\n\n  cancelTechnology() {\n    const {\n      context: { player, menu },\n    } = this\n    this.stopInterval()\n    refundCost(player, this.technology.cost)\n    this.technology = null\n    this.loading = null\n    if (this.selected && this.owner.isPlayed) {\n      menu.setBottombar(this)\n    }\n    menu.updateTopbar()\n  }\n\n  buyTechnology(technology) {\n    const {\n      context: { player, menu },\n    } = this\n    if (\n      !this.queue.length &&\n      this.isBuilt &&\n      this.loading === null &&\n      !this.isDead &&\n      canAfford(this.owner, technology.cost)\n    ) {\n      payCost(this.owner, technology.cost)\n      if (this.owner.isPlayed) {\n        menu.updateTopbar()\n      }\n      this.loading = 0\n      this.technology = technology\n      if (this.selected && this.owner.isPlayed) {\n        menu.setBottombar(this)\n      }\n      this.startInterval(() => {\n        if (this.loading < 100) {\n          this.loading += 1\n          if (this.selected && this.owner.isPlayed) {\n            menu.updateInfo('loading', element => (element.textContent = this.loading + '%'))\n          }\n        } else if (this.loading >= 100) {\n          this.stopInterval()\n          this.loading = null\n          this.technology = null\n          if (Array.isArray(player[technology.key])) {\n            player[technology.key].push(technology.value)\n          } else {\n            player[technology.key] = technology.value\n          }\n          const functionName = `on${capitalizeFirstLetter(technology.key)}Change`\n          typeof player[functionName] === 'function' && player[functionName](technology.value)\n          if (this.selected && this.owner.isPlayed) {\n            menu.setBottombar(this)\n          }\n          menu.updateTopbar()\n        }\n      }, technology.loadingTime)\n    }\n  }\n\n  setDefaultInterface(element, data) {\n    const {\n      context: { menu },\n    } = this\n\n    const civDiv = document.createElement('div')\n    civDiv.id = 'civ'\n    civDiv.textContent = this.owner.civ\n    element.appendChild(civDiv)\n\n    const typeDiv = document.createElement('div')\n    typeDiv.id = 'type'\n    typeDiv.textContent = this.type\n    element.appendChild(typeDiv)\n\n    const iconImg = document.createElement('img')\n    iconImg.id = 'icon'\n    iconImg.src = getIconPath(data.icon)\n    element.appendChild(iconImg)\n\n    if (this.owner && this.owner.isPlayed) {\n      const lifeDiv = document.createElement('div')\n      lifeDiv.id = 'life'\n      lifeDiv.textContent = Math.max(this.life, 0) + '/' + this.lifeMax\n      element.appendChild(lifeDiv)\n\n      const loadingDiv = document.createElement('div')\n      loadingDiv.id = 'loading'\n      loadingDiv.textContent = this.loading ? this.loading + '%' : ''\n      element.appendChild(loadingDiv)\n\n      if (this.type === 'Farm' && this.isBuilt && this.quantity) {\n        const quantityDiv = document.createElement('div')\n        quantityDiv.id = 'quantity'\n        quantityDiv.className = 'resource-quantity'\n        const smallIconImg = document.createElement('img')\n        smallIconImg.src = menu.icons['food']\n        smallIconImg.className = 'resource-quantity-icon'\n        const textDiv = document.createElement('div')\n        textDiv.id = 'quantity-text'\n        textDiv.textContent = Math.max(this.quantity, 0)\n        quantityDiv.appendChild(smallIconImg)\n        quantityDiv.appendChild(textDiv)\n        element.appendChild(quantityDiv)\n      }\n    }\n  }\n}\n","import { Building } from './building'\nimport { Assets, Sprite } from 'pixi.js'\nimport { getTexture, changeSpriteColor, getBuildingTextureNameWithSize, getBuildingAsset } from '../../lib'\n\nexport class Academy extends Building {\n  constructor({ i, j, owner, isBuilt = false }, context) {\n    const type = 'Academy'\n    const config = Assets.cache.get('config').buildings[type]\n\n    // Define sprite\n    const texture = getTexture(getBuildingTextureNameWithSize(config.size), Assets)\n    const sprite = Sprite.from(texture)\n    sprite.updateAnchor = true\n    sprite.name = 'sprite'\n\n    super(\n      {\n        i,\n        j,\n        owner,\n        type,\n        sprite,\n        isBuilt,\n        ...config,\n        interface: {\n          info: element => {\n            const assets = getBuildingAsset(this.type, this.owner, Assets)\n            this.setDefaultInterface(element, assets)\n          },\n          menu: owner.isPlayed ? [] : [],\n        },\n      },\n      context\n    )\n  }\n}\n","import { Building } from './building'\nimport { Assets, Sprite } from 'pixi.js'\nimport { getTexture, changeSpriteColor, getBuildingTextureNameWithSize, getBuildingAsset } from '../../lib'\n\nexport class ArcheryRange extends Building {\n  constructor({ i, j, owner, isBuilt = false }, context) {\n    const type = 'ArcheryRange'\n    const config = Assets.cache.get('config').buildings[type]\n\n    // Define sprite\n    const texture = getTexture(getBuildingTextureNameWithSize(config.size), Assets)\n    const sprite = Sprite.from(texture)\n    sprite.updateAnchor = true\n    sprite.name = 'sprite'\n\n    super(\n      {\n        i,\n        j,\n        owner,\n        type,\n        sprite,\n        isBuilt,\n        ...config,\n        interface: {\n          info: element => {\n            const assets = getBuildingAsset(this.type, this.owner, Assets)\n            this.setDefaultInterface(element, assets)\n          },\n          menu: owner.isPlayed ? [context.menu.getUnitButton('Bowman')] : [],\n        },\n      },\n      context\n    )\n  }\n}\n","import { Building } from './building'\nimport { Assets, Sprite } from 'pixi.js'\nimport { getTexture, changeSpriteColor, getBuildingTextureNameWithSize, getBuildingAsset } from '../../lib'\n\nexport class Barracks extends Building {\n  constructor({ i, j, owner, isBuilt = false }, context) {\n    const type = 'Barracks'\n    const config = Assets.cache.get('config').buildings[type]\n\n    // Define sprite\n    const texture = getTexture(getBuildingTextureNameWithSize(config.size), Assets)\n    const sprite = Sprite.from(texture)\n    sprite.updateAnchor = true\n    sprite.name = 'sprite'\n    //sprite.hitArea = new Polygon(texture.hitArea)\n\n    super(\n      {\n        i,\n        j,\n        owner,\n        type,\n        sprite,\n        isBuilt,\n        ...config,\n        interface: {\n          info: element => {\n            const assets = getBuildingAsset(this.type, this.owner, Assets)\n            this.setDefaultInterface(element, assets)\n          },\n          menu: owner.isPlayed ? [context.menu.getUnitButton('Clubman')] : [],\n        },\n      },\n      context\n    )\n  }\n\n  finalTexture() {\n    const assets = getBuildingAsset(this.type, this.owner, Assets)\n\n    const sprite = this.getChildByName('sprite')\n    sprite.texture = getTexture(assets.images.final, Assets)\n    sprite.anchor.set(sprite.texture.defaultAnchor.x, sprite.texture.defaultAnchor.y)\n\n    if (assets.images.color) {\n      const spriteColor = Sprite.from(getTexture(assets.images.color, Assets))\n      spriteColor.name = 'color'\n      changeSpriteColor(spriteColor, this.owner.color)\n      this.addChildAt(spriteColor, 0)\n    } else {\n      changeSpriteColor(sprite, this.owner.color)\n    }\n  }\n}\n","import { Building } from './building'\nimport { Assets, Sprite, Polygon } from 'pixi.js'\nimport { getTexture, changeSpriteColor, getBuildingTextureNameWithSize, getBuildingAsset } from '../../lib'\n\nexport class Farm extends Building {\n  constructor({ i, j, owner, isBuilt = false }, context) {\n    const type = 'Farm'\n    const config = Assets.cache.get('config').buildings[type]\n\n    // Define sprite\n    const texture = getTexture(getBuildingTextureNameWithSize(config.size), Assets)\n    const sprite = Sprite.from(texture)\n    sprite.updateAnchor = true\n    sprite.name = 'sprite'\n    //sprite.hitArea = new Polygon(texture.hitArea)\n\n    super(\n      {\n        i,\n        j,\n        owner,\n        type,\n        sprite,\n        isBuilt,\n        isUsedBy: null,\n        ...config,\n        interface: {\n          info: element => {\n            const assets = getBuildingAsset(this.type, this.owner, Assets)\n            this.setDefaultInterface(element, assets)\n          },\n        },\n      },\n      context\n    )\n  }\n}\n","import { Building } from './building'\nimport { Assets, Sprite } from 'pixi.js'\nimport { getTexture, changeSpriteColor, getBuildingTextureNameWithSize, getBuildingAsset } from '../../lib'\n\nexport class GovernmentCenter extends Building {\n  constructor({ i, j, owner, isBuilt = false }, context) {\n    const type = 'GovernmentCenter'\n    const config = Assets.cache.get('config').buildings[type]\n\n    // Define sprite\n    const texture = getTexture(getBuildingTextureNameWithSize(config.size), Assets)\n    const sprite = Sprite.from(texture)\n    sprite.updateAnchor = true\n    sprite.name = 'sprite'\n\n    super(\n      {\n        i,\n        j,\n        owner,\n        type,\n        sprite,\n        isBuilt,\n        ...config,\n        interface: {\n          info: element => {\n            const assets = getBuildingAsset(this.type, this.owner, Assets)\n            this.setDefaultInterface(element, assets)\n          },\n          menu: owner.isPlayed ? [] : [],\n        },\n      },\n      context\n    )\n  }\n}\n","import { Building } from './building'\nimport { Assets, Sprite, Polygon } from 'pixi.js'\nimport { getTexture, changeSpriteColor, getBuildingTextureNameWithSize, getBuildingAsset } from '../../lib'\n\nexport class Granary extends Building {\n  constructor({ i, j, owner, isBuilt = false }, context) {\n    const type = 'Granary'\n    const config = Assets.cache.get('config').buildings[type]\n\n    // Define sprite\n    const texture = getTexture(getBuildingTextureNameWithSize(config.size), Assets)\n    const sprite = Sprite.from(texture)\n    sprite.updateAnchor = true\n    sprite.name = 'sprite'\n    //sprite.hitArea = new Polygon(texture.hitArea)\n\n    super(\n      {\n        i,\n        j,\n        owner,\n        type,\n        sprite,\n        isBuilt,\n        ...config,\n        interface: {\n          info: element => {\n            const assets = getBuildingAsset(this.type, this.owner, Assets)\n            this.setDefaultInterface(element, assets)\n          },\n        },\n      },\n      context\n    )\n  }\n}\n","import { Building } from './building'\nimport { Assets, Sprite, AnimatedSprite, Polygon } from 'pixi.js'\nimport { accelerator } from '../../constants'\nimport { getTexture, changeSpriteColor, getBuildingTextureNameWithSize, getBuildingAsset } from '../../lib'\n\nexport class House extends Building {\n  constructor({ i, j, owner, isBuilt = false }, context) {\n    const type = 'House'\n    const config = Assets.cache.get('config').buildings[type]\n\n    // Define sprite\n    const sheet = owner.age === 0 ? '000_489' : getBuildingTextureNameWithSize(config.size)\n    const texture = getTexture(sheet, Assets)\n    const sprite = Sprite.from(texture)\n    sprite.updateAnchor = true\n    sprite.name = 'sprite'\n    //sprite.hitArea = new Polygon(texture.hitArea)\n\n    super(\n      {\n        i,\n        j,\n        owner,\n        type,\n        sprite,\n        isBuilt,\n        ...config,\n        interface: {\n          info: element => {\n            const assets = getBuildingAsset(this.type, this.owner, Assets)\n            this.setDefaultInterface(element, assets)\n\n            if (this.owner.isPlayed && this.isBuilt) {\n              const populationDiv = document.createElement('div')\n              populationDiv.id = 'population'\n              populationDiv.textContent = this.owner.population + '/' + this.owner.populationMax\n              element.appendChild(populationDiv)\n            }\n          },\n        },\n      },\n      context\n    )\n  }\n\n  afterFinalTextures() {\n    if (this.owner.age === 0) {\n      const spritesheetFire = Assets.cache.get('347')\n      const spriteFire = new AnimatedSprite(spritesheetFire.animations['fire'])\n      spriteFire.name = 'deco'\n      spriteFire.allowMove = false\n      spriteFire.allowClick = false\n      spriteFire.interactive = false\n      spriteFire.roundPixels = true\n      spriteFire.x = 10\n      spriteFire.y = 5\n      spriteFire.play()\n      spriteFire.animationSpeed = 0.2 * accelerator\n      this.addChild(spriteFire)\n    } else {\n      const fire = this.getChildByName('deco')\n      if (fire) {\n        fire.destroy()\n      }\n    }\n  }\n\n  onBuilt() {\n    const {\n      context: { menu },\n    } = this\n    // Increase player population and continue all unit creation that was paused\n    this.owner.populationMax += 4\n    // Update bottombar with populationmax if house selected\n    if (this.selected && this.owner.isPlayed) {\n      menu.updateInfo(\n        'population',\n        element => (element.textContent = this.owner.population + '/' + this.owner.populationMax)\n      )\n    }\n  }\n}\n","import { Building } from './building'\nimport { Assets, Sprite, Polygon } from 'pixi.js'\nimport { getTexture, changeSpriteColor, getBuildingTextureNameWithSize, getBuildingAsset } from '../../lib'\n\nexport class Market extends Building {\n  constructor({ i, j, owner, isBuilt = false }, context) {\n    const type = 'Market'\n    const config = Assets.cache.get('config').buildings[type]\n\n    // Define sprite\n    const texture = getTexture(getBuildingTextureNameWithSize(config.size), Assets)\n    const sprite = Sprite.from(texture)\n    sprite.updateAnchor = true\n    sprite.name = 'sprite'\n    //sprite.hitArea = new Polygon(texture.hitArea)\n\n    super(\n      {\n        i,\n        j,\n        owner,\n        type,\n        sprite,\n        isBuilt,\n        ...config,\n        interface: {\n          info: element => {\n            const assets = getBuildingAsset(this.type, this.owner, Assets)\n            this.setDefaultInterface(element, assets)\n          },\n          menu: owner.isPlayed ? [context.menu.getTechnologyButton('Woodworking')] : [],\n        },\n      },\n      context\n    )\n  }\n}\n","import { Building } from './building'\nimport { Assets, Sprite } from 'pixi.js'\nimport { getTexture, changeSpriteColor, getBuildingTextureNameWithSize, getBuildingAsset } from '../../lib'\n\nexport class SiegeWorkshop extends Building {\n  constructor({ i, j, owner, isBuilt = false }, context) {\n    const type = 'SiegeWorkshop'\n    const config = Assets.cache.get('config').buildings[type]\n\n    // Define sprite\n    const texture = getTexture(getBuildingTextureNameWithSize(config.size), Assets)\n    const sprite = Sprite.from(texture)\n    sprite.updateAnchor = true\n    sprite.name = 'sprite'\n\n    super(\n      {\n        i,\n        j,\n        owner,\n        type,\n        sprite,\n        isBuilt,\n        ...config,\n        interface: {\n          info: element => {\n            const assets = getBuildingAsset(this.type, this.owner, Assets)\n            this.setDefaultInterface(element, assets)\n          },\n          menu: owner.isPlayed ? [] : [],\n        },\n      },\n      context\n    )\n  }\n}\n","import { Building } from './building'\nimport { Assets, Sprite, Polygon } from 'pixi.js'\nimport { getTexture, changeSpriteColor, getBuildingTextureNameWithSize, getBuildingAsset } from '../../lib'\n\nexport class Stable extends Building {\n  constructor({ i, j, owner, isBuilt = false }, context) {\n    const type = 'Stable'\n    const config = Assets.cache.get('config').buildings[type]\n\n    // Define sprite\n    const texture = getTexture(getBuildingTextureNameWithSize(config.size), Assets)\n    const sprite = Sprite.from(texture)\n    sprite.updateAnchor = true\n    sprite.name = 'sprite'\n    //sprite.hitArea = new Polygon(texture.hitArea)\n\n    super(\n      {\n        i,\n        j,\n        owner,\n        type,\n        sprite,\n        isBuilt,\n        ...config,\n        interface: {\n          info: element => {\n            const assets = getBuildingAsset(this.type, this.owner, Assets)\n            this.setDefaultInterface(element, assets)\n          },\n          menu: owner.isPlayed ? [context.menu.getUnitButton('Scout')] : [],\n        },\n      },\n      context\n    )\n  }\n}\n","import { Building } from './building'\nimport { Assets, Sprite, Polygon } from 'pixi.js'\nimport { getTexture, changeSpriteColor, getBuildingTextureNameWithSize, getBuildingAsset } from '../../lib'\n\nexport class StoragePit extends Building {\n  constructor({ i, j, owner, isBuilt = false }, context) {\n    const type = 'StoragePit'\n    const config = Assets.cache.get('config').buildings[type]\n\n    // Define sprite\n    const texture = getTexture(getBuildingTextureNameWithSize(config.size), Assets)\n    const sprite = Sprite.from(texture)\n    sprite.updateAnchor = true\n    sprite.name = 'sprite'\n    //sprite.hitArea = new Polygon(texture.hitArea)\n\n    super(\n      {\n        i,\n        j,\n        owner,\n        type,\n        sprite,\n        isBuilt,\n        ...config,\n        interface: {\n          info: element => {\n            const assets = getBuildingAsset(this.type, this.owner, Assets)\n            this.setDefaultInterface(element, assets)\n          },\n        },\n      },\n      context\n    )\n  }\n}\n","import { Building } from './building'\nimport { Assets, Sprite } from 'pixi.js'\nimport { getTexture, changeSpriteColor, getBuildingTextureNameWithSize, getBuildingAsset } from '../../lib'\n\nexport class Temple extends Building {\n  constructor({ i, j, owner, isBuilt = false }, context) {\n    const type = 'Temple'\n    const config = Assets.cache.get('config').buildings[type]\n\n    // Define sprite\n    const texture = getTexture(getBuildingTextureNameWithSize(config.size), Assets)\n    const sprite = Sprite.from(texture)\n    sprite.updateAnchor = true\n    sprite.name = 'sprite'\n\n    super(\n      {\n        i,\n        j,\n        owner,\n        type,\n        sprite,\n        isBuilt,\n        ...config,\n        interface: {\n          info: element => {\n            const assets = getBuildingAsset(this.type, this.owner, Assets)\n            this.setDefaultInterface(element, assets)\n          },\n          menu: owner.isPlayed ? [] : [],\n        },\n      },\n      context\n    )\n  }\n}\n","import { Building } from './building'\nimport { Assets, Sprite, Polygon } from 'pixi.js'\nimport { getTexture, changeSpriteColor, getBuildingTextureNameWithSize, getBuildingAsset } from '../../lib'\n\nexport class TownCenter extends Building {\n  constructor({ i, j, owner, isBuilt = false }, context) {\n    const type = 'TownCenter'\n    const config = Assets.cache.get('config').buildings[type]\n\n    // Define sprite\n    const texture = getTexture(getBuildingTextureNameWithSize(config.size), Assets)\n    const sprite = Sprite.from(texture)\n    sprite.updateAnchor = true\n    sprite.name = 'sprite'\n    //sprite.hitArea = new Polygon(texture.hitArea)\n\n    super(\n      {\n        i,\n        j,\n        owner,\n        type,\n        sprite,\n        isBuilt,\n        ...config,\n        interface: {\n          info: element => {\n            const assets = getBuildingAsset(this.type, this.owner, Assets)\n            this.setDefaultInterface(element, assets)\n          },\n          menu: owner.isPlayed\n            ? [\n                context.menu.getUnitButton('Villager'),\n                context.menu.getTechnologyButton('ToolAge'),\n                context.menu.getTechnologyButton('BronzeAge'),\n                context.menu.getTechnologyButton('IronAge'),\n              ]\n            : [],\n        },\n      },\n      context\n    )\n  }\n}\n","import { Container, Graphics } from 'pixi.js'\nimport { degreesToRadians, moveTowardPoint, pointsDistance, instancesDistance } from '../../lib'\nimport { colorArrow, stepTime } from '../../constants'\n\nexport class Projectile extends Container {\n  constructor(options, context) {\n    super()\n\n    this.context = context\n\n    const {\n      context: { map },\n    } = this\n    this.setParent(map)\n    this.id = map.children.length\n    this.name = 'projectile'\n\n    Object.keys(options).forEach(prop => {\n      this[prop] = options[prop]\n    })\n    const { x: targetX, y: targetY } = this.target\n\n    this.distance = instancesDistance(this, this.target, false)\n    const degree = getPointsDegree(this.x, this.y, targetX, targetY)\n    const sprite = new Graphics()\n    sprite.beginFill(colorArrow)\n    //sprite.lineStyle(1, colorArrow, 1)\n    sprite.drawRect(1, 1, this.size, 1)\n    sprite.rotation = degreesToRadians(degree)\n    sprite.name = 'sprite'\n    sprite.allowMove = false\n    sprite.interactive = false\n    sprite.allowClick = false\n    sprite.roundPixels = true\n    this.addChild(sprite)\n\n    const interval = setInterval(() => {\n      if (pointsDistance(this.x, this.y, targetX, targetY) <= Math.max(this.speed, this.size)) {\n        if (this.target && this.target.life > 0) {\n          this.onHit()\n        }\n        clearInterval(interval)\n        this.die()\n        return\n      }\n      moveTowardPoint(this, targetX, targetY, this.speed)\n    }, stepTime)\n  }\n\n  onHit() {\n    const {\n      context: { menu, player },\n    } = this\n    this.target.life -= this.owner.attack\n    if (this.target.selected && player && player.selectedOther === this.target) {\n      menu.updateInfo(\n        'life',\n        element => (element.textContent = Math.max(this.target.life, 0) + '/' + this.target.lifeMax)\n      )\n    }\n    typeof this.target.isAttacked === 'function' && this.target.isAttacked(this.owner)\n  }\n\n  die() {\n    this.isDead = true\n    this.destroy({ child: true, texture: true })\n  }\n}\n","import { Projectile } from './projectile'\n\nimport { degreeToDirection } from '../../lib'\nimport { accelerator } from '../../constants'\n\nexport class Arrow extends Projectile {\n  constructor({ owner, target }, context) {\n    const type = 'Arrow'\n    const ownerSprite = owner.getChildByName('sprite')\n    const { height, width } = ownerSprite\n    const anchoredWidth = width * ownerSprite.anchor.x\n    const anchoredHeight = height * ownerSprite.anchor.y\n    const direction = degreeToDirection(owner.degree)\n    const position = {\n      x: owner.x,\n      y: owner.y,\n    }\n    switch (direction) {\n      case 'north':\n        position.y = owner.y - anchoredHeight\n        break\n      case 'west':\n        position.y = owner.y - anchoredHeight\n        position.x = owner.x - anchoredWidth\n        break\n      case 'northwest':\n        position.y = owner.y - anchoredHeight\n        position.x = owner.x - anchoredWidth\n        break\n      case 'southwest':\n        position.y = owner.y - anchoredHeight\n        position.x = owner.x - anchoredWidth\n        break\n      case 'est':\n        position.y = owner.y - anchoredHeight\n        position.x = owner.x + anchoredWidth * 2\n        break\n      case 'northest':\n        position.y = owner.y - anchoredHeight\n        position.x = owner.x + anchoredWidth\n        break\n      case 'southest':\n        position.y = owner.y - anchoredHeight\n        position.x = owner.x + anchoredWidth\n        break\n    }\n    super(\n      {\n        x: position.x,\n        y: position.y,\n        type,\n        target,\n        owner,\n        size: 3,\n        speed: 14 * accelerator,\n      },\n      context\n    )\n  }\n}\n","import { Projectile } from './projectile'\nimport { accelerator } from '../../constants'\n\nexport class Spear extends Projectile {\n  constructor({ owner, target }, context) {\n    const type = 'Spear'\n    const ownerSprite = owner.getChildByName('sprite')\n    const { height, width } = ownerSprite\n    const anchoredWidth = width * ownerSprite.anchor.x\n    const anchoredHeight = height * ownerSprite.anchor.y\n    const direction = degreeToDirection(owner.degree)\n    const position = {\n      x: owner.x,\n      y: owner.y,\n    }\n    switch (direction) {\n      case 'north':\n        position.y = owner.y - anchoredHeight\n        break\n      case 'west':\n        position.y = owner.y - anchoredHeight\n        position.x = owner.x - anchoredWidth\n        break\n      case 'northwest':\n        position.y = owner.y - anchoredHeight\n        position.x = owner.x - anchoredWidth\n        break\n      case 'southwest':\n        position.y = owner.y - anchoredHeight\n        position.x = owner.x - anchoredWidth\n        break\n      case 'est':\n        position.y = owner.y - anchoredHeight\n        position.x = owner.x + anchoredWidth * 2\n        break\n      case 'northest':\n        position.y = owner.y - anchoredHeight\n        position.x = owner.x + anchoredWidth\n        break\n      case 'southest':\n        position.y = owner.y - anchoredHeight\n        position.x = owner.x + anchoredWidth\n        break\n    }\n    super(\n      {\n        x: position.x,\n        y: position.y,\n        type,\n        target,\n        owner,\n        size: 10,\n        speed: 8 * accelerator,\n      },\n      context\n    )\n  }\n}\n","import { Building } from './building'\nimport { Assets, Sprite, Polygon } from 'pixi.js'\nimport * as projectiles from '../projectiles/'\nimport { getTexture, changeSpriteColor, timeoutRecurs, getBuildingTextureNameWithSize, getBuildingAsset } from '../../lib'\n\nexport class WatchTower extends Building {\n  constructor({ i, j, owner, isBuilt = false }, context) {\n    const type = 'WatchTower'\n    const config = Assets.cache.get('config').buildings[type]\n\n    // Define sprite\n    const texture = getTexture(getBuildingTextureNameWithSize(config.size), Assets)\n    const sprite = Sprite.from(texture)\n    sprite.updateAnchor = true\n    sprite.name = 'sprite'\n    //sprite.hitArea = new Polygon(texture.hitArea)\n\n    super(\n      {\n        i,\n        j,\n        owner,\n        type,\n        sprite,\n        isBuilt,\n        isUsedBy: null,\n        ...config,\n        interface: {\n          info: element => {\n            const assets = getBuildingAsset(this.type, this.owner, Assets)\n            this.setDefaultInterface(element, assets)\n          },\n        },\n      },\n      context\n    )\n  }\n\n  attackAction(target) {\n    const {\n      context: { map },\n    } = this\n\n    const conditions = {\n      attack: instance =>\n        this.life > 0 &&\n        !this.isDead &&\n        instance &&\n        instance.owner !== this.owner &&\n        (instance.name === 'building' || instance.name === 'unit' || instance.name === 'animal') &&\n        instance.life > 0 &&\n        !instance.isDead,\n    }\n\n    timeoutRecurs(\n      this.rateOfFire,\n      () => conditions.attack(target),\n      () => {\n        const projectile = new projectiles.Arrow(\n          {\n            owner: this,\n            target,\n          },\n          this.context\n        )\n        map.addChild(projectile)\n        if (target.life <= 0) {\n          target.die()\n        }\n      }\n    )\n  }\n}\n","import { Container, Assets, AnimatedSprite, Graphics } from 'pixi.js'\nimport { accelerator, stepTime, corpseTime } from '../../constants'\nimport * as projectiles from '../projectiles/'\nimport {\n  getInstanceZIndex,\n  randomRange,\n  renderCellOnInstanceSight,\n  getIconPath,\n  getInstancePath,\n  instancesDistance,\n  moveTowardPoint,\n  clearCellOnInstanceSight,\n  getInstanceClosestFreeCellPath,\n  instanceContactInstance,\n  getInstanceDegree,\n  changeSpriteColor,\n  findInstancesInSight,\n  getClosestInstanceWithPath,\n  getCellsAroundPoint,\n  drawInstanceBlinkingSelection,\n  instanceIsInPlayerSight,\n  degreeToDirection,\n  onSpriteLoopAtFrame,\n  getActionCondition,\n} from '../../lib'\n\nexport class Unit extends Container {\n  constructor(options, context) {\n    super()\n\n    this.context = context\n\n    const {\n      context: { map },\n    } = this\n    this.setParent(map)\n    this.id = map.children.length\n    this.name = 'unit'\n\n    Object.keys(options).forEach(prop => {\n      this[prop] = options[prop]\n    })\n\n    this.x = map.grid[this.i][this.j].x\n    this.y = map.grid[this.i][this.j].y\n    this.z = map.grid[this.i][this.j].z\n    this.dest = null\n    this.realDest = null\n    this.previousDest = null\n    this.path = []\n    this.zIndex = getInstanceZIndex(this)\n    this.selected = false\n    this.degree = randomRange(1, 360)\n    this.currentFrame = randomRange(0, 4)\n    this.action = null\n    this.work = null\n    this.loading = 0\n    this.loadingType = null\n    this.loadingMax = 10\n    this.currentSheet = null\n    this.size = 1\n    this.visible = false\n    this.currentCell = map.grid[this.i][this.j]\n    this.currentCell.has = this\n    this.currentCell.solid = true\n    this.isDead = false\n    this.isDestroyed = false\n\n    this.life = this.lifeMax\n    this.originalSpeed = this.speed\n    this.inactif = true\n\n    this.allowMove = false\n    this.interactive = true\n    const sprite = new AnimatedSprite(this.standingSheet.animations['south'])\n    sprite.name = 'sprite'\n    sprite.allowMove = false\n    sprite.interactive = false\n    sprite.allowClick = false\n    sprite.roundPixels = true\n\n    this.on('pointerup', () => {\n      const {\n        context: { controls, player, menu },\n      } = this\n      if (controls.mouseBuilding || controls.mouseRectangle || !controls.isMouseInApp()) {\n        return\n      }\n      controls.mouse.prevent = true\n      if (this.owner.isPlayed) {\n        this.owner.unselectAll()\n        this.select()\n        menu.setBottombar(this)\n        this.owner.selectedUnit = this\n        this.owner.selectedUnits = [this]\n      } else {\n        if (player.selectedUnits.length) {\n          drawInstanceBlinkingSelection(this)\n          for (let i = 0; i < player.selectedUnits.length; i++) {\n            const playerUnit = player.selectedUnits[i]\n            if (playerUnit.type === 'Villager') {\n              playerUnit.sendToAttack(this)\n            } else {\n              playerUnit.sendTo(this, 'attack')\n            }\n          }\n        } else if (instanceIsInPlayerSight(unit, player) || map.revealEverything) {\n          player.unselectAll()\n          this.select()\n          menu.setBottombar(this)\n          player.selectedOther = this\n        }\n      }\n    })\n    changeSpriteColor(sprite, this.owner.color)\n\n    this.interval = null\n    sprite.updateAnchor = true\n    this.addChild(sprite)\n\n    this.stop()\n\n    renderCellOnInstanceSight(this)\n  }\n\n  select() {\n    if (this.selected) {\n      return\n    }\n    const {\n      context: { menu },\n    } = this\n\n    this.selected = true\n    const selection = new Graphics()\n    selection.name = 'selection'\n    selection.zIndex = 3\n    selection.lineStyle(1, 0xffffff)\n    const path = [-32 * 0.5, 0, 0, -16 * 0.5, 32 * 0.5, 0, 0, 16 * 0.5]\n    selection.drawPolygon(path)\n    this.addChildAt(selection, 0)\n\n    menu.updatePlayerMiniMapEvt(this.owner)\n  }\n\n  unselect() {\n    if (!this.selected) {\n      return\n    }\n    const {\n      context: { menu },\n    } = this\n\n    this.selected = false\n    const selection = this.getChildByName('selection')\n    if (selection) {\n      this.removeChild(selection)\n    }\n    menu.updatePlayerMiniMapEvt(this.owner)\n  }\n\n  hasPath() {\n    return this.path.length > 0\n  }\n\n  setDest(dest) {\n    if (!dest) {\n      this.stop()\n      return\n    }\n    this.dest = dest\n    this.realDest = {\n      i: dest.i,\n      j: dest.j,\n    }\n  }\n\n  setPath(path) {\n    if (!path.length) {\n      this.stop()\n      return\n    }\n    this.startInterval()\n    this.inactif = false\n    this.setTextures('walkingSheet')\n    this.path = path\n  }\n\n  handleChangeDest() {\n    if (this.dest && this.dest.isUsedBy === this) {\n      this.dest.isUsedBy = null\n    }\n  }\n\n  sendTo(dest, action) {\n    const {\n      context: { map },\n    } = this\n    this.handleChangeDest()\n    this.stop()\n    let path = []\n    // No instance we cancel the destination\n    if (!dest) {\n      return false\n    }\n    // Unit is already beside our target\n    if (this.isUnitAtDest(action, dest)) {\n      this.setDest(dest)\n      this.action = action\n      this.degree = getInstanceDegree(this, dest.x, dest.y)\n      this.getAction(action)\n      return true\n    }\n    // Set unit path\n    if (map.grid[dest.i] && map.grid[dest.i][dest.j] && map.grid[dest.i][dest.j].solid) {\n      path = getInstanceClosestFreeCellPath(this, dest, map)\n      if (!path.length && this.work) {\n        this.action = action\n        this.affectNewDest()\n        return\n      }\n    } else {\n      path = getInstancePath(this, dest.i, dest.j, map)\n    }\n    // Unit found a path, set the action and play walking animation\n    if (path.length) {\n      this.setDest(dest)\n      this.action = action\n      this.setPath(path)\n      return true\n    }\n    this.stop()\n    return false\n  }\n\n  getActionCondition(target, action = this.action) {\n    return getActionCondition(this, target, action)\n  }\n\n  getAction(name) {\n    const {\n      context: { menu, player, map },\n    } = this\n    const sprite = this.getChildByName('sprite')\n    if (!sprite) {\n      return\n    }\n    switch (name) {\n      case 'delivery':\n        if (!this.getActionCondition(this.dest)) {\n          this.stop()\n          return\n        }\n        this.owner[this.loadingType] += this.loading\n        if (this.owner.isPlayed) {\n          menu.updateTopbar()\n        }\n        this.loading = 0\n        this.updateInterfaceLoading()\n        if (this.assets[this.work]) {\n          this.standingSheet = Assets.cache.get(this.assets[this.work].standingSheet)\n          this.walkingSheet = Assets.cache.get(this.assets[this.work].walkingSheet)\n        }\n        if (this.previousDest) {\n          if (this.previousDest.name === 'animal') {\n            this.sendToTakeMeat(this.previousDest)\n          } else {\n            const sendToFunc = `sendTo${this.previousDest.type}`\n            typeof this[sendToFunc] === 'function' ? this[sendToFunc](this.previousDest) : this.stop()\n          }\n        } else {\n          this.stop()\n        }\n        break\n      case 'farm':\n        if (!this.getActionCondition(this.dest)) {\n          this.affectNewDest()\n          return\n        }\n        this.dest.isUsedBy = this\n        sprite.onLoop = () => {\n          if (!this.getActionCondition(this.dest)) {\n            this.affectNewDest()\n            return\n          }\n          this.dest.isUsedBy = this\n          // Villager is full we send him delivery first\n          if (this.loading === this.loadingMax || !this.dest) {\n            this.sendToDelivery()\n            this.dest.isUsedBy = null\n            return\n          }\n          // Villager farm the farm\n          this.loading++\n          this.loadingType = 'food'\n          this.updateInterfaceLoading()\n\n          this.dest.quantity--\n          if (this.dest.selected && this.owner.isPlayed) {\n            menu.updateInfo('quantity-text', element => (element.textContent = Math.max(this.dest.quantity, 0)))\n          }\n          // Destroy farm if it out of quantity\n          if (this.dest.quantity <= 0) {\n            this.dest.die()\n            this.affectNewDest()\n          }\n          // Set the walking with berrybush animation\n          if (this.loading > 0) {\n            this.walkingSheet = Assets.cache.get('672')\n            this.standingSheet = null\n          }\n        }\n        this.setTextures('actionSheet')\n        break\n      case 'chopwood':\n        if (!this.getActionCondition(this.dest)) {\n          this.affectNewDest()\n          return\n        }\n        sprite.onLoop = () => {\n          if (!this.getActionCondition(this.dest)) {\n            this.affectNewDest()\n            return\n          }\n          // Villager is full we send him delivery first\n          if (this.loading === this.loadingMax || !this.dest) {\n            this.sendToDelivery()\n            return\n          }\n          // Tree destination is still alive we cut him until it's dead\n          if (this.dest.life > 0) {\n            this.dest.life -= this.attack\n            if (this.dest.selected && this.owner.isPlayed) {\n              menu.updateInfo('life', element =>\n                this.dest.life > 0\n                  ? (element.textContent = Math.max(this.dest.life, 0) + '/' + this.dest.lifeMax)\n                  : (element.textContent = '')\n              )\n            }\n            if (this.dest.life <= 0) {\n              // Set cutted tree texture\n              this.dest.life = 0\n              this.dest.setCuttedTreeTexture()\n            }\n            return\n          }\n          // Villager cut the stump\n          this.loading++\n          this.loadingType = 'wood'\n          this.updateInterfaceLoading()\n\n          this.dest.quantity--\n          if (this.dest.selected && this.owner.isPlayed) {\n            menu.updateInfo('quantity-text', element => (element.textContent = Math.max(this.dest.quantity, 0)))\n          }\n          // Destroy tree if stump out of quantity\n          if (this.dest.quantity <= 0) {\n            this.dest.die()\n            this.affectNewDest()\n          }\n          // Set the walking with wood animation\n          if (this.loading > 0) {\n            this.walkingSheet = Assets.cache.get('273')\n            this.standingSheet = null\n          }\n        }\n        this.setTextures('actionSheet')\n        break\n      case 'forageberry':\n        if (!this.getActionCondition(this.dest)) {\n          this.affectNewDest()\n          return\n        }\n        sprite.onLoop = () => {\n          if (!this.getActionCondition(this.dest)) {\n            this.affectNewDest()\n            return\n          }\n          // Villager is full we send him delivery first\n          if (this.loading === this.loadingMax || !this.dest) {\n            this.sendToDelivery()\n            return\n          }\n          // Villager forage the berrybush\n          this.loading++\n          this.loadingType = 'food'\n          this.updateInterfaceLoading()\n\n          this.dest.quantity--\n          if (this.dest.selected && this.owner.isPlayed) {\n            menu.updateInfo('quantity-text', element => (element.textContent = Math.max(this.dest.quantity, 0)))\n          }\n          // Destroy berrybush if it out of quantity\n          if (this.dest.quantity <= 0) {\n            this.dest.die()\n            this.affectNewDest()\n          }\n          // Set the walking with berrybush animation\n          if (this.loading > 0) {\n            this.walkingSheet = Assets.cache.get('672')\n            this.standingSheet = null\n          }\n        }\n        this.setTextures('actionSheet')\n        break\n      case 'minestone':\n        if (!this.getActionCondition(this.dest)) {\n          this.affectNewDest()\n          return\n        }\n        sprite.onLoop = () => {\n          if (!this.getActionCondition(this.dest)) {\n            this.affectNewDest()\n            return\n          }\n          // Villager is full we send him delivery first\n          if (this.loading === this.loadingMax || !this.dest) {\n            this.sendToDelivery()\n            return\n          }\n          // Villager mine the stone\n          this.loading++\n          this.loadingType = 'stone'\n          this.updateInterfaceLoading()\n\n          this.dest.quantity--\n          if (this.dest.selected && this.owner.isPlayed) {\n            menu.updateInfo('quantity-text', element => (element.textContent = Math.max(this.dest.quantity, 0)))\n          }\n          // Destroy stone if it out of quantity\n          if (this.dest.quantity <= 0) {\n            this.dest.die()\n            this.affectNewDest()\n          }\n          // Set the walking with stone animation\n          if (this.loading > 0) {\n            this.walkingSheet = Assets.cache.get('274')\n            this.standingSheet = null\n          }\n        }\n        this.setTextures('actionSheet')\n        break\n      case 'minegold':\n        if (!this.getActionCondition(this.dest)) {\n          this.affectNewDest()\n          return\n        }\n        sprite.onLoop = () => {\n          if (!this.getActionCondition(this.dest)) {\n            this.affectNewDest()\n            return\n          }\n          // Villager is full we send him delivery first\n          if (this.loading === this.loadingMax || !this.dest) {\n            this.sendToDelivery()\n            return\n          }\n          // Villager mine the gold\n          this.loading++\n          this.loadingType = 'gold'\n          this.updateInterfaceLoading()\n\n          this.dest.quantity--\n          if (this.dest.selected && this.owner.isPlayed) {\n            menu.updateInfo('quantity-text', element => (element.textContent = Math.max(this.dest.quantity, 0)))\n          }\n          // Destroy gold if it out of quantity\n          if (this.dest.quantity <= 0) {\n            this.dest.die()\n            this.affectNewDest()\n          }\n          // Set the walking with gold animation\n          if (this.loading > 0) {\n            this.walkingSheet = Assets.cache.get('281')\n            this.standingSheet = null\n          }\n        }\n        this.setTextures('actionSheet')\n        break\n      case 'build':\n        if (!this.getActionCondition(this.dest)) {\n          this.affectNewDest()\n          return\n        }\n        sprite.onLoop = () => {\n          if (!this.getActionCondition(this.dest)) {\n            if (this.dest.type === 'Farm' && !this.dest.isUsedBy) {\n              this.sendToFarm(this.dest)\n            }\n            this.affectNewDest()\n            return\n          }\n          if (this.dest.life < this.dest.lifeMax) {\n            this.dest.life += this.attack\n            if (this.dest.selected && this.owner.isPlayed) {\n              menu.updateInfo(\n                'life',\n                element => (element.textContent = Math.min(this.dest.life, this.dest.lifeMax) + '/' + this.dest.lifeMax)\n              )\n            }\n            this.dest.updateLife(this.action)\n          } else {\n            if (!this.dest.isBuilt) {\n              this.dest.updateLife(this.action)\n              this.dest.isBuilt = true\n              if (this.dest.type === 'Farm' && !this.dest.isUsedBy) {\n                this.sendToFarm(this.dest)\n              }\n            }\n            this.affectNewDest()\n          }\n        }\n        this.setTextures('actionSheet')\n        break\n      case 'attack':\n        if (!this.getActionCondition(this.dest)) {\n          this.affectNewDest()\n          return\n        }\n        sprite.onLoop = () => {\n          if (!this.getActionCondition(this.dest)) {\n            this.affectNewDest()\n            return\n          }\n          if (this.destHasMoved()) {\n            this.realDest.i = this.dest.i\n            this.realDest.j = this.dest.j\n            const oldDeg = this.degree\n            this.degree = getInstanceDegree(this, this.dest.x, this.dest.y)\n            if (degreeToDirection(oldDeg) !== degreeToDirection(this.degree)) {\n              this.setTextures('actionSheet')\n            }\n          }\n          if (!this.isUnitAtDest(this.action, this.dest)) {\n            this.sendTo(this.dest, 'attack')\n            return\n          }\n          if (this.dest.life > 0) {\n            if (this.projectile) {\n              const projectile = new projectiles[this.projectile](\n                {\n                  owner: this,\n                  target: this.dest,\n                },\n                this.context\n              )\n              map.addChild(projectile)\n            } else {\n              this.dest.life -= this.attack\n              if (\n                this.dest.selected &&\n                player &&\n                (player.selectedUnit === this.dest || player.selectedBuilding === this.dest)\n              ) {\n                menu.updateInfo(\n                  'life',\n                  element => (element.textContent = Math.max(this.dest.life, 0) + '/' + this.dest.lifeMax)\n                )\n              }\n              this.dest.isAttacked(this)\n            }\n          }\n          if (this.dest.life <= 0) {\n            this.dest.die()\n            this.affectNewDest()\n          }\n        }\n        this.setTextures('actionSheet')\n        break\n      case 'takemeat':\n        if (!this.getActionCondition(this.dest)) {\n          this.affectNewDest()\n          return\n        }\n        sprite.onLoop = () => {\n          if (!this.getActionCondition(this.dest)) {\n            this.affectNewDest()\n            return\n          }\n          // Villager is full we send him delivery first\n          if (this.loading === this.loadingMax || !this.dest) {\n            this.sendToDelivery()\n            return\n          }\n          // Villager take meat\n          this.loading++\n          this.loadingType = 'food'\n          this.updateInterfaceLoading()\n\n          this.dest.quantity--\n          if (this.dest.selected && this.owner.isPlayed) {\n            menu.updateInfo('quantity-text', element => (element.textContent = Math.max(this.dest.quantity, 0)))\n          }\n          // Destroy corps if it out of quantity\n          if (this.dest.quantity <= 0) {\n            this.dest.clear()\n            this.affectNewDest()\n          }\n          // Set the walking with meat animation\n          if (this.loading > 0) {\n            this.walkingSheet = Assets.cache.get('272')\n            this.standingSheet = null\n          }\n        }\n        this.setTextures('actionSheet')\n        break\n      case 'hunt':\n        if (!this.getActionCondition(this.dest)) {\n          this.affectNewDest()\n          return\n        }\n        if (this.dest.isDead) {\n          this.sendToTakeMeat(this.dest)\n        }\n        onSpriteLoopAtFrame(sprite, 6, () => {\n          if (!this.getActionCondition(this.dest)) {\n            this.affectNewDest()\n            return\n          }\n          if (this.destHasMoved()) {\n            this.realDest.i = this.dest.i\n            this.realDest.j = this.dest.j\n            const oldDeg = this.degree\n            this.degree = getInstanceDegree(this, this.dest.x, this.dest.y)\n            if (degreeToDirection(oldDeg) !== degreeToDirection(this.degree)) {\n              this.setTextures('actionSheet')\n            }\n          }\n          if (!this.isUnitAtDest(this.action, this.dest)) {\n            this.sendToHunt(this.dest)\n            return\n          }\n          if (this.dest.life > 0) {\n            const projectile = new projectiles.Spear(\n              {\n                owner: this,\n                target: this.dest,\n              },\n              this.context\n            )\n            map.addChild(projectile)\n          }\n          if (this.dest.life <= 0) {\n            if (!this.dest.isDead) {\n              this.dest.die()\n            }\n            this.sendToTakeMeat(this.dest)\n          }\n        })\n        this.setTextures('actionSheet')\n        break\n      default:\n        this.stop()\n    }\n  }\n\n  handleAffectNewDestHunter() {\n    const firstTargets = findInstancesInSight(this, instance => this.getActionCondition(instance, 'takemeat'))\n    if (firstTargets.length) {\n      const target = getClosestInstanceWithPath(this, firstTargets)\n      if (target) {\n        if (this.action !== 'takemeat') {\n          this.action = 'takemeat'\n          this.actionSheet = Assets.cache.get('626')\n        }\n        if (instanceContactInstance(this, target)) {\n          this.degree = getInstanceDegree(this, target.x, target.y)\n          this.getAction(this.action)\n          return true\n        }\n        this.setDest(target.instance)\n        this.setPath(target.path)\n        return true\n      }\n    }\n    const secondTargets = findInstancesInSight(this, instance => this.getActionCondition(instance, 'hunt'))\n    if (secondTargets.length) {\n      const target = getClosestInstanceWithPath(this, secondTargets)\n      if (target) {\n        if (this.action !== 'hunt') {\n          this.action = 'hunt'\n          this.actionSheet = Assets.cache.get('624')\n        }\n        if (instanceContactInstance(this, target)) {\n          this.degree = getInstanceDegree(this, target.x, target.y)\n          this.getAction(this.action)\n          return true\n        }\n        this.setDest(target.instance)\n        this.setPath(target.path)\n        return true\n      }\n    }\n    return false\n  }\n\n  affectNewDest() {\n    let handleSuccess = false\n    if (this.type === 'Villager' && (this.action === 'takemeat' || this.action === 'hunt')) {\n      handleSuccess = this.handleAffectNewDestHunter()\n    } else {\n      const targets = findInstancesInSight(this, instance => this.getActionCondition(instance))\n      if (targets.length) {\n        const target = getClosestInstanceWithPath(this, targets)\n        if (target) {\n          if (instanceContactInstance(this, target)) {\n            this.degree = getInstanceDegree(this, target.x, target.y)\n            this.getAction(this.action)\n            return\n          }\n          this.setDest(target.instance)\n          this.setPath(target.path)\n          return\n        }\n      }\n    }\n    if (!handleSuccess) {\n      const notDeliveryWork = ['builder', 'attacker']\n      if (this.loading && !notDeliveryWork.includes(this.work)) {\n        this.sendToDelivery()\n      } else {\n        this.stop()\n      }\n    }\n  }\n\n  isUnitAtDest(action, dest) {\n    if (!action) {\n      return false\n    }\n    if (!dest) {\n      this.affectNewDest()\n      return false\n    }\n    if ((action === 'hunt' || action === 'attack') && this.range && instancesDistance(this, dest) <= this.range) {\n      return true\n    }\n    return instanceContactInstance(this, dest)\n  }\n\n  destHasMoved() {\n    return (\n      (this.dest.i !== this.realDest.i || this.dest.j !== this.realDest.j) &&\n      instancesDistance(this, this.dest) <= this.sight\n    )\n  }\n\n  moveToPath() {\n    const {\n      context: { map },\n    } = this\n    const next = this.path[this.path.length - 1]\n    const nextCell = map.grid[next.i][next.j]\n    const sprite = this.getChildByName('sprite')\n    if (!sprite) {\n      return\n    }\n    if (!this.dest || this.dest.isDestroyed) {\n      this.affectNewDest()\n      return\n    }\n    // Collision with another walking unit, we block the mouvement\n    if (\n      nextCell.has &&\n      (nextCell.has.name === 'unit' || nextCell.has.name === 'animal') &&\n      nextCell.has !== this &&\n      nextCell.has.hasPath() &&\n      instancesDistance(this, nextCell.has) <= 1 &&\n      nextCell.has.getChildByName('sprite').playing\n    ) {\n      sprite.stop()\n      return\n    }\n    if (nextCell.solid && this.dest) {\n      this.sendTo(this.dest, this.action)\n      return\n    }\n\n    if (!sprite.playing) {\n      sprite.play()\n    }\n\n    this.zIndex = getInstanceZIndex(this)\n    if (instancesDistance(this, nextCell, false) < 10) {\n      clearCellOnInstanceSight(this)\n\n      this.z = nextCell.z\n      this.i = nextCell.i\n      this.j = nextCell.j\n\n      if (this.currentCell.has === this) {\n        this.currentCell.has = null\n        this.currentCell.solid = false\n      }\n      this.currentCell = map.grid[this.i][this.j]\n      if (this.currentCell.has === null) {\n        this.currentCell.has = this\n        this.currentCell.solid = true\n      }\n\n      renderCellOnInstanceSight(this)\n      this.path.pop()\n\n      // Destination moved\n      if (this.destHasMoved()) {\n        this.sendTo(this.dest, this.action)\n        return\n      }\n      if (this.isUnitAtDest(this.action, this.dest)) {\n        this.path = []\n        this.stopInterval()\n        this.degree = getInstanceDegree(this, this.dest.x, this.dest.y)\n        this.getAction(this.action)\n        return\n      }\n\n      if (!this.path.length) {\n        this.stop()\n      }\n    } else {\n      const {\n        context: { menu },\n      } = this\n      // Move to next\n      const oldDeg = this.degree\n      let speed = this.speed\n      if (this.loading > 0) {\n        speed *= 0.8\n      }\n      moveTowardPoint(this, nextCell.x, nextCell.y, speed)\n      menu.updatePlayerMiniMap(this.owner)\n      if (degreeToDirection(oldDeg) !== degreeToDirection(this.degree)) {\n        // Change animation according to degree\n        this.setTextures('walkingSheet')\n      }\n    }\n  }\n\n  isAttacked(instance) {\n    if (!instance || this.dest === instance || (this.dest && this.dest.name === 'unit' && this.action === 'attack')) {\n      return\n    }\n    if (this.type === 'Villager') {\n      if (instance.name === 'animal') {\n        this.sendToHunt(instance)\n      } else {\n        this.sendToAttack(instance)\n      }\n    } else {\n      this.sendTo(instance, 'attack')\n    }\n  }\n\n  stop() {\n    if (this.currentCell.has !== this && this.currentCell.solid) {\n      this.sendTo(this.currentCell)\n      return\n    }\n    this.handleChangeDest()\n    this.inactif = true\n    this.action = null\n    this.dest = null\n    this.realDest = null\n    this.currentCell.has = this\n    this.currentCell.solid = true\n    this.path = []\n    this.stopInterval()\n    this.setTextures('standingSheet')\n  }\n\n  startInterval() {\n    if (!this.interval) {\n      this.interval = setInterval(() => this.step(), stepTime)\n    }\n  }\n\n  stopInterval() {\n    if (this.interval) {\n      clearInterval(this.interval)\n      this.interval = null\n    }\n  }\n\n  step() {\n    if (this.life <= 0) {\n      this.die()\n    }\n    if (this.hasPath()) {\n      this.moveToPath()\n    }\n  }\n\n  explore() {\n    const {\n      context: { map },\n    } = this\n    let dest\n    for (let i = 3; i < 50; i++) {\n      getCellsAroundPoint(this.i, this.j, map.grid, i, cell => {\n        if (!this.owner.views[cell.i][cell.j].viewed && !cell.solid) {\n          dest = this.owner.views[cell.i][cell.j]\n          return\n        }\n      })\n      if (dest) {\n        this.sendTo(dest)\n        break\n      }\n    }\n  }\n\n  runaway() {\n    const {\n      context: { map },\n    } = this\n    let dest\n    for (let i = 5; i < 50; i++) {\n      getCellsAroundPoint(this.i, this.j, map.grid, i, cell => {\n        if (!cell.solid) {\n          dest = this.owner.views[cell.i][cell.j]\n          return\n        }\n      })\n      if (dest) {\n        this.sendTo(dest)\n        break\n      }\n    }\n  }\n\n  die() {\n    const {\n      context: { player, map },\n    } = this\n    if (this.currentSheet === 'dyingSheet') {\n      return\n    }\n    this.stopInterval()\n    if (this.selected && player) {\n      player.unselectUnit(this)\n    }\n    if (this.dest && this.dest.isUsedBy === this) {\n      this.dest.isUsedBy = null\n    }\n    this.path = []\n    this.action = null\n    this.setTextures('dyingSheet')\n    const sprite = this.getChildByName('sprite')\n    if (!sprite) {\n      return\n    }\n    sprite.onLoop = () => {\n      this.unselect()\n\n      if (this.owner) {\n        this.owner.population--\n        // Remove from player units\n        let index = this.owner.units.indexOf(this)\n        if (index >= 0) {\n          this.owner.units.splice(index, 1)\n        }\n        // Remove from player selected units\n        if (this.owner.selectedUnits) {\n          index = this.owner.selectedUnits.indexOf(this)\n          if (index >= 0) {\n            this.owner.selectedUnits.splice(index, 1)\n          }\n        }\n      }\n\n      map.grid[this.i][this.j].has = null\n      map.grid[this.i][this.j].solid = false\n\n      this.interactive = false\n      this.isDead = true\n      clearCellOnInstanceSight(this)\n      clearInterval(this.interval)\n\n      this.setTextures('corpseSheet')\n      sprite.animationSpeed = corpseTime * accelerator\n      sprite.onLoop = () => {\n        this.clear()\n      }\n    }\n  }\n\n  clear() {\n    const {\n      context: { map },\n    } = this\n    map.removeChild(this)\n    this.destroy({ child: true, texture: true })\n  }\n\n  setTextures(sheet) {\n    const sprite = this.getChildByName('sprite')\n    if (!sprite) {\n      return\n    }\n    // Sheet don't exist we just block the current sheet\n    if (!this[sheet]) {\n      if (this.currentSheet !== 'walkingSheet' && this.walkingSheet) {\n        sprite.textures = [this.walkingSheet.textures[Object.keys(this.walkingSheet.textures)[0]]]\n      } else {\n        sprite.textures = [sprite.textures[sprite.currentFrame]]\n      }\n      this.currentSheet = 'walkingSheet'\n      sprite.stop()\n      sprite.anchor.set(\n        sprite.textures[sprite.currentFrame].defaultAnchor.x,\n        sprite.textures[sprite.currentFrame].defaultAnchor.y\n      )\n      return\n    }\n    // Reset action loop\n    if (sheet !== 'actionSheet') {\n      sprite.onLoop = null\n      sprite.onFrameChange = null\n    }\n    this.currentSheet = sheet\n    sprite.animationSpeed = (this[sheet].data.animationSpeed || (sheet === 'standingSheet' ? 0.1 : 0.3)) * accelerator\n    const direction = degreeToDirection(this.degree)\n    switch (direction) {\n      case 'southest':\n        sprite.scale.x = -1\n        sprite.textures = this[sheet].animations['southwest']\n        break\n      case 'northest':\n        sprite.scale.x = -1\n        sprite.textures = this[sheet].animations['northwest']\n        break\n      case 'est':\n        sprite.scale.x = -1\n        sprite.textures = this[sheet].animations['west']\n        break\n      default:\n        sprite.scale.x = 1\n        sprite.textures = this[sheet].animations[direction]\n    }\n    sprite.play()\n  }\n\n  setDefaultInterface(element, data) {\n    const civDiv = document.createElement('div')\n    civDiv.id = 'civ'\n    civDiv.textContent = this.owner.civ\n    element.appendChild(civDiv)\n\n    const typeDiv = document.createElement('div')\n    typeDiv.id = 'type'\n    typeDiv.textContent = this.type\n    element.appendChild(typeDiv)\n\n    const iconImg = document.createElement('img')\n    iconImg.id = 'icon'\n    iconImg.src = getIconPath(data.icon)\n    element.appendChild(iconImg)\n\n    const lifeDiv = document.createElement('div')\n    lifeDiv.id = 'life'\n    lifeDiv.textContent = Math.max(this.life, 0) + '/' + this.lifeMax\n    element.appendChild(lifeDiv)\n  }\n}\n","import { Unit } from './unit'\nimport { Assets } from 'pixi.js'\nimport { accelerator } from '../../constants'\n\nexport class Bowman extends Unit {\n  constructor({ i, j, owner }, context) {\n    const type = 'Bowman'\n    const data = Assets.cache.get('config').units[type]\n    super(\n      {\n        i,\n        j,\n        owner,\n        type,\n        lifeMax: data.lifeMax,\n        sight: data.sight,\n        speed: data.speed * accelerator,\n        attack: data.attack,\n        range: data.range,\n        work: 'attacker',\n        projectile: 'Arrow',\n        standingSheet: Assets.cache.get('413'),\n        walkingSheet: Assets.cache.get('652'),\n        actionSheet: Assets.cache.get('203'),\n        dyingSheet: Assets.cache.get('308'),\n        corpseSheet: Assets.cache.get('367'),\n        interface: {\n          info: element => {\n            this.setDefaultInterface(element, data)\n          },\n        },\n      },\n      context\n    )\n  }\n}\n","import { Unit } from './unit'\nimport { Assets } from 'pixi.js'\nimport { accelerator } from '../../constants'\n\nexport class Clubman extends Unit {\n  constructor({ i, j, owner }, context) {\n    const type = 'Clubman'\n    const data = Assets.cache.get('config').units[type]\n    super(\n      {\n        i,\n        j,\n        owner,\n        type,\n        lifeMax: data.lifeMax,\n        sight: data.sight,\n        speed: data.speed * accelerator,\n        attack: data.attack,\n        work: 'attacker',\n        standingSheet: Assets.cache.get('425'),\n        walkingSheet: Assets.cache.get('664'),\n        actionSheet: Assets.cache.get('212'),\n        dyingSheet: Assets.cache.get('321'),\n        corpseSheet: Assets.cache.get('380'),\n        interface: {\n          info: element => {\n            this.setDefaultInterface(element, data)\n          },\n        },\n      },\n      context\n    )\n  }\n}\n","import { Unit } from './unit'\nimport { Assets } from 'pixi.js'\nimport { accelerator } from '../../constants'\n\nexport class Scout extends Unit {\n  constructor({ i, j, owner }, context) {\n    const type = 'Scout'\n    const data = Assets.cache.get('config').units[type]\n    super(\n      {\n        i,\n        j,\n        owner,\n        type,\n        lifeMax: data.lifeMax,\n        sight: data.sight,\n        speed: data.speed * accelerator,\n        attack: data.attack,\n        work: 'attacker',\n        standingSheet: Assets.cache.get('445'),\n        walkingSheet: Assets.cache.get('651'),\n        actionSheet: Assets.cache.get('227'),\n        dyingSheet: Assets.cache.get('343'),\n        corpseSheet: Assets.cache.get('403'),\n        interface: {\n          info: element => {\n            this.setDefaultInterface(element, data)\n          },\n        },\n      },\n      context\n    )\n  }\n}\n\n","import { Unit } from './unit'\nimport { Assets } from 'pixi.js'\nimport { accelerator } from '../../constants'\nimport { getClosestInstance, getActionCondition } from '../../lib'\nimport * as buildings from '../buildings/'\n\nconst assets = {\n  default: {\n    standingSheet: '418',\n    walkingSheet: '657',\n    dyingSheet: '314',\n    corpseSheet: '373',\n  },\n  attack: {\n    actionSheet: '224',\n    standingSheet: '418',\n    walkingSheet: '657',\n  },\n  hunter: {\n    actionSheet: '624',\n    harvestSheet: '626',\n    standingSheet: '435',\n    walkingSheet: '676',\n    dyingSheet: '332',\n    corpseSheet: '389',\n    loadedSheet: '272',\n  },\n  farmer: {\n    actionSheet: '630',\n    standingSheet: '430',\n    walkingSheet: '670',\n    dyingSheet: '326',\n    corpseSheet: '388',\n  },\n  gatherer: {\n    actionSheet: '632',\n    standingSheet: '432',\n    walkingSheet: '672',\n    dyingSheet: '328',\n    corpseSheet: '390',\n  },\n  miner: {\n    actionSheet: '633',\n    standingSheet: '441',\n    walkingSheet: '683',\n    corpseSheet: '400',\n  },\n  woodcutter: {\n    actionSheet: '625',\n    standingSheet: '440',\n    walkingSheet: '682',\n    corpseSheet: '399',\n  },\n  builder: {\n    actionSheet: '628',\n    standingSheet: '419',\n    walkingSheet: '658',\n    dyingSheet: '315',\n    corpseSheet: '374',\n  },\n}\n\nexport class Villager extends Unit {\n  constructor({ i, j, owner }, context) {\n    const type = 'Villager'\n    const data = Assets.cache.get('config').units[type]\n    const { menu } = context\n    const defaultAssets = {}\n    for (const [key, value] of Object.entries(assets.default)) {\n      defaultAssets[key] = Assets.cache.get(value)\n    }\n    const children = Object.keys(buildings).map(key => menu.getBuildingButton(key))\n    super(\n      {\n        i,\n        j,\n        owner,\n        type,\n        lifeMax: data.lifeMax,\n        sight: data.sight,\n        speed: data.speed * accelerator,\n        attack: data.attack,\n        range: data.range,\n        ...defaultAssets,\n        assets,\n        interface: {\n          info: element => {\n            const { owner } = this\n            this.setDefaultInterface(element, data)\n            if (owner.isPlayed) {\n              element.appendChild(this.getLoadingElement())\n            }\n          },\n          menu: owner.isPlayed\n            ? [\n                {\n                  icon: 'interface/50721/002_50721.png',\n                  children,\n                },\n              ]\n            : [],\n        },\n      },\n      context\n    )\n  }\n\n  updateInterfaceLoading() {\n    const {\n      context: { menu },\n    } = this\n    if (this.selected && this.owner.isPlayed && this.owner.selectedUnit === this) {\n      if (this.loading === 1) {\n        menu.updateInfo('loading', element => (element.innerHTML = this.getLoadingElement().outerHTML))\n      } else if (this.loading > 1) {\n        menu.updateInfo('loading-text', element => (element.textContent = this.loading))\n      } else {\n        menu.updateInfo('loading', element => (element.innerHTML = ''))\n      }\n    }\n  }\n\n  getLoadingElement() {\n    const {\n      context: { menu },\n    } = this\n    const loadingDiv = document.createElement('div')\n    loadingDiv.className = 'unit-loading'\n    loadingDiv.id = 'loading'\n    if (this.loading) {\n      const iconImg = document.createElement('img')\n      iconImg.className = 'unit-loading-icon'\n      iconImg.src = menu.icons[this.loadingType]\n      const textDiv = document.createElement('div')\n      textDiv.id = 'loading-text'\n      textDiv.textContent = this.loading\n      loadingDiv.appendChild(iconImg)\n      loadingDiv.appendChild(textDiv)\n    }\n    return loadingDiv\n  }\n\n  sendToAttack(target) {\n    this.updateInterfaceLoading()\n    this.work = 'attacker'\n    this.actionSheet = Assets.cache.get('224')\n    this.standingSheet = Assets.cache.get('418')\n    if (!this.loading) {\n      this.walkingSheet = Assets.cache.get('657')\n    }\n    this.previousDest = null\n    return this.sendTo(target, 'attack')\n  }\n\n  sendToTakeMeat(target) {\n    if (this.loadingType !== 'food') {\n      this.loading = 0\n      this.updateInterfaceLoading()\n    }\n    if (this.work !== 'hunter' || this.action !== 'takemeat') {\n      this.work = 'hunter'\n      this.actionSheet = Assets.cache.get('626')\n      this.standingSheet = Assets.cache.get('435')\n      if (!this.loading) {\n        this.walkingSheet = Assets.cache.get('676')\n        this.dyingSheet = Assets.cache.get('332')\n        this.corpseSheet = Assets.cache.get('389')\n      }\n    }\n    this.previousDest = null\n    return this.sendTo(target, 'takemeat')\n  }\n\n  sendToHunt(target) {\n    if (this.loadingType !== 'food') {\n      this.loading = 0\n      this.updateInterfaceLoading()\n    }\n    if (this.work !== 'hunter' || this.action !== 'hunt') {\n      this.work = 'hunter'\n      this.actionSheet = Assets.cache.get('624')\n      this.standingSheet = Assets.cache.get('435')\n      if (!this.loading) {\n        this.walkingSheet = Assets.cache.get('676')\n        this.dyingSheet = Assets.cache.get('332')\n        this.corpseSheet = Assets.cache.get('389')\n      }\n    }\n    this.previousDest = null\n    return this.sendTo(target, 'hunt')\n  }\n\n  sendToDelivery() {\n    const {\n      context: { map },\n    } = this\n    let buildingType = null\n    const buildings = Assets.cache.get('config').buildings\n    for (const [key, value] of Object.entries(buildings)) {\n      if (key !== 'TownCenter' && value.accept && value.accept.includes(this.work)) {\n        buildingType = key\n        break\n      }\n    }\n    const targets = this.owner.buildings.filter(building =>\n      getActionCondition(this, building, 'delivery', { buildingType })\n    )\n    const target = getClosestInstance(this, targets)\n    if (this.dest) {\n      this.previousDest = this.dest\n    } else {\n      this.previousDest = map.grid[this.i][this.j]\n    }\n    this.sendTo(target, 'delivery')\n  }\n\n  sendToBuilding(building) {\n    if (this.work !== 'builder') {\n      this.updateInterfaceLoading()\n      this.work = 'builder'\n      this.actionSheet = Assets.cache.get('628')\n      this.standingSheet = Assets.cache.get('419')\n      if (!this.loading) {\n        this.walkingSheet = Assets.cache.get('658')\n        this.dyingSheet = Assets.cache.get('315')\n        this.corpseSheet = Assets.cache.get('374')\n      }\n    }\n    this.previousDest = null\n    return this.sendTo(building, 'build')\n  }\n\n  sendToFarm(farm) {\n    if (this.loadingType !== 'food') {\n      this.loading = 0\n      this.updateInterfaceLoading()\n    }\n    if (this.work !== 'farmer') {\n      this.work = 'farmer'\n      this.actionSheet = Assets.cache.get('630')\n      this.standingSheet = Assets.cache.get('430')\n      if (!this.loading) {\n        this.walkingSheet = Assets.cache.get('670')\n        this.dyingSheet = Assets.cache.get('326')\n        this.corpseSheet = Assets.cache.get('388')\n      }\n    }\n    this.previousDest = null\n    return this.sendTo(farm, 'farm')\n  }\n\n  sendToTree(tree) {\n    if (this.work !== 'woodcutter') {\n      this.loading = 0\n      this.updateInterfaceLoading()\n      this.work = 'woodcutter'\n      this.actionSheet = Assets.cache.get('625')\n      this.standingSheet = Assets.cache.get('440')\n      this.walkingSheet = Assets.cache.get('682')\n      this.corpseSheet = Assets.cache.get('399')\n    }\n    this.previousDest = null\n    return this.sendTo(tree, 'chopwood')\n  }\n\n  sendToBerrybush(berrybush) {\n    if (this.loadingType !== 'food') {\n      this.loading = 0\n      this.updateInterfaceLoading()\n    }\n    if (this.work !== 'gatherer') {\n      this.work = 'gatherer'\n      this.actionSheet = Assets.cache.get('632')\n      this.standingSheet = Assets.cache.get('432')\n      if (!this.loading) {\n        this.walkingSheet = Assets.cache.get('672')\n        this.dyingSheet = Assets.cache.get('328')\n        this.corpseSheet = Assets.cache.get('390')\n      }\n    }\n    this.previousDest = null\n    return this.sendTo(berrybush, 'forageberry')\n  }\n\n  sendToStone(stone) {\n    if (this.work !== 'stoneminer') {\n      this.loading = 0\n      this.updateInterfaceLoading()\n      this.work = 'stoneminer'\n      this.actionSheet = Assets.cache.get('633')\n      this.standingSheet = Assets.cache.get('441')\n      this.walkingSheet = Assets.cache.get('683')\n      this.corpseSheet = Assets.cache.get('400')\n    }\n    this.previousDest = null\n    return this.sendTo(stone, 'minestone')\n  }\n\n  sendToGold(gold) {\n    if (this.work !== 'goldminer') {\n      this.loading = 0\n      this.updateInterfaceLoading()\n      this.work = 'goldminer'\n      this.actionSheet = Assets.cache.get('633')\n      this.standingSheet = Assets.cache.get('441')\n      this.walkingSheet = Assets.cache.get('683')\n      this.corpseSheet = Assets.cache.get('400')\n    }\n    this.previousDest = null\n    return this.sendTo(gold, 'minegold')\n  }\n}\n","import { Assets } from 'pixi.js'\nimport * as buildings from '../buildings'\nimport * as units from '../units'\nimport { canAfford, drawInstanceBlinkingSelection, payCost, uuidv4, getHexColor } from '../../lib'\n\nexport class Player {\n  constructor({ i, j, age, civ, color, type, isPlayed = false }, context) {\n    this.name = 'player'\n    this.context = context\n\n    const { map } = context\n    this.id = uuidv4()\n    this.parent = map\n    this.i = i\n    this.j = j\n    this.civ = civ\n    this.age = age\n    this.wood = 10000 //200\n    this.food = 10000 //200\n    this.stone = 10000 //150\n    this.gold = 10000 //0\n    this.type = type\n    this.units = []\n    this.buildings = []\n    this.population = 0\n    this.populationMax = 1000 //5\n    this.color = color\n    this.colorHex = getHexColor(color)\n    this.isPlayed = isPlayed\n    this.hasBuilt = Object.keys(buildings) //[]\n    this.technologies = []\n\n    const cloneGrid = []\n    for (let i = 0; i <= map.size; i++) {\n      for (let j = 0; j <= map.size; j++) {\n        if (cloneGrid[i] == null) {\n          cloneGrid[i] = []\n        }\n        cloneGrid[i][j] = {\n          i,\n          j,\n          has: null,\n          viewBy: [],\n          viewed: false,\n        }\n      }\n    }\n    this.views = cloneGrid\n  }\n\n  spawnBuilding(...args) {\n    const building = this.createBuilding(...args)\n    if (this.isPlayed) {\n      for (let u = 0; u < this.selectedUnits.length; u++) {\n        const unit = this.selectedUnits[u]\n        if (unit.type === 'Villager') {\n          drawInstanceBlinkingSelection(building)\n          unit.sendToBuilding(building)\n        }\n      }\n    }\n\n    return building\n  }\n\n  onAgeChange() {\n    const {\n      context: { players, menu },\n    } = this\n    for (let i = 0; i < this.buildings.length; i++) {\n      const building = this.buildings[i]\n      if (building.isBuilt && !building.isDead) {\n        building.finalTexture()\n      }\n    }\n    for (let i = 0; i < players.length; i++) {\n      const player = players[i]\n      if (player.type === 'Human') {\n        if (player.selectedUnit && player.selectedUnit.owner === this) {\n          menu.setBottombar(player.selectedUnit)\n        } else if (player.selectedBuilding && player.selectedBuilding.owner === this) {\n          menu.setBottombar(player.selectedBuilding)\n        } else if (player.selectedOther && player.selectedOther.owner === this) {\n          menu.setBottombar(player.selectedOther)\n        }\n      }\n    }\n  }\n\n  otherPlayers() {\n    const others = [...this.parent.players]\n    others.splice(this.parent.players.indexOf(this), 1)\n    return others\n  }\n\n  buyBuilding(i, j, type) {\n    const {\n      context: { menu },\n    } = this\n    const config = Assets.cache.get('config').buildings[type]\n    if (canAfford(this, config.cost)) {\n      this.spawnBuilding(i, j, type)\n      payCost(this, config.cost)\n      if (this.isPlayed) {\n        menu.updateTopbar()\n      }\n      return true\n    }\n    return false\n  }\n\n  createUnit(i, j, type) {\n    const { context } = this\n    const unit = new units[type]({ i, j, owner: this }, context)\n    this.units.push(unit)\n    context.menu.updatePlayerMiniMap(this)\n    return unit\n  }\n\n  createBuilding(i, j, type, isBuilt = false) {\n    const { context } = this\n    const building = new buildings[type]({ i, j, owner: this, isBuilt }, context)\n    this.buildings.push(building)\n    context.menu.updatePlayerMiniMap(this)\n    return building\n  }\n}\n","import { Player } from './player'\n\nimport {\n  getPlainCellsAroundPoint,\n  getValuePercentage,\n  getPositionInGridAroundInstance,\n  getClosestInstance,\n  instancesDistance,\n} from '../../lib'\n\nexport class AI extends Player {\n  constructor({ i, j, age, civ, color }, context) {\n    super({ i, j, age, civ, color, type: 'AI' }, context)\n    this.foundedTrees = []\n    this.foundedBerrybushs = []\n    this.foundedEnemyBuildings = []\n    this.interval = setInterval(() => this.step(), 4000)\n  }\n\n  step() {\n    const maxVillagers = 20\n    const maxVillagersOnConstruction = 4\n    const maxClubmans = 10\n    const howManyVillagerBeforeBuyingABarracks = 10\n    const howManySoldiersBeforeAttack = 5\n    const villagers = this.units.filter(unit => unit.type === 'Villager' && unit.life > 0)\n    const clubmans = this.units.filter(unit => unit.type === 'Clubman' && unit.life > 0)\n    const towncenters = this.buildings.filter(building => building.type === 'TownCenter')\n    const storagepits = this.buildings.filter(building => building.type === 'StoragePit')\n    const granarys = this.buildings.filter(building => building.type === 'Granary')\n    const barracks = this.buildings.filter(building => building.type === 'Barracks')\n    const notBuiltBuildings = this.buildings.filter(\n      building => !building.isBuilt || (building.life > 0 && building.life < building.lifeMax)\n    )\n    const notBuiltHouses = notBuiltBuildings.filter(building => building.type === 'House')\n    const builderVillagers = villagers.filter(villager => !villager.inactif && villager.work === 'builder')\n    const villagersOnWood = villagers.filter(villager => !villager.inactif && villager.work === 'woodcutter')\n    const villagersOnFood = villagers.filter(villager => !villager.inactif && villager.work === 'gatherer')\n    const inactifVillagers = villagers.filter(villager => villager.inactif && villager.action !== 'attack')\n    const inactifClubmans = clubmans.filter(\n      clubman => clubman.inactif && clubman.action !== 'attack' && clubman.assault\n    )\n    const waitingClubmans = clubmans.filter(\n      clubman => clubman.inactif && clubman.action !== 'attack' && !clubman.assault\n    )\n    const maxVillagersOnWood = getValuePercentage(villagers.length, 30)\n    const maxVillagersOnFood = getValuePercentage(villagers.length, 70)\n\n    // Player loosing\n    if (this.buildings.length === 0 && this.units.length === 0) {\n      this.die()\n      return\n    }\n\n    /**\n     * Units action\n     */\n    // Look for food\n    if (villagersOnFood.length <= maxVillagersOnFood && (towncenters.length || granarys.length)) {\n      if (this.foundedBerrybushs.length) {\n        for (let i = 0; i < Math.min(maxVillagersOnFood, inactifVillagers.length); i++) {\n          const bush = getClosestInstance(inactifVillagers[i], this.foundedBerrybushs)\n          inactifVillagers[i].sendToBerrybush(bush)\n          // Build a granary close to it, if to far\n          const closestTownCenter = getClosestInstance(bush, towncenters)\n          const closestGranary = getClosestInstance(bush, granarys)\n          if (\n            instancesDistance(closestTownCenter, bush) > 6 &&\n            (!instancesDistance(closestGranary, bush) || instancesDistance(closestGranary, bush) > 15)\n          ) {\n            const bushNeighbours = getPlainCellsAroundPoint(\n              bush.i,\n              bush.j,\n              this.parent.grid,\n              2,\n              cell => cell.has && cell.has.type === 'Berrybush'\n            )\n            if (bushNeighbours.length > 3) {\n              const pos = getPositionInGridAroundInstance(bush, this.parent.grid, [0, 6], 2)\n              if (pos) {\n                this.buyBuilding(pos.i, pos.j, 'Granary')\n              }\n            }\n          }\n        }\n      } else {\n        for (let i = 0; i < Math.min(maxVillagersOnFood, inactifVillagers.length); i++) {\n          inactifVillagers[i].explore()\n        }\n      }\n    }\n    // Look for wood\n    if (villagersOnWood.length <= maxVillagersOnWood && (towncenters.length || storagepits.length)) {\n      if (this.foundedTrees.length) {\n        for (let i = 0; i < Math.min(maxVillagersOnWood, inactifVillagers.length); i++) {\n          const tree = getClosestInstance(inactifVillagers[i], this.foundedTrees)\n          inactifVillagers[i].sendToTree(tree)\n          // Build a storagepit close to it, if to far\n          const closestTownCenter = getClosestInstance(tree, towncenters)\n          const closestStoragepit = getClosestInstance(tree, storagepits)\n          if (\n            instancesDistance(closestTownCenter, tree) > 6 &&\n            (!instancesDistance(closestStoragepit, tree) || instancesDistance(closestStoragepit, tree) > 15)\n          ) {\n            const treeNeighbours = getPlainCellsAroundPoint(\n              tree.i,\n              tree.j,\n              this.parent.grid,\n              2,\n              cell => cell.has && cell.has.type === 'Tree'\n            )\n            if (treeNeighbours.length > 5) {\n              const pos = getPositionInGridAroundInstance(tree, this.parent.grid, [0, 6], 2)\n              if (pos) {\n                this.buyBuilding(pos.i, pos.j, 'StoragePit')\n              }\n            }\n          }\n        }\n      } else {\n        for (let i = 0; i < Math.min(maxVillagersOnWood, inactifVillagers.length); i++) {\n          inactifVillagers[i].explore()\n        }\n      }\n    }\n    // Send to construction\n    if (notBuiltBuildings.length > 0) {\n      for (let i = 0; i < notBuiltBuildings.length; i++) {\n        if (builderVillagers.length >= maxVillagersOnConstruction) {\n          break\n        }\n        const noWorkers = villagers.filter(\n          villager => (villager.action !== 'attack' && villager.work !== 'builder') || villager.inactif\n        )\n        const villager = getClosestInstance(notBuiltBuildings[i], noWorkers)\n        if (villager) {\n          villager.sendToBuilding(notBuiltBuildings[i])\n        }\n      }\n    }\n    // Send clubman to attack\n    if (waitingClubmans.length >= howManySoldiersBeforeAttack) {\n      if (!this.foundedEnemyBuildings.length) {\n        const targetIndex = randomRange(0, this.otherPlayers().length - 1)\n        const target = this.otherPlayers()[targetIndex]\n        const i = target.i + randomRange(-5, 5)\n        const j = target.j + randomRange(-5, 5)\n        if (this.parent.grid[i] && this.parent.grid[i][j]) {\n          const cell = this.parent.grid[i][j]\n          for (let i = 0; i < waitingClubmans.length; i++) {\n            waitingClubmans[i].assault = true\n            waitingClubmans[i].sendTo(cell, 'attack')\n          }\n        }\n      } else {\n        for (let i = 0; i < waitingClubmans.length; i++) {\n          waitingClubmans[i].sendTo(this.foundedEnemyBuildings[0], 'attack')\n        }\n      }\n    }\n    if (inactifClubmans.length) {\n      if (!this.foundedEnemyBuildings.length) {\n        for (let i = 0; i < inactifClubmans.length; i++) {\n          inactifClubmans[i].explore()\n        }\n      } else {\n        for (let i = 0; i < inactifClubmans.length; i++) {\n          inactifClubmans[i].sendTo(this.foundedEnemyBuildings[0], 'attack')\n        }\n      }\n    }\n    /**\n     * Units buying\n     */\n    // Buy villager\n    if (villagers.length < maxVillagers) {\n      for (let i = 0; i < maxVillagers - villagers.length; i++) {\n        if (towncenters[i]) {\n          towncenters[i].buyUnit('Villager')\n        }\n      }\n    }\n    // Buy clubman\n    if (clubmans.length < maxClubmans) {\n      for (let i = 0; i < maxClubmans - clubmans.length; i++) {\n        if (barracks[i]) {\n          barracks[i].buyUnit('Clubman')\n        }\n      }\n    }\n\n    /**\n     * Building buying\n     */\n    // Buy a house\n    if (this.population + 3 > this.populationMax && !notBuiltHouses.length) {\n      const pos = getPositionInGridAroundInstance(towncenters[0], this.parent.grid, [3, 12], 2)\n      if (pos) {\n        this.buyBuilding(pos.i, pos.j, 'House')\n      }\n    }\n    // Buy a barracks\n    if (villagers.length > howManyVillagerBeforeBuyingABarracks && barracks.length === 0) {\n      const pos = getPositionInGridAroundInstance(towncenters[0], this.parent.grid, [4, 20], 3, false, cell => {\n        let isMiddle = true\n        for (let i = 0; i < this.otherPlayers().length; i++) {\n          if (\n            instancesDistance(cell, this.otherPlayers()[i]) > instancesDistance(towncenters[0], this.otherPlayers()[i])\n          ) {\n            isMiddle = false\n          }\n        }\n        return isMiddle\n      })\n      if (pos) {\n        this.buyBuilding(pos.i, pos.j, 'Barracks')\n      }\n    }\n  }\n\n  die() {\n    const {\n      context: { players },\n    } = this\n    clearInterval(this.interval)\n    players.splice(players.indexOf(this), 1)\n  }\n}\n","import { Player } from './player'\n\nexport class Gaia extends Player {\n  constructor(context) {\n    super({ i: 0, j: 0, type: 'Gaia' }, context)\n  }\n}\n","import { Player } from './player'\n\nexport class Human extends Player {\n  constructor({ i, j, age, civ, color, isPlayed }, context) {\n    super({ i, j, age, civ, color, type: 'Human', isPlayed }, context)\n    this.selectedUnits = []\n    this.selectedUnit = null\n    this.selectedBuilding = null\n    this.selectedOther = null\n  }\n\n  unselectUnit(unit) {\n    const {\n      context: { menu },\n    } = this\n    const index = this.selectedUnits.indexOf(unit)\n    this.selectedUnits.splice(index, 1)\n\n    if (!this.selectedUnits.length) {\n      this.selectedUnit = null\n      this.selectedUnits = []\n      menu.setBottombar()\n      return\n    }\n\n    let nextVillager\n    if (this.selectedUnit === unit) {\n      for (let i = 0; i < this.selectedUnits.length; i++) {\n        if (this.selectedUnits[i].type === 'Villager') {\n          nextVillager = this.selectedUnits[i].type\n          break\n        }\n      }\n    }\n    this.selectedUnit = nextVillager || this.selectedUnits[0]\n    menu.setBottombar(this.selectedUnit)\n  }\n\n  unselectAllUnits() {\n    const {\n      context: { menu },\n    } = this\n    for (let i = 0; i < this.selectedUnits.length; i++) {\n      this.selectedUnits[i].unselect()\n    }\n    this.selectedUnit = null\n    this.selectedUnits = []\n    menu.setBottombar()\n  }\n\n  unselectAll() {\n    if (this.selectedBuilding) {\n      this.selectedBuilding.unselect()\n      this.selectedBuilding = null\n    }\n    if (this.selectedOther) {\n      this.selectedOther.unselect()\n      this.selectedOther = null\n    }\n    this.unselectAllUnits()\n  }\n}\n","import { Container, AnimatedSprite, Graphics } from 'pixi.js'\nimport { accelerator, stepTime, corpseTime } from '../../constants'\nimport {\n  getInstanceZIndex,\n  randomRange,\n  renderCellOnInstanceSight,\n  getIconPath,\n  getInstancePath,\n  instancesDistance,\n  moveTowardPoint,\n  clearCellOnInstanceSight,\n  getInstanceClosestFreeCellPath,\n  instanceContactInstance,\n  getInstanceDegree,\n  drawInstanceBlinkingSelection,\n  findInstancesInSight,\n  getClosestInstanceWithPath,\n  getCellsAroundPoint,\n  instanceIsInPlayerSight,\n  getActionCondition,\n} from '../../lib'\n\nexport class Animal extends Container {\n  constructor(options, context) {\n    super()\n\n    this.context = context\n\n    const {\n      context: { map },\n    } = this\n    this.setParent(map)\n    this.id = map.children.length\n    this.name = 'animal'\n\n    Object.keys(options).forEach(prop => {\n      this[prop] = options[prop]\n    })\n\n    this.x = map.grid[this.i][this.j].x\n    this.y = map.grid[this.i][this.j].y\n    this.z = map.grid[this.i][this.j].z\n    this.dest = null\n    this.realDest = null\n    this.previousDest = null\n    this.path = []\n    this.zIndex = getInstanceZIndex(this)\n    this.selected = false\n    this.degree = randomRange(1, 360)\n    this.currentFrame = randomRange(0, 4)\n    this.action = null\n    this.work = null\n    this.currentSheet = null\n    this.size = 1\n    this.visible = false\n    this.currentCell = map.grid[this.i][this.j]\n    this.currentCell.has = this\n    this.currentCell.solid = true\n    this.isDead = false\n    this.isDestroyed = false\n\n    this.life = this.lifeMax\n    this.originalSpeed = this.speed\n    this.inactif = true\n\n    this.allowMove = false\n    this.interactive = true\n    const sprite = new AnimatedSprite(this.standingSheet.animations['south'])\n    sprite.name = 'sprite'\n    sprite.allowMove = false\n    sprite.interactive = false\n    sprite.allowClick = false\n    sprite.roundPixels = true\n\n    this.on('pointerup', () => {\n      const {\n        context: { controls, player, menu },\n      } = this\n      if (!player || controls.mouseBuilding || controls.mouseRectangle || !controls.isMouseInApp()) {\n        return\n      }\n      controls.mouse.prevent = true\n      let drawDestinationRectangle = false\n      if (player.selectedUnits.length) {\n        for (let i = 0; i < player.selectedUnits.length; i++) {\n          const playerUnit = player.selectedUnits[i]\n          if (getActionCondition(playerUnit, this, 'hunt')) {\n            playerUnit.sendToHunt(this)\n            drawDestinationRectangle = true\n          } else if (getActionCondition(playerUnit, this, 'attack')) {\n            playerUnit.sendTo(this, 'attack')\n            drawDestinationRectangle = true\n          } else if (getActionCondition(playerUnit, this, 'takemeat')) {\n            playerUnit.sendToTakeMeat(this)\n            drawDestinationRectangle = true\n          }\n        }\n      } else if (player.selectedBuilding && player.selectedBuilding.range) {\n        if (\n          getActionCondition(player.selectedBuilding, this, 'attack') &&\n          instancesDistance(player.selectedBuilding, this) <= player.selectedBuilding.range\n        ) {\n          player.selectedBuilding.attackAction(this)\n          drawDestinationRectangle = true\n        }\n      } else if (instanceIsInPlayerSight(this, player) || map.revealEverything) {\n        player.unselectAll()\n        this.select()\n        menu.setBottombar(this)\n        player.selectedOther = this\n      }\n\n      if (drawDestinationRectangle) {\n        drawInstanceBlinkingSelection(this)\n      }\n    })\n\n    this.interval = null\n    sprite.updateAnchor = true\n    this.addChild(sprite)\n\n    this.stop()\n\n    renderCellOnInstanceSight(this)\n  }\n\n  startInterval() {\n    if (!this.interval) {\n      this.interval = setInterval(() => this.step(), stepTime)\n    }\n  }\n\n  stopInterval() {\n    if (this.interval) {\n      clearInterval(this.interval)\n      this.interval = null\n    }\n  }\n\n  select() {\n    if (this.selected) {\n      return\n    }\n    const {\n      context: { menu },\n    } = this\n\n    this.selected = true\n    const selection = new Graphics()\n    selection.name = 'selection'\n    selection.zIndex = 3\n    selection.lineStyle(1, 0xffffff)\n    const path = [-32 * 0.5, 0, 0, -16 * 0.5, 32 * 0.5, 0, 0, 16 * 0.5]\n    selection.drawPolygon(path)\n    this.addChildAt(selection, 0)\n\n    menu.updatePlayerMiniMapEvt(this.owner)\n  }\n  unselect() {\n    if (!this.selected) {\n      return\n    }\n\n    this.selected = false\n    const selection = this.getChildByName('selection')\n    if (selection) {\n      this.removeChild(selection)\n    }\n  }\n  hasPath() {\n    return this.path.length > 0\n  }\n\n  setDest(dest) {\n    if (!dest) {\n      this.stop()\n      return\n    }\n    this.dest = dest\n    this.realDest = {\n      i: dest.i,\n      j: dest.j,\n    }\n  }\n\n  setPath(path) {\n    if (!path.length) {\n      this.stop()\n      return\n    }\n    this.startInterval()\n    this.inactif = false\n    this.setTextures('walkingSheet')\n    this.path = path\n  }\n\n  sendTo(dest, action) {\n    const {\n      context: { map },\n    } = this\n    let path = []\n    // No instance we cancel the destination\n    if (!dest) {\n      return false\n    }\n    // Animal is already beside our target\n    if (action && instanceContactInstance(this, dest)) {\n      this.setDest(dest)\n      this.action = action\n      this.degree = getInstanceDegree(this, dest.x, dest.y)\n      this.getAction(action)\n      return true\n    }\n    // Set animal path\n    if (map.grid[dest.i] && map.grid[dest.i][dest.j] && map.grid[dest.i][dest.j].solid) {\n      path = getInstanceClosestFreeCellPath(this, dest, map)\n      if (!path.length && this.work) {\n        this.action = action\n        this.affectNewDest()\n        return\n      }\n    } else {\n      path = getInstancePath(this, dest.i, dest.j, map)\n    }\n    // Animal found a path, set the action and play walking animation\n    if (path.length) {\n      this.setDest(dest)\n      this.action = action\n      this.setPath(path)\n      return true\n    }\n    this.stop()\n    return false\n  }\n\n  getActionCondition(target) {\n    return getActionCondition(this, target, this.action)\n  }\n\n  getAction(name) {\n    const {\n      context: { menu, player },\n    } = this\n    const sprite = this.getChildByName('sprite')\n    if (!sprite) {\n      return\n    }\n    switch (name) {\n      case 'attack':\n        if (!this.getActionCondition(this.dest)) {\n          this.affectNewDest()\n          return\n        }\n        sprite.onLoop = () => {\n          if (!this.getActionCondition(this.dest)) {\n            this.affectNewDest()\n            return\n          }\n          if (this.destHasMoved()) {\n            this.degree = getInstanceDegree(this, this.dest.x, this.dest.y)\n            this.setTextures('actionSheet')\n          }\n          if (!instanceContactInstance(this, this.dest)) {\n            this.sendTo(this.dest, 'attack')\n            return\n          }\n          if (this.dest.life > 0) {\n            this.dest.life -= this.attack\n            if (\n              this.dest.selected &&\n              player &&\n              (player.selectedUnit === this.dest || player.selectedBuilding === this.dest)\n            ) {\n              menu.updateInfo(\n                'life',\n                element => (element.textContent = Math.max(this.dest.life, 0) + '/' + this.dest.lifeMax)\n              )\n            }\n            this.dest.isAttacked(this)\n          }\n\n          if (this.dest.life <= 0) {\n            this.dest.die()\n            this.affectNewDest()\n          }\n        }\n        this.setTextures('actionSheet')\n        break\n      default:\n        this.stop()\n    }\n  }\n\n  affectNewDest() {\n    const targets = findInstancesInSight(this, instance => this.getActionCondition(instance))\n    if (targets.length) {\n      const target = getClosestInstanceWithPath(this, targets)\n      if (target) {\n        if (instanceContactInstance(this, target)) {\n          this.degree = getInstanceDegree(this, target.x, target.y)\n          this.getAction(this.action)\n          return\n        }\n        this.setDest(target.instance)\n        this.setPath(target.path)\n        return\n      }\n    }\n    this.stop()\n    return\n  }\n\n  destHasMoved() {\n    return (\n      (this.dest.i !== this.realDest.i || this.dest.j !== this.realDest.j) &&\n      instancesDistance(this, this.dest) <= this.sight\n    )\n  }\n\n  moveToPath() {\n    const {\n      context: { map },\n    } = this\n    const next = this.path[this.path.length - 1]\n    const nextCell = map.grid[next.i][next.j]\n    const sprite = this.getChildByName('sprite')\n    if (!sprite) {\n      return\n    }\n    if (!this.dest || this.dest.isDestroyed) {\n      this.affectNewDest()\n      return\n    }\n    // Collision with another walking unit, we block the mouvement\n    if (\n      nextCell.has &&\n      (nextCell.has.name === 'unit' || nextCell.has.name === 'animal') &&\n      nextCell.has !== this &&\n      nextCell.has.hasPath() &&\n      instancesDistance(this, nextCell.has) <= 1 &&\n      nextCell.has.getChildByName('sprite').playing\n    ) {\n      sprite.stop()\n      return\n    }\n    if (nextCell.solid && this.dest) {\n      this.sendTo(this.dest, this.action)\n      return\n    }\n\n    if (!sprite.playing) {\n      sprite.play()\n    }\n\n    this.zIndex = getInstanceZIndex(this)\n    if (instancesDistance(this, nextCell, false) < 10) {\n      clearCellOnInstanceSight(this)\n\n      this.z = nextCell.z\n      this.i = nextCell.i\n      this.j = nextCell.j\n\n      if (this.currentCell.has === this) {\n        this.currentCell.has = null\n        this.currentCell.solid = false\n      }\n      this.currentCell = map.grid[this.i][this.j]\n      if (this.currentCell.has === null) {\n        this.currentCell.has = this\n        this.currentCell.solid = true\n      }\n\n      renderCellOnInstanceSight(this)\n      this.path.pop()\n\n      // Destination moved\n      if (this.destHasMoved()) {\n        this.sendTo(this.dest, this.action)\n        return\n      }\n      if (this.action && instanceContactInstance(this, this.dest)) {\n        this.path = []\n        this.stopInterval()\n        this.degree = getInstanceDegree(this, this.dest.x, this.dest.y)\n        this.getAction(this.action)\n        return\n      }\n\n      if (!this.path.length) {\n        this.stop()\n      }\n    } else {\n      // Move to next\n      const oldDeg = this.degree\n      let speed = this.speed\n      if (this.loading > 1) {\n        speed *= 0.8\n      }\n      moveTowardPoint(this, nextCell.x, nextCell.y, speed)\n      if (degreeToDirection(oldDeg) !== degreeToDirection(this.degree)) {\n        // Change animation according to degree\n        this.setTextures('walkingSheet')\n      }\n    }\n  }\n\n  isAttacked(instance) {\n    if (!instance || this.dest === instance || (this.dest && this.dest.name === 'unit' && this.action === 'attack')) {\n      return\n    }\n    if (this.type === 'Gazelle') {\n      this.runaway()\n    } else {\n      this.sendTo(instance, 'attack')\n    }\n  }\n\n  stop() {\n    if (this.currentCell.has !== this && this.currentCell.solid) {\n      this.sendTo(this.currentCell)\n      return\n    }\n    this.inactif = true\n    this.action = null\n    this.dest = null\n    this.realDest = null\n    this.currentCell.has = this\n    this.currentCell.solid = true\n    this.path = []\n    this.stopInterval()\n    this.setTextures('standingSheet')\n  }\n\n  step() {\n    if (this.life <= 0) {\n      this.die()\n    }\n    if (this.hasPath()) {\n      this.moveToPath()\n    }\n  }\n\n  runaway() {\n    const {\n      context: { map },\n    } = this\n    let dest\n    for (let i = 5; i < 50; i++) {\n      getCellsAroundPoint(this.i, this.j, map.grid, i, cell => {\n        if (!cell.solid) {\n          dest = this.owner.views[cell.i][cell.j]\n          return\n        }\n      })\n      if (dest) {\n        this.sendTo(dest)\n        break\n      }\n    }\n  }\n\n  die() {\n    if (this.currentSheet === 'dyingSheet') {\n      return\n    }\n    this.stopInterval()\n    this.isDead = true\n    this.path = []\n    this.action = null\n    this.setTextures('dyingSheet')\n    const sprite = this.getChildByName('sprite')\n    if (!sprite) {\n      return\n    }\n    sprite.onLoop = () => {\n      this.owner.population--\n      this.setTextures('corpseSheet')\n      sprite.animationSpeed = corpseTime * accelerator\n      sprite.onLoop = () => {\n        this.clear()\n      }\n    }\n  }\n\n  clear() {\n    const {\n      context: { player, map },\n    } = this\n    map.grid[this.i][this.j].has = null\n    map.grid[this.i][this.j].solid = false\n    map.removeChild(this)\n    if (this.selected && player) {\n      player.unselectAll()\n    }\n    clearCellOnInstanceSight(this)\n    this.isDestroyed = true\n    this.destroy({ child: true, texture: true })\n  }\n\n  setTextures(sheet) {\n    const sprite = this.getChildByName('sprite')\n    if (!sprite) {\n      return\n    }\n    // Sheet don't exist we just block the current sheet\n    if (!this[sheet]) {\n      if (this.currentSheet !== 'walkingSheet' && this.walkingSheet) {\n        sprite.textures = [this.walkingSheet.textures[Object.keys(this.walkingSheet.textures)[0]]]\n      } else {\n        sprite.textures = [sprite.textures[sprite.currentFrame]]\n      }\n      this.currentSheet = 'walkingSheet'\n      sprite.stop()\n      sprite.anchor.set(\n        sprite.textures[sprite.currentFrame].defaultAnchor.x,\n        sprite.textures[sprite.currentFrame].defaultAnchor.y\n      )\n      return\n    }\n    // Reset action loop\n    if (sheet !== 'actionSheet') {\n      sprite.onLoop = () => {}\n    }\n    this.currentSheet = sheet\n    sprite.animationSpeed = (this[sheet].data.animationSpeed || (sheet === 'standingSheet' ? 0.1 : 0.3)) * accelerator\n    if (this.degree > 67.5 && this.degree < 112.5) {\n      sprite.scale.x = 1\n      sprite.textures = this[sheet].animations['north']\n    } else if (this.degree > 247.5 && this.degree < 292.5) {\n      sprite.scale.x = 1\n      sprite.textures = this[sheet].animations['south']\n    } else if (this.degree > 337.5 || this.degree < 22.5) {\n      sprite.scale.x = 1\n      sprite.textures = this[sheet].animations['west']\n    } else if (this.degree >= 22.5 && this.degree <= 67.5) {\n      sprite.scale.x = 1\n      sprite.textures = this[sheet].animations['northwest']\n    } else if (this.degree >= 292.5 && this.degree <= 337.5) {\n      sprite.scale.x = 1\n      sprite.textures = this[sheet].animations['southwest']\n    } else if (this.degree > 157.5 && this.degree < 202.5) {\n      sprite.scale.x = -1\n      sprite.textures = this[sheet].animations['west']\n    } else if (this.degree > 112.5 && this.degree < 157.5) {\n      sprite.scale.x = -1\n      sprite.textures = this[sheet].animations['northwest']\n    } else if (this.degree > 202.5 && this.degree < 247.5) {\n      sprite.scale.x = -1\n      sprite.textures = this[sheet].animations['southwest']\n    }\n    sprite.play()\n  }\n\n  setDefaultInterface(element, data) {\n    const {\n      context: { menu },\n    } = this\n\n    const civDiv = document.createElement('div')\n    civDiv.id = 'civ'\n    civDiv.textContent = ''\n    element.appendChild(civDiv)\n\n    const typeDiv = document.createElement('div')\n    typeDiv.id = 'type'\n    typeDiv.textContent = this.type\n    element.appendChild(typeDiv)\n\n    const iconImg = document.createElement('img')\n    iconImg.id = 'icon'\n    iconImg.src = getIconPath(data.icon)\n    element.appendChild(iconImg)\n\n    const lifeDiv = document.createElement('div')\n    lifeDiv.id = 'life'\n    lifeDiv.textContent = Math.max(this.life, 0) + '/' + this.lifeMax\n    element.appendChild(lifeDiv)\n\n    const quantityDiv = document.createElement('div')\n    quantityDiv.id = 'quantity'\n    quantityDiv.className = 'resource-quantity'\n    const smallIconImg = document.createElement('img')\n    smallIconImg.src = menu.icons['food']\n    smallIconImg.className = 'resource-quantity-icon'\n    const textDiv = document.createElement('div')\n    textDiv.id = 'quantity-text'\n    textDiv.textContent = Math.max(this.quantity, 0)\n    quantityDiv.appendChild(smallIconImg)\n    quantityDiv.appendChild(textDiv)\n    element.appendChild(quantityDiv)\n  }\n}\n","import { Animal } from './animal'\nimport { Assets } from 'pixi.js'\nimport { accelerator } from '../../constants'\n\nexport class Lion extends Animal {\n  constructor({ i, j, owner }, context) {\n    const type = 'Lion'\n    const data = Assets.cache.get('config').animals[type]\n    super(\n      {\n        i,\n        j,\n        owner,\n        type,\n        lifeMax: data.lifeMax,\n        sight: data.sight,\n        speed: data.speed * accelerator,\n        attack: data.attack,\n        quantity: data.quantity,\n        actionSheet: Assets.cache.get('222'),\n        standingSheet: Assets.cache.get('497'),\n        walkingSheet: Assets.cache.get('680'),\n        dyingSheet: Assets.cache.get('331'),\n        corpseSheet: Assets.cache.get('397'),\n        interface: {\n          info: element => {\n            this.setDefaultInterface(element, data)\n          },\n        },\n      },\n      context\n    )\n  }\n}\n","import { Container, Assets, Sprite } from 'pixi.js'\nimport { Grass, Water, Desert, Jungle } from './cells/'\nimport { Tree, Berrybush, Stone, Gold } from './resources/'\nimport { Human, AI, Gaia } from './players/'\nimport { Elephant, Lion, Gazelle } from './animals/'\n\nimport {\n  randomRange,\n  getZoneInGridWithCondition,\n  randomItem,\n  getPlainCellsAroundPoint,\n  getPositionInGridAroundInstance,\n  getCellsAroundPoint,\n  colors,\n} from '../lib'\nimport { cellDepth } from '../constants'\n\n/**\n * \n *  Map size\t      Tiny\t      Small\t    Medium\t    Normal\t    Large\t\n    Player count\t  2\t          3\t        4\t          6\t          8\n    Dimensions\t    120120\t    144144 \t168168\t    200200\t    220220\n */\n\nexport default class Map extends Container {\n  constructor(context) {\n    super()\n\n    this.context = context\n    this.size\n    this.reliefRange = [\n      1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 2,\n      3,\n    ]\n    this.chanceOfRelief = 0.06\n    this.chanceOfSets = 0.02\n    this.revealEverything = true\n    this.noAI = true\n    this.grid = []\n    this.sortableChildren = true\n\n    this.x = 0\n    this.y = 0\n    this.startingUnits = 5\n\n    this.players = []\n    this.gaia = null\n    this.resources = []\n\n    this.interactive = false\n    this.allowMove = false\n    this.allowClick = false\n  }\n\n  setCoordinate(x, y) {\n    this.x = x\n    this.y = y\n  }\n\n  generateMap(repeat = 0) {\n    this.removeChildren()\n    this.generateCells()\n\n    switch (this.size) {\n      case 120:\n        this.positionsCount = 2\n        break\n      case 144:\n        this.positionsCount = 3\n        break\n      case 168:\n        this.positionsCount = 4\n        break\n      case 200:\n        this.positionsCount = 4\n        break\n      case 220:\n        this.positionsCount = 4\n        break\n      default:\n        this.positionsCount = 2\n    }\n    this.playersPos = this.findPlayerPlaces()\n\n    if (this.playersPos.length < this.positionsCount) {\n      if (repeat >= 10) {\n        alert('Error while generating the map')\n      }\n      this.generateMap(repeat + 1)\n      return\n    }\n\n    if (!this.revealEverything) {\n      for (let i = 0; i <= this.size; i++) {\n        for (let j = 0; j <= this.size; j++) {\n          this.grid[i][j].setFog()\n        }\n      }\n    }\n\n    this.generateResourcesAroundPlayers(this.playersPos)\n  }\n\n  stylishMap() {\n    const {\n      context: { menu },\n    } = this\n\n    this.gaia = new Gaia(this.context)\n\n    this.generateSets()\n\n    this.generateMapRelief()\n\n    this.formatCellsRelief()\n    this.formatCellsWaterBorder()\n    this.formatCellsDesert()\n\n    menu.updateResourcesMiniMap()\n  }\n\n  generatePlayers() {\n    const { context } = this\n\n    const players = []\n    const poses = []\n    const randoms = Array.from(Array(this.playersPos.length).keys())\n\n    for (let i = 0; i < this.playersPos.length; i++) {\n      const pos = randomItem(randoms)\n      poses.push(pos)\n      randoms.splice(randoms.indexOf(pos), 1)\n    }\n\n    for (let i = 0; i < this.positionsCount; i++) {\n      const posI = this.playersPos[poses[i]].i\n      const posJ = this.playersPos[poses[i]].j\n      const color = colors[i]\n      if (!i) {\n        players.push(\n          new Human(\n            {\n              i: posI,\n              j: posJ,\n              age: 1,\n              civ: 'Greek',\n              color,\n              isPlayed: true,\n            },\n            context\n          )\n        )\n      } else if (!this.noAI) {\n        players.push(new AI({ i: posI, j: posJ, age: 0, civ: 'Greek', color }, context))\n      }\n    }\n    return players\n  }\n\n  placePlayers() {\n    const {\n      context: { players },\n    } = this\n\n    // Place a town center\n    for (let i = 0; i < players.length; i++) {\n      const player = players[i]\n      const towncenter = player.spawnBuilding(player.i, player.j, 'TownCenter', true)\n      for (let i = 0; i < this.startingUnits; i++) {\n        towncenter.placeUnit('Villager')\n      }\n    }\n  }\n\n  generateResourcesAroundPlayers(playersPos) {\n    for (let i = 0; i < playersPos.length; i++) {\n      this.placeResourceGroup(playersPos[i], 'Berrybush', 5)\n      this.placeResourceGroup(playersPos[i], 'Stone', 5)\n      this.placeResourceGroup(playersPos[i], 'Gold', 5)\n      this.placeResourceGroup(playersPos[i], 'Tree', 20)\n    }\n  }\n\n  generateCells() {\n    const z = 0\n    const lines = Assets.cache.get('0').split('\\n').filter(Boolean)\n    this.size = lines.length - 1\n    for (let i = 0; i <= this.size; i++) {\n      const cols = lines[i].split('').filter(Boolean)\n      for (let j = 0; j <= this.size; j++) {\n        if (!this.grid[i]) {\n          this.grid[i] = []\n        }\n        switch (cols[j]) {\n          case '0':\n            this.grid[i][j] = new Grass({ i, j, z }, this.context)\n            break\n          case '1':\n            this.grid[i][j] = new Desert({ i, j, z }, this.context)\n            break\n          case '2':\n            this.grid[i][j] = new Grass({ i, j, z }, this.context)\n            this.resources.push(new Tree({ i, j }, this.context))\n            break\n          case '3':\n            this.grid[i][j] = new Water({ i, j, z }, this.context)\n            break\n          case '4':\n            this.grid[i][j] = new Desert({ i, j, z }, this.context)\n            this.resources.push(new Tree({ i, j }, this.context))\n            break\n          case '5':\n            this.grid[i][j] = new Jungle({ i, j, z }, this.context)\n            this.resources.push(new Tree({ i, j }, this.context))\n            break\n        }\n      }\n    }\n    for (let i = 0; i <= this.size; i++) {\n      for (let j = 0; j <= this.size; j++) {\n        this.grid[i][j].fillWaterCellsAroundCell()\n      }\n    }\n  }\n\n  generateSets() {\n    for (let i = 0; i <= this.size; i++) {\n      for (let j = 0; j <= this.size; j++) {\n        const cell = this.grid[i][j]\n        if (cell.type && cell.type !== 'water' && !cell.has && !cell.solid && !cell.border && !cell.inclined) {\n          if (Math.random() < 0.03 && i > 1 && j > 1 && i < this.size && j < this.size) {\n            const randomSpritesheet = randomRange(292, 301).toString()\n            const spritesheet = Assets.cache.get(randomSpritesheet)\n            const texture = spritesheet.textures['000_' + randomSpritesheet + '.png']\n            const floor = Sprite.from(texture)\n            floor.name = 'floor'\n            floor.updateAnchor = true\n            cell.addChild(floor)\n          }\n          if (Math.random() < this.chanceOfSets) {\n            const type = randomItem(['tree', 'rock', 'animal'])\n            switch (type) {\n              case 'tree':\n                this.resources.push(new Tree({ i, j }, this.context))\n                break\n              case 'rock':\n                const randomSpritesheet = randomRange(531, 534).toString()\n                const spritesheet = Assets.cache.get(randomSpritesheet)\n                const texture = spritesheet.textures['000_' + randomSpritesheet + '.png']\n                const rock = Sprite.from(texture)\n                rock.name = 'set'\n                rock.updateAnchor = true\n                cell.addChild(rock)\n                break\n              case 'animal':\n                new Lion({ i, j, owner: this.gaia }, this.context)\n                break\n            }\n          }\n        }\n      }\n    }\n  }\n\n  generateMapRelief() {\n    for (let i = 0; i <= this.size; i++) {\n      for (let j = 0; j <= this.size; j++) {\n        const cell = this.grid[i][j]\n        if (Math.random() < this.chanceOfRelief) {\n          const level = randomItem(this.reliefRange)\n          let canGenerate = true\n          if (\n            getPlainCellsAroundPoint(i, j, this.grid, level * 2, cell => {\n              if (cell.type === 'water' || (cell.has && cell.has.name === 'building')) {\n                canGenerate = false\n              }\n            })\n          );\n          if (canGenerate) {\n            cell.setCellLevel(level)\n          }\n        }\n      }\n    }\n    for (let i = 0; i <= this.size; i++) {\n      for (let j = 0; j <= this.size; j++) {\n        const cell = this.grid[i][j]\n        if (cell.z === 1) {\n          let toRemove = true\n          let cpt = 0\n          if (\n            getCellsAroundPoint(i, j, this.grid, 2, cell => {\n              if (cell.z > 0) {\n                cpt++\n              }\n              if (cpt >= 3) {\n                toRemove = false\n              }\n            })\n          );\n          if (toRemove) {\n            cell.setCellLevel(0)\n          }\n        }\n      }\n    }\n    // Format cell's relief\n    for (let i = 0; i <= this.size; i++) {\n      for (let j = 0; j <= this.size; j++) {\n        const cell = this.grid[i][j]\n        cell.fillReliefCellsAroundCell()\n      }\n    }\n  }\n\n  formatCellsRelief() {\n    for (let i = 0; i <= this.size; i++) {\n      for (let j = 0; j <= this.size; j++) {\n        const cell = this.grid[i][j]\n        // Side\n        if (\n          this.grid[i - 1] &&\n          this.grid[i - 1][j].z - cell.z === 1 &&\n          (!this.grid[i + 1] || this.grid[i + 1][j].z <= cell.z) &&\n          (!this.grid[i][j - 1] || this.grid[i][j - 1].z <= cell.z) &&\n          (!this.grid[i][j + 1] || this.grid[i][j + 1].z <= cell.z)\n        ) {\n          cell.setReliefBorder('014', cellDepth / 2)\n        } else if (\n          this.grid[i + 1] &&\n          this.grid[i + 1][j].z - cell.z === 1 &&\n          (!this.grid[i - 1] || this.grid[i - 1][j].z <= cell.z) &&\n          (!this.grid[i][j - 1] || this.grid[i][j - 1].z <= cell.z) &&\n          (!this.grid[i][j + 1] || this.grid[i][j + 1].z <= cell.z)\n        ) {\n          cell.setReliefBorder('015', cellDepth / 2)\n        } else if (\n          this.grid[i][j - 1] &&\n          this.grid[i][j - 1].z - cell.z === 1 &&\n          (!this.grid[i + 1] || this.grid[i + 1][j].z <= cell.z) &&\n          (!this.grid[i][j + 1] || this.grid[i][j + 1].z <= cell.z) &&\n          (!this.grid[i - 1] || this.grid[i - 1][j].z <= cell.z)\n        ) {\n          cell.setReliefBorder('016', cellDepth / 2)\n        } else if (\n          this.grid[i][j + 1] &&\n          this.grid[i][j + 1].z - cell.z === 1 &&\n          (!this.grid[i + 1] || this.grid[i + 1][j].z <= cell.z) &&\n          (!this.grid[i][j - 1] || this.grid[i][j - 1].z <= cell.z) &&\n          (!this.grid[i - 1] || this.grid[i - 1][j].z <= cell.z)\n        ) {\n          cell.setReliefBorder('013', cellDepth / 2)\n        } // Corner\n        else if (\n          this.grid[i - 1] &&\n          this.grid[i - 1][j - 1] &&\n          this.grid[i - 1][j - 1].z - cell.z === 1 &&\n          (!this.grid[i][j - 1] || this.grid[i][j - 1].z <= cell.z) &&\n          (!this.grid[i - 1] || this.grid[i - 1][j].z <= cell.z)\n        ) {\n          cell.setReliefBorder('010', cellDepth / 2)\n        } else if (\n          this.grid[i + 1] &&\n          this.grid[i + 1][j - 1] &&\n          this.grid[i + 1][j - 1].z - cell.z === 1 &&\n          (!this.grid[i][j - 1] || this.grid[i][j - 1].z <= cell.z) &&\n          (!this.grid[i + 1] || this.grid[i + 1][j].z <= cell.z)\n        ) {\n          cell.setReliefBorder('012')\n        } else if (\n          this.grid[i - 1] &&\n          this.grid[i - 1][j + 1] &&\n          this.grid[i - 1][j + 1].z - cell.z === 1 &&\n          (!this.grid[i][j + 1] || this.grid[i][j + 1].z <= cell.z) &&\n          (!this.grid[i - 1] || this.grid[i - 1][j].z <= cell.z)\n        ) {\n          cell.setReliefBorder('011')\n        } else if (\n          this.grid[i + 1] &&\n          this.grid[i + 1][j + 1] &&\n          this.grid[i + 1][j + 1].z - cell.z === 1 &&\n          (!this.grid[i][j + 1] || this.grid[i][j + 1].z <= cell.z) &&\n          (!this.grid[i + 1] || this.grid[i + 1][j].z <= cell.z)\n        ) {\n          cell.setReliefBorder('009', cellDepth / 2)\n        }\n        // Deep corner\n        else if (\n          this.grid[i][j - 1] &&\n          this.grid[i][j - 1].z - cell.z === 1 &&\n          this.grid[i - 1] &&\n          this.grid[i - 1][j].z - cell.z === 1\n        ) {\n          cell.setReliefBorder('022', cellDepth / 2)\n        } else if (\n          this.grid[i][j + 1] &&\n          this.grid[i][j + 1].z - cell.z === 1 &&\n          this.grid[i + 1] &&\n          this.grid[i + 1][j].z - cell.z === 1\n        ) {\n          cell.setReliefBorder('021', cellDepth / 2)\n        } else if (\n          this.grid[i][j - 1] &&\n          this.grid[i][j - 1].z - cell.z === 1 &&\n          this.grid[i + 1] &&\n          this.grid[i + 1][j].z - cell.z === 1\n        ) {\n          cell.setReliefBorder('023', cellDepth)\n        } else if (\n          this.grid[i][j + 1] &&\n          this.grid[i][j + 1].z - cell.z === 1 &&\n          this.grid[i - 1] &&\n          this.grid[i - 1][j].z - cell.z === 1\n        ) {\n          cell.setReliefBorder('024', cellDepth)\n        }\n      }\n    }\n  }\n\n  formatCellsWaterBorder() {\n    for (let i = 0; i <= this.size; i++) {\n      for (let j = 0; j <= this.size; j++) {\n        const cell = this.grid[i][j]\n        if (cell.type !== 'water') {\n          // Side\n          if (\n            this.grid[i - 1] &&\n            this.grid[i - 1][j].type === 'water' &&\n            (!this.grid[i + 1] || this.grid[i + 1][j].type !== 'water') &&\n            (!this.grid[i][j - 1] || this.grid[i][j - 1].type !== 'water') &&\n            (!this.grid[i][j + 1] || this.grid[i][j + 1].type !== 'water')\n          ) {\n            cell.setWaterBorder(cell, '20000', '008')\n          } else if (\n            this.grid[i + 1] &&\n            this.grid[i + 1][j].type === 'water' &&\n            (!this.grid[i - 1] || this.grid[i - 1][j].type !== 'water') &&\n            (!this.grid[i][j - 1] || this.grid[i][j - 1].type !== 'water') &&\n            (!this.grid[i][j + 1] || this.grid[i][j + 1].type !== 'water')\n          ) {\n            cell.setWaterBorder(cell, '20000', '009')\n          } else if (\n            this.grid[i][j - 1] &&\n            this.grid[i][j - 1].type === 'water' &&\n            (!this.grid[i + 1] || this.grid[i + 1][j].type !== 'water') &&\n            (!this.grid[i][j + 1] || this.grid[i][j + 1].type !== 'water') &&\n            (!this.grid[i - 1] || this.grid[i - 1][j].type !== 'water')\n          ) {\n            cell.setWaterBorder(cell, '20000', '011')\n          } else if (\n            this.grid[i][j + 1] &&\n            this.grid[i][j + 1].type === 'water' &&\n            (!this.grid[i + 1] || this.grid[i + 1][j].type !== 'water') &&\n            (!this.grid[i][j - 1] || this.grid[i][j - 1].type !== 'water') &&\n            (!this.grid[i - 1] || this.grid[i - 1][j].type !== 'water')\n          ) {\n            cell.setWaterBorder(cell, '20000', '010')\n          } // Corner\n          else if (\n            this.grid[i - 1] &&\n            this.grid[i - 1][j - 1] &&\n            this.grid[i - 1][j - 1].type === 'water' &&\n            (!this.grid[i][j - 1] || this.grid[i][j - 1].type !== 'water') &&\n            (!this.grid[i - 1] || this.grid[i - 1][j].type !== 'water')\n          ) {\n            cell.setWaterBorder(cell, '20000', '005')\n          } else if (\n            this.grid[i + 1] &&\n            this.grid[i + 1][j - 1] &&\n            this.grid[i + 1][j - 1].type === 'water' &&\n            (!this.grid[i][j - 1] || this.grid[i][j - 1].type !== 'water') &&\n            (!this.grid[i + 1] || this.grid[i + 1][j].type !== 'water')\n          ) {\n            cell.setWaterBorder(cell, '20000', '007')\n          } else if (\n            this.grid[i - 1] &&\n            this.grid[i - 1][j + 1] &&\n            this.grid[i - 1][j + 1].type === 'water' &&\n            (!this.grid[i][j + 1] || this.grid[i][j + 1].type !== 'water') &&\n            (!this.grid[i - 1] || this.grid[i - 1][j].type !== 'water')\n          ) {\n            cell.setWaterBorder(cell, '20000', '004')\n          } else if (\n            this.grid[i + 1] &&\n            this.grid[i + 1][j + 1] &&\n            this.grid[i + 1][j + 1].type === 'water' &&\n            (!this.grid[i][j + 1] || this.grid[i][j + 1].type !== 'water') &&\n            (!this.grid[i + 1] || this.grid[i + 1][j].type !== 'water')\n          ) {\n            cell.setWaterBorder(cell, '20000', '006')\n          }\n          // Deep corner\n          else if (\n            this.grid[i][j - 1] &&\n            this.grid[i][j - 1].type === 'water' &&\n            this.grid[i - 1] &&\n            this.grid[i - 1][j].type === 'water'\n          ) {\n            cell.setWaterBorder(cell, '20000', '001')\n          } else if (\n            this.grid[i][j + 1] &&\n            this.grid[i][j + 1].type === 'water' &&\n            this.grid[i + 1] &&\n            this.grid[i + 1][j].type === 'water'\n          ) {\n            cell.setWaterBorder(cell, '20000', '002')\n          } else if (\n            this.grid[i][j - 1] &&\n            this.grid[i][j - 1].type === 'water' &&\n            this.grid[i + 1] &&\n            this.grid[i + 1][j].type === 'water'\n          ) {\n            cell.setWaterBorder(cell, '20000', '003')\n          } else if (\n            this.grid[i][j + 1] &&\n            this.grid[i][j + 1].type === 'water' &&\n            this.grid[i - 1] &&\n            this.grid[i - 1][j].type === 'water'\n          ) {\n            cell.setWaterBorder(cell, '20000', '000')\n          }\n        } else {\n          if (cell.has) {\n            cell.has.destroy()\n          }\n        }\n      }\n    }\n  }\n\n  findPlayerPlaces() {\n    const results = []\n    const outBorder = 20\n    const inBorder = Math.floor(this.size / 4)\n    const zones = [\n      {\n        minX: outBorder,\n        minY: this.size / 2 + inBorder,\n        maxX: this.size / 2 - inBorder,\n        maxY: this.size - outBorder,\n      },\n      {\n        minX: outBorder,\n        minY: outBorder,\n        maxX: this.size / 2 - inBorder,\n        maxY: this.size / 2 - inBorder,\n      },\n      {\n        minX: this.size / 2 + inBorder,\n        minY: outBorder,\n        maxX: this.size - outBorder,\n        maxY: this.size / 2 - inBorder,\n      },\n      {\n        minX: this.size / 2 + inBorder,\n        minY: this.size / 2 + inBorder,\n        maxX: this.size - outBorder,\n        maxY: this.size - outBorder,\n      },\n    ]\n    for (let i = 0; i < zones.length; i++) {\n      const pos = getZoneInGridWithCondition(zones[i], this.grid, 5, cell => {\n        return !cell.border && !cell.solid && !cell.inclined\n      })\n      if (pos) {\n        results.push(pos)\n      }\n    }\n    return results\n  }\n\n  placeResourceGroup(player, instance, quantity) {\n    const { context, grid } = this\n    const resources = {\n      Tree,\n      Berrybush,\n      Stone,\n      Gold,\n    }\n    const cartesianDistance = [10, 25]\n    const pos = getPositionInGridAroundInstance(player, this.grid, cartesianDistance, 3, false)\n    if (pos) {\n      let cpt = 0\n      const max = quantity\n      for (let i = 0; i < quantity * 100; i++) {\n        getCellsAroundPoint(pos.i, pos.j, grid, i, cell => {\n          if (cpt > max) {\n            return\n          }\n          if (Math.random() < 0.5 && !cell.solid && !cell.border) {\n            cpt++\n            this.resources.push(new resources[instance]({ i: cell.i, j: cell.j }, context))\n          }\n        })\n        if (cpt > max) {\n          return\n        }\n      }\n    }\n  }\n\n  formatCellsDesert() {\n    for (let i = 0; i <= this.size; i++) {\n      for (let j = 0; j <= this.size; j++) {\n        const cell = this.grid[i][j]\n        const typeToFormat = ['grass', 'jungle']\n        if (cell.type === 'desert') {\n          if (this.grid[i - 1] && this.grid[i - 1][j] && typeToFormat.includes(this.grid[i - 1][j].type)) {\n            this.grid[i - 1][j].setDesertBorder('est')\n          }\n          if (this.grid[i + 1] && this.grid[i + 1][j] && typeToFormat.includes(this.grid[i + 1][j].type)) {\n            this.grid[i + 1][j].setDesertBorder('west')\n          }\n          if (this.grid[i][j - 1] && typeToFormat.includes(this.grid[i][j - 1].type)) {\n            this.grid[i][j - 1].setDesertBorder('south')\n          }\n          if (this.grid[i][j + 1] && typeToFormat.includes(this.grid[i][j + 1].type)) {\n            this.grid[i][j + 1].setDesertBorder('north')\n          }\n        }\n      }\n    }\n  }\n}\n","import { Assets } from 'pixi.js'\nimport {\n  getIconPath,\n  canAfford,\n  refundCost,\n  throttle,\n  canvasDrawDiamond,\n  canvasDrawRectangle,\n  canvasDrawStrokeRectangle,\n  isValidCondition,\n  getBuildingAsset,\n} from '../lib'\nimport { cellWidth, cellHeight } from '../constants'\n\nexport default class Menu {\n  constructor(context) {\n    this.context = context\n    this.topbar = document.createElement('div')\n    this.topbar.id = 'topbar'\n    this.topbar.className = 'topbar bar'\n    this.icons = {\n      wood: 'interface/50732/000_50732.png',\n      food: 'interface/50732/002_50732.png',\n      stone: 'interface/50732/001_50732.png',\n      gold: 'interface/50732/003_50732.png',\n    }\n\n    this.resources = document.createElement('div')\n    this.resources.className = 'resources'\n    ;['wood', 'food', 'stone', 'gold'].forEach(res => {\n      this.setResourceBox(res)\n    })\n\n    this.age = document.createElement('div')\n    this.age.className = 'age'\n    this.options = document.createElement('div')\n\n    this.topbar.appendChild(this.resources)\n    this.topbar.appendChild(this.age)\n    this.topbar.appendChild(this.options)\n    document.body.prepend(this.topbar)\n\n    this.bottombar = document.createElement('div')\n    this.bottombar.className = 'bottombar bar'\n    this.bottombarInfo = document.createElement('div')\n    this.bottombarInfo.className = 'bottombar-info'\n    this.bottombarMenu = document.createElement('div')\n    this.bottombarMenu.className = 'bottombar-menu'\n    const bottombarMapWrap = document.createElement('div')\n    bottombarMapWrap.className = 'bottombar-map-wrap'\n    this.bottombarMap = document.createElement('div')\n    this.bottombarMap.className = 'bottombar-map'\n    this.bottombarMap.addEventListener('pointerup', evt => {\n      const {\n        context: { controls },\n      } = this\n      if (controls.mouseBuilding || controls.mouseRectangle) {\n        return\n      }\n      const minimapFactor = this.getMinimapFactor()\n      const rect = evt.target.getBoundingClientRect()\n      const x = (evt.clientX - rect.left - rect.width / 2) * minimapFactor\n      const y = (evt.clientY - rect.top) * minimapFactor\n      controls.clearInstancesOnScreen()\n      controls.setCamera(x, y)\n    })\n    bottombarMapWrap.appendChild(this.bottombarMap)\n\n    this.terrainMinimap = document.createElement('canvas')\n    this.playersMinimap = []\n    this.resourcesMinimap = document.createElement('canvas')\n    this.cameraMinimap = document.createElement('canvas')\n    this.cameraMinimap.style.zIndex = 1\n\n    this.bottombarMap.appendChild(this.terrainMinimap)\n    this.bottombarMap.appendChild(this.resourcesMinimap)\n    this.bottombarMap.appendChild(this.cameraMinimap)\n    this.bottombar.appendChild(this.bottombarInfo)\n    this.bottombar.appendChild(this.bottombarMenu)\n    this.bottombar.appendChild(bottombarMapWrap)\n    document.body.appendChild(this.bottombar)\n\n    this.updatePlayerMiniMap = throttle(this.updatePlayerMiniMapEvt, 100)\n    this.updateResourcesMiniMap = throttle(this.updateResourcesMiniMapEvt, 100)\n    this.updateCameraMiniMap = throttle(this.updateCameraMiniMapEvt, 100)\n\n    this.miniMapAlpha = 1.284\n    this.updateTopbar()\n  }\n\n  init() {\n    this.createMiniMap()\n    this.updateTopbar()\n  }\n\n  getMinimapFactor() {\n    const {\n      context: { map },\n    } = this\n    const mapWidth = cellWidth / 2 + (map.size * cellWidth) / 2\n    return (mapWidth / 234) * 2\n  }\n\n  createMiniMap() {\n    const canvasElement = this.terrainMinimap\n    const context = canvasElement.getContext('2d')\n    const cameraContext = this.cameraMinimap.getContext('2d')\n    const resourceContext = this.resourcesMinimap.getContext('2d')\n\n    const {\n      context: { map },\n    } = this\n\n    const minimapFactor = this.getMinimapFactor() / this.miniMapAlpha\n    const mapWidth = cellWidth / 2 + (map.size * cellWidth) / 2\n    const translate = mapWidth / 2 / minimapFactor\n    context.translate(translate, 0)\n    cameraContext.translate(translate, 0)\n    resourceContext.translate(translate, 0)\n\n    for (let i = 0; i <= map.size; i++) {\n      for (let j = 0; j <= map.size; j++) {\n        const cell = map.grid[i][j]\n        const x = cell.x\n        const y = cell.y\n        canvasDrawDiamond(\n          context,\n          x / minimapFactor + translate,\n          y / minimapFactor,\n          cellWidth / minimapFactor + 1,\n          cellHeight / minimapFactor + 1,\n          cell.color\n        )\n      }\n    }\n  }\n\n  updateResourcesMiniMapEvt() {\n    const {\n      context: { map },\n    } = this\n\n    const canvas = this.resourcesMinimap\n    const context = canvas.getContext('2d')\n\n    const squareSize = 4\n    const minimapFactor = this.getMinimapFactor() / this.miniMapAlpha\n    const mapWidth = cellWidth / 2 + (map.size * cellWidth) / 2\n    const translate = mapWidth / 2 / minimapFactor\n\n    context.clearRect(-translate, 0, canvas.width, canvas.height)\n\n    map.resources.forEach(tree => {\n      if (tree.x) {\n        const finalX = tree.x / minimapFactor - squareSize / 2\n        const finalY = tree.y / minimapFactor - squareSize / 2\n        canvasDrawRectangle(context, finalX + translate, finalY, squareSize, squareSize, tree.color)\n      }\n    })\n  }\n\n  updateCameraMiniMapEvt() {\n    const {\n      context: { app, map, controls },\n    } = this\n\n    const canvas = this.cameraMinimap\n    const context = canvas.getContext('2d')\n\n    const minimapFactor = this.getMinimapFactor() / this.miniMapAlpha\n    const mapWidth = cellWidth / 2 + (map.size * cellWidth) / 2\n    const translate = mapWidth / 2 / minimapFactor\n\n    context.clearRect(-translate, 0, canvas.width, canvas.height)\n\n    const x = controls.camera.x / minimapFactor\n    const y = controls.camera.y / minimapFactor\n    const w = app.screen.width / minimapFactor\n    const h = app.screen.height / minimapFactor\n    canvasDrawStrokeRectangle(context, x + translate, y, w, h, 'white')\n  }\n\n  updatePlayerMiniMapEvt(owner) {\n    if (!owner) {\n      return\n    }\n\n    const {\n      context: { map },\n    } = this\n\n    const squareSize = 4\n    const playerMinimap = this.playersMinimap.find(({ id }) => id === `minimap-${owner.id}`)\n    const color = owner.colorHex\n\n    let canvas\n    let context\n\n    const minimapFactor = this.getMinimapFactor() / this.miniMapAlpha\n    const mapWidth = cellWidth / 2 + (map.size * cellWidth) / 2\n    const translate = mapWidth / 2 / minimapFactor\n\n    if (playerMinimap) {\n      canvas = playerMinimap.canvas\n      context = playerMinimap.context\n    } else {\n      canvas = document.createElement('canvas')\n      context = canvas.getContext('2d')\n      context.translate(translate, 0)\n      this.playersMinimap.push({\n        id: `minimap-${owner.id}`,\n        canvas,\n        context,\n      })\n      this.bottombarMap.appendChild(canvas)\n    }\n\n    context.clearRect(-translate, 0, canvas.width, canvas.height)\n\n    owner.buildings.forEach(({ x, y, size, selected }) => {\n      const finalSize = squareSize + size\n      const finalX = x / minimapFactor - finalSize / 2\n      const finalY = y / minimapFactor - finalSize / 2\n      canvasDrawRectangle(context, finalX + translate, finalY, finalSize, finalSize, selected ? 'white' : color)\n    })\n\n    owner.units.forEach(({ x, y, selected }) => {\n      const finalX = x / minimapFactor - squareSize / 2\n      const finalY = y / minimapFactor - squareSize / 2\n      canvasDrawRectangle(context, finalX + translate, finalY, squareSize, squareSize, selected ? 'white' : color)\n    })\n  }\n\n  getMessage(cost) {\n    const {\n      context: { player },\n    } = this\n    const resource = Object.keys(cost).find(prop => player[prop] < cost[prop])\n    return `You need more ${resource} !`\n  }\n\n  showMessage(message) {\n    if (document.getElementById('msg')) {\n      document.getElementById('msg').remove()\n    }\n    const box = document.createElement('div')\n    box.id = 'msg'\n    box.className = 'message'\n    Object.assign(box.style, {\n      bottom: this.bottombar.clientHeight + 5 + 'px',\n    })\n    const msg = document.createElement('span')\n    msg.textContent = message\n    msg.className = 'message-content'\n\n    box.appendChild(msg)\n    window.gamebox.appendChild(box)\n    setTimeout(() => {\n      box.remove()\n    }, 3000)\n  }\n\n  setResourceBox(name) {\n    const box = document.createElement('div')\n    box.className = 'resource'\n\n    const img = document.createElement('img')\n    img.className = 'resource-content'\n    img.src = this.icons[name]\n\n    this[name] = document.createElement('div')\n    box.appendChild(img)\n    box.appendChild(this[name])\n    this.resources.appendChild(box)\n  }\n\n  updateTopbar() {\n    const {\n      context: { player },\n    } = this\n    const t = {\n      0: 'Stone Age',\n      1: 'Tool Age',\n      2: 'Bronze Age',\n      3: 'Iron Age',\n    }\n    ;['wood', 'food', 'stone', 'gold', 'age'].forEach(prop => {\n      const val = Math.min((player && player[prop]) || 0, 99999)\n      this[prop].textContent = prop === 'age' ? t[val] : val\n    })\n  }\n\n  resetInfo() {\n    this.bottombarInfo.textContent = ''\n    this.bottombarInfo.style.background = 'transparent'\n  }\n\n  generateInfo(selection) {\n    this.resetInfo()\n    this.bottombarInfo.style.background = 'black'\n    if (typeof selection.interface.info === 'function') {\n      selection.interface.info(this.bottombarInfo)\n    }\n  }\n\n  updateInfo(target, action) {\n    const targetElement = this.bottombarInfo.querySelector(`[id=${target}]`)\n    if (!targetElement || typeof action !== 'function') {\n      return\n    }\n    return action(targetElement)\n  }\n\n  updateButtonContent(target, action) {\n    const targetElement = this.bottombarMenu.querySelector(`[id=${target}]`)\n    if (!targetElement || typeof action !== 'function') {\n      return\n    }\n    const contentElement = targetElement.querySelector('[id=content]')\n    if (!contentElement) {\n      return\n    }\n    return action(contentElement)\n  }\n\n  toggleButtonCancel(target, value) {\n    const element = this.bottombarMenu.querySelector(`[id=${target}-cancel]`)\n    if (!element) {\n      return\n    }\n    element.style.display = value ? 'block' : 'none'\n  }\n\n  setBottombar(selection = null) {\n    const {\n      context: { controls, player },\n    } = this\n\n    this.resetInfo()\n    this.bottombarMenu.textContent = ''\n    this.selection = selection\n    if (controls.mouseBuilding) {\n      controls.removeMouseBuilding()\n    }\n    if (selection && selection.interface) {\n      this.generateInfo(selection)\n      if (selection.name === 'building') {\n        if (!selection.isBuilt) {\n          setMenuRecurs(selection, this.bottombarMenu, [])\n        } else if (selection.technology) {\n          setMenuRecurs(selection, this.bottombarMenu, [\n            {\n              icon: 'interface/50721/003_50721.png',\n              id: `${type}-cancel`,\n              onClick: selection => {\n                selection.cancelTechnology()\n              },\n            },\n          ])\n        } else {\n          setMenuRecurs(selection, this.bottombarMenu, selection.interface.menu || [])\n        }\n      } else {\n        setMenuRecurs(selection, this.bottombarMenu, selection.interface.menu || [])\n      }\n    }\n    function setMenuRecurs(selection, element, menu, parent) {\n      menu\n        .filter(btn => !btn.hide || !btn.hide())\n        .forEach((btn, index) => {\n          const box = document.createElement('div')\n          box.className = 'bottombar-menu-box'\n          box.id = btn.id || `btn-${index}`\n          if (typeof btn.onCreate === 'function') {\n            btn.onCreate(selection, box)\n          } else {\n            const img = document.createElement('img')\n            img.src = typeof btn.icon === 'function' ? btn.icon() : btn.icon\n            img.className = 'img'\n            box.appendChild(img)\n          }\n\n          if (btn.children) {\n            box.addEventListener('pointerup', () => {\n              element.textContent = ''\n              controls.removeMouseBuilding()\n              setMenuRecurs(selection, element, btn.children, menu)\n            })\n          } else if (typeof btn.onClick === 'function') {\n            box.addEventListener('pointerup', evt => btn.onClick(selection, evt))\n          }\n          element.appendChild(box)\n        })\n      if (parent || selection.selected) {\n        const back = document.createElement('div')\n        back.className = 'bottombar-menu-box'\n        const img = document.createElement('img')\n        img.className = 'img'\n        back.id = 'interfaceBackBtn'\n        img.src = 'interface/50721/010_50721.png'\n        if (parent) {\n          back.addEventListener('pointerup', () => {\n            element.textContent = ''\n            controls.removeMouseBuilding()\n            setMenuRecurs(selection, element, parent)\n          })\n        } else {\n          back.addEventListener('pointerup', () => {\n            controls.removeMouseBuilding()\n            player.unselectAll()\n          })\n        }\n        back.appendChild(img)\n        element.appendChild(back)\n      }\n    }\n  }\n\n  getUnitButton(type) {\n    const {\n      context: { player },\n    } = this\n    const unit = Assets.cache.get('config').units[type]\n    return {\n      icon: getIconPath(unit.icon),\n      id: type,\n      onCreate: (selection, element) => {\n        const div = document.createElement('div')\n        div.className = 'bottombar-menu-column'\n        const cancel = document.createElement('img')\n        cancel.id = `${type}-cancel`\n        cancel.className = 'img'\n        cancel.src = 'interface/50721/003_50721.png'\n        if (!selection.queue.filter(q => q === type).length) {\n          cancel.style.display = 'none'\n        }\n        cancel.addEventListener('pointerup', () => {\n          for (let i = 0; i < selection.queue.length; i++) {\n            if (selection.queue[i] === type) {\n              refundCost(player, unit.cost)\n            }\n          }\n          this.updateTopbar()\n          selection.queue = selection.queue.filter(q => q !== type)\n          if (selection.queue[0] !== type) {\n            this.updateButtonContent(type, element => (element.textContent = ''))\n            this.toggleButtonCancel(type, false)\n          }\n        })\n        const img = document.createElement('img')\n        img.src = getIconPath(unit.icon)\n        img.className = 'img'\n        img.addEventListener('pointerup', () => {\n          if (canAfford(player, unit.cost)) {\n            if (player.population >= player.populationMax) {\n              this.showMessage('You need to build more houses')\n            }\n            this.toggleButtonCancel(type, true)\n            selection.buyUnit(type)\n          } else {\n            this.showMessage(this.getMessage(unit.cost))\n          }\n        })\n        const queue = selection.queue.filter(queue => queue === type).length\n        const counter = document.createElement('div')\n        counter.id = 'content'\n        counter.textContent = queue || ''\n        counter.style.padding = '1px'\n        counter.style.position = 'absolute'\n        div.appendChild(img)\n        div.appendChild(cancel)\n        element.appendChild(div)\n        element.appendChild(counter)\n      },\n    }\n  }\n\n  getBuildingButton(type) {\n    const {\n      context: { controls, player },\n    } = this\n    const config = Assets.cache.get('config').buildings[type]\n    return {\n      id: type,\n      icon: () => {\n        const assets = getBuildingAsset(type, player, Assets)\n        return getIconPath(assets.icon)\n      },\n      hide: () => (config.conditions || []).some(condition => !isValidCondition(condition, player)),\n      onClick: () => {\n        const assets = getBuildingAsset(type, player, Assets)\n        controls.removeMouseBuilding()\n        if (canAfford(player, config.cost)) {\n          controls.setMouseBuilding({ ...config, ...assets, type })\n        } else {\n          this.showMessage(this.getMessage(config.cost))\n        }\n      },\n    }\n  }\n\n  getTechnologyButton(type) {\n    const {\n      context: { controls, player },\n    } = this\n    const config = Assets.cache.get('technology')[type]\n    !config.conditions.map(condition => {\n      isValidCondition(condition, player)\n    }).length\n    return {\n      icon: getIconPath(config.icon),\n      id: type,\n      hide: () => (config.conditions || []).some(condition => !isValidCondition(condition, player)),\n      onClick: selection => {\n        controls.removeMouseBuilding()\n        if (canAfford(player, config.cost)) {\n          selection.buyTechnology(config)\n        } else {\n          this.showMessage(this.getMessage(config.cost))\n        }\n      },\n    }\n  }\n}\n","import { Container, Graphics, AnimatedSprite, Assets, Sprite } from 'pixi.js'\nimport {\n  isometricToCartesian,\n  pointIsBetweenTwoPoint,\n  pointsDistance,\n  pointInRectangle,\n  getPlainCellsAroundPoint,\n  changeSpriteColor,\n  getTexture,\n} from '../lib'\nimport { colorWhite, colorRed, cellWidth, cellHeight, maxSelectUnits, accelerator } from '../constants'\n\nexport default class Controls extends Container {\n  constructor(context) {\n    super()\n\n    this.context = context\n\n    const { map } = context\n\n    this.sortableChildren = true\n\n    this.mouse = {\n      x: 0,\n      y: 0,\n      prevent: false,\n    }\n\n    this.camera\n    this.setCamera(Math.floor(map.size / 2), Math.floor(map.size / 2))\n\n    this.keysPressed = {}\n    this.interactive = false\n    this.allowMove = false\n    this.allowClick = false\n\n    this.minimapRectangle = new Graphics()\n    this.addChild(this.minimapRectangle)\n\n    document.addEventListener('keydown', evt => this.onKeyDown(evt))\n    document.addEventListener('keyup', evt => this.onKeyUp(evt))\n    document.addEventListener('pointermove', evt => this.onPointerMove(evt))\n    document.addEventListener('pointerdown', evt => this.onPointerDown(evt))\n    document.addEventListener('pointerup', evt => this.onPointerUp(evt))\n  }\n\n  onKeyDown(evt) {\n    if (evt.key === 'Delete') {\n      const {\n        context: { player },\n      } = this\n      for (let i = 0; i < player.selectedUnits.length; i++) {\n        player.selectedUnits[i].die()\n      }\n      if (player.selectedBuilding) {\n        player.selectedBuilding.die()\n      }\n      return\n    }\n\n    if (!evt.repeat) {\n      this.keysPressed[evt.key] = true\n    }\n    let pressed = false\n    if (this.keysPressed['ArrowLeft']) {\n      this.moveCamera('left', null, pressed)\n      pressed = true\n    }\n    if (this.keysPressed['ArrowUp']) {\n      this.moveCamera('up', null, pressed)\n      pressed = true\n    }\n    if (this.keysPressed['ArrowDown']) {\n      this.moveCamera('down', null, pressed)\n      pressed = true\n    }\n    if (this.keysPressed['ArrowRight']) {\n      this.moveCamera('right', null, pressed)\n      pressed = true\n    }\n  }\n\n  onKeyUp(evt) {\n    if (!evt.repeat) {\n      delete this.keysPressed[evt.key]\n    }\n  }\n\n  onPointerMove(evt) {\n    const {\n      context: { map, player, app },\n    } = this\n\n    this.mouse.x = evt.pageX\n    this.mouse.y = evt.pageY\n\n    // Mouse building to place construction\n    if (this.mouseBuilding) {\n      const pos = isometricToCartesian(\n        this.mouse.x - map.x,\n        this.mouse.y >= app.screen.height ? app.screen.height - map.y : this.mouse.y - map.y\n      )\n      const i = Math.min(Math.max(pos[0], 0), map.size)\n      const j = Math.min(Math.max(pos[1], 0), map.size)\n      if (map.grid[i] && map.grid[i][j]) {\n        const cell = map.grid[i][j]\n        this.mouseBuilding.x = cell.x - this.camera.x\n        this.mouseBuilding.y = cell.y - this.camera.y\n        let isFree = true\n        getPlainCellsAroundPoint(i, j, map.grid, 1, cell => {\n          if (cell.solid || cell.inclined || cell.border || !cell.visible) {\n            isFree = false\n            return\n          }\n        })\n        // Color image of mouse building depend on buildable or not\n        const sprite = this.mouseBuilding.getChildByName('sprite')\n        const color = this.mouseBuilding.getChildByName('color')\n        if (isFree) {\n          sprite.tint = colorWhite\n          if (color) {\n            color.tint = colorWhite\n          }\n        } else {\n          sprite.tint = colorRed\n          if (color) {\n            color.tint = colorRed\n          }\n        }\n        this.mouseBuilding.isFree = isFree\n      }\n      return\n    }\n\n    // Create and draw mouse selection\n    if (\n      !this.mouseRectangle &&\n      this.pointerStart &&\n      pointsDistance(this.mouse.x, this.mouse.y, this.pointerStart.x, this.pointerStart.y) > 5\n    ) {\n      this.mouseRectangle = {\n        x: this.pointerStart.x,\n        y: this.pointerStart.y,\n        width: 0,\n        height: 0,\n        graph: new Graphics(),\n      }\n      this.addChild(this.mouseRectangle.graph)\n    }\n\n    if (this.mouseRectangle && !this.mouseBuilding) {\n      if (player.selectedUnits.length || player.selectedBuilding) {\n        player.unselectAll()\n      }\n      this.mouseRectangle.graph.clear()\n      this.mouseRectangle.width = Math.round(this.mouse.x - this.mouseRectangle.x)\n      this.mouseRectangle.height =\n        this.mouse.y >= app.screen.height\n          ? Math.round(app.screen.height - 2 - this.mouseRectangle.y)\n          : Math.round(this.mouse.y - this.mouseRectangle.y)\n      this.mouseRectangle.graph.lineStyle(1, colorWhite, 1)\n      this.mouseRectangle.graph.drawRect(\n        this.mouseRectangle.x,\n        this.mouseRectangle.y,\n        this.mouseRectangle.width,\n        this.mouseRectangle.height\n      )\n    }\n  }\n\n  onPointerDown() {\n    if (!this.isMouseInApp()) {\n      return\n    }\n    this.pointerStart = {\n      x: this.mouse.x,\n      y: this.mouse.y,\n    }\n  }\n\n  onPointerUp() {\n    const {\n      context: { menu, map, player },\n    } = this\n    this.pointerStart = null\n    if (!this.isMouseInApp() || this.mouse.prevent) {\n      this.mouse.prevent = false\n      return\n    }\n    // Select units on mouse rectangle\n    if (this.mouseRectangle) {\n      let selectVillager\n      let countSelect = 0\n      player.unselectAll()\n      // Select units inside the rectangle\n      for (let i = 0; i < player.units.length; i++) {\n        const unit = player.units[i]\n        if (\n          player.selectedUnits.length < maxSelectUnits &&\n          pointInRectangle(\n            unit.x - this.camera.x,\n            unit.y - this.camera.y,\n            this.mouseRectangle.x,\n            this.mouseRectangle.y,\n            this.mouseRectangle.width,\n            this.mouseRectangle.height,\n            true\n          )\n        ) {\n          unit.select()\n          countSelect++\n          if (unit.type === 'Villager') {\n            selectVillager = unit\n          }\n          player.selectedUnits.push(unit)\n        }\n      }\n      // Set our bottombar\n      if (countSelect) {\n        if (selectVillager) {\n          player.selectedUnit = selectVillager\n          menu.setBottombar(selectVillager)\n        } else {\n          // TODO SELECT UNITS THAT HAVE THE MOST FREQUENCY\n          player.selectedUnit = player.selectedUnits[0]\n          menu.setBottombar(player.selectedUnits[0])\n        }\n      }\n      // Reset mouse selection\n      if (this.mouseRectangle) {\n        this.mouseRectangle.graph.destroy(true)\n        this.mouseRectangle = null\n      }\n      return\n    }\n    if (this.isMouseInApp()) {\n      const pos = isometricToCartesian(this.mouse.x - map.x, this.mouse.y - map.y)\n      const i = Math.min(Math.max(pos[0], 0), map.size)\n      const j = Math.min(Math.max(pos[1], 0), map.size)\n      if (map.grid[i] && map.grid[i][j]) {\n        const cell = map.grid[i][j]\n        if ((cell.solid || cell.has) && cell.visible) {\n          return\n        }\n        if (this.mouseBuilding) {\n          if (cell.inclined || cell.border) {\n            return\n          }\n          if (this.mouseBuilding.isFree) {\n            if (player.buyBuilding(i, j, this.mouseBuilding.type)) {\n              this.removeMouseBuilding()\n              if (menu.selection) {\n                menu.setBottombar(menu.selection)\n              }\n            }\n          }\n        } else if (player.selectedUnits.length) {\n          // Pointer animation\n          const pointerSheet = Assets.cache.get('50405')\n          const pointer = new AnimatedSprite(pointerSheet.animations['animation'])\n          pointer.animationSpeed = 0.2 * accelerator\n          pointer.loop = false\n          pointer.anchor.set(0.5, 0.5)\n          pointer.x = this.mouse.x\n          pointer.y = this.mouse.y\n          pointer.allowMove = false\n          pointer.allowClick = false\n          pointer.interactive = false\n          pointer.roundPixels = true\n          pointer.onComplete = () => {\n            pointer.destroy()\n          }\n          pointer.play()\n          this.addChild(pointer)\n          // Send units\n          const minX = Math.min(...player.selectedUnits.map(unit => unit.i))\n          const minY = Math.min(...player.selectedUnits.map(unit => unit.j))\n          const maxX = Math.max(...player.selectedUnits.map(unit => unit.i))\n          const maxY = Math.max(...player.selectedUnits.map(unit => unit.j))\n          const centerX = minX + Math.round((maxX - minX) / 2)\n          const centerY = minY + Math.round((maxY - minY) / 2)\n          for (let u = 0; u < player.selectedUnits.length; u++) {\n            const unit = player.selectedUnits[u]\n            const distCenterX = unit.i - centerX\n            const distCenterY = unit.j - centerY\n            const finalX = cell.i + 1 + distCenterX\n            const finalY = cell.j + 1 + distCenterY\n            if (map.grid[finalX] && map.grid[finalX][finalY]) {\n              player.selectedUnits[u].sendTo(map.grid[finalX][finalY])\n            } else {\n              player.selectedUnits[u].sendTo(cell)\n            }\n          }\n        }\n      }\n    }\n  }\n\n  isMouseInApp() {\n    const {\n      context: { app, menu },\n    } = this\n    return this.mouse.y > menu.topbar.clientHeight && this.mouse.y < app.screen.height - menu.bottombar.clientHeight\n  }\n\n  removeMouseBuilding() {\n    if (!this.mouseBuilding) {\n      return\n    }\n    this.removeChild(this.mouseBuilding)\n    this.mouseBuilding.destroy()\n    this.mouseBuilding = null\n  }\n\n  setMouseBuilding(building) {\n    const {\n      context: { player },\n    } = this\n    this.mouseBuilding = new Container()\n    const sprite = Sprite.from(getTexture(building.images.final, Assets))\n    sprite.name = 'sprite'\n    this.mouseBuilding.addChild(sprite)\n    this.mouseBuilding.type = building.type\n    this.mouseBuilding.size = building.size\n    this.mouseBuilding.x = this.mouse.x\n    this.mouseBuilding.y = this.mouse.y\n    this.mouseBuilding.name = 'mouseBuilding'\n    if (building.images.color) {\n      const color = Sprite.from(getTexture(building.images.color, Assets))\n      color.name = 'color'\n      changeSpriteColor(color, player.color)\n      this.mouseBuilding.addChild(color)\n    } else {\n      changeSpriteColor(sprite, player.color)\n    }\n    this.addChild(this.mouseBuilding)\n  }\n\n  moveCamera(dir, moveSpeed, isSpeedDiveded) {\n    /**\n     * \t/A\\\n     * /   \\\n     *B     D\n     * \\   /\n     *  \\C/\n     */\n\n    const {\n      context: { map, app, menu },\n    } = this\n\n    const dividedSpeed = isSpeedDiveded ? 2 : 1\n    const speed = (moveSpeed || 20) / dividedSpeed\n    const A = { x: cellWidth / 2 - this.camera.x, y: -this.camera.y }\n    const B = {\n      x: cellWidth / 2 - (map.size * cellWidth) / 2 - this.camera.x,\n      y: (map.size * cellHeight) / 2 - this.camera.y,\n    }\n    const D = {\n      x: cellWidth / 2 + (map.size * cellWidth) / 2 - this.camera.x,\n      y: (map.size * cellHeight) / 2 - this.camera.y,\n    }\n    const C = { x: cellWidth / 2 - this.camera.x, y: map.size * cellHeight - this.camera.y }\n    const cameraCenter = {\n      x: this.camera.x + app.screen.width / 2 - this.camera.x,\n      y: this.camera.y + app.screen.height / 2 - this.camera.y,\n    }\n    this.clearInstancesOnScreen()\n\n    if (dir === 'left') {\n      if (cameraCenter.x - 100 > B.x && pointIsBetweenTwoPoint(A, B, cameraCenter, 50)) {\n        this.camera.y += speed / (cellWidth / cellHeight)\n        this.camera.x -= speed\n      } else if (cameraCenter.x - 100 > B.x && pointIsBetweenTwoPoint(B, C, cameraCenter, 50)) {\n        this.camera.y -= speed / (cellWidth / cellHeight)\n        this.camera.x -= speed\n      } else if (cameraCenter.x - 100 > B.x) {\n        this.camera.x -= speed\n      }\n    } else if (dir === 'right') {\n      if (cameraCenter.x + 100 < D.x && pointIsBetweenTwoPoint(A, D, cameraCenter, 50)) {\n        this.camera.y += speed / (cellWidth / cellHeight)\n        this.camera.x += speed\n      } else if (cameraCenter.x + 100 < D.x && pointIsBetweenTwoPoint(D, C, cameraCenter, 50)) {\n        this.camera.y -= speed / (cellWidth / cellHeight)\n        this.camera.x += speed\n      } else if (cameraCenter.x + 100 < D.x) {\n        this.camera.x += speed\n      }\n    }\n    if (dir === 'up') {\n      if (cameraCenter.y - 50 > A.y && pointIsBetweenTwoPoint(A, B, cameraCenter, 50)) {\n        this.camera.y -= speed / (cellWidth / cellHeight)\n        this.camera.x += speed\n      } else if (cameraCenter.y - 50 > A.y && pointIsBetweenTwoPoint(A, D, cameraCenter, 50)) {\n        this.camera.y -= speed / (cellWidth / cellHeight)\n        this.camera.x -= speed\n      } else if (cameraCenter.y - 50 > A.y) {\n        this.camera.y -= speed\n      }\n    } else if (dir === 'down') {\n      if (cameraCenter.y + 50 < C.y && pointIsBetweenTwoPoint(D, C, cameraCenter, 50)) {\n        this.camera.y += speed / (cellWidth / cellHeight)\n        this.camera.x -= speed\n      } else if (cameraCenter.y + 50 < C.y && pointIsBetweenTwoPoint(B, C, cameraCenter, 50)) {\n        this.camera.y += speed / (cellWidth / cellHeight)\n        this.camera.x += speed\n      } else if (cameraCenter.y + 100 < C.y) {\n        this.camera.y += speed\n      }\n    }\n\n    menu.updateCameraMiniMap()\n    map.setCoordinate(-this.camera.x, -this.camera.y)\n    this.displayInstancesOnScreen()\n  }\n\n  /*moveCameraWithMouse() {\n    const { mouse } = this\n    const coef = 1.2\n    const moveDist = 10\n    if (mouse.x >= 0 && mouse.x <= 0 + moveDist && mouse.y >= 0 && mouse.y <= window.innerHeight) {\n      this.moveCamera('left', (0 + moveDist - mouse.x) * coef)\n    } else if (\n      mouse.x > window.innerWidth - moveDist &&\n      mouse.x <= window.innerWidth &&\n      mouse.y >= 0 &&\n      mouse.y <= window.innerHeight\n    ) {\n      this.moveCamera('right', (mouse.x - (window.innerWidth - moveDist)) * coef)\n    }\n    if (mouse.x >= 0 && mouse.x <= window.innerWidth && mouse.y >= 0 && mouse.y <= 0 + moveDist) {\n      this.moveCamera('up', (0 + moveDist - mouse.y) * coef)\n    } else if (\n      mouse.x >= 0 &&\n      mouse.x <= window.innerWidth &&\n      mouse.y > window.innerHeight - moveDist &&\n      mouse.y <= window.innerHeight\n    ) {\n      this.moveCamera('down', (mouse.y - (window.innerHeight - moveDist)) * coef)\n    }\n  }*/\n\n  instanceInCamera(instance) {\n    const {\n      context: { app },\n    } = this\n    return pointInRectangle(instance.x, instance.y, this.camera.x, this.camera.y, app.screen.width, app.screen.height)\n  }\n\n  getCellOnCamera(callback) {\n    const {\n      context: { map, app },\n    } = this\n    const cameraFloor = {\n      x: Math.floor(this.camera.x),\n      y: Math.floor(this.camera.y),\n    }\n    for (let i = cameraFloor.x; i <= cameraFloor.x + app.screen.width; i += cellWidth / 2) {\n      for (let j = cameraFloor.y; j <= cameraFloor.y + app.screen.height - 120; j += cellHeight / 2) {\n        const coordinate = isometricToCartesian(i, j)\n        const x = Math.min(Math.max(coordinate[0], 0), map.size)\n        const y = Math.min(Math.max(coordinate[1], 0), map.size)\n        if (map.grid[x] && map.grid[x][y]) {\n          callback(map.grid[x][y])\n        }\n      }\n    }\n  }\n\n  clearInstancesOnScreen() {\n    this.getCellOnCamera(cell => {\n      cell.visible = false\n      if (cell.has) {\n        cell.has.visible = false\n      }\n    })\n  }\n\n  displayInstancesOnScreen() {\n    this.getCellOnCamera(cell => cell.updateVisible())\n  }\n\n  init() {\n    const {\n      context: { player },\n    } = this\n    // Set camera to player building else unit\n    if (player.buildings.length) {\n      this.setCamera(player.buildings[0].x, player.buildings[0].y)\n    } else if (player.units.length) {\n      this.setCamera(player.units[0].x, player.units[0].y)\n    }\n  }\n\n  setCamera(x, y) {\n    const {\n      context: { map, app, menu },\n    } = this\n\n    this.camera = {\n      x: x - app.screen.width / 2,\n      y: y - app.screen.height / 2,\n    }\n\n    if (menu) {\n      menu.updateCameraMiniMap()\n    }\n    map.setCoordinate(-this.camera.x, -this.camera.y)\n    this.displayInstancesOnScreen()\n  }\n}\n","import { Container } from 'pixi.js'\nimport Map from '../classes/map'\nimport Menu from '../classes/menu'\nimport Controls from '../classes/controls'\n\n/**\n * Main Display Object\n * @exports Game\n * @extends Container\n */\n\nexport default class Game extends Container {\n  constructor(app) {\n    super()\n\n    this.app = app\n    this.start()\n  }\n\n  start() {\n    const context = {\n      app: this.app,\n      menu: null,\n      player: null,\n      players: [],\n      map: null,\n      controls: null,\n    }\n\n    context.map = new Map(context)\n    context.controls = new Controls(context)\n    context.menu = new Menu(context)\n\n    context.map.generateMap()\n\n    context.players = context.map.generatePlayers()\n    context.player = context.players[0]\n    context.menu.init()\n    context.map.placePlayers()\n    context.map.stylishMap()\n    context.controls.init()\n\n    this.addChild(context.map)\n    this.addChild(context.controls)\n\n    window.addEventListener('resize', () => {\n      if (context.controls) {\n        context.controls.clearInstancesOnScreen()\n        context.controls.displayInstancesOnScreen()\n      }\n      if (context.menu) {\n        context.menu.updateCameraMiniMap()\n      }\n    })\n  }\n}\n","import { Assets, Container } from 'pixi.js'\n\n/**\n * Loading Screen\n *\n * @exports LoaderScreen\n */\n\nexport default class LoaderScreen extends Container {\n  constructor() {\n    super()\n    this.app\n\n    this.loadingDiv = document.createElement('div')\n    this.loadingDiv.className = 'loading'\n    document.body.prepend(this.loadingDiv)\n    this.done = () => {}\n  }\n\n  async start() {\n    Assets.addBundle('config', {\n      config: 'config.json',\n      greek: 'greek.json',\n      technology: 'technology.json',\n    })\n\n    Assets.addBundle('interface', {\n      50405: 'interface/50405/texture.json',\n    })\n\n    Assets.addBundle('seeds', {\n      0: 'seeds/0.txt',\n    })\n\n    Assets.addBundle('terrain', {\n      15000: 'terrain/15000/texture.json',\n      15001: 'terrain/15001/texture.json',\n      15002: 'terrain/15002/texture.json',\n    })\n\n    Assets.addBundle('border', {\n      20000: 'border/20000/texture.json',\n      20002: 'border/20002/texture.json',\n    })\n\n    const graphics = [\n      '61',\n      '62',\n      '63',\n      '64',\n      '65',\n      '66',\n      '67',\n      '68',\n      '69',\n      '70',\n      '71',\n      '78',\n      '79',\n      '80',\n      '81',\n      '82',\n      '83',\n      '84',\n      '85',\n      '86',\n      '87',\n      '88',\n      '89',\n      '90',\n      '91',\n      '92',\n      '94',\n      '153',\n      '154',\n      '155',\n      '203',\n      '212',\n      '215',\n      '217',\n      '218',\n      '222',\n      '224',\n      '227',\n      '230',\n      '231',\n      '232',\n      '233',\n      '234',\n      '235',\n      '236',\n      '237',\n      '239',\n      '240',\n      '254',\n      '256',\n      '258',\n      '261',\n      '272',\n      '273',\n      '274',\n      '280',\n      '281',\n      '292',\n      '293',\n      '294',\n      '295',\n      '296',\n      '297',\n      '298',\n      '299',\n      '300',\n      '301',\n      '308',\n      '314',\n      '315',\n      '321',\n      '326',\n      '328',\n      '330',\n      '331',\n      '332',\n      '339',\n      '343',\n      '347',\n      '367',\n      '373',\n      '374',\n      '380',\n      '386',\n      '388',\n      '389',\n      '390',\n      '391',\n      '392',\n      '397',\n      '399',\n      '400',\n      '403',\n      '413',\n      '418',\n      '419',\n      '425',\n      '428',\n      '430',\n      '431',\n      '432',\n      '433',\n      '435',\n      '440',\n      '441',\n      '445',\n      '447',\n      '450',\n      '452',\n      '463',\n      '464',\n      '465',\n      '466',\n      '478',\n      '479',\n      '480',\n      '481',\n      '489',\n      '492',\n      '493',\n      '494',\n      '497',\n      '500',\n      '503',\n      '509',\n      '527',\n      '531',\n      '532',\n      '533',\n      '534',\n      '609',\n      '622',\n      '623',\n      '624',\n      '625',\n      '626',\n      '628',\n      '630',\n      '632',\n      '633',\n      '636',\n      '651',\n      '652',\n      '657',\n      '658',\n      '664',\n      '667',\n      '670',\n      '672',\n      '673',\n      '676',\n      '680',\n      '682',\n      '683',\n      '688',\n    ]\n\n    Assets.addBundle(\n      'graphics',\n      graphics.reduce(\n        (acc, g) => ({\n          ...acc,\n          [g]: `graphics/${g}/texture.json`,\n        }),\n        {}\n      )\n    )\n\n    this.loadingDiv.innerHTML = 'Loading config..'\n    await Assets.loadBundle('config')\n    this.loadingDiv.innerHTML = 'Loading interface..'\n    await Assets.loadBundle('interface')\n    this.loadingDiv.innerHTML = 'Loading seeds..'\n    await Assets.loadBundle('seeds')\n    this.loadingDiv.innerHTML = 'Loading terrain..'\n    await Assets.loadBundle('terrain')\n    this.loadingDiv.innerHTML = 'Loading border..'\n    await Assets.loadBundle('border')\n    this.loadingDiv.innerHTML = 'Loading graphics..'\n    await Assets.loadBundle('graphics')\n\n    this.onComplete()\n  }\n\n  onComplete() {\n    this.loadingDiv.remove()\n    this.done()\n  }\n\n  onLoaded(callback = () => {}) {\n    this.done = callback\n  }\n}\n","import { Application } from 'pixi.js'\nimport './index.html'\nimport \"./styles.css\"\nimport Game from './screens/Game'\nimport Loader from './screens/Loader'\n\nconst app = new Application({\n  antialias: false,\n  width: window.innerWidth,\n  height: window.innerHeight,\n  resizeTo: window,\n  powerPreference: 'high-performance',\n})\n\nwindow.document.removeEventListener('mousemove', app.renderer.plugins.interaction.onPointerMove, true)\nwindow.document.removeEventListener('pointermove', app.renderer.plugins.interaction.onPointerMove, true)\n\nconst loader = new Loader() // Basic Loading screen\nconst gamebox = document.getElementById('game')\ngamebox.addEventListener('contextmenu', evt => {\n  evt.preventDefault()\n})\n\nwindow.app = app\nwindow.gamebox = gamebox\n// append renderer to DOM\ngamebox.appendChild(app.view)\n\n// Add loader to App Display Object and start loading assets\napp.stage.addChild(loader)\nloader.start()\n\n// remove loader then show example once asset loading is complete\nloader.onLoaded(() => {\n  const game = new Game(app)\n  app.stage.removeChild(loader)\n  app.stage.addChild(game)\n})\n"],"names":["___CSS_LOADER_EXPORT___","push","module","id","exports","cssWithMappingToString","list","toString","this","map","item","content","needLayer","concat","length","join","i","modules","media","dedupe","supports","layer","undefined","alreadyImportedModules","k","_k","cssMapping","btoa","base64","unescape","encodeURIComponent","JSON","stringify","data","sourceMapping","earcut","holeIndices","dim","minX","minY","maxX","maxY","x","y","invSize","hasHoles","outerLen","outerNode","linkedList","triangles","next","prev","len","queue","steiner","getLeftmost","sort","compareX","eliminateHole","eliminateHoles","Math","max","earcutLinked","start","end","clockwise","last","signedArea","insertNode","equals","removeNode","filterPoints","again","p","area","ear","pass","z","zOrder","prevZ","nextZ","q","e","tail","numMerges","pSize","qSize","inSize","sortLinked","indexCurve","stop","isEarHashed","isEar","cureLocalIntersections","splitEarcut","a","b","c","ax","bx","cx","ay","by","cy","x0","y0","x1","y1","pointInTriangle","minZ","maxZ","n","intersects","locallyInside","isValidDiagonal","splitPolygon","hole","bridge","m","hx","hy","qx","tan","mx","my","tanMin","Infinity","abs","sectorContainsSector","findHoleBridge","bridgeReverse","leftmost","px","py","intersectsPolygon","inside","middleInside","r","p1","p2","q1","q2","o1","sign","o2","o3","o4","onSegment","min","num","a2","Node","b2","an","bp","sum","j","deviation","polygonArea","trianglesArea","flatten","result","vertices","holes","dimensions","holeIndex","d","has","Object","prototype","hasOwnProperty","prefix","Events","EE","fn","context","once","addListener","emitter","event","TypeError","listener","evt","_events","_eventsCount","clearEvent","EventEmitter","create","__proto__","eventNames","events","name","names","call","slice","getOwnPropertySymbols","listeners","handlers","l","ee","Array","listenerCount","emit","a1","a3","a4","a5","args","arguments","removeListener","apply","on","removeAllListeners","off","prefixed","root","nodeType","freeGlobal","g","global","window","self","punycode","maxInt","base","tMin","tMax","skew","damp","initialBias","initialN","delimiter","regexPunycode","regexNonASCII","regexSeparators","errors","baseMinusTMin","floor","stringFromCharCode","String","fromCharCode","error","type","RangeError","array","mapDomain","string","parts","split","replace","ucs2decode","value","extra","output","counter","charCodeAt","ucs2encode","digitToBasic","digit","flag","adapt","delta","numPoints","firstTime","decode","input","out","basic","index","oldi","w","t","baseMinusT","codePoint","inputLength","bias","lastIndexOf","splice","encode","handledCPCount","basicLength","currentValue","handledCPCountPlusOne","qMinusT","test","toLowerCase","obj","prop","qs","sep","eq","options","regexp","maxKeys","kstr","vstr","v","idx","indexOf","substr","decodeURIComponent","isArray","stringifyPrimitive","isFinite","keys","ks","parse","stylesInDOM","getIndexByIdentifier","identifier","modulesToDom","idCountMap","identifiers","count","indexByIdentifier","css","sourceMap","references","updater","addElementStyle","byIndex","api","domAPI","update","newObj","remove","lastIdentifiers","newList","newLastIdentifiers","_i","_index","memo","insert","style","target","styleTarget","document","querySelector","HTMLIFrameElement","contentDocument","head","getTarget","Error","appendChild","element","createElement","setAttributes","attributes","styleElement","nonce","setAttribute","insertStyleElement","styleTagTransform","parentNode","removeChild","removeStyleElement","styleSheet","cssText","firstChild","createTextNode","util","Url","protocol","slashes","auth","host","port","hostname","hash","search","query","pathname","path","href","urlParse","source","relative","resolve","isString","format","protocolPattern","portPattern","simplePathPattern","unwise","autoEscape","nonHostChars","hostEndingChars","hostnamePartPattern","hostnamePartStart","unsafeProtocol","hostlessProtocol","slashedProtocol","querystring","url","parseQueryString","slashesDenoteHost","isObject","u","queryIndex","splitter","uSplit","rest","trim","simplePath","exec","proto","lowerProto","match","atSign","hostEnd","hec","parseHost","ipv6Hostname","hostparts","part","newpart","validParts","notHost","bit","unshift","toASCII","h","ae","esc","escape","qm","s","charAt","resolveObject","rel","tkeys","tk","tkey","rkeys","rk","rkey","relPath","shift","isSourceAbs","isRelAbs","mustEndAbs","removeAllDots","srcPath","psychotic","pop","isNullOrUndefined","authInHost","isNull","hasTrailingSlash","up","isAbsolute","arg","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","loaded","__webpack_modules__","getter","__esModule","definition","key","o","defineProperty","enumerable","get","globalThis","Function","Symbol","toStringTag","nmd","paths","children","scriptUrl","importScripts","location","currentScript","src","scripts","getElementsByTagName","nc","ENV","ENV2","BUFFER_BITS","BUFFER_BITS2","BLEND_MODES2","DRAW_MODES","DRAW_MODES2","FORMATS","FORMATS2","TARGETS","TARGETS2","TYPES","TYPES2","SAMPLER_TYPES","SAMPLER_TYPES2","SCALE_MODES","SCALE_MODES2","WRAP_MODES2","MIPMAP_MODES","MIPMAP_MODES2","ALPHA_MODES","ALPHA_MODES2","CLEAR_MODES","CLEAR_MODES2","GC_MODES","GC_MODES2","PRECISION","PRECISION2","MASK_TYPES","MASK_TYPES2","MSAA_QUALITY","MSAA_QUALITY2","BUFFER_TYPE","BUFFER_TYPE2","BrowserAdapter","createCanvas","width","height","canvas","getCanvasRenderingContext2D","CanvasRenderingContext2D","getWebGLRenderingContext","WebGLRenderingContext","getNavigator","navigator","getBaseUrl","baseURI","getFontFaceSet","fonts","fetch","parseXML","xml","DOMParser","parseFromString","settings","ADAPTER","RESOLUTION","CREATE_IMAGE_BITMAP","ROUND_PIXELS","appleIphone","appleIpod","appleTablet","appleUniversal","androidPhone","androidTablet","amazonPhone","amazonTablet","windowsPhone","windowsTablet","otherBlackBerry","otherBlackBerry10","otherOpera","otherChrome","otherFirefox","isAppleTabletOnIos13","platform","maxTouchPoints","MSStream","param","nav","userAgent","tmp","regex","createMatch","apple","phone","ipod","tablet","universal","device","amazon","android","windows","other","blackberry","blackberry10","opera","firefox","chrome","any","isMobile","RETINA_PREFIX","FAIL_IF_MAJOR_PERFORMANCE_CAVEAT","assertPath","path2","removeUrlParams","toPosix","RegExp","isUrl","isDataUrl","hasProtocol","getProtocol","isFile","isHttp","isWindows","arr","toAbsolute","customBaseUrl","customRootUrl","baseUrl","rootUrl","rootname","startsWith","normalize","trailingSeparator","endsWith","allowAboveRoot","res","lastSegmentLength","lastSlash","dots","code","lastSlashIndex","normalizeStringPosix","segments","joined","prevArg","extname","dirname","hasRoot","matchedSlash","origpath","basename","ext","extIdx","firstNonSlashEnd","startDot","startPart","preDotState","ret","dir","warnings","deprecation","version","message","ignoreDepth","stack","console","warn","groupCollapsed","groupEnd","supported","grad","turn","rad","PI","pow","round","f","parseInt","Number","object","N","M","H","$","parsed","rgba","isValid","brightness","isDark","isLight","toHex","toRgb","toRgbString","toHsl","toHslString","toHsv","invert","saturate","desaturate","grayscale","lighten","darken","rotate","hue","alpha","isEqual","S","forEach","white","bisque","blue","cadetblue","chartreuse","chocolate","coral","antiquewhite","aqua","azure","whitesmoke","papayawhip","plum","blanchedalmond","black","gold","goldenrod","gainsboro","cornsilk","cornflowerblue","burlywood","aquamarine","beige","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkkhaki","darkgray","darkgreen","darkgrey","peachpuff","darkmagenta","darkred","darkorchid","darkorange","darkslateblue","gray","darkslategray","darkslategrey","deeppink","deepskyblue","wheat","firebrick","floralwhite","ghostwhite","darkviolet","magenta","green","dodgerblue","grey","honeydew","hotpink","blueviolet","forestgreen","lawngreen","indianred","indigo","fuchsia","brown","maroon","mediumblue","lightcoral","darkturquoise","lightcyan","ivory","lightyellow","lightsalmon","lightseagreen","linen","mediumaquamarine","lemonchiffon","lime","khaki","mediumseagreen","limegreen","mediumspringgreen","lightskyblue","lightblue","midnightblue","lightpink","mistyrose","moccasin","mintcream","lightslategray","lightslategrey","navajowhite","navy","mediumvioletred","powderblue","palegoldenrod","oldlace","paleturquoise","mediumturquoise","mediumorchid","rebeccapurple","lightsteelblue","mediumslateblue","thistle","orchid","mediumpurple","purple","pink","skyblue","springgreen","palegreen","red","yellow","slateblue","lavenderblush","peru","palevioletred","violet","teal","slategray","slategrey","aliceblue","darkseagreen","darkolivegreen","greenyellow","seagreen","seashell","tomato","silver","sienna","lavender","lightgreen","orange","orangered","steelblue","royalblue","turquoise","yellowgreen","salmon","saddlebrown","sandybrown","rosybrown","darksalmon","lightgoldenrodyellow","snow","lightgrey","lightgray","dimgray","dimgrey","olivedrab","olive","toName","closest","_Color","constructor","_components","Float32Array","fill","setValue","_value","_int","set","toRgba","toRgbaString","toUint8RgbArray","toRgbArray","toNumber","toLittleEndianNumber","multiply","temp","refreshInt","premultiply","applyToRGB","toPremultiplied","hexString","substring","toHexa","alphaString","setAlpha","step","toArray","components","every","Uint8Array","Uint8ClampedArray","HEX_PATTERN","color","hex2rgb","hex","rgb2hex","rgb","shared","premultiplyBlendMode","pm","npm","mapPremultipliedBlendModes","correctBlendMode","blendMode","premultiplied","getBufferType","BYTES_PER_ELEMENT","Uint32Array","Uint16Array","nextPow2","isPow2","log2","removeItems","startIdx","removeCount","Int32Array","nextUid","uid","_BoundingBox","left","top","right","bottom","isEmpty","BoundingBox","EMPTY","ProgramCache","TextureCache","BaseTextureCache","CanvasRenderTarget","resolution","_canvas","_context","getContext","resize","clear","_checkDestroyed","setTransform","clearRect","desiredWidth","desiredHeight","destroy","val","checkRow","checkColumn","stride","tempAnchor","getResolutionOfUrl","defaultValue","parseFloat","ExtensionType","ExtensionType2","normalizeExtension","extension","ref","normalizePriority","defaultPriority","priority","extensions","_addHandlers","_removeHandlers","_queue","extensions2","add","handle","onAdd","onRemove","addHandlers","removeHandlers","handleByMap","handleByList","includes","ViewableBuffer","sizeOrBuffer","rawBinaryData","ArrayBuffer","buffer","uint32View","float32View","int8View","_int8View","Int8Array","uint8View","_uint8View","int16View","_int16View","Int16Array","uint16View","_uint16View","int32View","_int32View","view","static","fragTemplate","generateIfTestSrc","maxIfs","State","polygonOffset","blend","depthMask","offsets","culling","depthTest","clockwiseFrontFace","_blendMode","_polygonOffset","state","INSTALLED","autoDetectResource","ResourcePlugin","items","_name","_aliasCount","a0","a6","a7","ensureNonAliasedItems","contains","removeAll","empty","defineProperties","dispatch","run","Resource","_width","_height","destroyed","internal","onResize","onUpdate","onError","bind","baseTexture","unbind","valid","load","Promise","_renderer","_baseTexture","_glTexture","dispose","_source","_extension","BufferResource","super","upload","renderer","glTexture","gl","pixelStorei","UNPACK_PREMULTIPLY_ALPHA_WEBGL","alphaMode","UNPACK","realWidth","realHeight","texSubImage2D","texImage2D","internalFormat","defaultBufferOptions","scaleMode","NEAREST","RGBA","NPM","_BaseTexture","resource","assign","defaultOptions","mipmap","anisotropicLevel","wrapMode","resourceOptions","_mipmap","_wrapMode","_scaleMode","touched","isPowerOfTwo","_refreshPOT","_glTextures","dirtyId","dirtyStyleId","cacheId","textureCacheIds","_batchEnabled","_batchLocation","parentTextureArray","setResource","setStyle","dirty","setSize","setRealSize","setResolution","oldResolution","removeFromCache","castToBaseTexture","strict","STRICT_TEXTURE_CACHE","isFrame","_pixiId","pixiIdPrefix","addToCache","FLOAT","UNSIGNED_BYTE","baseTextureFromCache","BaseTexture","POW2","LINEAR","TEXTURE_2D","_globalBatch","BatchDrawCall","texArray","TRIANGLES","size","UID","Buffer","_static","_glBuffers","_updateID","disposeRunner","ELEMENT_ARRAY_BUFFER","ARRAY_BUFFER","Attribute","normalized","instance","divisor","byteSizeMap","Geometry","buffers","indexBuffer","glVertexArrayObjects","instanced","instanceCount","refCount","addAttribute","ids","bufferIndex","getAttribute","getBuffer","addIndex","getIndex","interleave","arrays","sizes","interleavedBuffer","attribute","outSize","views","littleOffset","getSize","clone","geometry","attrib","geometries","geometryOut","offset","offset2","bufferIndexToCount","indexBufferData","BatchGeometry","_buffer","_indexBuffer","PI_2","RAD_TO_DEG","DEG_TO_RAD","SHAPES","SHAPES2","Point","copyFrom","copyTo","tempPoints","RECT","rectangle","transform","x02","y02","lt","lb","rt","rb","nx","ny","n00","n10","n01","n11","m00","m10","m01","m11","pad","paddingX","paddingY","fit","x2","y2","ceil","eps","enlarge","Circle","radius","CIRC","r2","dx","dy","getBounds","Ellipse","halfWidth","halfHeight","ELIP","normx","normy","Polygon","points","flat","il","POLY","closeStroke","polygon","xi","yi","xj","yj","reduce","pointsDesc","currentPoint","RoundedRectangle","RREC","radius2","Matrix","tx","ty","fromArray","transpose","pos","newPos","applyInverse","translate","scale","angle","cos","sin","c1","tx1","append","matrix","b1","d1","pivotX","pivotY","scaleX","scaleY","rotation","skewX","skewY","prepend","decompose","pivot","atan2","sqrt","position","identity","IDENTITY","TEMP_MATRIX","ux","uy","vx","vy","rotationCayley","rotationMatrices","signum","row","_ux","_uy","_vx","_vy","mat","init","groupD8","E","SE","SW","W","NW","NE","MIRROR_VERTICAL","MAIN_DIAGONAL","MIRROR_HORIZONTAL","REVERSE_DIAGONAL","uX","ind","uY","vX","vY","inv","rotationSecond","rotationFirst","sub","rotate180","isVertical","byDirection","matrixAppendRotationInv","ObservablePoint","cb","scope","_x","_y","_Transform","worldTransform","localTransform","onChange","updateSkew","_rotation","_cx","_sx","_cy","_sy","_localID","_currentLocalID","_worldID","_parentID","updateLocalTransform","updateTransform","parentTransform","pt","wt","setFromMatrix","uniformParsers","uniform","codeUbo","GLSL_TO_SINGLE_SETTERS_CACHED","float","vec2","vec3","vec4","int","ivec2","ivec3","ivec4","uint","uvec2","uvec3","uvec4","bool","bvec2","bvec3","bvec4","mat2","mat3","mat4","sampler2D","samplerCube","sampler2DArray","GLSL_TO_ARRAY_SETTERS","unknownContext","maxFragmentPrecision","GLSL_TO_SIZE","mapSize","GL_TABLE","GL_TO_GLSL_TYPES","FLOAT_VEC2","FLOAT_VEC3","FLOAT_VEC4","INT","INT_VEC2","INT_VEC3","INT_VEC4","UNSIGNED_INT","UNSIGNED_INT_VEC2","UNSIGNED_INT_VEC3","UNSIGNED_INT_VEC4","BOOL","BOOL_VEC2","BOOL_VEC3","BOOL_VEC4","FLOAT_MAT2","FLOAT_MAT3","FLOAT_MAT4","SAMPLER_2D","INT_SAMPLER_2D","UNSIGNED_INT_SAMPLER_2D","SAMPLER_CUBE","INT_SAMPLER_CUBE","UNSIGNED_INT_SAMPLER_CUBE","SAMPLER_2D_ARRAY","INT_SAMPLER_2D_ARRAY","UNSIGNED_INT_SAMPLER_2D_ARRAY","mapType","typeNames","tn","setPrecision","requestedPrecision","maxSupportedPrecision","precision","HIGH","MEDIUM","nameCache","_Program","vertexSrc","fragmentSrc","defaultVertexSrc","defaultFragmentSrc","defaultVertexPrecision","defaultFragmentPrecision","isContextLost","PREFER_ENV","WEBGL2","getExtension","getTestContext","getShaderPrecisionFormat","shaderFragment","FRAGMENT_SHADER","HIGH_FLOAT","getMaxFragmentPrecision","glPrograms","syncUniforms","program","Program","UniformGroup","uniforms","isStatic","isUbo","group","ubo","UNIFORM_BUFFER","autoManage","_ubo","Shader","uniformBindCount","uniformGroup","checkUniformExists","from","BatchShaderGenerator","programCache","defaultGroupCache","generateShader","maxTextures","sampleValues","uSamplers","generateSampleSrc","tint","translationMatrix","default","BatchTextureArray","elements","ObjectRenderer","flush","render","_object","_BatchRenderer","setShaderGenerator","geometryClass","vertexSize","for2d","defaultBatchSize","_vertexCount","_indexCount","_bufferedElements","_bufferedTextures","_bufferSize","_shader","_packedGeometries","_packedGeometryPoolSize","_flushId","_aBuffers","_iBuffers","onPrerender","runners","contextChange","_dcIndex","_aIndex","_iIndex","_attributeBuffer","_tempBoundTextures","defaultMaxTextures","_defaultMaxTextures","allowMax","maxRecommendedTextures","canUploadSameBuffer","_canUploadSameBuffer","MAX_TEXTURES","defaultFragmentTemplate","vertex","fragment","shaderGenerator","WEBGL_LEGACY","getParameter","MAX_TEXTURE_IMAGE_UNITS","shader","createShader","shaderSource","compileShader","getShaderParameter","COMPILE_STATUS","checkMaxIfStatementsInShader","initFlushBuffers","_drawCallPool","_textureArrayPool","MAX_SPRITES","MAX_TA","_texture","vertexData","indices","buildTexturesAndDrawCalls","textures","textureArrays","batch","boundTextures","touch","textureGC","TICK","countTexArrays","copyBoundTextures","tex","boundArray","buildDrawCalls","finish","drawCalls","dcIndex","aIndex","iIndex","drawCall","sprite","spriteBlendMode","packInterleavedGeometry","bindAndClearTexArray","textureSystem","texture","updateGeometry","packedGeometries","attributeBuffer","updateBuffers","drawBatches","dcCount","stateSystem","curTexArray","drawElements","UNSIGNED_SHORT","getAttributeBuffer","getIndexBuffer","ensureSamplerType","roundedP2","roundedSizeIndex","roundedSize","packedVertices","uvs","indicies","textureId","worldAlpha","argb","_tintRGB","BatchRenderer","RendererPlugin","_Filter","padding","defaultResolution","multisample","defaultMultisample","enabled","autoFit","filterManager","clearMode","_currentState","applyFilter","_resolution","Filter","NONE","BackgroundSystem","clearBeforeRender","_backgroundColor","backgroundColor","background","backgroundAlpha","RendererSystem","CanvasRendererSystem","BatchSystem","emptyRenderer","currentRenderer","setObjectRenderer","objectRenderer","reset","batchId","loc","bound","CONTEXT_UID_COUNTER","ContextSystem","webGLVersion","uint32Indices","handleContextLost","handleContextRestored","isLost","CONTEXT_UID","initFromContext","premultipliedAlpha","preserveDrawingBuffer","useContextAlpha","powerPreference","initFromOptions","antialias","stencil","validateContext","addEventListener","createContext","getExtensions","common","loseContext","anisotropicFiltering","floatTextureLinear","s3tc","s3tc_sRGB","etc","etc1","pvrtc","atc","astc","drawBuffers","depthTexture","vertexArrayObject","uint32ElementIndex","floatTexture","textureHalfFloat","textureHalfFloatLinear","colorBufferFloat","preventDefault","setTimeout","restoreContext","removeEventListener","useProgram","postrender","renderingToScreen","getContextAttributes","isWebGl2","WebGL2RenderingContext","hasuint32","DepthResource","Framebuffer","depth","dirtyFormat","dirtySize","colorTextures","glFramebuffers","colorTexture","addColorTexture","OFF","addDepthTexture","DEPTH_COMPONENT","enableDepth","enableStencil","destroyDepthTexture","BaseRenderTexture","_clear","framebuffer","maskStack","filterStack","clearColor","BaseImageResource","sourceAny","naturalWidth","videoWidth","naturalHeight","videoHeight","noSubImage","crossorigin","crossOrigin","url$1","parsedUrl","samePort","determineCrossOrigin","HTMLImageElement","complete","HTMLVideoElement","readyState","buffered","ImageResource","imageElement","Image","_process","preserveBitmap","createBitmap","createImageBitmap","bitmap","_load","autoLoad","reject","completed","onload","onerror","process","cors","mode","then","blob","premultiplyAlpha","glTextures","otherTex","close","TextureUvs","x3","y3","uvsFloat32","frame","baseFrame","tw","th","w2","h2","cX","cY","DEFAULT_UVS","removeAllHandlers","orig","anchor","borders","noFrame","_frame","_uvs","uvMatrix","_rotate","defaultAnchor","defaultBorders","onBaseTextureUpdated","updateUvs","destroyBase","clonedFrame","clonedOrig","clonedTexture","fromBuffer","imageUrl","textureFromCache","xNotFit","yNotFit","relationship","errorX","errorY","_EMPTY","WHITE","_WHITE","fillStyle","fillRect","RenderTexture","baseRenderTexture","filterFrame","filterPoolKey","resizeBaseTexture","RenderTexturePool","textureOptions","texturePool","enableFullScreen","_pixelsWidth","_pixelsHeight","createTexture","getOptimalTexture","minWidth","minHeight","renderTexture","getFilterTexture","filterTexture","returnTexture","returnFilterTexture","destroyTextures","setScreenSize","SCREEN_KEY","Quad","QuadUv","vertexBuffer","uvBuffer","targetTextureFrame","destinationFrame","invalidate","FilterState","legacy","sourceFrame","bindingSourceFrame","bindingDestinationFrame","filters","tempMatrix","FilterSystem","defaultFilterStack","statePool","quad","quadUv","tempRect","activeState","globalUniforms","outputFrame","inputSize","inputPixel","inputClamp","filterArea","filterClamp","forceClear","useMaxPadding","renderTextureSystem","filter","current","sourceFrameProjected","projection","transformAABB","roundFrame","getOptimalFilterTexture","lastState","blit","BLEND","flip","flop","CLEAR","bindAndClear","autoClear","stateId","BLIT","uSampler","filterGlobals","attributeData","aTextureCoord","draw","TRIANGLE_STRIP","calculateSpriteMatrix","outputMatrix","mappedMatrix","swap","emptyPool","rect","GLFramebuffer","msaaBuffer","blitFramebuffer","mipLevel","tempRectangle","FramebufferSystem","managedFramebuffers","unknownFramebuffer","msaaSamples","disposeAll","viewport","hasMRT","writeDepthTexture","nativeDrawBuffersExtension","nativeDepthTextureExtension","activeTextures","drawBuffersWEBGL","getInternalformatParameter","RENDERBUFFER","RGBA8","SAMPLES","fbo","initFramebuffer","bindFramebuffer","FRAMEBUFFER","updateFramebuffer","resizeFramebuffer","mipWidth","mipHeight","setViewport","mask","COLOR","DEPTH","createFramebuffer","detectSamples","bindRenderbuffer","renderbufferStorageMultisample","DEPTH24_STENCIL8","renderbufferStorage","DEPTH_STENCIL","parentTexture","canMultisampleFramebuffer","createRenderbuffer","deleteRenderbuffer","framebufferRenderbuffer","COLOR_ATTACHMENT0","framebufferTexture2D","DEPTH_ATTACHMENT","DEPTH_STENCIL_ATTACHMENT","samples","sourcePixels","destPixels","sameSize","READ_FRAMEBUFFER","COLOR_BUFFER_BIT","disposeFramebuffer","contextLost","deleteFramebuffer","forceStencil","GeometrySystem","_activeGeometry","_activeVao","hasVao","hasInstance","canUseUInt32ElementIndex","managedGeometries","nativeVaoExtension","createVertexArray","createVertexArrayOES","bindVertexArray","vao","bindVertexArrayOES","deleteVertexArray","deleteVertexArrayOES","instanceExt","vertexAttribDivisor","vertexAttribDivisorANGLE","drawElementsInstanced","drawElementsInstancedANGLE","drawArraysInstanced","drawArraysInstancedANGLE","vaos","incRefCount","initGeometryVao","activateVao","bufferSystem","checkCompatibility","geometryAttributes","shaderAttributes","getSignature","attribs","strings","generateProgram","signature","vaoObjectHash","tempStride","tempStart","attribSize","disposeGeometry","buf","vaoId","all","lastBuffer","glBuffer","enableVertexAttribArray","vertexAttribPointer","byteSize","glType","drawArrays","tempMat","clampMargin","mapCoord","uClampFrame","uClampOffset","_textureID","clampOffset","isSimple","multiplyUvs","forceUpdate","texBase","margin","SpriteMaskFilter","maskSprite","maskMatrix","_maskSprite","renderable","npmAlpha","otherMatrix","maskClamp","MaskData","maskObject","autoDetect","pooled","isMaskData","colorMask","_filters","_stencilCounter","_scissorCounter","_scissorRect","_scissorRectLocal","_colorMask","_target","copyCountersOrReset","maskAbove","MaskSystem","enableScissor","alphaMaskPool","maskDataPool","alphaMaskIndex","setMaskStack","scissor","maskDataOrTarget","maskData","detect","SPRITE","SCISSOR","STENCIL","pushSpriteMask","pushColorMask","popSpriteMask","popColorMask","maskCurrent","isSprite","testScissor","alphaMaskFilter","stashFilterArea","currColorMask","nextColorMask","AbstractMaskSystem","glConst","getStackLength","curStackLen","newStackLen","disable","enable","_useCurrent","rectPool","_ScissorSystem","SCISSOR_TEST","calcScissorRect","prevData","roundFrameToPixels","isFastRect","isMatrixRotated","ScissorSystem","StencilSystem","STENCIL_TEST","prevMaskCount","clearStencil","STENCIL_BUFFER_BIT","stencilFunc","EQUAL","stencilOp","KEEP","INCR","DECR","PluginSystem","plugins","extract","prepare","interaction","staticMap","rendererPlugins","ProjectionSystem","defaultFrame","projectionMatrix","calculateProjection","syncUniformGroup","globals","_destinationFrame","_matrix","tempTransform","GenerateTextureSystem","_tempMatrix","generateTexture","displayObject","region","manualRegion","getLocalBounds","skipUpdateTransform","parent","tempRect2","RenderTextureSystem","defaultMaskStack","viewportFrame","_view","screen","fallbackColor","clearMask","GLProgram","uniformData","uniformGroups","uniformDirtyGroups","uniformBufferBindings","booleanArray","logPrettyShaderError","shaderSrc","getShaderSource","line","shaderLog","getShaderInfoLog","splitShader","lineNumbers","logArgs","number","fragmentSourceToLog","uboUpdate","_ud","_uv","_syncData","UBO_TO_SINGLE_SETTERS","GLSL_TO_STD40_SIZE","unsafeEval","defaultSyncData","textureCount","uboCount","ShaderSystem","systemCheck","cache","_uboCache","func","unsafeEvalSupported","dontSync","glProgram","setUniforms","syncData","getGlProgram","createSyncGroups","funcFragments","template","generateUniformsSync","syncUniformBufferGroup","syncFunc","createSyncBufferGroup","bindBufferBase","uniformBlockIndex","getUniformBlockIndex","uniformBlockBinding","uboData","usedUniformDatas","getUBOData","uboElements","dataLen","chunkSize","uboElement","lineUpValue","createUBOElements","uniformParser","size2","rowSize","elementSize","remainder","generateUniformBufferSync","preFix","glVertShader","VERTEX_SHADER","glFragShader","webGLProgram","createProgram","attachShader","transformFeedbackVaryings","bufferMode","SEPARATE_ATTRIBS","INTERLEAVED_ATTRIBS","linkProgram","getProgramParameter","LINK_STATUS","vertexShader","fragmentShader","getProgramInfoLog","logProgramError","totalAttributes","ACTIVE_ATTRIBUTES","attribData","getActiveAttrib","getAttribLocation","getAttributeData","totalUniforms","ACTIVE_UNIFORMS","getActiveUniform","getUniformData","bindAttribLocation","deleteShader","getUniformLocation","disposeShader","StartupSystem","hello","log","rendererLogId","_StateSystem","_blendEq","setBlend","setOffset","setCullFace","setDepthTest","setFrontFace","setDepthMask","checks","defaultState","blendModes","ONE","ONE_MINUS_SRC_ALPHA","DST_COLOR","ONE_MINUS_SRC_COLOR","SRC_ALPHA","DST_ALPHA","ZERO","ONE_MINUS_DST_ALPHA","FUNC_REVERSE_SUBTRACT","FUNC_ADD","mapWebGLBlendModesToPixi","diff","forceState","updateCheck","checkBlendMode","checkPolygonOffset","POLYGON_OFFSET_FILL","DEPTH_TEST","CULL_FACE","frontFace","setBlendMode","blendFunc","blendFuncSeparate","blendEquationSeparate","setPolygonOffset","UNPACK_FLIP_Y_WEBGL","system","StateSystem","SystemManager","_systemsHash","setup","config","addRunners","systems","orderByPriority","addSystem","runnerIds","runnerId","ClassRef","emitWithCustomOptions","runner","systemHashKeys","systemName","find","systemId","values","_TextureGCSystem","checkCount","maxIdle","defaultMaxIdle","checkCountMax","defaultCheckCountMax","defaultMode","MANUAL","tm","managedTextures","wasRemoved","destroyTexture","unload","TextureGCSystem","AUTO","GLTexture","samplerType","TextureSystem","currentLocation","_unknownBoundTextures","unknownTexture","hasIntegerTextures","internalFormats","table","RGB","RGB8","RG","RG8","RED","R8","RGBA_INTEGER","RGBA8UI","RGB_INTEGER","RGB8UI","RG_INTEGER","RG8UI","RED_INTEGER","R8UI","ALPHA","LUMINANCE","LUMINANCE_ALPHA","BYTE","RGBA8_SNORM","RGB8_SNORM","RG8_SNORM","R8_SNORM","RGBA8I","RGB8I","RG8I","R8I","RGBA16UI","RGB16UI","RG16UI","R16UI","DEPTH_COMPONENT16","SHORT","RGBA16I","RGB16I","RG16I","R16I","RGBA32UI","RGB32UI","RG32UI","R32UI","DEPTH_COMPONENT24","RGBA32I","RGB32I","RG32I","R32I","RGBA32F","RGB32F","RG32F","R32F","DEPTH_COMPONENT32F","HALF_FLOAT","RGBA16F","RGB16F","RG16F","R16F","UNSIGNED_SHORT_5_6_5","RGB565","UNSIGNED_SHORT_4_4_4_4","RGBA4","UNSIGNED_SHORT_5_5_5_1","RGB5_A1","UNSIGNED_INT_2_10_10_10_REV","RGB10_A2","RGB10_A2UI","UNSIGNED_INT_10F_11F_11F_REV","R11F_G11F_B10F","UNSIGNED_INT_5_9_9_9_REV","RGB9_E5","UNSIGNED_INT_24_8","FLOAT_32_UNSIGNED_INT_24_8_REV","DEPTH32F_STENCIL8","mapTypeAndFormatToInternalFormat","emptyTextures","emptyTexture2D","bindTexture","TEXTURE_CUBE_MAP","TEXTURE_CUBE_MAP_POSITIVE_X","texParameteri","TEXTURE_MAG_FILTER","TEXTURE_MIN_FILTER","initTexture","activeTexture","TEXTURE0","updateTexture","updateTextureStyle","initTextureType","skipRemove","deleteTexture","ON_MANUAL","generateMipmap","TEXTURE_WRAP_S","TEXTURE_WRAP_T","LINEAR_MIPMAP_LINEAR","NEAREST_MIPMAP_NEAREST","anisotropicExt","level","MAX_TEXTURE_MAX_ANISOTROPY_EXT","texParameterf","TEXTURE_MAX_ANISOTROPY_EXT","TransformFeedbackSystem","transformFeedback","glTransformFeedback","_glTransformFeedbacks","createGLTransformFeedback","bindTransformFeedback","TRANSFORM_FEEDBACK","beginTransformFeedback","drawMode","endTransformFeedback","tf","createTransformFeedback","TRANSFORM_FEEDBACK_BUFFER","disposeTransformFeedback","glTF","deleteTransformFeedback","ViewSystem","autoDensity","resizeView","desiredScreenWidth","desiredScreenHeight","screenWidth","screenHeight","removeView","RENDER_OPTIONS","WRAP_MODE","SCALE_MODE","MIPMAP_TEXTURES","ANISOTROPIC_LEVEL","FILTER_RESOLUTION","FILTER_MULTISAMPLE","SPRITE_MAX_TEXTURES","SPRITE_BATCH_SIZE","CAN_UPLOAD_SAME_BUFFER","GC_MODE","GC_MAX_IDLE","GC_MAX_CHECK_COUNT","PRECISION_VERTEX","PRECISION_FRAGMENT","UPDATE_PRIORITY","UPDATE_PRIORITY2","TickerListener","previous","_destroyed","deltaTime","redirect","connect","hard","_Ticker","autoStart","lastTime","speed","started","_requestId","_maxElapsedMS","_minElapsedMS","_protected","_lastFrame","_head","deltaMS","targetFPMS","elapsedMS","_tick","time","requestAnimationFrame","_requestIfNeeded","performance","now","_cancelIfNeeded","cancelAnimationFrame","_startIfPossible","NORMAL","_addListener","addOnce","currentTime","FPS","minFPS","fps","maxFPS","minFPMS","_shared","_system","Ticker","TARGET_FPMS","TickerPlugin","sharedTicker","ticker","_ticker","LOW","oldTicker","Application","renderers","Renderer","defaultFilterVertex","MultisampleSystem","FRAMEBUFFER_BINDING","DRAW_FRAMEBUFFER_BINDING","DRAW_FRAMEBUFFER","GLBuffer","updateID","byteLength","BufferSystem","managedBuffers","boundBufferBases","createGLBuffer","bindBuffer","bindBufferRange","bufferSubData","drawType","STATIC_DRAW","DYNAMIC_DRAW","bufferData","deleteBuffer","createBuffer","ObjectRendererSystem","prerender","lastObjectRendered","cacheParent","enableTempParent","disableTempParent","_Renderer","systemConfig","__systems","_plugin","__plugins","startup","forceCanvas","contextOptions","failIfMajorPerformanceCaveat","success","reverse","_multisample","resolutionChange","textureGenerator","AbstractMultiResource","itemDirtyIds","partTexture","initFromArray","resources","addBaseTextureAt","addResourceAt","promises","_CubeResource","linkBaseTexture","SIDES","side","CubeResource","ImageBitmapResource","baseSource","async","response","imageBlob","imageBitmap","ImageBitmap","_SVGResource","sourceBase64","svg","_overrideWidth","_overrideHeight","_resolve","_crossorigin","SVG_XML","_loadSvg","tempImage","svgWidth","svgHeight","drawImage","svgString","sizeMatch","SVG_SIZE","SVGResource","_VideoResource","videoElement","firstSrc","sourceElement","mime","baseSrc","MIME_TYPES","_autoUpdate","_isConnectedToTicker","_updateFPS","updateFPS","_msToNextUpdate","autoPlay","_onCanPlay","_onError","_deltaTime","playbackRate","HAVE_ENOUGH_DATA","HAVE_FUTURE_DATA","_onPlayStart","_onPlayStop","_isSourceReady","_isSourcePlaying","paused","ended","autoUpdate","play","pause","VideoResource","ogv","mov","m4v","OffscreenCanvas","HTMLCanvasElement","urls","TEXTURE_2D_ARRAY","texImage3D","texSubImage3D","Bounds","getRectangle","addPoint","point","addPointMatrix","addQuad","addFrame","addFrameMatrix","addVertexData","beginOffset","endOffset","addVertices","addVerticesMatrix","padX","padY","rawX","rawY","addBounds","bounds","addBoundsMask","_minX","_minY","_maxX","_maxY","addBoundsMatrix","addBoundsArea","addFramePad","DisplayObject","tempDisplayObjectParent","visible","cullable","cullArea","_lastSortedIndex","_zIndex","_enabledFilters","_bounds","_localBounds","_boundsID","_boundsRect","_localBoundsRect","_mask","_maskRefCount","isMask","propertyName","getOwnPropertyDescriptor","_recursivePostUpdateTransform","_tempDisplayObjectParent","skipUpdate","calculateBounds","transformRef","parentRef","worldBounds","worldBoundsID","toGlobal","displayObjectUpdateTransform","toLocal","setParent","container","addChild","removeFromParent","_options","hitArea","eventMode","interactiveChildren","TemporaryDisplayObject","myParent","zIndex","sortDirty","worldVisible","sortChildren","_Container","sortableChildren","defaultSortableChildren","onChildrenChange","_length","child","addChildAt","swapChildren","child2","index1","getChildIndex","index2","setChildIndex","currentIndex","getChildAt","removeChildAt","removeChildren","beginIndex","endIndex","begin","range","removed","sortRequired","_calculateBounds","skipChildrenUpdate","_renderWithCulling","_render","projectionTransform","childCullable","renderAdvanced","destroyChildren","oldChildren","containerUpdateTransform","SORTABLE_CHILDREN","tempPoint","_anchor","_onAnchorUpdate","_tint","_cachedTint","vertexTrimmedData","_transformID","_transformTrimmedID","_textureTrimmedID","pluginName","_roundPixels","_onTextureUpdate","calculateVertices","w0","w1","h0","h1","calculateTrimmedVertices","containsPoint","destroyBaseTexture","roundPixels","_cacheAsBitmap","_cacheData","_cacheAsBitmapResolution","_cacheAsBitmapMultisample","CacheData","textureCacheId","originalRender","originalRenderCanvas","originalCalculateBounds","originalGetLocalBounds","originalUpdateTransform","originalDestroy","originalMask","originalFilterArea","originalContainsPoint","cacheAsBitmapResolution","cacheAsBitmap","cacheAsBitmapMultisample","renderCanvas","_renderCached","_renderCachedCanvas","_cacheAsBitmapDestroy","_destroyCachedDisplayObject","_initCachedDisplayObject","cacheAlpha","cachedRenderTexture","cachedSourceFrame","cachedDestinationFrame","cachedProjectionTransform","_calculateCachedBounds","_getCachedLocalBounds","cachedSprite","_initCachedDisplayObjectCanvas","_renderCanvas","cachedRenderTarget","canvasContext","activeContext","_projTransform","deep","getChildByName","getGlobalPosition","GAUSSIAN_VALUES","BlurFilterPass","horizontal","strength","quality","kernelSize","vertSrc","halfLength","vertSource","blurLoop","blur","generateBlurVertSource","fragSrc","kernel","fragSource","generateBlurFragSource","_quality","passes","renderTarget","ColorMatrixFilter","uAlpha","_loadMatrix","newMatrix","_multiply","_colorMatrix","greyscale","blackAndWhite","cosR","sinR","sqrW","contrast","amount","negative","sepia","technicolor","polaroid","toBGR","kodachrome","browni","vintage","colorTone","desaturation","toned","lightColor","darkColor","lR","lG","lB","dR","dG","dB","night","intensity","predator","lsd","AlphaFilter","BlurFilter","blurXFilter","blurYFilter","repeatEdgePixels","xStrength","yStrength","updatePadding","_repeatEdgePixels","blurX","blurY","DisplacementFilter","mapSampler","filterMatrix","lenX","lenY","FXAAFilter","NoiseFilter","noise","seed","random","uNoise","uSeed","entries","FilterClass","EventsTicker","interactionFrequency","_didMove","tickerAdded","_pauseUpdate","removeTickerListener","pauseUpdate","addTickerListener","domElement","tickerUpdate","INTERACTION","pointerMoved","rootPointerEvent","supportsTouchEvents","pointerType","dispatchEvent","PointerEvent","clientX","clientY","FederatedEvent","manager","bubbles","cancelBubble","cancelable","composed","defaultPrevented","eventPhase","propagationStopped","propagationImmediatelyStopped","page","AT_TARGET","BUBBLING_PHASE","CAPTURING_PHASE","layerX","layerY","pageX","pageY","composedPath","propagationPath","initEvent","_type","_bubbles","_cancelable","initUIEvent","_typeArg","_bubblesArg","_cancelableArg","_viewArg","_detailArg","nativeEvent","Event","stopImmediatePropagation","stopPropagation","FederatedMouseEvent","client","movement","movementX","movementY","offsetX","offsetY","globalX","globalY","screenX","screenY","getLocalPosition","globalPos","getModifierState","initMouseEvent","_canBubbleArg","_screenXArg","_screenYArg","_clientXArg","_clientYArg","_ctrlKeyArg","_altKeyArg","_shiftKeyArg","_metaKeyArg","_buttonArg","_relatedTargetArg","FederatedPointerEvent","isPrimary","getCoalescedEvents","getPredictedEvents","FederatedWheelEvent","DOM_DELTA_PIXEL","DOM_DELTA_LINE","DOM_DELTA_PAGE","tempHitLocation","tempLocalMapping","EventBoundary","rootTarget","moveOnAll","mappingState","trackingData","eventPool","Map","hitPruneFn","hitTestFn","mapPointerDown","mapPointerMove","mapPointerOut","mapPointerOver","mapPointerUp","mapPointerUpOutside","mapWheel","mappingTable","addEventMapping","propagate","mapEvent","mappers","hitTest","invertedPath","hitTestRecursive","currentTarget","notifyTarget","interactionNone","interactionPassive","shouldIterateChildren","testFn","pruneFn","nestedHit","_isInteractive","isInteractive","handlerKey","notifyListeners","createPointerEvent","isRightButton","button","pointerId","pressTargetsByButton","freeEvent","isMouse","outTarget","findMountedTarget","overTargets","outType","outEvent","leaveEvent","overType","overEvent","clonePointerEvent","overTargetAncestor","enterEvent","propagationMethod","cursor","pressTarget","clickTarget","clickEvent","clicksByButton","clickCount","timeStamp","clickHistory","detail","wheelEvent","createWheelEvent","allocateEvent","copyPointerData","copyMouseData","copyData","originalEvent","copyWheelData","to","deltaMode","deltaX","deltaY","deltaZ","pressure","tangentialPressure","tiltX","tiltY","twist","altKey","buttons","ctrlKey","metaKey","isTrusted","srcElement","which","overTarget","TOUCH_TO_POINTER","touchstart","touchend","touchendoutside","touchmove","touchcancel","_EventSystem","supportsPointerEvents","rootBoundary","autoPreventDefault","eventsAdded","rootWheelEvent","cursorStyles","pointer","onPointerDown","onPointerMove","onPointerUp","onPointerOverOut","onWheel","defaultEventMode","_defaultEventMode","setTargetElement","setCursor","applyStyles","currentCursor","normalizeToPointerData","isNormalized","nativeEvent2","federatedEvent","bootstrapEvent","normalizedEvents","outside","normalizeWheelEvent","removeEvents","addEvents","msPointerEnabled","msContentZooming","msTouchAction","touchAction","passive","capture","mapPositionToPoint","parentElement","getBoundingClientRect","resolutionMultiplier","TouchEvent","li","changedTouches","touches","radiusX","radiusY","force","MouseEvent","tempEvent","transferMouseData","relatedTarget","shiftKey","EventSystem","convertEventModeToInteractiveMode","FederatedDisplayObject","onclick","onmousedown","onmouseenter","onmouseleave","onmousemove","onglobalmousemove","onmouseout","onmouseover","onmouseup","onmouseupoutside","onpointercancel","onpointerdown","onpointerenter","onpointerleave","onpointermove","onglobalpointermove","onpointerout","onpointerover","onpointertap","onpointerup","onpointerupoutside","onrightclick","onrightdown","onrightup","onrightupoutside","ontap","ontouchcancel","ontouchend","ontouchendoutside","ontouchmove","onglobaltouchmove","ontouchstart","onwheel","_internalInteractive","interactive","_internalEventMode","handleEvent","mixin","accessible","accessibleTitle","accessibleHint","tabIndex","_accessibleActive","_accessibleDiv","accessibleType","accessiblePointerEvents","accessibleChildren","renderId","AccessibilityManager","debug","_isActive","_isMobileAccessibility","pool","androidUpdateCount","androidUpdateFrequency","_hookDiv","createTouchHook","div","_onKeyDown","_onMouseMove","isActive","isMobileAccessibility","hookDiv","title","activate","destroyTouchHook","body","deactivate","updateAccessibleObjects","viewWidth","viewHeight","sx","sy","capHitArea","updateDebugHTML","innerHTML","borderStyle","_onClick","_onFocus","_onFocusOut","pointerEvents","_dispatchEvent","boundry","type2","keyCode","CanvasRendererPlugin","_Application","stage","RendererType","autoDetectRenderer","_plugins","plugin","stageOptions","ResizePlugin","dom","queueResize","_resizeTo","cancelResize","_resizeId","innerWidth","innerHeight","clientWidth","clientHeight","resizeTo","assetKeyMap","loader","LoadParser","resolver","ResolveParser","CacheParser","detection","DetectionParser","Asset","BackgroundLoader","verbose","_loader","_assetList","_isLoading","_maxConcurrent","assetUrls","_next","toLoad","toLoadAmount","active","checkExtension","tempURL","convertToList","Cache","_parsers","_cache","_cacheMap","cacheableAssets","parsers","parser","getCacheableAssets","key2","cacheKeys","cachedAssets","cacheMap","delete","isSingleItem","Loader","promiseCache","_getLoadPromiseAndParser","promise","asset","testParse","assetsToLoadIn","onProgress","assets","singleAsset","assetsToLoad","total","assetsToUnloadIn","loadPromise","loadedAsset","LoaderParserPriority","LoaderParserPriority2","loadJson","Low","json","loadTxt","text","checkDataUrl","mimes","validWeights","validFontExtensions","validFontMIMEs","loadWebFont","fontFaces","family","word","toUpperCase","getFontFamilyName","weights","weight","font","FontFace","encodeURI","MAX_WORKERS","UUID","checkImageBitmapCode","workerCode","workerURL","WorkerManager","_initialized","_createdWorkers","workerPool","resolveHash","isImageBitmapSupported","_isImageBitmapSupported","workerURL2","URL","createObjectURL","Blob","worker","Worker","terminate","revokeObjectURL","loadImageBitmap","_run","getWorker","hardwareConcurrency","returnWorker","uuid","_initWorkers","toDo","postMessage","validImageExtensions","validImageMIMEs","loadTextures","High","preferWorkers","preferCreateImageBitmap","ok","status","statusText","loadSVG","processX","tags","createStringVariations","vars","Resolver","_defaultBundleIdentifierOptions","connector","createBundleAssetId","bundleId","assetId","_bundleIdConnector","extractAssetIdFromBundle","assetBundleId","_createBundleAssetId","_extractAssetIdFromBundle","_assetMap","_preferredOrder","_resolverHash","_bundles","setBundleIdentifier","bundleIdentifier","prefer","preferOrders","params","basePath","_basePath","rootPath","_rootPath","_manifest","_defaultSearchParams","setDefaultSearchParams","searchParams","queryValues","addManifest","manifest","bundles","bundle","addBundle","assetNames","bundleAssetId","srcs","bundleIds","bundleId2","keysIn","assetsIn","hasKey","assetMap","formattedAsset","alias","_appendDefaultSearchParams","resolveBundle","results","resolveUrl","preferredOrder","_getPreferredOrder","bestAsset","priorityKey","filteredAssets","hasBundle","preferred","preference","_detections","_backgroundLoader","defaultSearchParams","resolutionPref","texturePreference","formats","formatPref","urlArray","resolveResults","_mapLoadToResolve","_onProgress","resolveResult","resolveResult2","resolveArray","resolveKeys","loadedAssets","_unloadFromResolved","detections","cacheTextureArray","detectAvif","detectWebp","imageFormats","detectDefaults","resolveTextureUrl","copySearchParams","targetUrl","sourceUrl","INTERNAL_FORMATS","INTERNAL_FORMATS2","INTERNAL_FORMAT_TO_BYTES_PER_PIXEL","storedGl","getCompressedTextureExtensions","detectCompressedTextures","textureFormats","extensionName","BlobResource","origin","onBlobLoaded","_data","arrayBuffer","CompressedTextureResource","levels","_formatToExtension","levelBuffers","_levelBuffers","_createLevelBuffers","levelID","levelWidth","levelHeight","levelBuffer","compressedTexImage2D","blockWidth","blockHeight","imageWidth","imageHeight","byteOffset","alignedLevelWidth","alignedLevelHeight","levelSize","DDS_HEADER_SIZE","DDS_FIELDS","DDS_PF_FIELDS","DDS_DX10_FIELDS","FOURCC_TO_FORMAT","COMPRESSED_RGBA_S3TC_DXT1_EXT","COMPRESSED_RGBA_S3TC_DXT3_EXT","COMPRESSED_RGBA_S3TC_DXT5_EXT","DXGI_TO_FORMAT","COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT","COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT","COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT","FILE_IDENTIFIER","ENDIANNESS","KTX_FIELDS","GL_TYPE","GL_TYPE_SIZE","GL_FORMAT","GL_INTERNAL_FORMAT","GL_BASE_INTERNAL_FORMAT","PIXEL_WIDTH","PIXEL_HEIGHT","PIXEL_DEPTH","NUMBER_OF_ARRAY_ELEMENTS","NUMBER_OF_FACES","NUMBER_OF_MIPMAP_LEVELS","BYTES_OF_KEY_VALUE_DATA","FILE_HEADER_SIZE","TYPES_TO_BYTES_PER_COMPONENT","FORMATS_TO_COMPONENTS","TYPES_TO_BYTES_PER_PIXEL","convertFormatToInteger","loadDDS","header","mipmapCount","pixelFormat","formatFlags","fourCC","internalFormat2","texData","DDS_MAGIC_SIZE","dx10Offset","dx10Header","dxgiFormat","resourceDimension","miscFlag","arraySize","imageBuffers","dataOffset","pixelSize","imageSize","imageOffset","parseDDS","NO_PREMULTIPLIED_ALPHA","loadKTX","compressed","uncompressed","kvData","loadKeyValueData","dataView","DataView","getUint8","validate","littleEndian","getUint32","glFormat","glInternalFormat","pixelWidth","pixelHeight","pixelDepth","numberOfArrayElements","numberOfFaces","numberOfMipmapLevels","bytesOfKeyValueData","alignedWidth","alignedHeight","imagePixelByteSize","imagePixels","bytesIntoKeyValueData","keyAndValueByteSize","keyAndValueByteOffset","valuePadding","keyNulByte","TextDecoder","parseKvData","mipByteSize","alignedMipWidth","alignedMipHeight","mipmapLevel","elementOffset","arrayElement","mips","convertToInt","parseKTX","ktxKeyValueData","resolveCompressedTextureUrl","some","TEMP_RECT","_Extract","image","toDataURL","convertToBlob","reader","FileReader","readAsDataURL","pixels","flipY","_rawPixels","canvasBuffer","canvasData","getImageData","arrayPostDivide","putImageData","target2","generated","resolvedTexture","readPixels","Extract","buildCircle","build","graphicsData","rx","ry","circle","shape","ellipse","roundedRect","j1","j2","j3","j4","triangulate","graphicsGeometry","verts","vertPos","center","fixOrientation","i1","i2","i3","i4","buildPoly","holeArray","buildRectangle","rectData","buildRoundedRectangle","LINE_JOIN","LINE_JOIN2","LINE_CAP","LINE_CAP2","curves","adaptive","maxLength","minSegments","maxSegments","epsilon","_segmentsCount","defaultSegments","isNaN","ArcUtils","fromX","mm","dd","cc","tt","k1","k2","qy","startAngle","endAngle","anticlockwise","_startX","_startY","_anticlockwise","sweep","theta","theta2","cTheta","sTheta","segMinus","BezierUtils","fromY","cpX","cpY","cpX2","cpY2","toX","toY","t2","t3","nt","nt2","nt3","prevX","prevY","curveLength","dt","dt2","dt3","square","innerWeight","outerWeight","exx","eyy","eix","eiy","eox","eoy","ex","ey","cx2p0x","cy2p0y","angle0","angle1","angleDiff","absAngleDiff","segCount","angleInc","buildLine","lineStyle","native","closedShape","startIndex","buildNativeLine","closePointEps","firstPoint","lastPoint","closedPath","midPointX","midPointY","indexCount","indexStart","widthSquared","miterLimitSquared","miterLimit","perpx","perpy","perp1x","perp1y","dist","ratio","alignment","cap","ROUND","SQUARE","dx0","dy0","dx1","dy1","dot","cross","c2","pdist","imx","imy","omx","omy","insideWeight","BEVEL","MITER","eps2","buildNonNativeLine","QuadraticUtils","a32","ba","xa","ya","FILL_COMMANDS","BATCH_POOL","DRAW_CALL_POOL","GraphicsData","BatchPart","attribStart","endAttrib","tmpPoint","_GraphicsGeometry","boundsPadding","indicesUint16","batchable","colors","textureIds","batchDirty","batches","cacheDirty","clearDirty","shapeIndex","boundsDirty","updateBatches","batchPart","drawShape","drawHole","lastShape","hitHole","validateBatching","currentStyle","transformPoints","processHoles","nextTexture","attribIndex","processFill","processLine","_compareStyles","addUvs","need32","isBatchable","packBatches","styleA","styleB","BATCHABLE_SIZE","currentGroup","currentTexture","LINES","addColors","addTextureIds","packAttributes","glPoints","f32","u32","bgr","uvsStart","adjustUvs","GraphicsGeometry","FillStyle","LineStyle","BUTT","DEFAULT_SHADERS","_Graphics","currentPath","batchTint","_fillStyle","_lineStyle","_holeMode","_geometry","finishPoly","lineTextureStyle","defaultLineStyleOptions","normalizeColor","startPoly","moveTo","lineTo","_initCurve","quadraticCurveTo","curveTo","bezierCurveTo","arcTo","arc","startX","startY","xDiff","yDiff","beginFill","beginTextureFill","temp2","endFill","drawRect","drawRoundedRect","drawCircle","drawEllipse","drawPolygon","poly","_populateBatches","_renderBatched","_renderDirect","gI","_batchRGB","calculateTints","_resolveDirectShader","_renderDrawCallDirect","groupTextureCount","_TEMP_POINT","tintRGB","wtID","closePath","setMatrix","beginHole","endHole","Graphics","MeshBatchUvs","_bufferUpdateId","_textureUpdateId","tempPolygon","_Mesh","vertexDirty","batchUvs","verticesBuffer","material","_renderToBatch","_renderDefault","calculateUvs","vertexDirtyId","geomUvs","ind0","ind1","ind2","_cachedTexture","uvsBuffer","_updateId","uTextureMatrix","uColor","_colorDirty","_alpha","applyToChannels","ParticleBuffer","properties","dynamicPropertyFlags","dynamicProperties","staticProperties","property","attributeName","uploadFunction","staticStride","staticBuffer","staticData","staticDataUint32","dynamicStride","dynamicBuffer","dynamicData","dynamicDataUint32","initBuffers","dynamicOffset","outBuffer","totalIndices","dynBuffer","staticOffset","statBuffer","uploadDynamic","uploadStatic","ParticleRenderer","uploadVertices","uploadPosition","uploadRotation","uploadUvs","uploadTint","maxSize","_maxSize","batchSize","_batchSize","totalChildren","autoResize","_buffers","generateBuffers","tintRgb","updateStatic","_generateOneMoreBuffer","bid","_bufferUpdateIDs","_properties","spritePosition","spriteRotation","textureUvs","TEXT_GRADIENT","TEXT_GRADIENT2","contextSettings","willReadFrequently","_TextMetrics","experimentalLetterSpacingSupported","_experimentalLetterSpacingSupported","lines","lineWidths","lineHeight","maxLineWidth","fontProperties","wordWrap","toFontString","measureFont","fontSize","ascent","lineWidth","_measureText","letterSpacing","strokeThickness","dropShadow","dropShadowDistance","leading","useExperimentalLetterSpacing","experimentalLetterSpacing","textLetterSpacing","measureText","graphemeSegmenter","whiteSpace","collapseSpaces","collapseNewlines","canPrependSpaces","wordWrapWidth","tokens","tokenize","token","isNewline","addLine","currIsBreakingSpace","isBreakingSpace","lastIsBreakingSpace","tokenWidth","getFromCache","canBreakWords","breakWords","characters","wordWrapSplit","char","lastChar","nextChar","canBreakChars","characterWidth","isLastToken","newLine","trimRight","_newlines","_nextChar","_breakingSpaces","_token","_char","_breakWords","_fonts","descent","metricsString","METRICS_STRING","BASELINE_SYMBOL","baseline","HEIGHT_MULTIPLIER","BASELINE_MULTIPLIER","textBaseline","fillText","imagedata","__canvas","__context","TextMetrics","Intl","Segmenter","segmenter","segment","genericFontFamilies","_TextStyle","styleID","deepCopyProperties","clonedProperties","defaultStyle","align","_align","_dropShadow","dropShadowAlpha","_dropShadowAlpha","dropShadowAngle","_dropShadowAngle","dropShadowBlur","_dropShadowBlur","dropShadowColor","_dropShadowColor","outputColor","getColor","_dropShadowDistance","_fill","fillGradientType","_fillGradientType","fillGradientStops","_fillGradientStops","array1","array2","areArraysEqual","fontFamily","_fontFamily","_fontSize","fontStyle","_fontStyle","fontVariant","_fontVariant","fontWeight","_fontWeight","_letterSpacing","_lineHeight","_leading","lineJoin","_lineJoin","_miterLimit","_padding","stroke","_stroke","_strokeThickness","_textBaseline","_trim","_whiteSpace","_wordWrap","_wordWrapWidth","fontSizeString","fontFamilies","TextStyle","propertyObj","LINEAR_VERTICAL","defaultDestroyOptions","_Text","ownCanvas","_ownCanvas","_autoResolution","defaultAutoResolution","_text","_style","_styleListener","_font","localStyleID","updateText","respectDirty","measured","linePositionX","linePositionY","passesCount","isShadowPass","dsOffsetText","dsOffsetShadow","strokeStyle","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","_generateFillStyle","linePositionYShift","drawLetterSpacing","isStroke","strokeText","currentPosition","stringArray","previousWidth","currentWidth","currentChar","textStr","trimmed","boundingBox","getCanvasBoundingBox","metrics","gradient","dropShadowCorrection","lengthPlus1","createLinearGradient","textHeight","lastLineBottom","thisLineTop","thisLineGradientStart","thisLineBottom","nextLineTop","thisLineGradientEnd","gradStopLineHeight","lineStop","globalStop","toFixed","addColorStop","totalIterations","currentIteration","Text","CountLimiter","maxItemsPerFrame","itemsLeft","beginFrame","allowedToUpload","findMultipleBaseTextures","_textures","findBaseTexture","findTexture","drawText","_helper","calculateTextStyle","findText","findTextStyle","_BasePrepare","limiter","uploadsPerFrame","uploadHookHelper","addHooks","uploadHooks","completes","ticking","delayedTick","prepareItems","registerFindHook","registerUploadHook","tick","UTILITY","uploaded","addHook","uploadHook","BasePrepare","uploadBaseTextures","uploadGraphics","findGraphics","UPLOADS_PER_FRAME","Prepare","AnimatedSprite","_durations","animationSpeed","loop","updateAnchor","onComplete","onFrameChange","onLoop","_currentTime","_playing","_previousFrame","gotoAndStop","frameNumber","currentFrame","gotoAndPlay","elapsed","previousFrame","lag","frames","images","totalFrames","playing","gl1VertexSrc","TilingSpriteRenderer","simpleShader","ts","anchorX","uvRespectAnchor","anchorY","baseTex","tileTransform","uv","uMapCoord","uTransform","_Spritesheet","resolutionFilename","linkedSheets","animations","_updateResolution","_frames","_frameKeys","_batchIndex","_callback","meta","BATCH_SIZE","_processFrames","_processAnimations","_parseComplete","_nextBatch","initialFrameIndex","frameIndex","maxFrames","sourceSize","rotated","spriteSourceSize","animName","frameName","callback","Spritesheet","validImages","ignoreMultiPack","out2","related_multi_packs","spritesheetAsset","Normal","imagePath","spritesheet","multiPacks","itemUrl","sp","BitmapFontData","info","kerning","distanceField","TextFormat","txt","rawData","chars","kernings","attributeList","itemData","strValue","floatValue","face","file","xoffset","yoffset","xadvance","first","second","df","distanceRange","fieldType","XMLFormat","letter","XMLStringFormat","xmlTxt","drawGlyph","lastIterationStop","clampedStop","generateFillStyle","splitTextToCharacters","extractCharCode","str","codePointAt","_BitmapFont","ownsTextures","pageTextures","_ownsTextures","page2","xOffset","yOffset","xAdvance","distanceFieldRange","distanceFieldType","fontData","autoDetectFormat","available","textStyle","textureWidth","textureHeight","baseOptions","charsList","startCode","endCode","resolveCharacters","positionX","positionY","maxCharHeight","baseTextures","character","textureGlyphWidth","uninstall","BitmapFont","NUMERIC","ALPHANUMERIC","ASCII","pageMeshDataDefaultPageMeshData","pageMeshDataMSDFPageMeshData","charRenderDataPool","_BitmapText","maxWidth","fontName","styleDefaults","_activePagesMeshData","_textWidth","_textHeight","_fontName","_maxWidth","_maxLineHeight","_textureCache","lineSpaces","charsInput","pageMeshDataPool","prevCharCode","lastLineWidth","lastBreakPos","lastBreakWidth","spacesRemoved","maxLineHeight","spaceCount","charCode","charData","charRenderData","prevSpaces","lineAlignOffsets","alignOffset","lenChars","pagesMeshData","newPagesMeshData","activePagesMeshData","baseTextureUid","pageMeshData","meshBlendMode","uFWidth","mesh","vertexCount","uvsCount","total2","xPos","yPos","pageMesh","textureFrame","anchorOffsetX","anchorOffsetY","textureBuffer","worldScale","fontScale","textWidth","validExtensions","loadBitmapFont","pages","textureUrls","pageFile","loadedTextures","install","bitmapFont","_HTMLTextStyle","_overrides","_stylesheet","fontsDirty","originalStyle","cleanFonts","refs","fontFace","availableFonts","originalUrl","loadFont","dataSrc","ready","addOverride","toAdd","removeOverride","toRemove","toCSS","dropShadowToCSS","toGlobalCSS","stylesheet","padStart","onBeforeDraw","prevFontsDirty","isSafari","HTMLTextStyle","_HTMLText","_loading","ownsStyle","nssvg","nsxhtml","svgRoot","createElementNS","foreignObject","overflow","defaultMaxWidth","maxHeight","defaultMaxHeight","_domElement","_styleElement","_svgRoot","_foreignObject","_image","overrides","textContent","contentBounds","contentWidth","contentHeight","svgURL","XMLSerializer","serializeToString","_onStyleChange","sanitiseText","HTMLText","_replacements","_maxColors","originalColors","targetColors","replacements","refresh","maxColors","getIconPath","getBuildingTextureNameWithSize","getBuildingAsset","owner","civ","buildings","age","getTexture","textureName","changeSpriteColor","final","MultiColorReplaceFilter","drawInstanceBlinkingSelection","selection","canvasDrawRectangle","canvasDrawDiamond","save","beginPath","refundCost","player","cost","payCost","canAfford","cellWidth","cellHeight","cellDepth","accelerator","stepTime","colorWhite","colorRed","colorArrow","colorGrass","colorWater","colorDesert","colorTree","colorGold","colorStone","colorBerry","uuidv4","crypto","getRandomValues","formatNumber","nbr","cartesianToIsometric","isometricToCartesian","getPercentage","getValuePercentage","perc","pointIsBetweenTwoPoint","line1","line2","pnt","lineThickness","L2","randomRange","randomItem","instancesDistance","pointsDistance","getInstanceZIndex","getInstanceDegree","getPointsDegree","tX","tY","degreesToRadians","degrees","pointInRectangle","cellIsDiag","degreeToDirection","degree","throttle","wait","immediate","timeout","initialCall","_arguments","_this","isValidCondition","condition","op","exceptedValue","timeoutRecurs","getActionCondition","action","props","conditions","delivery","life","isBuilt","buildingType","takemeat","quantity","isDead","isDestroyed","hunt","chopwood","farm","isUsedBy","forageberry","minestone","minegold","lifeMax","attack","instanceContactInstance","moveTowardPoint","velX","velY","instanceIsSurroundedBySolid","solids","getCellsAroundPoint","grid","cell","solid","getNewInstanceClosestFreeCellPath","_loop","neighbour","getInstancePath","_ret","_typeof","getInstanceClosestFreeCellPath","getPlainCellsAroundPoint","cloneGrid","isFinish","openCells","closedCells","cloneEnd","cloneStart","_loop2","lowestF","validDiag","tempG","getZoneInGridWithCondition","zone","_loop3","isFree","_ret2","findInstancesInSight","instances","sight","renderCellOnInstanceSight","revealEverything","isPlayed","instanceIsInPlayerSight","globalCell","removeFog","foundedTrees","foundedBerrybushs","foundedEnemyBuildings","viewBy","viewed","clearCellOnInstanceSight","setFog","getPositionInGridAroundInstance","space","allowInclined","extraCondition","maxSpace","minSpace","border","inclined","getClosestInstance","distances","getClosestInstanceWithPath","_ref","_ref2","_slicedToArray","exported","Cell","_inherits","_super","_classCallCheck","_assertThisInitialized","_assertThisInitialize2","allowMove","allowClick","_this$context","direction","resourceName","cellSpriteIndex","cpt","Assets","Sprite","elevation","_this2","aside","_this3","setCellLevel","fillReliefCellsAroundCell","controls","instanceInCamera","Container","Desert","_Cell","randomSpritesheet","Grass","Jungle","Water","selected","_assertThisInitialize3","menu","selectedUnits","unselectAll","select","setBottombar","selectedOther","players","onDie","listName","updateResourcesMiniMap","typeDiv","iconImg","icon","lifeDiv","iconToUse","quantityDiv","className","icons","smallIconImg","textDiv","Berrybush","_resource","mouseBuilding","mouseRectangle","isMouseInApp","mouse","prevent","hasVillager","unit","sendToBerrybush","sendTo","interface","setDefaultInterface","Gold","randomSprite","sendToGold","Stone","sendToStone","Tree","forestTrees","textureNames","dest","newDest","sendToTree","Building","technology","loading","interval","rubble","hasSentVillager","previousDest","sendToBuilding","sendToFarm","accept","work","sendToDelivery","selectedBuilding","playerUnit","sendToAttack","onBuilt","setInterval","clearInterval","updateLife","percentage","buildSpritesheetId","buildSpritesheet","finalTexture","hasBuilt","spriteColor","afterFinalTextures","die","generateFire","fire","building","spriteId","spritesheetFire","newFire","poses","spriteFire","stopInterval","deco","rubbleSheet","getBuildingRubbleTextureNameWithSize","startTimeout","updateInfo","updatePlayerMiniMapEvt","_this4","_this$context2","spawnCell","founded","getFreeCellAroundPoint","population","createUnit","populationMax","_this5","alreadyPaid","units","updateButtonContent","updateTopbar","hasShowedMessage","startInterval","buyUnit","still","toggleButtonCancel","showMessage","placeUnit","trainingTime","_this$context3","_this6","_this$context4","functionName","loadingTime","civDiv","loadingDiv","Academy","_Building","_ref$isBuilt","_objectSpread","ArcheryRange","getUnitButton","Barracks","Farm","GovernmentCenter","Granary","House","populationDiv","Market","getTechnologyButton","SiegeWorkshop","Stable","StoragePit","Temple","TownCenter","Projectile","_this$target","targetX","targetY","distance","onHit","isAttacked","Arrow","_Projectile","ownerSprite","anchoredWidth","anchoredHeight","Spear","WatchTower","rateOfFire","projectile","projectiles","Unit","realDest","loadingType","loadingMax","currentSheet","currentCell","originalSpeed","inactif","standingSheet","selectedUnit","setTextures","handleChangeDest","isUnitAtDest","setDest","getAction","affectNewDest","setPath","updateInterfaceLoading","walkingSheet","sendToTakeMeat","sendToFunc","setCuttedTreeTexture","destHasMoved","oldDeg","sendToHunt","onSpriteLoopAtFrame","firstTargets","actionSheet","secondTargets","handleSuccess","targets","handleAffectNewDestHunter","nextCell","hasPath","updatePlayerMiniMap","moveToPath","_this7","_this8","unselectUnit","unselect","sheet","Bowman","_Unit","dyingSheet","corpseSheet","Clubman","Scout","hunter","harvestSheet","loadedSheet","farmer","gatherer","miner","woodcutter","builder","Villager","defaultAssets","_Object$entries","_Object$entries$_i","getBuildingButton","getLoadingElement","outerHTML","_i2","_Object$entries2","_Object$entries2$_i","tree","berrybush","stone","Player","_ref$isPlayed","wood","food","colorHex","technologies","createBuilding","others","spawnBuilding","AI","_Player","villagers","clubmans","towncenters","storagepits","granarys","barracks","notBuiltBuildings","notBuiltHouses","builderVillagers","villager","villagersOnWood","villagersOnFood","inactifVillagers","inactifClubmans","clubman","assault","waitingClubmans","maxVillagersOnWood","maxVillagersOnFood","bush","closestTownCenter","closestGranary","bushNeighbours","buyBuilding","explore","closestStoragepit","treeNeighbours","noWorkers","targetIndex","otherPlayers","isMiddle","Gaia","Human","nextVillager","unselectAllUnits","Animal","drawDestinationRectangle","attackAction","runaway","Lion","_Animal","animals","reliefRange","chanceOfRelief","chanceOfSets","noAI","startingUnits","gaia","repeat","generateCells","positionsCount","playersPos","findPlayerPlaces","alert","generateMap","generateResourcesAroundPlayers","generateSets","generateMapRelief","formatCellsRelief","formatCellsWaterBorder","formatCellsDesert","randoms","posI","posJ","towncenter","placeResourceGroup","Boolean","cols","fillWaterCellsAroundCell","rock","canGenerate","setReliefBorder","setWaterBorder","outBorder","inBorder","zones","typeToFormat","setDesertBorder","Menu","topbar","setResourceBox","bottombar","bottombarInfo","bottombarMenu","bottombarMapWrap","bottombarMap","minimapFactor","getMinimapFactor","clearInstancesOnScreen","setCamera","terrainMinimap","playersMinimap","resourcesMinimap","cameraMinimap","updateResourcesMiniMapEvt","updateCameraMiniMap","updateCameraMiniMapEvt","miniMapAlpha","createMiniMap","cameraContext","resourceContext","finalX","squareSize","finalY","app","strokeRect","canvasDrawStrokeRectangle","camera","playerMinimap","finalSize","_ref3","getElementById","box","msg","gamebox","img","resetInfo","targetElement","contentElement","display","setMenuRecurs","btn","hide","onCreate","removeMouseBuilding","onClick","back","generateInfo","cancelTechnology","cancel","getMessage","setMouseBuilding","buyTechnology","Controls","keysPressed","minimapRectangle","onKeyDown","onKeyUp","pressed","moveCamera","pointerStart","graph","selectVillager","countSelect","pointerSheet","_toConsumableArray","centerX","centerY","distCenterX","distCenterY","moveSpeed","isSpeedDiveded","A","B","D","C","cameraCenter","setCoordinate","displayInstancesOnScreen","_this$context5","cameraFloor","coordinate","getCellOnCamera","updateVisible","_this$context6","Game","generatePlayers","placePlayers","stylishMap","_regeneratorRuntime","Op","hasOwn","desc","$Symbol","iteratorSymbol","iterator","asyncIteratorSymbol","asyncIterator","toStringTagSymbol","define","configurable","writable","err","wrap","innerFn","outerFn","tryLocsList","protoGenerator","Generator","generator","Context","makeInvokeMethod","tryCatch","ContinueSentinel","GeneratorFunction","GeneratorFunctionPrototype","IteratorPrototype","getProto","getPrototypeOf","NativeIteratorPrototype","Gp","defineIteratorMethods","method","_invoke","AsyncIterator","PromiseImpl","invoke","record","__await","unwrapped","previousPromise","callInvokeWithMethodAndArg","done","delegate","delegateResult","maybeInvokeDelegate","sent","_sent","dispatchException","abrupt","methodName","resultName","nextLoc","pushTryEntry","locs","entry","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","resetTryEntry","completion","iterable","iteratorMethod","doneResult","displayName","isGeneratorFunction","genFun","ctor","mark","setPrototypeOf","awrap","iter","skipTempReset","rootRecord","rval","exception","caught","hasCatch","hasFinally","finallyEntry","thrown","delegateYield","ownKeys","enumerableOnly","symbols","sym","_defineProperty","getOwnPropertyDescriptors","_toPropertyKey","asyncGeneratorStep","gen","_throw","_defineProperties","descriptor","hint","prim","toPrimitive","_toPrimitive","_setPrototypeOf","_getPrototypeOf","LoaderScreen","subClass","superClass","Constructor","protoProps","_start","Derived","hasNativeReflectConstruct","Reflect","construct","sham","Proxy","valueOf","_isNativeReflectConstruct","Super","NewTarget","ReferenceError","_possibleConstructorReturn","_callee","graphics","greek","acc","onLoaded","game"],"sourceRoot":""}